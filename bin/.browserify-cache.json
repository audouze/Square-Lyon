{"modules":{"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/whatwg-fetch/fetch.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/whatwg-fetch/fetch.js","source":"(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/slugify/slugify.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/slugify/slugify.js","source":"\n;(function (name, root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory()\n    module.exports['default'] = factory()\n  }\n  /* istanbul ignore next */\n  else if (typeof define === 'function' && define.amd) {\n    define(factory)\n  }\n  else {\n    root[name] = factory()\n  }\n}('slugify', this, function () {\n  var charMap = JSON.parse('{\"$\":\"dollar\",\"%\":\"percent\",\"&\":\"and\",\"<\":\"less\",\">\":\"greater\",\"|\":\"or\",\"¢\":\"cent\",\"£\":\"pound\",\"¤\":\"currency\",\"¥\":\"yen\",\"©\":\"(c)\",\"ª\":\"a\",\"®\":\"(r)\",\"º\":\"o\",\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Æ\":\"AE\",\"Ç\":\"C\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ð\":\"D\",\"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\"Þ\":\"TH\",\"ß\":\"ss\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"æ\":\"ae\",\"ç\":\"c\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ð\":\"d\",\"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"þ\":\"th\",\"ÿ\":\"y\",\"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\"Ć\":\"C\",\"ć\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\"Đ\":\"DJ\",\"đ\":\"dj\",\"Ē\":\"E\",\"ē\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\"Ę\":\"e\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"i\",\"ī\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\"ı\":\"i\",\"Ķ\":\"k\",\"ķ\":\"k\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\"Ł\":\"L\",\"ł\":\"l\",\"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\"Ō\":\"O\",\"ō\":\"o\",\"Ő\":\"O\",\"ő\":\"o\",\"Œ\":\"OE\",\"œ\":\"oe\",\"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\"Ś\":\"S\",\"ś\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"u\",\"ū\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\",\"Ə\":\"E\",\"ƒ\":\"f\",\"Ơ\":\"O\",\"ơ\":\"o\",\"Ư\":\"U\",\"ư\":\"u\",\"ǈ\":\"LJ\",\"ǉ\":\"lj\",\"ǋ\":\"NJ\",\"ǌ\":\"nj\",\"Ș\":\"S\",\"ș\":\"s\",\"Ț\":\"T\",\"ț\":\"t\",\"ə\":\"e\",\"˚\":\"o\",\"Ά\":\"A\",\"Έ\":\"E\",\"Ή\":\"H\",\"Ί\":\"I\",\"Ό\":\"O\",\"Ύ\":\"Y\",\"Ώ\":\"W\",\"ΐ\":\"i\",\"Α\":\"A\",\"Β\":\"B\",\"Γ\":\"G\",\"Δ\":\"D\",\"Ε\":\"E\",\"Ζ\":\"Z\",\"Η\":\"H\",\"Θ\":\"8\",\"Ι\":\"I\",\"Κ\":\"K\",\"Λ\":\"L\",\"Μ\":\"M\",\"Ν\":\"N\",\"Ξ\":\"3\",\"Ο\":\"O\",\"Π\":\"P\",\"Ρ\":\"R\",\"Σ\":\"S\",\"Τ\":\"T\",\"Υ\":\"Y\",\"Φ\":\"F\",\"Χ\":\"X\",\"Ψ\":\"PS\",\"Ω\":\"W\",\"Ϊ\":\"I\",\"Ϋ\":\"Y\",\"ά\":\"a\",\"έ\":\"e\",\"ή\":\"h\",\"ί\":\"i\",\"ΰ\":\"y\",\"α\":\"a\",\"β\":\"b\",\"γ\":\"g\",\"δ\":\"d\",\"ε\":\"e\",\"ζ\":\"z\",\"η\":\"h\",\"θ\":\"8\",\"ι\":\"i\",\"κ\":\"k\",\"λ\":\"l\",\"μ\":\"m\",\"ν\":\"n\",\"ξ\":\"3\",\"ο\":\"o\",\"π\":\"p\",\"ρ\":\"r\",\"ς\":\"s\",\"σ\":\"s\",\"τ\":\"t\",\"υ\":\"y\",\"φ\":\"f\",\"χ\":\"x\",\"ψ\":\"ps\",\"ω\":\"w\",\"ϊ\":\"i\",\"ϋ\":\"y\",\"ό\":\"o\",\"ύ\":\"y\",\"ώ\":\"w\",\"Ё\":\"Yo\",\"Ђ\":\"DJ\",\"Є\":\"Ye\",\"І\":\"I\",\"Ї\":\"Yi\",\"Ј\":\"J\",\"Љ\":\"LJ\",\"Њ\":\"NJ\",\"Ћ\":\"C\",\"Џ\":\"DZ\",\"А\":\"A\",\"Б\":\"B\",\"В\":\"V\",\"Г\":\"G\",\"Д\":\"D\",\"Е\":\"E\",\"Ж\":\"Zh\",\"З\":\"Z\",\"И\":\"I\",\"Й\":\"J\",\"К\":\"K\",\"Л\":\"L\",\"М\":\"M\",\"Н\":\"N\",\"О\":\"O\",\"П\":\"P\",\"Р\":\"R\",\"С\":\"S\",\"Т\":\"T\",\"У\":\"U\",\"Ф\":\"F\",\"Х\":\"H\",\"Ц\":\"C\",\"Ч\":\"Ch\",\"Ш\":\"Sh\",\"Щ\":\"Sh\",\"Ъ\":\"U\",\"Ы\":\"Y\",\"Ь\":\"\",\"Э\":\"E\",\"Ю\":\"Yu\",\"Я\":\"Ya\",\"а\":\"a\",\"б\":\"b\",\"в\":\"v\",\"г\":\"g\",\"д\":\"d\",\"е\":\"e\",\"ж\":\"zh\",\"з\":\"z\",\"и\":\"i\",\"й\":\"j\",\"к\":\"k\",\"л\":\"l\",\"м\":\"m\",\"н\":\"n\",\"о\":\"o\",\"п\":\"p\",\"р\":\"r\",\"с\":\"s\",\"т\":\"t\",\"у\":\"u\",\"ф\":\"f\",\"х\":\"h\",\"ц\":\"c\",\"ч\":\"ch\",\"ш\":\"sh\",\"щ\":\"sh\",\"ъ\":\"u\",\"ы\":\"y\",\"ь\":\"\",\"э\":\"e\",\"ю\":\"yu\",\"я\":\"ya\",\"ё\":\"yo\",\"ђ\":\"dj\",\"є\":\"ye\",\"і\":\"i\",\"ї\":\"yi\",\"ј\":\"j\",\"љ\":\"lj\",\"њ\":\"nj\",\"ћ\":\"c\",\"ѝ\":\"u\",\"џ\":\"dz\",\"Ґ\":\"G\",\"ґ\":\"g\",\"Ғ\":\"GH\",\"ғ\":\"gh\",\"Қ\":\"KH\",\"қ\":\"kh\",\"Ң\":\"NG\",\"ң\":\"ng\",\"Ү\":\"UE\",\"ү\":\"ue\",\"Ұ\":\"U\",\"ұ\":\"u\",\"Һ\":\"H\",\"һ\":\"h\",\"Ә\":\"AE\",\"ә\":\"ae\",\"Ө\":\"OE\",\"ө\":\"oe\",\"Ա\":\"A\",\"Բ\":\"B\",\"Գ\":\"G\",\"Դ\":\"D\",\"Ե\":\"E\",\"Զ\":\"Z\",\"Է\":\"E\\'\",\"Ը\":\"Y\\'\",\"Թ\":\"T\\'\",\"Ժ\":\"JH\",\"Ի\":\"I\",\"Լ\":\"L\",\"Խ\":\"X\",\"Ծ\":\"C\\'\",\"Կ\":\"K\",\"Հ\":\"H\",\"Ձ\":\"D\\'\",\"Ղ\":\"GH\",\"Ճ\":\"TW\",\"Մ\":\"M\",\"Յ\":\"Y\",\"Ն\":\"N\",\"Շ\":\"SH\",\"Չ\":\"CH\",\"Պ\":\"P\",\"Ջ\":\"J\",\"Ռ\":\"R\\'\",\"Ս\":\"S\",\"Վ\":\"V\",\"Տ\":\"T\",\"Ր\":\"R\",\"Ց\":\"C\",\"Փ\":\"P\\'\",\"Ք\":\"Q\\'\",\"Օ\":\"O\\'\\'\",\"Ֆ\":\"F\",\"և\":\"EV\",\"ء\":\"a\",\"آ\":\"aa\",\"أ\":\"a\",\"ؤ\":\"u\",\"إ\":\"i\",\"ئ\":\"e\",\"ا\":\"a\",\"ب\":\"b\",\"ة\":\"h\",\"ت\":\"t\",\"ث\":\"th\",\"ج\":\"j\",\"ح\":\"h\",\"خ\":\"kh\",\"د\":\"d\",\"ذ\":\"th\",\"ر\":\"r\",\"ز\":\"z\",\"س\":\"s\",\"ش\":\"sh\",\"ص\":\"s\",\"ض\":\"dh\",\"ط\":\"t\",\"ظ\":\"z\",\"ع\":\"a\",\"غ\":\"gh\",\"ف\":\"f\",\"ق\":\"q\",\"ك\":\"k\",\"ل\":\"l\",\"م\":\"m\",\"ن\":\"n\",\"ه\":\"h\",\"و\":\"w\",\"ى\":\"a\",\"ي\":\"y\",\"ً\":\"an\",\"ٌ\":\"on\",\"ٍ\":\"en\",\"َ\":\"a\",\"ُ\":\"u\",\"ِ\":\"e\",\"ْ\":\"\",\"٠\":\"0\",\"١\":\"1\",\"٢\":\"2\",\"٣\":\"3\",\"٤\":\"4\",\"٥\":\"5\",\"٦\":\"6\",\"٧\":\"7\",\"٨\":\"8\",\"٩\":\"9\",\"پ\":\"p\",\"چ\":\"ch\",\"ژ\":\"zh\",\"ک\":\"k\",\"گ\":\"g\",\"ی\":\"y\",\"۰\":\"0\",\"۱\":\"1\",\"۲\":\"2\",\"۳\":\"3\",\"۴\":\"4\",\"۵\":\"5\",\"۶\":\"6\",\"۷\":\"7\",\"۸\":\"8\",\"۹\":\"9\",\"฿\":\"baht\",\"ა\":\"a\",\"ბ\":\"b\",\"გ\":\"g\",\"დ\":\"d\",\"ე\":\"e\",\"ვ\":\"v\",\"ზ\":\"z\",\"თ\":\"t\",\"ი\":\"i\",\"კ\":\"k\",\"ლ\":\"l\",\"მ\":\"m\",\"ნ\":\"n\",\"ო\":\"o\",\"პ\":\"p\",\"ჟ\":\"zh\",\"რ\":\"r\",\"ს\":\"s\",\"ტ\":\"t\",\"უ\":\"u\",\"ფ\":\"f\",\"ქ\":\"k\",\"ღ\":\"gh\",\"ყ\":\"q\",\"შ\":\"sh\",\"ჩ\":\"ch\",\"ც\":\"ts\",\"ძ\":\"dz\",\"წ\":\"ts\",\"ჭ\":\"ch\",\"ხ\":\"kh\",\"ჯ\":\"j\",\"ჰ\":\"h\",\"Ṣ\":\"S\",\"ṣ\":\"s\",\"Ẁ\":\"W\",\"ẁ\":\"w\",\"Ẃ\":\"W\",\"ẃ\":\"w\",\"Ẅ\":\"W\",\"ẅ\":\"w\",\"ẞ\":\"SS\",\"Ạ\":\"A\",\"ạ\":\"a\",\"Ả\":\"A\",\"ả\":\"a\",\"Ấ\":\"A\",\"ấ\":\"a\",\"Ầ\":\"A\",\"ầ\":\"a\",\"Ẩ\":\"A\",\"ẩ\":\"a\",\"Ẫ\":\"A\",\"ẫ\":\"a\",\"Ậ\":\"A\",\"ậ\":\"a\",\"Ắ\":\"A\",\"ắ\":\"a\",\"Ằ\":\"A\",\"ằ\":\"a\",\"Ẳ\":\"A\",\"ẳ\":\"a\",\"Ẵ\":\"A\",\"ẵ\":\"a\",\"Ặ\":\"A\",\"ặ\":\"a\",\"Ẹ\":\"E\",\"ẹ\":\"e\",\"Ẻ\":\"E\",\"ẻ\":\"e\",\"Ẽ\":\"E\",\"ẽ\":\"e\",\"Ế\":\"E\",\"ế\":\"e\",\"Ề\":\"E\",\"ề\":\"e\",\"Ể\":\"E\",\"ể\":\"e\",\"Ễ\":\"E\",\"ễ\":\"e\",\"Ệ\":\"E\",\"ệ\":\"e\",\"Ỉ\":\"I\",\"ỉ\":\"i\",\"Ị\":\"I\",\"ị\":\"i\",\"Ọ\":\"O\",\"ọ\":\"o\",\"Ỏ\":\"O\",\"ỏ\":\"o\",\"Ố\":\"O\",\"ố\":\"o\",\"Ồ\":\"O\",\"ồ\":\"o\",\"Ổ\":\"O\",\"ổ\":\"o\",\"Ỗ\":\"O\",\"ỗ\":\"o\",\"Ộ\":\"O\",\"ộ\":\"o\",\"Ớ\":\"O\",\"ớ\":\"o\",\"Ờ\":\"O\",\"ờ\":\"o\",\"Ở\":\"O\",\"ở\":\"o\",\"Ỡ\":\"O\",\"ỡ\":\"o\",\"Ợ\":\"O\",\"ợ\":\"o\",\"Ụ\":\"U\",\"ụ\":\"u\",\"Ủ\":\"U\",\"ủ\":\"u\",\"Ứ\":\"U\",\"ứ\":\"u\",\"Ừ\":\"U\",\"ừ\":\"u\",\"Ử\":\"U\",\"ử\":\"u\",\"Ữ\":\"U\",\"ữ\":\"u\",\"Ự\":\"U\",\"ự\":\"u\",\"Ỳ\":\"Y\",\"ỳ\":\"y\",\"Ỵ\":\"Y\",\"ỵ\":\"y\",\"Ỷ\":\"Y\",\"ỷ\":\"y\",\"Ỹ\":\"Y\",\"ỹ\":\"y\",\"–\":\"-\",\"‘\":\"\\'\",\"’\":\"\\'\",\"“\":\"\\\\\\\"\",\"”\":\"\\\\\\\"\",\"„\":\"\\\\\\\"\",\"†\":\"+\",\"•\":\"*\",\"…\":\"...\",\"₠\":\"ecu\",\"₢\":\"cruzeiro\",\"₣\":\"french franc\",\"₤\":\"lira\",\"₥\":\"mill\",\"₦\":\"naira\",\"₧\":\"peseta\",\"₨\":\"rupee\",\"₩\":\"won\",\"₪\":\"new shequel\",\"₫\":\"dong\",\"€\":\"euro\",\"₭\":\"kip\",\"₮\":\"tugrik\",\"₯\":\"drachma\",\"₰\":\"penny\",\"₱\":\"peso\",\"₲\":\"guarani\",\"₳\":\"austral\",\"₴\":\"hryvnia\",\"₵\":\"cedi\",\"₸\":\"kazakhstani tenge\",\"₹\":\"indian rupee\",\"₺\":\"turkish lira\",\"₽\":\"russian ruble\",\"₿\":\"bitcoin\",\"℠\":\"sm\",\"™\":\"tm\",\"∂\":\"d\",\"∆\":\"delta\",\"∑\":\"sum\",\"∞\":\"infinity\",\"♥\":\"love\",\"元\":\"yuan\",\"円\":\"yen\",\"﷼\":\"rial\",\"ﻵ\":\"laa\",\"ﻷ\":\"laa\",\"ﻹ\":\"lai\",\"ﻻ\":\"la\"}')\n  var locales = JSON.parse('{\"bg\":{\"Й\":\"Y\",\"Ц\":\"Ts\",\"Щ\":\"Sht\",\"Ъ\":\"A\",\"Ь\":\"Y\",\"й\":\"y\",\"ц\":\"ts\",\"щ\":\"sht\",\"ъ\":\"a\",\"ь\":\"y\"},\"de\":{\"Ä\":\"AE\",\"ä\":\"ae\",\"Ö\":\"OE\",\"ö\":\"oe\",\"Ü\":\"UE\",\"ü\":\"ue\",\"ß\":\"ss\",\"%\":\"prozent\",\"&\":\"und\",\"|\":\"oder\",\"∑\":\"summe\",\"∞\":\"unendlich\",\"♥\":\"liebe\"},\"es\":{\"%\":\"por ciento\",\"&\":\"y\",\"<\":\"menor que\",\">\":\"mayor que\",\"|\":\"o\",\"¢\":\"centavos\",\"£\":\"libras\",\"¤\":\"moneda\",\"₣\":\"francos\",\"∑\":\"suma\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"fr\":{\"%\":\"pourcent\",\"&\":\"et\",\"<\":\"plus petit\",\">\":\"plus grand\",\"|\":\"ou\",\"¢\":\"centime\",\"£\":\"livre\",\"¤\":\"devise\",\"₣\":\"franc\",\"∑\":\"somme\",\"∞\":\"infini\",\"♥\":\"amour\"},\"pt\":{\"%\":\"porcento\",\"&\":\"e\",\"<\":\"menor\",\">\":\"maior\",\"|\":\"ou\",\"¢\":\"centavo\",\"∑\":\"soma\",\"£\":\"libra\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"uk\":{\"И\":\"Y\",\"и\":\"y\",\"Й\":\"Y\",\"й\":\"y\",\"Ц\":\"Ts\",\"ц\":\"ts\",\"Х\":\"Kh\",\"х\":\"kh\",\"Щ\":\"Shch\",\"щ\":\"shch\",\"Г\":\"H\",\"г\":\"h\"},\"vi\":{\"Đ\":\"D\",\"đ\":\"d\"},\"da\":{\"Ø\":\"OE\",\"ø\":\"oe\",\"Å\":\"AA\",\"å\":\"aa\",\"%\":\"procent\",\"&\":\"og\",\"|\":\"eller\",\"$\":\"dollar\",\"<\":\"mindre end\",\">\":\"større end\"},\"nb\":{\"&\":\"og\",\"Å\":\"AA\",\"Æ\":\"AE\",\"Ø\":\"OE\",\"å\":\"aa\",\"æ\":\"ae\",\"ø\":\"oe\"},\"it\":{\"&\":\"e\"},\"nl\":{\"&\":\"en\"},\"sv\":{\"&\":\"och\",\"Å\":\"AA\",\"Ä\":\"AE\",\"Ö\":\"OE\",\"å\":\"aa\",\"ä\":\"ae\",\"ö\":\"oe\"}}')\n\n  function replace (string, options) {\n    if (typeof string !== 'string') {\n      throw new Error('slugify: string argument expected')\n    }\n\n    options = (typeof options === 'string')\n      ? {replacement: options}\n      : options || {}\n\n    var locale = locales[options.locale] || {}\n\n    var replacement = options.replacement === undefined ? '-' : options.replacement\n\n    var trim = options.trim === undefined ? true : options.trim\n\n    var slug = string.normalize().split('')\n      // replace characters based on charMap\n      .reduce(function (result, ch) {\n        var appendChar = locale[ch] || charMap[ch] || ch;\n        if (appendChar === replacement) {\n          appendChar = ' ';\n        }\n        return result + appendChar\n          // remove not allowed characters\n          .replace(options.remove || /[^\\w\\s$*_+~.()'\"!\\-:@]+/g, '')\n      }, '');\n\n    if (options.strict) {\n      slug = slug.replace(/[^A-Za-z0-9\\s]/g, '');\n    }\n\n    if (trim) {\n      slug = slug.trim()\n    }\n\n    // Replace spaces with replacement character, treating multiple consecutive\n    // spaces as a single space.\n    slug = slug.replace(/\\s+/g, replacement);\n\n    if (options.lower) {\n      slug = slug.toLowerCase()\n    }\n\n    return slug\n  }\n\n  replace.extend = function (customMap) {\n    Object.assign(charMap, customMap)\n  }\n\n  return replace\n}))\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","source":"// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/path-browserify/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/path-browserify/index.js","source":"(function (process){(function (){\n// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLmRpcm5hbWUsIC5iYXNlbmFtZSwgYW5kIC5leHRuYW1lIG1ldGhvZHMgYXJlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSxcbi8vIGJhY2twb3J0ZWQgYW5kIHRyYW5zcGxpdGVkIHdpdGggQmFiZWwsIHdpdGggYmFja3dhcmRzLWNvbXBhdCBmaXhlc1xuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbiAocGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSBwYXRoID0gcGF0aCArICcnO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG4gIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gIGlmIChoYXNSb290ICYmIGVuZCA9PT0gMSkge1xuICAgIC8vIHJldHVybiAnLy8nO1xuICAgIC8vIEJhY2t3YXJkcy1jb21wYXQgZml4OlxuICAgIHJldHVybiAnLyc7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMCwgZW5kKTtcbn07XG5cbmZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJztcblxuICB2YXIgc3RhcnQgPSAwO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgaWYgKHBhdGguY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAvLyBwYXRoIGNvbXBvbmVudFxuICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICBlbmQgPSBpICsgMTtcbiAgICB9XG4gIH1cblxuICBpZiAoZW5kID09PSAtMSkgcmV0dXJuICcnO1xuICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbn1cblxuLy8gVXNlcyBhIG1peGVkIGFwcHJvYWNoIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSwgYXMgZXh0IGJlaGF2aW9yIGNoYW5nZWRcbi8vIGluIG5ldyBOb2RlLmpzIHZlcnNpb25zLCBzbyBvbmx5IGJhc2VuYW1lKCkgYWJvdmUgaXMgYmFja3BvcnRlZCBoZXJlXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24gKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IGJhc2VuYW1lKHBhdGgpO1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJztcbiAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gIHZhciBzdGFydFBhcnQgPSAwO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAvLyBleHRlbnNpb25cbiAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgZW5kID0gaSArIDE7XG4gICAgfVxuICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSlcbiAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgIC8vIGhhdmUgYSBnb29kIGNoYW5jZSBhdCBoYXZpbmcgYSBub24tZW1wdHkgZXh0ZW5zaW9uXG4gICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiJdfQ==","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","deps":{"../core-js/object/define-property":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/define-property.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};","deps":{"../core-js/object/define-property":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/define-property.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js","source":"","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","source":"var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\n\n/**\n * Expose a unique audio context singleton as the default audio\n * context used by the components of the Waves Audio library and\n * applications using the library.\n *\n * @type AudioContext\n * @name audioContext\n * @constant\n * @global\n * @instance\n *\n * @example\n * import * as audio from 'waves-audio';\n * const audioContext = audio.audioContext;\n */\nvar audioContext = null;\n\nif (AudioContext) audioContext = new AudioContext();\n\nexports.default = audioContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1ZGlvQ29udGV4dC5qcyJdLCJuYW1lcyI6WyJBdWRpb0NvbnRleHQiLCJ3aW5kb3ciLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJhdWRpb0NvbnRleHQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTUEsZUFBZUMsT0FBT0QsWUFBUCxJQUF1QkMsT0FBT0Msa0JBQW5EOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxJQUFJQyxlQUFlLElBQW5COztBQUVBLElBQUlILFlBQUosRUFDRUcsZUFBZSxJQUFJSCxZQUFKLEVBQWY7O2tCQUVhRyxZIiwiZmlsZSI6ImF1ZGlvQ29udGV4dC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcblxuLyoqXG4gKiBFeHBvc2UgYSB1bmlxdWUgYXVkaW8gY29udGV4dCBzaW5nbGV0b24gYXMgdGhlIGRlZmF1bHQgYXVkaW9cbiAqIGNvbnRleHQgdXNlZCBieSB0aGUgY29tcG9uZW50cyBvZiB0aGUgV2F2ZXMgQXVkaW8gbGlicmFyeSBhbmRcbiAqIGFwcGxpY2F0aW9ucyB1c2luZyB0aGUgbGlicmFyeS5cbiAqXG4gKiBAdHlwZSBBdWRpb0NvbnRleHRcbiAqIEBuYW1lIGF1ZGlvQ29udGV4dFxuICogQGNvbnN0YW50XG4gKiBAZ2xvYmFsXG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgYXVkaW8gZnJvbSAnd2F2ZXMtYXVkaW8nO1xuICogY29uc3QgYXVkaW9Db250ZXh0ID0gYXVkaW8uYXVkaW9Db250ZXh0O1xuICovXG5sZXQgYXVkaW9Db250ZXh0ID0gbnVsbDtcblxuaWYgKEF1ZGlvQ29udGV4dClcbiAgYXVkaW9Db250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXG5leHBvcnQgZGVmYXVsdCBhdWRpb0NvbnRleHQ7XG4iXX0=","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/Canvas2dRenderer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/Canvas2dRenderer.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Base class to extend in order to be used in conjonction with a\n * [`CanvasView`]{@link module:soundworks/client.CanvasView}. These classes\n * provide altogether a clean way to manage the `update` and `render` cycles\n * of an animation.\n *\n * @param {Number} [updatePeriod=0] - Logical time (in _second_) between\n *  each subsequent updates. If `0`, the update period is slaved on the\n *  `requestAnimationFrame` period (which is appriopriate for most of the\n *  use-cases).\n *\n * @memberof module:soundworks/client\n * @see {@link module:soundworks/client.CanvasView}\n */\nvar Canvas2dRenderer = function () {\n  function Canvas2dRenderer() {\n    var updatePeriod = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    (0, _classCallCheck3.default)(this, Canvas2dRenderer);\n\n    this.updatePeriod = updatePeriod;\n\n    /**\n     * Current (logical) time of the Canvas2dRenderer.\n     *\n     * @type {Number}\n     * @name currentTime\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderer\n     * @readonly\n     */\n    this.currentTime = null;\n\n    /**\n     * Current width of the canvas.\n     *\n     * @type {Number}\n     * @name canvasWidth\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderer\n     * @readonly\n     */\n    this.canvasWidth = 0;\n\n    /**\n     * Current height of the canvas.\n     *\n     * @type {Number}\n     * @name canvasHeight\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderer\n     * @readonly\n     */\n    this.canvasHeight = 0;\n\n    /**\n     * Orientation of the canvas.\n     *\n     * @type {String}\n     * @name orientation\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderer\n     * @readonly\n     */\n    this.orientation = null;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Canvas2dRenderer, [{\n    key: \"onResize\",\n    value: function onResize(canvasWidth, canvasHeight, orientation) {\n      this.canvasWidth = canvasWidth;\n      this.canvasHeight = canvasHeight;\n      this.orientation = orientation;\n    }\n\n    /**\n     * Interface method called when the instance is added to a `CanvasView`.\n     * `this.canvasWidth` and `this.canvasHeight` should be available at this\n     * point.\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {}\n\n    /**\n     * Interface method that should host the code that updates the properties\n     * of the Canvas2dRenderer (physics, etc.)\n     *\n     * @param {Number} dt - Logical time since the last update. If\n     *  `this.updatePeriod` is equal to zero 0, `dt` is the elasped time since\n     *  the last render.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(dt) {}\n\n    /**\n     * Interface method that should host the code that draw into the canvas.\n     *\n     * @param {CanvasRenderingContext2D} ctx - 2d context of the canvas.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render(ctx) {}\n  }]);\n  return Canvas2dRenderer;\n}();\n\nexports.default = Canvas2dRenderer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhbnZhczJkUmVuZGVyZXIuanMiXSwibmFtZXMiOlsiQ2FudmFzMmRSZW5kZXJlciIsInVwZGF0ZVBlcmlvZCIsImN1cnJlbnRUaW1lIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJvcmllbnRhdGlvbiIsImR0IiwiY3R4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7O0lBY01BLGdCO0FBQ0osOEJBQThCO0FBQUEsUUFBbEJDLFlBQWtCLHVFQUFILENBQUc7QUFBQTs7QUFDNUIsU0FBS0EsWUFBTCxHQUFvQkEsWUFBcEI7O0FBRUE7Ozs7Ozs7OztBQVNBLFNBQUtDLFdBQUwsR0FBbUIsSUFBbkI7O0FBRUE7Ozs7Ozs7OztBQVNBLFNBQUtDLFdBQUwsR0FBbUIsQ0FBbkI7O0FBRUE7Ozs7Ozs7OztBQVNBLFNBQUtDLFlBQUwsR0FBb0IsQ0FBcEI7O0FBRUE7Ozs7Ozs7OztBQVNBLFNBQUtDLFdBQUwsR0FBbUIsSUFBbkI7QUFDRDs7QUFFRDs7Ozs7NkJBQ1NGLFcsRUFBYUMsWSxFQUFjQyxXLEVBQWE7QUFDL0MsV0FBS0YsV0FBTCxHQUFtQkEsV0FBbkI7QUFDQSxXQUFLQyxZQUFMLEdBQW9CQSxZQUFwQjtBQUNBLFdBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzJCQUtPLENBQUU7O0FBRVQ7Ozs7Ozs7Ozs7OzJCQVFPQyxFLEVBQUksQ0FBRTs7QUFFYjs7Ozs7Ozs7MkJBS09DLEcsRUFBSyxDQUFFOzs7OztrQkFHRFAsZ0IiLCJmaWxlIjoiQ2FudmFzMmRSZW5kZXJlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQmFzZSBjbGFzcyB0byBleHRlbmQgaW4gb3JkZXIgdG8gYmUgdXNlZCBpbiBjb25qb25jdGlvbiB3aXRoIGFcbiAqIFtgQ2FudmFzVmlld2Bde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXNWaWV3fS4gVGhlc2UgY2xhc3Nlc1xuICogcHJvdmlkZSBhbHRvZ2V0aGVyIGEgY2xlYW4gd2F5IHRvIG1hbmFnZSB0aGUgYHVwZGF0ZWAgYW5kIGByZW5kZXJgIGN5Y2xlc1xuICogb2YgYW4gYW5pbWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbdXBkYXRlUGVyaW9kPTBdIC0gTG9naWNhbCB0aW1lIChpbiBfc2Vjb25kXykgYmV0d2VlblxuICogIGVhY2ggc3Vic2VxdWVudCB1cGRhdGVzLiBJZiBgMGAsIHRoZSB1cGRhdGUgcGVyaW9kIGlzIHNsYXZlZCBvbiB0aGVcbiAqICBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBwZXJpb2QgKHdoaWNoIGlzIGFwcHJpb3ByaWF0ZSBmb3IgbW9zdCBvZiB0aGVcbiAqICB1c2UtY2FzZXMpLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXNWaWV3fVxuICovXG5jbGFzcyBDYW52YXMyZFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IodXBkYXRlUGVyaW9kID0gMCkge1xuICAgIHRoaXMudXBkYXRlUGVyaW9kID0gdXBkYXRlUGVyaW9kO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCAobG9naWNhbCkgdGltZSBvZiB0aGUgQ2FudmFzMmRSZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgY3VycmVudFRpbWVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhczJkUmVuZGVyZXJcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgd2lkdGggb2YgdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgY2FudmFzV2lkdGhcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhczJkUmVuZGVyZXJcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc1dpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVpZ2h0IG9mIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIGNhbnZhc0hlaWdodFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2FudmFzMmRSZW5kZXJlclxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9yaWVudGF0aW9uIG9mIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBuYW1lIG9yaWVudGF0aW9uXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXMyZFJlbmRlcmVyXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IG51bGw7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25SZXNpemUoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgb3JpZW50YXRpb24pIHtcbiAgICB0aGlzLmNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyZmFjZSBtZXRob2QgY2FsbGVkIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFkZGVkIHRvIGEgYENhbnZhc1ZpZXdgLlxuICAgKiBgdGhpcy5jYW52YXNXaWR0aGAgYW5kIGB0aGlzLmNhbnZhc0hlaWdodGAgc2hvdWxkIGJlIGF2YWlsYWJsZSBhdCB0aGlzXG4gICAqIHBvaW50LlxuICAgKi9cbiAgaW5pdCgpIHt9XG5cbiAgLyoqXG4gICAqIEludGVyZmFjZSBtZXRob2QgdGhhdCBzaG91bGQgaG9zdCB0aGUgY29kZSB0aGF0IHVwZGF0ZXMgdGhlIHByb3BlcnRpZXNcbiAgICogb2YgdGhlIENhbnZhczJkUmVuZGVyZXIgKHBoeXNpY3MsIGV0Yy4pXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkdCAtIExvZ2ljYWwgdGltZSBzaW5jZSB0aGUgbGFzdCB1cGRhdGUuIElmXG4gICAqICBgdGhpcy51cGRhdGVQZXJpb2RgIGlzIGVxdWFsIHRvIHplcm8gMCwgYGR0YCBpcyB0aGUgZWxhc3BlZCB0aW1lIHNpbmNlXG4gICAqICB0aGUgbGFzdCByZW5kZXIuXG4gICAqL1xuICB1cGRhdGUoZHQpIHt9XG5cbiAgLyoqXG4gICAqIEludGVyZmFjZSBtZXRob2QgdGhhdCBzaG91bGQgaG9zdCB0aGUgY29kZSB0aGF0IGRyYXcgaW50byB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IC0gMmQgY29udGV4dCBvZiB0aGUgY2FudmFzLlxuICAgKi9cbiAgcmVuZGVyKGN0eCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzMmRSZW5kZXJlcjtcbiJdfQ==","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasRenderingGroup.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasRenderingGroup.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Rendering loop handling the `requestAnimationFrame` and the `update` /\n * `render` cycles.\n *\n * @private\n */\nvar loop = {\n  renderingGroups: [],\n\n  _isRunning: false,\n\n  /**\n   * @return {Number} - Current time in seconds.\n   */\n  getTime: function getTime() {\n    return 0.001 * (window.performance && window.performance.now ? window.performance.now() : new Date().getTime());\n  },\n\n\n  /**\n   * Start the rendering loop if not started.\n   */\n  requireStart: function requireStart() {\n    if (this._isRunning) {\n      return;\n    }\n    this._isRunning = true;\n    this.lastRenderTime = this.getTime();\n\n    (function (self) {\n      function loop() {\n        var time = self.getTime();\n        var dt = time - self.lastRenderTime;\n        var renderingGroups = self.renderingGroups;\n\n        for (var i = 0, l = renderingGroups.length; i < l; i++) {\n          var group = renderingGroups[i];\n          // let the group handle the updatePeriod of each renderer\n          group.update(time, dt);\n          group.render(dt); // forward `dt` for `preRender` method\n        }\n\n        self.lastRenderTime = time;\n        self.rAFid = requestAnimationFrame(loop);\n      }\n\n      self.rAFid = requestAnimationFrame(loop);\n    })(this);\n  },\n\n\n  /**\n   * Stop the loop if no renderer are still present. If not abort.\n   */\n  requireStop: function requireStop() {\n    // @todo - handle several parallel groups\n    var shouldStop = true;\n\n    for (var i = 0, l = this.renderingGroups.length; i < l; i++) {\n      if (this.renderingGroups[i].renderers.length > 0) {\n        shouldStop = false;\n      }\n    }\n\n    if (shouldStop) {\n      cancelAnimationFrame(this.rAFid);\n      this._isRunning = false;\n    }\n  },\n\n\n  /**\n   * Add a rendering group to the loop.\n   */\n  registerRenderingGroup: function registerRenderingGroup(group) {\n    this.renderingGroups.push(group);\n  }\n};\n\n/**\n * Handle a group of renderers on a single full screen canvas.\n *\n * <span class=\"warning\">This class is a property of\n * {@link module:soundworks/client.CanvasView} should be considered private.</span>\n *\n * @param {CanvasRenderingContext2D} ctx - Canvas context in which\n *  the renderer should draw.\n * @param {Boolean} [preservePixelRatio=false] - Define if the canvas should\n *  take account of the device pixel ratio for the drawing. When set to `true`,\n *  quality if favored over performance.\n *\n * @memberof module:soundworks/client\n */\n\nvar Canvas2dRenderingGroup = function () {\n  function Canvas2dRenderingGroup(ctx) {\n    var preservePixelRatio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var skipFrames = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    (0, _classCallCheck3.default)(this, Canvas2dRenderingGroup);\n\n    /**\n     * 2d context of the canvas.\n     *\n     * @type {CanvasRenderingContext2D}\n     * @name ctx\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderingGroup\n     */\n    this.ctx = ctx;\n\n    /**\n     * Stack of the registered renderers.\n     *\n     * @type {Array<module:soundworks/client.Renderer>}\n     * @name renderers\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderingGroup\n     */\n    this.renderers = [];\n\n    /**\n     * Hooks executed at the beginning and end of each rAF call.\n     * @private\n     */\n    this.preRender = null;\n    this.postRender = null;\n\n    /**\n     * Pixel ratio of the device, set to 1 if `false`.\n     *\n     * @type {Number}\n     * @name pixelRatio\n     * @instance\n     * @memberof module:soundworks/client.Canvas2dRenderingGroup\n     */\n    this.pixelRatio = function (ctx) {\n      var dPR = window.devicePixelRatio || 1;\n      var bPR = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n\n      return preservePixelRatio ? dPR / bPR : 1;\n    }(this.ctx);\n\n    this.frameCount = 0;\n    this.frameModulo = skipFrames + 1;\n    this.accumDt = 0;\n\n    // register the group into the loop\n    loop.registerRenderingGroup(this);\n  }\n\n  /**\n   * Updates the size of the canvas. Propagate new logical `width` and `height`\n   * according to `this.pixelRatio` to all registered renderers.\n   *\n   * @param {Number} viewportWidth - Width of the viewport.\n   * @param {Number} viewportHeight - Height of the viewport.\n   * @param {Number} orientation - Orientation of the viewport.\n   */\n\n\n  (0, _createClass3.default)(Canvas2dRenderingGroup, [{\n    key: \"onResize\",\n    value: function onResize(viewportWidth, viewportHeight, orientation) {\n      var ctx = this.ctx;\n      var pixelRatio = this.pixelRatio;\n\n      this.canvasWidth = viewportWidth * pixelRatio;\n      this.canvasHeight = viewportHeight * pixelRatio;\n      this.orientation = orientation;\n\n      ctx.canvas.width = this.canvasWidth;\n      ctx.canvas.height = this.canvasHeight;\n      ctx.canvas.style.width = viewportWidth + \"px\";\n      ctx.canvas.style.height = viewportHeight + \"px\";\n\n      // propagate logical size to renderers\n      for (var i = 0, l = this.renderers.length; i < l; i++) {\n        this.renderers[i].onResize(this.canvasWidth, this.canvasHeight, orientation);\n      }\n    }\n\n    /**\n     * Propagate `update` to all registered renderers. The `update` method\n     * for each renderer is called according to their update period.\n     *\n     * @param {Number} time - Current time.\n     * @param {Number} dt - Delta time in seconds since last update.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(time, dt) {\n      var renderers = this.renderers;\n\n      for (var i = 0, l = renderers.length; i < l; i++) {\n        var renderer = renderers[i];\n        var updatePeriod = renderer.updatePeriod;\n\n        if (updatePeriod === 0) {\n          renderer.update(dt);\n          renderer.currentTime = time;\n        } else {\n          while (renderer.currentTime < time) {\n            renderer.update(updatePeriod);\n            renderer.currentTime += updatePeriod;\n          }\n        }\n      }\n    }\n\n    /**\n     * Propagate `render` to all the registered renderers.\n     *\n     * @param {Number} dt - Delta time in seconds since the last\n     *  `requestAnimationFrame` call.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render(dt) {\n      var accumDt = this.accumDt + dt;\n\n      if (this.frameCount === 0) {\n        var ctx = this.ctx,\n            renderers = this.renderers;\n\n\n        if (this.preRender !== null) this.preRender(ctx, accumDt, this.canvasWidth, this.canvasHeight);\n\n        for (var i = 0, l = renderers.length; i < l; i++) {\n          renderers[i].render(ctx);\n        }if (this.postRender !== null) this.postRender(ctx, accumDt, this.canvasWidth, this.canvasHeight);\n\n        accumDt = 0;\n      }\n\n      this.frameCount = (this.frameCount + 1) % this.frameModulo;\n      this.accumDt = accumDt;\n    }\n\n    /**\n     * Add a `Renderer` instance to the group.\n     *\n     * @param {module:soundworks/client.Renderer} renderer - Renderer to add to\n     *  the group.\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(renderer) {\n      this.renderers.push(renderer);\n      this.currentTime = loop.getTime();\n      // update the current time of the renderer\n      renderer.currentTime = this.currentTime;\n      renderer.pixelRatio = this.pixelRatio;\n      renderer.onResize(this.canvasWidth, this.canvasHeight, this.orientation);\n      renderer.init();\n      // if first renderer added, start the loop\n      if (this.renderers.length === 1) loop.requireStart();\n    }\n\n    /**\n     * Remove a `Renderer` instance from the group.\n     *\n     * @param {module:soundworks/client.Renderer} renderer - Renderer to remove\n     *  from the group.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(renderer) {\n      var index = this.renderers.indexOf(renderer);\n\n      if (index !== -1) {\n        this.renderers.splice(index, 1);\n        // if last renderer removed, stop the loop\n        if (this.renderers.length === 0) loop.requireStop();\n      }\n    }\n  }]);\n  return Canvas2dRenderingGroup;\n}();\n\nexports.default = Canvas2dRenderingGroup;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhbnZhc1JlbmRlcmluZ0dyb3VwLmpzIl0sIm5hbWVzIjpbImxvb3AiLCJyZW5kZXJpbmdHcm91cHMiLCJfaXNSdW5uaW5nIiwiZ2V0VGltZSIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsInJlcXVpcmVTdGFydCIsImxhc3RSZW5kZXJUaW1lIiwic2VsZiIsInRpbWUiLCJkdCIsImkiLCJsIiwibGVuZ3RoIiwiZ3JvdXAiLCJ1cGRhdGUiLCJyZW5kZXIiLCJyQUZpZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlcXVpcmVTdG9wIiwic2hvdWxkU3RvcCIsInJlbmRlcmVycyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVnaXN0ZXJSZW5kZXJpbmdHcm91cCIsInB1c2giLCJDYW52YXMyZFJlbmRlcmluZ0dyb3VwIiwiY3R4IiwicHJlc2VydmVQaXhlbFJhdGlvIiwic2tpcEZyYW1lcyIsInByZVJlbmRlciIsInBvc3RSZW5kZXIiLCJwaXhlbFJhdGlvIiwiZFBSIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJQUiIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiZnJhbWVDb3VudCIsImZyYW1lTW9kdWxvIiwiYWNjdW1EdCIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsIm9yaWVudGF0aW9uIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwib25SZXNpemUiLCJyZW5kZXJlciIsInVwZGF0ZVBlcmlvZCIsImN1cnJlbnRUaW1lIiwiaW5pdCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFB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QkosR0FBaEIsRUFBcUJnQixPQUFyQixFQUE4QixLQUFLSSxXQUFuQyxFQUFnRCxLQUFLQyxZQUFyRDs7QUFFRkwsa0JBQVUsQ0FBVjtBQUNEOztBQUVELFdBQUtGLFVBQUwsR0FBa0IsQ0FBQyxLQUFLQSxVQUFMLEdBQWtCLENBQW5CLElBQXdCLEtBQUtDLFdBQS9DO0FBQ0EsV0FBS0MsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozt3QkFNSVcsUSxFQUFVO0FBQ1osV0FBS2hDLFNBQUwsQ0FBZUcsSUFBZixDQUFvQjZCLFFBQXBCO0FBQ0EsV0FBS0UsV0FBTCxHQUFtQnpELEtBQUtHLE9BQUwsRUFBbkI7QUFDQTtBQUNBb0QsZUFBU0UsV0FBVCxHQUF1QixLQUFLQSxXQUE1QjtBQUNBRixlQUFTdEIsVUFBVCxHQUFzQixLQUFLQSxVQUEzQjtBQUNBc0IsZUFBU0QsUUFBVCxDQUFrQixLQUFLTixXQUF2QixFQUFvQyxLQUFLQyxZQUF6QyxFQUF1RCxLQUFLRixXQUE1RDtBQUNBUSxlQUFTRyxJQUFUO0FBQ0E7QUFDQSxVQUFJLEtBQUtuQyxTQUFMLENBQWVSLE1BQWYsS0FBMEIsQ0FBOUIsRUFDRWYsS0FBS1EsWUFBTDtBQUNIOztBQUVEOzs7Ozs7Ozs7MkJBTU8rQyxRLEVBQVU7QUFDZixVQUFNSSxRQUFRLEtBQUtwQyxTQUFMLENBQWVxQyxPQUFmLENBQXVCTCxRQUF2QixDQUFkOztBQUVBLFVBQUlJLFVBQVUsQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCLGFBQUtwQyxTQUFMLENBQWVzQyxNQUFmLENBQXNCRixLQUF0QixFQUE2QixDQUE3QjtBQUNBO0FBQ0EsWUFBSSxLQUFLcEMsU0FBTCxDQUFlUixNQUFmLEtBQTBCLENBQTlCLEVBQ0VmLEtBQUtxQixXQUFMO0FBQ0g7QUFDRjs7Ozs7a0JBR1lNLHNCIiwiZmlsZSI6IkNhbnZhc1JlbmRlcmluZ0dyb3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZW5kZXJpbmcgbG9vcCBoYW5kbGluZyB0aGUgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgYW5kIHRoZSBgdXBkYXRlYCAvXG4gKiBgcmVuZGVyYCBjeWNsZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgbG9vcCA9IHtcbiAgcmVuZGVyaW5nR3JvdXBzOiBbXSxcblxuICBfaXNSdW5uaW5nOiBmYWxzZSxcblxuICAvKipcbiAgICogQHJldHVybiB7TnVtYmVyfSAtIEN1cnJlbnQgdGltZSBpbiBzZWNvbmRzLlxuICAgKi9cbiAgZ2V0VGltZSgpIHtcbiAgICByZXR1cm4gMC4wMDEgKiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgP1xuICAgICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIDogbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdGFydCB0aGUgcmVuZGVyaW5nIGxvb3AgaWYgbm90IHN0YXJ0ZWQuXG4gICAqL1xuICByZXF1aXJlU3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzUnVubmluZykgeyByZXR1cm47IH1cbiAgICB0aGlzLl9pc1J1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMubGFzdFJlbmRlclRpbWUgPSB0aGlzLmdldFRpbWUoKTtcblxuICAgIChmdW5jdGlvbihzZWxmKSB7XG4gICAgICBmdW5jdGlvbiBsb29wKCkge1xuICAgICAgICBjb25zdCB0aW1lID0gc2VsZi5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IGR0ID0gdGltZSAtIHNlbGYubGFzdFJlbmRlclRpbWU7XG4gICAgICAgIGNvbnN0IHJlbmRlcmluZ0dyb3VwcyA9IHNlbGYucmVuZGVyaW5nR3JvdXBzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVuZGVyaW5nR3JvdXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGdyb3VwID0gcmVuZGVyaW5nR3JvdXBzW2ldO1xuICAgICAgICAgIC8vIGxldCB0aGUgZ3JvdXAgaGFuZGxlIHRoZSB1cGRhdGVQZXJpb2Qgb2YgZWFjaCByZW5kZXJlclxuICAgICAgICAgIGdyb3VwLnVwZGF0ZSh0aW1lLCBkdCk7XG4gICAgICAgICAgZ3JvdXAucmVuZGVyKGR0KTsgLy8gZm9yd2FyZCBgZHRgIGZvciBgcHJlUmVuZGVyYCBtZXRob2RcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYubGFzdFJlbmRlclRpbWUgPSB0aW1lO1xuICAgICAgICBzZWxmLnJBRmlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnJBRmlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH0odGhpcykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBsb29wIGlmIG5vIHJlbmRlcmVyIGFyZSBzdGlsbCBwcmVzZW50LiBJZiBub3QgYWJvcnQuXG4gICAqL1xuICByZXF1aXJlU3RvcCgpIHtcbiAgICAvLyBAdG9kbyAtIGhhbmRsZSBzZXZlcmFsIHBhcmFsbGVsIGdyb3Vwc1xuICAgIGxldCBzaG91bGRTdG9wID0gdHJ1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5yZW5kZXJpbmdHcm91cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJpbmdHcm91cHNbaV0ucmVuZGVyZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2hvdWxkU3RvcCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRTdG9wKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJBRmlkKTtcbiAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWRkIGEgcmVuZGVyaW5nIGdyb3VwIHRvIHRoZSBsb29wLlxuICAgKi9cbiAgcmVnaXN0ZXJSZW5kZXJpbmdHcm91cChncm91cCkge1xuICAgIHRoaXMucmVuZGVyaW5nR3JvdXBzLnB1c2goZ3JvdXApO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSBhIGdyb3VwIG9mIHJlbmRlcmVycyBvbiBhIHNpbmdsZSBmdWxsIHNjcmVlbiBjYW52YXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+VGhpcyBjbGFzcyBpcyBhIHByb3BlcnR5IG9mXG4gKiB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXd9IHNob3VsZCBiZSBjb25zaWRlcmVkIHByaXZhdGUuPC9zcGFuPlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgY29udGV4dCBpbiB3aGljaFxuICogIHRoZSByZW5kZXJlciBzaG91bGQgZHJhdy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3ByZXNlcnZlUGl4ZWxSYXRpbz1mYWxzZV0gLSBEZWZpbmUgaWYgdGhlIGNhbnZhcyBzaG91bGRcbiAqICB0YWtlIGFjY291bnQgb2YgdGhlIGRldmljZSBwaXhlbCByYXRpbyBmb3IgdGhlIGRyYXdpbmcuIFdoZW4gc2V0IHRvIGB0cnVlYCxcbiAqICBxdWFsaXR5IGlmIGZhdm9yZWQgb3ZlciBwZXJmb3JtYW5jZS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKi9cbmNsYXNzIENhbnZhczJkUmVuZGVyaW5nR3JvdXAge1xuICBjb25zdHJ1Y3RvcihjdHgsIHByZXNlcnZlUGl4ZWxSYXRpbyA9IGZhbHNlLCBza2lwRnJhbWVzID0gMCkge1xuICAgIC8qKlxuICAgICAqIDJkIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICogQG5hbWUgY3R4XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXMyZFJlbmRlcmluZ0dyb3VwXG4gICAgICovXG4gICAgdGhpcy5jdHggPSBjdHg7XG5cbiAgICAvKipcbiAgICAgKiBTdGFjayBvZiB0aGUgcmVnaXN0ZXJlZCByZW5kZXJlcnMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7QXJyYXk8bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlJlbmRlcmVyPn1cbiAgICAgKiBAbmFtZSByZW5kZXJlcnNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhczJkUmVuZGVyaW5nR3JvdXBcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVycyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSG9va3MgZXhlY3V0ZWQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGVhY2ggckFGIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnByZVJlbmRlciA9IG51bGw7XG4gICAgdGhpcy5wb3N0UmVuZGVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBpeGVsIHJhdGlvIG9mIHRoZSBkZXZpY2UsIHNldCB0byAxIGlmIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHBpeGVsUmF0aW9cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhczJkUmVuZGVyaW5nR3JvdXBcbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW8gPSAoZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjb25zdCBkUFIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgY29uc3QgYlBSID0gY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgcmV0dXJuIHByZXNlcnZlUGl4ZWxSYXRpbyA/IChkUFIgLyBiUFIpIDogMTtcbiAgICB9KHRoaXMuY3R4KSk7XG5cbiAgICB0aGlzLmZyYW1lQ291bnQgPSAwO1xuICAgIHRoaXMuZnJhbWVNb2R1bG8gPSBza2lwRnJhbWVzICsgMTtcbiAgICB0aGlzLmFjY3VtRHQgPSAwO1xuXG4gICAgLy8gcmVnaXN0ZXIgdGhlIGdyb3VwIGludG8gdGhlIGxvb3BcbiAgICBsb29wLnJlZ2lzdGVyUmVuZGVyaW5nR3JvdXAodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2l6ZSBvZiB0aGUgY2FudmFzLiBQcm9wYWdhdGUgbmV3IGxvZ2ljYWwgYHdpZHRoYCBhbmQgYGhlaWdodGBcbiAgICogYWNjb3JkaW5nIHRvIGB0aGlzLnBpeGVsUmF0aW9gIHRvIGFsbCByZWdpc3RlcmVkIHJlbmRlcmVycy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZpZXdwb3J0V2lkdGggLSBXaWR0aCBvZiB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2aWV3cG9ydEhlaWdodCAtIEhlaWdodCBvZiB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcmllbnRhdGlvbiAtIE9yaWVudGF0aW9uIG9mIHRoZSB2aWV3cG9ydC5cbiAgICovXG4gIG9uUmVzaXplKHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0LCBvcmllbnRhdGlvbikge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG5cbiAgICB0aGlzLmNhbnZhc1dpZHRoID0gdmlld3BvcnRXaWR0aCAqIHBpeGVsUmF0aW87XG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSB2aWV3cG9ydEhlaWdodCAqIHBpeGVsUmF0aW87XG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuXG4gICAgY3R4LmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XG4gICAgY3R4LmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDtcbiAgICBjdHguY2FudmFzLnN0eWxlLndpZHRoID0gYCR7dmlld3BvcnRXaWR0aH1weGA7XG4gICAgY3R4LmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHt2aWV3cG9ydEhlaWdodH1weGA7XG5cbiAgICAvLyBwcm9wYWdhdGUgbG9naWNhbCBzaXplIHRvIHJlbmRlcmVyc1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5yZW5kZXJlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgdGhpcy5yZW5kZXJlcnNbaV0ub25SZXNpemUodGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIG9yaWVudGF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9wYWdhdGUgYHVwZGF0ZWAgdG8gYWxsIHJlZ2lzdGVyZWQgcmVuZGVyZXJzLiBUaGUgYHVwZGF0ZWAgbWV0aG9kXG4gICAqIGZvciBlYWNoIHJlbmRlcmVyIGlzIGNhbGxlZCBhY2NvcmRpbmcgdG8gdGhlaXIgdXBkYXRlIHBlcmlvZC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgLSBDdXJyZW50IHRpbWUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkdCAtIERlbHRhIHRpbWUgaW4gc2Vjb25kcyBzaW5jZSBsYXN0IHVwZGF0ZS5cbiAgICovXG4gIHVwZGF0ZSh0aW1lLCBkdCkge1xuICAgIGNvbnN0IHJlbmRlcmVycyA9IHRoaXMucmVuZGVyZXJzO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW5kZXJlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCByZW5kZXJlciA9IHJlbmRlcmVyc1tpXTtcbiAgICAgIGNvbnN0IHVwZGF0ZVBlcmlvZCA9IHJlbmRlcmVyLnVwZGF0ZVBlcmlvZDtcblxuICAgICAgaWYgKHVwZGF0ZVBlcmlvZCA9PT0gMCkge1xuICAgICAgICByZW5kZXJlci51cGRhdGUoZHQpO1xuICAgICAgICByZW5kZXJlci5jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAocmVuZGVyZXIuY3VycmVudFRpbWUgPCB0aW1lKSB7XG4gICAgICAgICAgcmVuZGVyZXIudXBkYXRlKHVwZGF0ZVBlcmlvZCk7XG4gICAgICAgICAgcmVuZGVyZXIuY3VycmVudFRpbWUgKz0gdXBkYXRlUGVyaW9kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb3BhZ2F0ZSBgcmVuZGVyYCB0byBhbGwgdGhlIHJlZ2lzdGVyZWQgcmVuZGVyZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gZHQgLSBEZWx0YSB0aW1lIGluIHNlY29uZHMgc2luY2UgdGhlIGxhc3RcbiAgICogIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGwuXG4gICAqL1xuICByZW5kZXIoZHQpIHtcbiAgICBsZXQgYWNjdW1EdCA9IHRoaXMuYWNjdW1EdCArIGR0O1xuXG4gICAgaWYgKHRoaXMuZnJhbWVDb3VudCA9PT0gMCkge1xuICAgICAgY29uc3QgeyBjdHgsIHJlbmRlcmVycyB9ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJlUmVuZGVyICE9PSBudWxsKVxuICAgICAgICB0aGlzLnByZVJlbmRlcihjdHgsIGFjY3VtRHQsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW5kZXJlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICByZW5kZXJlcnNbaV0ucmVuZGVyKGN0eCk7XG5cbiAgICAgIGlmICh0aGlzLnBvc3RSZW5kZXIgIT09IG51bGwpXG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjdHgsIGFjY3VtRHQsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcblxuICAgICAgYWNjdW1EdCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5mcmFtZUNvdW50ID0gKHRoaXMuZnJhbWVDb3VudCArIDEpICUgdGhpcy5mcmFtZU1vZHVsbztcbiAgICB0aGlzLmFjY3VtRHQgPSBhY2N1bUR0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGBSZW5kZXJlcmAgaW5zdGFuY2UgdG8gdGhlIGdyb3VwLlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byBhZGQgdG9cbiAgICogIHRoZSBncm91cC5cbiAgICovXG4gIGFkZChyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXJzLnB1c2gocmVuZGVyZXIpO1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSBsb29wLmdldFRpbWUoKTtcbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgcmVuZGVyZXJcbiAgICByZW5kZXJlci5jdXJyZW50VGltZSA9IHRoaXMuY3VycmVudFRpbWU7XG4gICAgcmVuZGVyZXIucGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICByZW5kZXJlci5vblJlc2l6ZSh0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCwgdGhpcy5vcmllbnRhdGlvbik7XG4gICAgcmVuZGVyZXIuaW5pdCgpO1xuICAgIC8vIGlmIGZpcnN0IHJlbmRlcmVyIGFkZGVkLCBzdGFydCB0aGUgbG9vcFxuICAgIGlmICh0aGlzLnJlbmRlcmVycy5sZW5ndGggPT09IDEpXG4gICAgICBsb29wLnJlcXVpcmVTdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGBSZW5kZXJlcmAgaW5zdGFuY2UgZnJvbSB0aGUgZ3JvdXAuXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlJlbmRlcmVyfSByZW5kZXJlciAtIFJlbmRlcmVyIHRvIHJlbW92ZVxuICAgKiAgZnJvbSB0aGUgZ3JvdXAuXG4gICAqL1xuICByZW1vdmUocmVuZGVyZXIpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMucmVuZGVyZXJzLmluZGV4T2YocmVuZGVyZXIpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5yZW5kZXJlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIC8vIGlmIGxhc3QgcmVuZGVyZXIgcmVtb3ZlZCwgc3RvcCB0aGUgbG9vcFxuICAgICAgaWYgKHRoaXMucmVuZGVyZXJzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgbG9vcC5yZXF1aXJlU3RvcCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXMyZFJlbmRlcmluZ0dyb3VwO1xuIl19","deps":{"babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/TouchSurface.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/TouchSurface.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Helper to handle `touch` events on a given element. Decompose a multitouch\n * event in several parallel events, propagate normalized values according to\n * the size of the container.\n *\n * @param {Element} $el - Element to listen for `touch` events.\n *\n * @memberof module:soundworks/client\n */\nvar TouchSurface = function () {\n  function TouchSurface($el) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, TouchSurface);\n\n    /**\n     * Element to listen.\n     *\n     * @type {Element}\n     * @name $el\n     * @instance\n     * @memberof  module:soundworks/client.TouchSurface\n     */\n    this.$el = $el;\n\n    /**\n     * Touch id, normalized position pairs for each current touches.\n     *\n     * @type {Number:<Array<Number>>}\n     * @name touches\n     * @instance\n     * @memberof  module:soundworks/client.TouchSurface\n     */\n    this.touches = {};\n\n    /**\n     * Bounding rect of `this.$el`.\n     *\n     * @type {Object}\n     * @name _elBoundingRect\n     * @instance\n     * @memberof  module:soundworks/client.TouchSurface\n     * @private\n     */\n    this._elBoundingRect = null;\n\n    /**\n     * Registered callbacks.\n     *\n     * @type {Object}\n     * @name _listeners\n     * @instance\n     * @memberof  module:soundworks/client.TouchSurface\n     * @private\n     */\n    this._listeners = {};\n\n    this._normalizeCoordinates = options.normalizeCoordinates !== undefined ? options.normalizeCoordinates : true;\n\n    // cache bounding rect values and listen for window resize\n    this._updateBoundingRect = this._updateBoundingRect.bind(this);\n    window.addEventListener('resize', this._updateBoundingRect);\n    this._updateBoundingRect();\n\n    /** @private */\n    this._handleTouchStart = this._handleTouch(function (id, x, y, t, e) {\n      _this.touches[id] = [x, y];\n      _this._propagate('touchstart', id, x, y, t, e);\n    });\n\n    /** @private */\n    this._handleTouchMove = this._handleTouch(function (id, x, y, t, e) {\n      _this.touches[id] = [x, y];\n      _this._propagate('touchmove', id, x, y, t, e);\n    });\n\n    /** @private */\n    this._handleTouchEnd = this._handleTouch(function (id, x, y, t, e) {\n      delete _this.touches[id];\n      _this._propagate('touchend', id, x, y, t, e);\n    });\n\n    this.$el.addEventListener('touchstart', this._handleTouchStart);\n    this.$el.addEventListener('touchmove', this._handleTouchMove);\n    this.$el.addEventListener('touchend', this._handleTouchEnd);\n    this.$el.addEventListener('touchcancel', this._handleTouchEnd);\n\n    // fallback for mouse interactions\n  }\n\n  /**\n   * Destroy the `TouchSurface`, remove all event listeners from `this.$el`\n   * and delete all pointers.\n   */\n\n\n  (0, _createClass3.default)(TouchSurface, [{\n    key: 'destroy',\n    value: function destroy() {\n      window.removeEventListener('resize', this._updateBoundingRect);\n      this.$el.removeEventListener('touchstart', this._handleTouchStart);\n      this.$el.removeEventListener('touchmove', this._handleTouchMove);\n      this.$el.removeEventListener('touchend', this._handleTouchEnd);\n      this.$el.removeEventListener('touchcancel', this._handleTouchEnd);\n      // delete pointers\n      this.$el = null;\n      this.listeners = null;\n    }\n\n    /**\n     * Update bounding rect of `this.$el`\n     *\n     * @private\n     */\n\n  }, {\n    key: '_updateBoundingRect',\n    value: function _updateBoundingRect() {\n      this._elBoundingRect = this.$el.getBoundingClientRect();\n\n      // this has been introduced in 6c8234bb83d2df3e56f1b21a0caea4e4ef657eb4 and\n      // breaks a lot of things... respecify the behavior when\n      // normalizeCoordinates === false, because is not related to the given\n      // element (this.$el) as implemented.\n      // (the only app that depends on this option is probably coloop, so check it)\n      // this._elBoundingRect = {\n      //   top: 0,\n      //   bottom: 0,\n      //   left: 0,\n      //   right: 0,\n      //   width: window.innerWidth,\n      //   height: window.innerHeight,\n      // };\n    }\n\n    /**\n     * Generic moethod to handle a touch event.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_handleTouch',\n    value: function _handleTouch(callback) {\n      var _this2 = this;\n\n      return function (e) {\n        e.preventDefault();\n        // if `_updateBoundingRect` has not been been called or\n        // has been called when $el was in `display:none` state\n        if (!_this2._elBoundingRect || _this2._elBoundingRect.width === 0 && _this2._elBoundingRect.height === 0) {\n          _this2._updateBoundingRect();\n        }\n\n        var touches = e.changedTouches;\n        var boundingRect = _this2._elBoundingRect;\n\n        for (var i = 0; i < touches.length; i++) {\n          var touchEvent = touches[i];\n          var touchId = touchEvent.identifier;\n\n          if (_this2._normalizeCoordinates) {\n            var relX = touchEvent.clientX - boundingRect.left;\n            var relY = touchEvent.clientY - boundingRect.top;\n            var normX = relX / boundingRect.width;\n            var normY = relY / boundingRect.height;\n            callback(touchId, normX, normY, touchEvent, e);\n          } else {\n            callback(touchId, touchEvent.clientX, touchEvent.clientY, touchEvent, e);\n          }\n        }\n      };\n    }\n\n    /**\n     * Propagate the touch event and normalized values to the listeners.\n     *\n     * @param {String} eventName - Type of event.\n     * @param {Number} touchId - Id of the touch event.\n     * @param {Number} x - x-position (maybe normalized to the elements width depending on normalizeCoordinates option)\n     * @param {Number} y - y-position (maybe normalized to the elements height depending on normalizeCoordinates option)\n     *  according to the height of the element.\n     * @param {Object} touchEvent - Original touch event (`e.changedTouches[n]`).\n     * @param {Object} originalEvent - Original event.\n     * @private\n     */\n\n  }, {\n    key: '_propagate',\n    value: function _propagate(eventName, touchId, x, y, touchEvent, originalEvent) {\n      var listeners = this._listeners[eventName];\n\n      if (listeners && listeners.length) {\n        listeners.forEach(function (listener) {\n          listener(touchId, x, y, touchEvent, originalEvent);\n        });\n      }\n    }\n\n    /**\n     * Callback for touch events\n     *\n     * @callback module:soundworks/client.TouchSurface~EventListener\n     * @param {Number} touchId - Id of the touch.\n     * @param {Number} x - x-position (maybe normalized to the elements width depending on normalizeCoordinates option)\n     * @param {Number} y - y-position (maybe normalized to the elements height depending on normalizeCoordinates option)\n     * @param {Touch} touchEvent - The original Touch event.\n     * @param {Event} originalEvent - The original event.\n     */\n\n    /**\n     * Register a listener. __note: `touchcancel` is merge with `touchend`.\n     *\n     * @param {String} eventName - Name of the event to listen (`touchstart`,\n     *  `touchend` or `touchmove`)\n     * @param {module:soundworks/client.TouchSurface~EventListener} callback\n     */\n\n  }, {\n    key: 'addListener',\n    value: function addListener(eventName, callback) {\n      if (!this._listeners[eventName]) this._listeners[eventName] = [];\n\n      this._listeners[eventName].push(callback);\n    }\n\n    /**\n     * Remove a listener. __note: `touchcancel` is merge with `touchend`.\n     *\n     * @param {String} eventName - Name of the event to listen (`touchstart`,\n     *  `touchend` or `touchmove`)\n     * @param {module:soundworks/client.TouchSurface~EventListener} callback\n     */\n\n  }, {\n    key: 'removeListener',\n    value: function removeListener(eventName, callback) {\n      var listeners = this._listeners[eventName];\n      if (!listeners) {\n        return;\n      }\n\n      var index = listeners.indexOf(callback);\n\n      if (index !== -1) listeners.splice(index, 1);\n    }\n  }]);\n  return TouchSurface;\n}();\n\nexports.default = TouchSurface;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoU3VyZmFjZS5qcyJdLCJuYW1lcyI6WyJUb3VjaFN1cmZhY2UiLCIkZWwiLCJvcHRpb25zIiwidG91Y2hlcyIsIl9lbEJvdW5kaW5nUmVjdCIsIl9saXN0ZW5lcnMiLCJfbm9ybWFsaXplQ29vcmRpbmF0ZXMiLCJub3JtYWxpemVDb29yZGluYXRlcyIsInVuZGVmaW5lZCIsIl91cGRhdGVCb3VuZGluZ1JlY3QiLCJiaW5kIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVUb3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoIiwiaWQiLCJ4IiwieSIsInQiLCJlIiwiX3Byb3BhZ2F0ZSIsIl9oYW5kbGVUb3VjaE1vdmUiLCJfaGFuZGxlVG91Y2hFbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGlzdGVuZXJzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FsbGJhY2siLCJwcmV2ZW50RGVmYXVsdCIsIndpZHRoIiwiaGVpZ2h0IiwiY2hhbmdlZFRvdWNoZXMiLCJib3VuZGluZ1JlY3QiLCJpIiwibGVuZ3RoIiwidG91Y2hFdmVudCIsInRvdWNoSWQiLCJpZGVudGlmaWVyIiwicmVsWCIsImNsaWVudFgiLCJsZWZ0IiwicmVsWSIsImNsaWVudFkiLCJ0b3AiLCJub3JtWCIsIm5vcm1ZIiwiZXZlbnROYW1lIiwib3JpZ2luYWxFdmVudCIsImZvckVhY2giLCJsaXN0ZW5lciIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7O0lBU01BLFk7QUFDSix3QkFBWUMsR0FBWixFQUErQjtBQUFBOztBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBOztBQUM3Qjs7Ozs7Ozs7QUFRQSxTQUFLRCxHQUFMLEdBQVdBLEdBQVg7O0FBRUE7Ozs7Ozs7O0FBUUEsU0FBS0UsT0FBTCxHQUFlLEVBQWY7O0FBRUE7Ozs7Ozs7OztBQVNBLFNBQUtDLGVBQUwsR0FB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K0JBWVcwQixTLEVBQVdWLE8sRUFBU25CLEMsRUFBR0MsQyxFQUFHaUIsVSxFQUFZWSxhLEVBQWU7QUFDOUQsVUFBTXRCLFlBQVksS0FBS25CLFVBQUwsQ0FBZ0J3QyxTQUFoQixDQUFsQjs7QUFFQSxVQUFJckIsYUFBYUEsVUFBVVMsTUFBM0IsRUFBbUM7QUFDakNULGtCQUFVdUIsT0FBVixDQUFrQixVQUFDQyxRQUFELEVBQWM7QUFDOUJBLG1CQUFTYixPQUFULEVBQWtCbkIsQ0FBbEIsRUFBcUJDLENBQXJCLEVBQXdCaUIsVUFBeEIsRUFBb0NZLGFBQXBDO0FBQ0QsU0FGRDtBQUdEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozs7O0FBV0E7Ozs7Ozs7Ozs7Z0NBT1lELFMsRUFBV25CLFEsRUFBVTtBQUMvQixVQUFJLENBQUMsS0FBS3JCLFVBQUwsQ0FBZ0J3QyxTQUFoQixDQUFMLEVBQ0UsS0FBS3hDLFVBQUwsQ0FBZ0J3QyxTQUFoQixJQUE2QixFQUE3Qjs7QUFFRixXQUFLeEMsVUFBTCxDQUFnQndDLFNBQWhCLEVBQTJCSSxJQUEzQixDQUFnQ3ZCLFFBQWhDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7bUNBT2VtQixTLEVBQVduQixRLEVBQVU7QUFDbEMsVUFBTUYsWUFBWSxLQUFLbkIsVUFBTCxDQUFnQndDLFNBQWhCLENBQWxCO0FBQ0EsVUFBSSxDQUFDckIsU0FBTCxFQUFnQjtBQUFFO0FBQVM7O0FBRTNCLFVBQU0wQixRQUFRMUIsVUFBVTJCLE9BQVYsQ0FBa0J6QixRQUFsQixDQUFkOztBQUVBLFVBQUl3QixVQUFVLENBQUMsQ0FBZixFQUNFMUIsVUFBVTRCLE1BQVYsQ0FBaUJGLEtBQWpCLEVBQXdCLENBQXhCO0FBQ0g7Ozs7O2tCQUdZbEQsWSIsImZpbGUiOiJUb3VjaFN1cmZhY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlciB0byBoYW5kbGUgYHRvdWNoYCBldmVudHMgb24gYSBnaXZlbiBlbGVtZW50LiBEZWNvbXBvc2UgYSBtdWx0aXRvdWNoXG4gKiBldmVudCBpbiBzZXZlcmFsIHBhcmFsbGVsIGV2ZW50cywgcHJvcGFnYXRlIG5vcm1hbGl6ZWQgdmFsdWVzIGFjY29yZGluZyB0b1xuICogdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9ICRlbCAtIEVsZW1lbnQgdG8gbGlzdGVuIGZvciBgdG91Y2hgIGV2ZW50cy5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKi9cbmNsYXNzIFRvdWNoU3VyZmFjZSB7XG4gIGNvbnN0cnVjdG9yKCRlbCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLyoqXG4gICAgICogRWxlbWVudCB0byBsaXN0ZW4uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAbmFtZSAkZWxcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Ub3VjaFN1cmZhY2VcbiAgICAgKi9cbiAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgIC8qKlxuICAgICAqIFRvdWNoIGlkLCBub3JtYWxpemVkIHBvc2l0aW9uIHBhaXJzIGZvciBlYWNoIGN1cnJlbnQgdG91Y2hlcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXI6PEFycmF5PE51bWJlcj4+fVxuICAgICAqIEBuYW1lIHRvdWNoZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Ub3VjaFN1cmZhY2VcbiAgICAgKi9cbiAgICB0aGlzLnRvdWNoZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEJvdW5kaW5nIHJlY3Qgb2YgYHRoaXMuJGVsYC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG5hbWUgX2VsQm91bmRpbmdSZWN0XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mICBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVG91Y2hTdXJmYWNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9lbEJvdW5kaW5nUmVjdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG5hbWUgX2xpc3RlbmVyc1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiAgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlRvdWNoU3VyZmFjZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgICB0aGlzLl9ub3JtYWxpemVDb29yZGluYXRlcyA9IChvcHRpb25zLm5vcm1hbGl6ZUNvb3JkaW5hdGVzICE9PSB1bmRlZmluZWQpID8gb3B0aW9ucy5ub3JtYWxpemVDb29yZGluYXRlcyA6IHRydWU7XG5cbiAgICAvLyBjYWNoZSBib3VuZGluZyByZWN0IHZhbHVlcyBhbmQgbGlzdGVuIGZvciB3aW5kb3cgcmVzaXplXG4gICAgdGhpcy5fdXBkYXRlQm91bmRpbmdSZWN0ID0gdGhpcy5fdXBkYXRlQm91bmRpbmdSZWN0LmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUJvdW5kaW5nUmVjdCk7XG4gICAgdGhpcy5fdXBkYXRlQm91bmRpbmdSZWN0KCk7XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0ID0gdGhpcy5faGFuZGxlVG91Y2goKGlkLCB4LCB5LCB0LCBlKSA9PiB7XG4gICAgICB0aGlzLnRvdWNoZXNbaWRdID0gW3gsIHldO1xuICAgICAgdGhpcy5fcHJvcGFnYXRlKCd0b3VjaHN0YXJ0JywgaWQsIHgsIHksIHQsIGUpO1xuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5faGFuZGxlVG91Y2hNb3ZlID0gdGhpcy5faGFuZGxlVG91Y2goKGlkLCB4LCB5LCB0LCBlKSA9PiB7XG4gICAgICB0aGlzLnRvdWNoZXNbaWRdID0gW3gsIHldO1xuICAgICAgdGhpcy5fcHJvcGFnYXRlKCd0b3VjaG1vdmUnLCBpZCwgeCwgeSwgdCwgZSk7XG4gICAgfSk7XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLl9oYW5kbGVUb3VjaEVuZCA9IHRoaXMuX2hhbmRsZVRvdWNoKChpZCwgeCwgeSwgdCwgZSkgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMudG91Y2hlc1tpZF07XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoJ3RvdWNoZW5kJywgaWQsIHgsIHksIHQsIGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQpO1xuICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVRvdWNoTW92ZSk7XG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVUb3VjaEVuZCk7XG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLl9oYW5kbGVUb3VjaEVuZCk7XG5cbiAgICAvLyBmYWxsYmFjayBmb3IgbW91c2UgaW50ZXJhY3Rpb25zXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgYFRvdWNoU3VyZmFjZWAsIHJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGZyb20gYHRoaXMuJGVsYFxuICAgKiBhbmQgZGVsZXRlIGFsbCBwb2ludGVycy5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUJvdW5kaW5nUmVjdCk7XG4gICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQpO1xuICAgIHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVRvdWNoTW92ZSk7XG4gICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVUb3VjaEVuZCk7XG4gICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLl9oYW5kbGVUb3VjaEVuZCk7XG4gICAgLy8gZGVsZXRlIHBvaW50ZXJzXG4gICAgdGhpcy4kZWwgPSBudWxsO1xuICAgIHRoaXMubGlzdGVuZXJzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYm91bmRpbmcgcmVjdCBvZiBgdGhpcy4kZWxgXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlQm91bmRpbmdSZWN0KCkge1xuICAgIHRoaXMuX2VsQm91bmRpbmdSZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAvLyB0aGlzIGhhcyBiZWVuIGludHJvZHVjZWQgaW4gNmM4MjM0YmI4M2QyZGYzZTU2ZjFiMjFhMGNhZWE0ZTRlZjY1N2ViNCBhbmRcbiAgICAvLyBicmVha3MgYSBsb3Qgb2YgdGhpbmdzLi4uIHJlc3BlY2lmeSB0aGUgYmVoYXZpb3Igd2hlblxuICAgIC8vIG5vcm1hbGl6ZUNvb3JkaW5hdGVzID09PSBmYWxzZSwgYmVjYXVzZSBpcyBub3QgcmVsYXRlZCB0byB0aGUgZ2l2ZW5cbiAgICAvLyBlbGVtZW50ICh0aGlzLiRlbCkgYXMgaW1wbGVtZW50ZWQuXG4gICAgLy8gKHRoZSBvbmx5IGFwcCB0aGF0IGRlcGVuZHMgb24gdGhpcyBvcHRpb24gaXMgcHJvYmFibHkgY29sb29wLCBzbyBjaGVjayBpdClcbiAgICAvLyB0aGlzLl9lbEJvdW5kaW5nUmVjdCA9IHtcbiAgICAvLyAgIHRvcDogMCxcbiAgICAvLyAgIGJvdHRvbTogMCxcbiAgICAvLyAgIGxlZnQ6IDAsXG4gICAgLy8gICByaWdodDogMCxcbiAgICAvLyAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAvLyAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgIC8vIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtb2V0aG9kIHRvIGhhbmRsZSBhIHRvdWNoIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVRvdWNoKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBpZiBgX3VwZGF0ZUJvdW5kaW5nUmVjdGAgaGFzIG5vdCBiZWVuIGJlZW4gY2FsbGVkIG9yXG4gICAgICAvLyBoYXMgYmVlbiBjYWxsZWQgd2hlbiAkZWwgd2FzIGluIGBkaXNwbGF5Om5vbmVgIHN0YXRlXG4gICAgICBpZiAoIXRoaXMuX2VsQm91bmRpbmdSZWN0IHx8wqBcbiAgICAgICAgICAodGhpcy5fZWxCb3VuZGluZ1JlY3Qud2lkdGggPT09IDAgJiYgdGhpcy5fZWxCb3VuZGluZ1JlY3QuaGVpZ2h0ID09PSAwKSkge1xuICAgICAgICB0aGlzLl91cGRhdGVCb3VuZGluZ1JlY3QoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXM7XG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSB0aGlzLl9lbEJvdW5kaW5nUmVjdDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRvdWNoRXZlbnQgPSB0b3VjaGVzW2ldO1xuICAgICAgICBjb25zdCB0b3VjaElkID0gdG91Y2hFdmVudC5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmICh0aGlzLl9ub3JtYWxpemVDb29yZGluYXRlcykge1xuICAgICAgICAgIGNvbnN0IHJlbFggPSB0b3VjaEV2ZW50LmNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdDtcbiAgICAgICAgICBjb25zdCByZWxZID0gdG91Y2hFdmVudC5jbGllbnRZIC0gYm91bmRpbmdSZWN0LnRvcDtcbiAgICAgICAgICBjb25zdCBub3JtWCA9IHJlbFggLyBib3VuZGluZ1JlY3Qud2lkdGg7XG4gICAgICAgICAgY29uc3Qgbm9ybVkgPSByZWxZIC8gYm91bmRpbmdSZWN0LmhlaWdodDtcbiAgICAgICAgICBjYWxsYmFjayh0b3VjaElkLCBub3JtWCwgbm9ybVksIHRvdWNoRXZlbnQsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKHRvdWNoSWQsIHRvdWNoRXZlbnQuY2xpZW50WCAsIHRvdWNoRXZlbnQuY2xpZW50WSwgdG91Y2hFdmVudCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3BhZ2F0ZSB0aGUgdG91Y2ggZXZlbnQgYW5kIG5vcm1hbGl6ZWQgdmFsdWVzIHRvIHRoZSBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLSBUeXBlIG9mIGV2ZW50LlxuICAgKiBAcGFyYW0ge051bWJlcn0gdG91Y2hJZCAtIElkIG9mIHRoZSB0b3VjaCBldmVudC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSB4LXBvc2l0aW9uIChtYXliZSBub3JtYWxpemVkIHRvIHRoZSBlbGVtZW50cyB3aWR0aCBkZXBlbmRpbmcgb24gbm9ybWFsaXplQ29vcmRpbmF0ZXMgb3B0aW9uKVxuICAgKiBAcGFyYW0ge051bWJlcn0geSAtIHktcG9zaXRpb24gKG1heWJlIG5vcm1hbGl6ZWQgdG8gdGhlIGVsZW1lbnRzIGhlaWdodCBkZXBlbmRpbmcgb24gbm9ybWFsaXplQ29vcmRpbmF0ZXMgb3B0aW9uKVxuICAgKiAgYWNjb3JkaW5nIHRvIHRoZSBoZWlnaHQgb2YgdGhlIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0b3VjaEV2ZW50IC0gT3JpZ2luYWwgdG91Y2ggZXZlbnQgKGBlLmNoYW5nZWRUb3VjaGVzW25dYCkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gT3JpZ2luYWwgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJvcGFnYXRlKGV2ZW50TmFtZSwgdG91Y2hJZCwgeCwgeSwgdG91Y2hFdmVudCwgb3JpZ2luYWxFdmVudCkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgbGlzdGVuZXIodG91Y2hJZCwgeCwgeSwgdG91Y2hFdmVudCwgb3JpZ2luYWxFdmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHRvdWNoIGV2ZW50c1xuICAgKlxuICAgKiBAY2FsbGJhY2sgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlRvdWNoU3VyZmFjZX5FdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b3VjaElkIC0gSWQgb2YgdGhlIHRvdWNoLlxuICAgKiBAcGFyYW0ge051bWJlcn0geCAtIHgtcG9zaXRpb24gKG1heWJlIG5vcm1hbGl6ZWQgdG8gdGhlIGVsZW1lbnRzIHdpZHRoIGRlcGVuZGluZyBvbiBub3JtYWxpemVDb29yZGluYXRlcyBvcHRpb24pXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0geS1wb3NpdGlvbiAobWF5YmUgbm9ybWFsaXplZCB0byB0aGUgZWxlbWVudHMgaGVpZ2h0IGRlcGVuZGluZyBvbiBub3JtYWxpemVDb29yZGluYXRlcyBvcHRpb24pXG4gICAqIEBwYXJhbSB7VG91Y2h9IHRvdWNoRXZlbnQgLSBUaGUgb3JpZ2luYWwgVG91Y2ggZXZlbnQuXG4gICAqIEBwYXJhbSB7RXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGxpc3RlbmVyLiBfX25vdGU6IGB0b3VjaGNhbmNlbGAgaXMgbWVyZ2Ugd2l0aCBgdG91Y2hlbmRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIChgdG91Y2hzdGFydGAsXG4gICAqICBgdG91Y2hlbmRgIG9yIGB0b3VjaG1vdmVgKVxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Ub3VjaFN1cmZhY2V+RXZlbnRMaXN0ZW5lcn0gY2FsbGJhY2tcbiAgICovXG4gIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdKVxuICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcblxuICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGxpc3RlbmVyLiBfX25vdGU6IGB0b3VjaGNhbmNlbGAgaXMgbWVyZ2Ugd2l0aCBgdG91Y2hlbmRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIChgdG91Y2hzdGFydGAsXG4gICAqICBgdG91Y2hlbmRgIG9yIGB0b3VjaG1vdmVgKVxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Ub3VjaFN1cmZhY2V+RXZlbnRMaXN0ZW5lcn0gY2FsbGJhY2tcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycykgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvdWNoU3VyZmFjZTtcbiJdfQ==","deps":{"babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Track the viewport size and orientation.\n * All views add their {@link module:soundworks/client.View#onResize} method as\n * listener of this helper.\n *\n * @namespace\n * @memberof module:soundworks/client\n *\n * @see {@link module:soundworks/client.View#onResize}\n */\nvar viewport = {\n  /**\n   * Width of the viewport.\n   *\n   * @type {Number}\n   */\n  width: null,\n\n  /**\n   * Height of the viewport.\n   *\n   * @type {Number}\n   */\n  height: null,\n\n  /**\n   * Orientation of the viewport (`'portrait'|'landscape'`).\n   *\n   * @type {String}\n   */\n  orientation: null,\n\n  /**\n   * List of callbacks to execute on each `resize` event.\n   *\n   * @type {Set}\n   * @private\n   */\n  _callbacks: new _set2.default(),\n\n  /**\n   * Initialize the service, is called in `client._initViews`.\n   * @private\n   */\n  init: function init() {\n    this._onResize = this._onResize.bind(this);\n\n    this._onResize();\n    window.addEventListener('resize', this._onResize, false);\n  },\n\n\n  /** @private */\n  _onResize: function _onResize() {\n    var _this = this;\n\n    this.width = document.documentElement.clientWidth || window.innerWidth;\n    this.height = document.documentElement.clientHeight || window.innerHeight;\n    this.orientation = this.width > this.height ? 'landscape' : 'portrait';\n\n    this._callbacks.forEach(function (callback) {\n      callback(_this.width, _this.height, _this.orientation);\n    });\n  },\n\n\n  /**\n   * Callback to execute on a `resize` event.\n   *\n   * @callback module:soundworks/client.viewport~resizeCallback\n   * @param {Number} width - Width of the viewport.\n   * @param {Number} height - Height of the viewport.\n   * @param {String} orientation - Orientation of the viewport.\n   */\n\n  /**\n   * Add a listener to the `resize` event. The callback is immediately\n   * invoked with the current `width`, `height` and `orientation` values.\n   *\n   * @param {module:soundworks/client.viewport~resizeCallback} callback -\n   *  Callback to add to listeners.\n   */\n  addResizeListener: function addResizeListener(callback) {\n    this._callbacks.add(callback);\n    // execute immediatly with current values\n    callback(this.width, this.height, this.orientation);\n  },\n\n\n  /**\n   * Remove a listener from the `resize` event.\n   *\n   * @param {module:soundworks/client.viewport~resizeCallback} callback -\n   *  Callback to remove from listeners.\n   */\n  removeResizeListener: function removeResizeListener(callback) {\n    this._callbacks.delete(callback);\n  }\n};\n\nexports.default = viewport;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXdwb3J0LmpzIl0sIm5hbWVzIjpbInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJvcmllbnRhdGlvbiIsIl9jYWxsYmFja3MiLCJpbml0IiwiX29uUmVzaXplIiwiYmluZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwiYWRkUmVzaXplTGlzdGVuZXIiLCJhZGQiLCJyZW1vdmVSZXNpemVMaXN0ZW5lciIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7QUFVQSxJQUFNQSxXQUFXO0FBQ2Y7Ozs7O0FBS0FDLFNBQU8sSUFOUTs7QUFRZjs7Ozs7QUFLQUMsVUFBUSxJQWJPOztBQWVmOzs7OztBQUtBQyxlQUFhLElBcEJFOztBQXNCZjs7Ozs7O0FBTUFDLGNBQVksbUJBNUJHOztBQThCZjs7OztBQUlBQyxNQWxDZSxrQkFrQ1I7QUFDTCxTQUFLQyxTQUFMLEdBQWlCLEtBQUtBLFNBQUwsQ0FBZUMsSUFBZixDQUFvQixJQUFwQixDQUFqQjs7QUFFQSxTQUFLRCxTQUFMO0FBQ0FFLFdBQU9DLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLEtBQUtILFNBQXZDLEVBQWtELEtBQWxEO0FBQ0QsR0F2Q2M7OztBQXlDZjtBQUNBQSxXQTFDZSx1QkEwQ0g7QUFBQTs7QUFDVixTQUFLTCxLQUFMLEdBQWFTLFNBQVNDLGVBQVQsQ0FBeUJDLFdBQXpCLElBQXdDSixPQUFPSyxVQUE1RDtBQUNBLFNBQUtYLE1BQUwsR0FBY1EsU0FBU0MsZUFBVCxDQUF5QkcsWUFBekIsSUFBeUNOLE9BQU9PLFdBQTlEO0FBQ0EsU0FBS1osV0FBTCxHQUFtQixLQUFLRixLQUFMLEdBQWEsS0FBS0MsTUFBbEIsR0FBMkIsV0FBM0IsR0FBeUMsVUFBNUQ7O0FBRUEsU0FBS0UsVUFBTCxDQUFnQlksT0FBaEIsQ0FBd0IsVUFBQ0MsUUFBRCxFQUFjO0FBQ3BDQSxlQUFTLE1BQUtoQixLQUFkLEVBQXFCLE1BQUtDLE1BQTFCLEVBQWtDLE1BQUtDLFdBQXZDO0FBQ0QsS0FGRDtBQUdELEdBbERjOzs7QUFvRGY7Ozs7Ozs7OztBQVNBOzs7Ozs7O0FBT0FlLG1CQXBFZSw2QkFvRUdELFFBcEVILEVBb0VhO0FBQzFCLFNBQUtiLFVBQUwsQ0FBZ0JlLEdBQWhCLENBQW9CRixRQUFwQjtBQUNBO0FBQ0FBLGFBQVMsS0FBS2hCLEtBQWQsRUFBcUIsS0FBS0MsTUFBMUIsRUFBa0MsS0FBS0MsV0FBdkM7QUFDRCxHQXhFYzs7O0FBMEVmOzs7Ozs7QUFNQWlCLHNCQWhGZSxnQ0FnRk1ILFFBaEZOLEVBZ0ZnQjtBQUM3QixTQUFLYixVQUFMLENBQWdCaUIsTUFBaEIsQ0FBdUJKLFFBQXZCO0FBQ0Q7QUFsRmMsQ0FBakI7O2tCQXFGZWpCLFEiLCJmaWxlIjoidmlld3BvcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRyYWNrIHRoZSB2aWV3cG9ydCBzaXplIGFuZCBvcmllbnRhdGlvbi5cbiAqIEFsbCB2aWV3cyBhZGQgdGhlaXIge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3I29uUmVzaXplfSBtZXRob2QgYXNcbiAqIGxpc3RlbmVyIG9mIHRoaXMgaGVscGVyLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqXG4gKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNvblJlc2l6ZX1cbiAqL1xuY29uc3Qgdmlld3BvcnQgPSB7XG4gIC8qKlxuICAgKiBXaWR0aCBvZiB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB3aWR0aDogbnVsbCxcblxuICAvKipcbiAgICogSGVpZ2h0IG9mIHRoZSB2aWV3cG9ydC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGhlaWdodDogbnVsbCxcblxuICAvKipcbiAgICogT3JpZW50YXRpb24gb2YgdGhlIHZpZXdwb3J0IChgJ3BvcnRyYWl0J3wnbGFuZHNjYXBlJ2ApLlxuICAgKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgb3JpZW50YXRpb246IG51bGwsXG5cbiAgLyoqXG4gICAqIExpc3Qgb2YgY2FsbGJhY2tzIHRvIGV4ZWN1dGUgb24gZWFjaCBgcmVzaXplYCBldmVudC5cbiAgICpcbiAgICogQHR5cGUge1NldH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWxsYmFja3M6IG5ldyBTZXQoKSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc2VydmljZSwgaXMgY2FsbGVkIGluIGBjbGllbnQuX2luaXRWaWV3c2AuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuX29uUmVzaXplID0gdGhpcy5fb25SZXNpemUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX29uUmVzaXplKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uUmVzaXplLCBmYWxzZSk7XG4gIH0sXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9vblJlc2l6ZSgpIHtcbiAgICB0aGlzLndpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8wqB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHzCoHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLm9yaWVudGF0aW9uID0gdGhpcy53aWR0aCA+IHRoaXMuaGVpZ2h0ID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnO1xuXG4gICAgdGhpcy5fY2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5vcmllbnRhdGlvbik7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgb24gYSBgcmVzaXplYCBldmVudC5cbiAgICpcbiAgICogQGNhbGxiYWNrIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH5yZXNpemVDYWxsYmFja1xuICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZW50YXRpb24gLSBPcmllbnRhdGlvbiBvZiB0aGUgdmlld3BvcnQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgYHJlc2l6ZWAgZXZlbnQuIFRoZSBjYWxsYmFjayBpcyBpbW1lZGlhdGVseVxuICAgKiBpbnZva2VkIHdpdGggdGhlIGN1cnJlbnQgYHdpZHRoYCwgYGhlaWdodGAgYW5kIGBvcmllbnRhdGlvbmAgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH5yZXNpemVDYWxsYmFja30gY2FsbGJhY2sgLVxuICAgKiAgQ2FsbGJhY2sgdG8gYWRkIHRvIGxpc3RlbmVycy5cbiAgICovXG4gIGFkZFJlc2l6ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgLy8gZXhlY3V0ZSBpbW1lZGlhdGx5IHdpdGggY3VycmVudCB2YWx1ZXNcbiAgICBjYWxsYmFjayh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5vcmllbnRhdGlvbik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGxpc3RlbmVyIGZyb20gdGhlIGByZXNpemVgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH5yZXNpemVDYWxsYmFja30gY2FsbGJhY2sgLVxuICAgKiAgQ2FsbGJhY2sgdG8gcmVtb3ZlIGZyb20gbGlzdGVuZXJzLlxuICAgKi9cbiAgcmVtb3ZlUmVzaXplTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9jYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHZpZXdwb3J0O1xuIl19","deps":{"babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Experience.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Experience.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Activity2 = require('./Activity');\n\nvar _Activity3 = _interopRequireDefault(_Activity2);\n\nvar _serviceManager = require('./serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Base class to be extended in order to create the client-side of a custom\n * experience.\n *\n * The user defined `Experience` is the main component of a soundworks application.\n *\n * @memberof module:soundworks/client\n * @extends module:soundworks/client.Activity\n */\nvar Experience = function (_Activity) {\n  (0, _inherits3.default)(Experience, _Activity);\n\n  /**\n   * @param {Boolean} [hasNetwork=true] - Define if the experience requires a\n   *  socket connection.\n   */\n  function Experience() {\n    var hasNetwork = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    (0, _classCallCheck3.default)(this, Experience);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Experience.__proto__ || (0, _getPrototypeOf2.default)(Experience)).call(this, 'experience', hasNetwork));\n\n    _this.start = _this.start.bind(_this);\n\n    _this.requiredSignals.addObserver(_this.start);\n    _this.waitFor(_serviceManager2.default.signals.ready);\n\n    // if the experience has network, require errorReporter service by default\n    if (hasNetwork) _this._errorReporter = _this.require('error-reporter');\n    return _this;\n  }\n\n  /**\n   * Returns a service configured with the given options.\n   * @param {String} id - The identifier of the service.\n   * @param {Object} options - The options to configure the service.\n   */\n\n\n  (0, _createClass3.default)(Experience, [{\n    key: 'require',\n    value: function require(id, options) {\n      return _serviceManager2.default.require(id, options);\n    }\n\n    /**\n     * Start the experience. This lifecycle method is called when all the\n     * required services are `ready` and thus the experience can begin with all\n     * the necessary informations and services ready to be consumed.\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Experience.prototype.__proto__ || (0, _getPrototypeOf2.default)(Experience.prototype), 'start', this).call(this);\n\n      if (this.hasNetwork) this.send('enter');\n    }\n\n    /** @private */\n    // done() {\n    //   if (this.hasNetwork)\n    //     this.send('exit');\n\n    //   super.done();\n    // }\n\n  }]);\n  return Experience;\n}(_Activity3.default);\n\nexports.default = Experience;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV4cGVyaWVuY2UuanMiXSwibmFtZXMiOlsiRXhwZXJpZW5jZSIsImhhc05ldHdvcmsiLCJzdGFydCIsImJpbmQiLCJyZXF1aXJlZFNpZ25hbHMiLCJhZGRPYnNlcnZlciIsIndhaXRGb3IiLCJzZXJ2aWNlTWFuYWdlciIsInNpZ25hbHMiLCJyZWFkeSIsIl9lcnJvclJlcG9ydGVyIiwicmVxdWlyZSIsImlkIiwib3B0aW9ucyIsInNlbmQiLCJBY3Rpdml0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBR0E7Ozs7Ozs7OztJQVNNQSxVOzs7QUFDSjs7OztBQUlBLHdCQUErQjtBQUFBLFFBQW5CQyxVQUFtQix1RUFBTixJQUFNO0FBQUE7O0FBQUEsOElBQ3ZCLFlBRHVCLEVBQ1RBLFVBRFM7O0FBRzdCLFVBQUtDLEtBQUwsR0FBYSxNQUFLQSxLQUFMLENBQVdDLElBQVgsT0FBYjs7QUFFQSxVQUFLQyxlQUFMLENBQXFCQyxXQUFyQixDQUFpQyxNQUFLSCxLQUF0QztBQUNBLFVBQUtJLE9BQUwsQ0FBYUMseUJBQWVDLE9BQWYsQ0FBdUJDLEtBQXBDOztBQUVBO0FBQ0EsUUFBSVIsVUFBSixFQUNFLE1BQUtTLGNBQUwsR0FBc0IsTUFBS0MsT0FBTCxDQUFhLGdCQUFiLENBQXRCO0FBVjJCO0FBVzlCOztBQUVEOzs7Ozs7Ozs7NEJBS1FDLEUsRUFBSUMsTyxFQUFTO0FBQ25CLGFBQU9OLHlCQUFlSSxPQUFmLENBQXVCQyxFQUF2QixFQUEyQkMsT0FBM0IsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs0QkFLUTtBQUNOOztBQUVBLFVBQUksS0FBS1osVUFBVCxFQUNFLEtBQUthLElBQUwsQ0FBVSxPQUFWO0FBQ0g7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7OztFQTdDdUJDLGtCOztrQkFnRFZmLFUiLCJmaWxlIjoiRXhwZXJpZW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpdml0eSBmcm9tICcuL0FjdGl2aXR5JztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuL3NlcnZpY2VNYW5hZ2VyJztcblxuXG4vKipcbiAqIEJhc2UgY2xhc3MgdG8gYmUgZXh0ZW5kZWQgaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSBjbGllbnQtc2lkZSBvZiBhIGN1c3RvbVxuICogZXhwZXJpZW5jZS5cbiAqXG4gKiBUaGUgdXNlciBkZWZpbmVkIGBFeHBlcmllbmNlYCBpcyB0aGUgbWFpbiBjb21wb25lbnQgb2YgYSBzb3VuZHdvcmtzIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleHRlbmRzIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BY3Rpdml0eVxuICovXG5jbGFzcyBFeHBlcmllbmNlIGV4dGVuZHMgQWN0aXZpdHkge1xuICAvKipcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaGFzTmV0d29yaz10cnVlXSAtIERlZmluZSBpZiB0aGUgZXhwZXJpZW5jZSByZXF1aXJlcyBhXG4gICAqICBzb2NrZXQgY29ubmVjdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGhhc05ldHdvcmsgPSB0cnVlKSB7XG4gICAgc3VwZXIoJ2V4cGVyaWVuY2UnLCBoYXNOZXR3b3JrKTtcblxuICAgIHRoaXMuc3RhcnQgPSB0aGlzLnN0YXJ0LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnJlcXVpcmVkU2lnbmFscy5hZGRPYnNlcnZlcih0aGlzLnN0YXJ0KTtcbiAgICB0aGlzLndhaXRGb3Ioc2VydmljZU1hbmFnZXIuc2lnbmFscy5yZWFkeSk7XG5cbiAgICAvLyBpZiB0aGUgZXhwZXJpZW5jZSBoYXMgbmV0d29yaywgcmVxdWlyZSBlcnJvclJlcG9ydGVyIHNlcnZpY2UgYnkgZGVmYXVsdFxuICAgIGlmIChoYXNOZXR3b3JrKVxuICAgICAgdGhpcy5fZXJyb3JSZXBvcnRlciA9IHRoaXMucmVxdWlyZSgnZXJyb3ItcmVwb3J0ZXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2VydmljZSBjb25maWd1cmVkIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzZXJ2aWNlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgc2VydmljZS5cbiAgICovXG4gIHJlcXVpcmUoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2VydmljZU1hbmFnZXIucmVxdWlyZShpZCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgdGhlIGV4cGVyaWVuY2UuIFRoaXMgbGlmZWN5Y2xlIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBhbGwgdGhlXG4gICAqIHJlcXVpcmVkIHNlcnZpY2VzIGFyZSBgcmVhZHlgIGFuZCB0aHVzIHRoZSBleHBlcmllbmNlIGNhbiBiZWdpbiB3aXRoIGFsbFxuICAgKiB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9ucyBhbmQgc2VydmljZXMgcmVhZHkgdG8gYmUgY29uc3VtZWQuXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgaWYgKHRoaXMuaGFzTmV0d29yaylcbiAgICAgIHRoaXMuc2VuZCgnZW50ZXInKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICAvLyBkb25lKCkge1xuICAvLyAgIGlmICh0aGlzLmhhc05ldHdvcmspXG4gIC8vICAgICB0aGlzLnNlbmQoJ2V4aXQnKTtcblxuICAvLyAgIHN1cGVyLmRvbmUoKTtcbiAgLy8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHBlcmllbmNlO1xuIl19","deps":{"./Activity":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js","./serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Process2 = require('./Process');\n\nvar _Process3 = _interopRequireDefault(_Process2);\n\nvar _Signal = require('../../utils/Signal');\n\nvar _Signal2 = _interopRequireDefault(_Signal);\n\nvar _SignalAll = require('../../utils/SignalAll');\n\nvar _SignalAll2 = _interopRequireDefault(_SignalAll);\n\nvar _socket = require('./socket');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _View = require('../views/View');\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _viewManager = require('./viewManager');\n\nvar _viewManager2 = _interopRequireDefault(_viewManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Internal base class for services and scenes. Basically a process with view\n * and optionnal network abilities.\n *\n * @memberof module:soundworks/client\n * @extends module:soundworks/client.Process\n */\nvar Activity = function (_Process) {\n  (0, _inherits3.default)(Activity, _Process);\n\n  /**\n   * @param {String} id - Id of the activity.\n   * @param {Boolean} hasNetwork - Define if the activity needs a socket\n   *  connection or not.\n   */\n  function Activity(id) {\n    var hasNetwork = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    (0, _classCallCheck3.default)(this, Activity);\n\n    /**\n     * If `true`, defines if the activity has already started once.\n     * @type {Boolean}\n     * @name hasStarted\n     * @instance\n     * @memberof module:soundworks/client.Activity\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Activity.__proto__ || (0, _getPrototypeOf2.default)(Activity)).call(this, id));\n\n    _this.hasStarted = false;\n\n    /**\n     * Defines if the activity needs a connection to the server.\n     * @type {Boolean}\n     * @name hasNetwork\n     * @instance\n     * @memberof module:soundworks/client.Activity\n     */\n    _this.hasNetwork = !!hasNetwork;\n\n    // register as a networked service, setup the socket connection\n    if (_this.hasNetwork) _socket2.default.required = true;\n\n    /**\n     * Options of the activity.\n     * @type {Object}\n     * @name options\n     * @instance\n     * @memberof module:soundworks/client.Activity\n     */\n    _this.options = { viewPriority: 0 };\n\n    /**\n     * View of the activity.\n     * @type {module:soundworks/client.View}\n     * @name view\n     * @instance\n     * @memberof module:soundworks/client.Activity\n     * @private\n     */\n    _this._view = null;\n\n    /**\n     * Define which signal the `Activity` requires to start.\n     * @private\n     */\n    _this.requiredSignals = new _SignalAll2.default();\n\n    _this.send = _this.send.bind(_this);\n    _this.sendVolatile = _this.sendVolatile.bind(_this);\n    _this.receive = _this.receive.bind(_this);\n    _this.removeListener = _this.removeListener.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Interface method to implement in child classes.\n   * Define what to do when a service is required by an `Activity`.\n   */\n\n\n  (0, _createClass3.default)(Activity, [{\n    key: 'require',\n    value: function require() {}\n\n    /**\n     * Add a signal to the required signals in order for the `Scene` instance\n     * to start.\n     * @param {Signal} signal - The signal that must be waited for.\n     * @private\n     */\n\n  }, {\n    key: 'waitFor',\n    value: function waitFor(signal) {\n      this.requiredSignals.add(signal);\n    }\n\n    /**\n     * Configure the activity with the given options.\n     * @param {Object} options\n     */\n\n  }, {\n    key: 'configure',\n    value: function configure(options) {\n      (0, _assign2.default)(this.options, options);\n    }\n\n    /**\n     * Set the view of service.\n     *\n     * @param {Object} view - any object compliant with the view interface.\n     */\n\n  }, {\n    key: 'show',\n\n\n    /**\n     * Request the view manager to display the view. The call of this method\n     * doesn't guarantee a synchronized rendering or any rendering at all as the\n     * view manager decides which view to display based on their priority.\n     *\n     * @return {Promise} - a promise that resolves when the view is actually\n     *  displayed in the application.\n     */\n    value: function show() {\n      return _viewManager2.default.register(this._view, this.options.viewPriority);\n    }\n\n    /**\n     * Hide the view of the activity if it owns one.\n     */\n\n  }, {\n    key: 'hide',\n    value: function hide() {\n      _viewManager2.default.remove(this._view);\n    }\n\n    /**\n     * Send a web socket message to the server on a given channel.\n     *\n     * @param {String} channel - The channel of the message (is automatically\n     *  namespaced with the activity's id: `${this.id}:channel`).\n     * @param {...*} args - Arguments of the message (as many as needed, of any type).\n     */\n\n  }, {\n    key: 'send',\n    value: function send(channel) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      _socket2.default.send.apply(_socket2.default, [this.id + ':' + channel].concat(args));\n    }\n\n    /**\n     * Send a web socket message to the server on a given channel.\n     *\n     * @param {String} channel - The channel of the message (is automatically\n     *  namespaced with the activity's id: `${this.id}:channel`).\n     * @param {...*} args - Arguments of the message (as many as needed, of any type).\n     */\n\n  }, {\n    key: 'sendVolatile',\n    value: function sendVolatile(channel) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _socket2.default.sendVolatile.apply(_socket2.default, [this.id + ':' + channel].concat(args));\n    }\n\n    /**\n     * Listen to web socket messages from the server on a given channel.\n     *\n     * @param {String} channel - The channel of the message (is automatically\n     *  namespaced with the activity's id: `${this.id}:channel`).\n     * @param {Function} callback - The callback to execute when a message is received.\n     */\n\n  }, {\n    key: 'receive',\n    value: function receive(channel, callback) {\n      _socket2.default.receive(this.id + ':' + channel, callback);\n    }\n\n    /**\n     * Stop listening for messages from the server on a given channel.\n     *\n     * @param {String} channel - The channel of the message (is automatically\n     *  namespaced with the activity's id: `${this.id}:channel`).\n     * @param {Function} callback - The callback to remove from the stack.\n     */\n\n  }, {\n    key: 'stopReceiving',\n    value: function stopReceiving(channel, callback) {\n      _socket2.default.removeListener(this.id + ':' + channel, callback);\n    }\n  }, {\n    key: 'view',\n    set: function set(view) {\n      this._view = view;\n    },\n    get: function get() {\n      return this._view;\n    }\n  }]);\n  return Activity;\n}(_Process3.default);\n\nexports.default = Activity;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjdGl2aXR5LmpzIl0sIm5hbWVzIjpbIkFjdGl2aXR5IiwiaWQiLCJoYXNOZXR3b3JrIiwiaGFzU3RhcnRlZCIsInNvY2tldCIsInJlcXVpcmVkIiwib3B0aW9ucyIsInZpZXdQcmlvcml0eSIsIl92aWV3IiwicmVxdWlyZWRTaWduYWxzIiwiU2lnbmFsQWxsIiwic2VuZCIsImJpbmQiLCJzZW5kVm9sYXRpbGUiLCJyZWNlaXZlIiwicmVtb3ZlTGlzdGVuZXIiLCJzaWduYWwiLCJhZGQiLCJ2aWV3TWFuYWdlciIsInJlZ2lzdGVyIiwicmVtb3ZlIiwiY2hhbm5lbCIsImFyZ3MiLCJjYWxsYmFjayIsInZpZXciLCJQcm9jZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUdBOzs7Ozs7O0lBT01BLFE7OztBQUNKOzs7OztBQUtBLG9CQUFZQyxFQUFaLEVBQW1DO0FBQUEsUUFBbkJDLFVBQW1CLHVFQUFOLElBQU07QUFBQTs7QUFHakM7Ozs7Ozs7QUFIaUMsMElBQzNCRCxFQUQyQjs7QUFVakMsVUFBS0UsVUFBTCxHQUFrQixLQUFsQjs7QUFFQTs7Ozs7OztBQU9BLFVBQUtELFVBQUwsR0FBa0IsQ0FBQyxDQUFDQSxVQUFwQjs7QUFFQTtBQUNBLFFBQUksTUFBS0EsVUFBVCxFQUNFRSxpQkFBT0MsUUFBUCxHQUFrQixJQUFsQjs7QUFFRjs7Ozs7OztBQU9BLFVBQUtDLE9BQUwsR0FBZSxFQUFFQyxjQUFjLENBQWhCLEVBQWY7O0FBRUE7Ozs7Ozs7O0FBUUEsVUFBS0MsS0FBTCxHQUFhLElBQWI7O0FBRUE7Ozs7QUFJQSxVQUFLQyxlQUFMLEdBQXVCLElBQUlDLG1CQUFKLEVBQXZCOztBQUVBLFVBQUtDLElBQUwsR0FBWSxNQUFLQSxJQUFMLENBQVVDLElBQVYsT0FBWjtBQUNBLFVBQUtDLFlBQUwsR0FBb0IsTUFBS0EsWUFBTCxDQUFrQkQsSUFBbEIsT0FBcEI7QUFDQSxVQUFLRSxPQUFMLEdBQWUsTUFBS0EsT0FBTCxDQUFhRixJQUFiLE9BQWY7QUFDQSxVQUFLRyxjQUFMLEdBQXNCLE1BQUtBLGNBQUwsQ0FBb0JILElBQXBCLE9BQXRCO0FBckRpQztBQXNEbEM7O0FBRUQ7Ozs7Ozs7OzhCQUlVLENBQUU7O0FBRVo7Ozs7Ozs7Ozs0QkFNUUksTSxFQUFRO0FBQ2QsV0FBS1AsZUFBTCxDQUFxQlEsR0FBckIsQ0FBeUJELE1BQXpCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OEJBSVVWLE8sRUFBUztBQUNqQiw0QkFBYyxLQUFLQSxPQUFuQixFQUE0QkEsT0FBNUI7QUFDRDs7QUFFRDs7Ozs7Ozs7OztBQWFBOzs7Ozs7OzsyQkFRTztBQUNMLGFBQU9ZLHNCQUFZQyxRQUFaLENBQXFCLEtBQUtYLEtBQTFCLEVBQWlDLEtBQUtGLE9BQUwsQ0FBYUMsWUFBOUMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7MkJBR087QUFDTFcsNEJBQVlFLE1BQVosQ0FBbUIsS0FBS1osS0FBeEI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozt5QkFPS2EsTyxFQUFrQjtBQUFBLHdDQUFOQyxJQUFNO0FBQU5BLFlBQU07QUFBQTs7QUFDckJsQix1QkFBT08sSUFBUCwwQkFBZSxLQUFLVixFQUFwQixTQUEwQm9CLE9BQTFCLFNBQXdDQyxJQUF4QztBQUNEOztBQUVEOzs7Ozs7Ozs7O2lDQU9hRCxPLEVBQWtCO0FBQUEseUNBQU5DLElBQU07QUFBTkEsWUFBTTtBQUFBOztBQUM3QmxCLHVCQUFPUyxZQUFQLDBCQUF1QixLQUFLWixFQUE1QixTQUFrQ29CLE9BQWxDLFNBQWdEQyxJQUFoRDtBQUNEOztBQUVEOzs7Ozs7Ozs7OzRCQU9RRCxPLEVBQVNFLFEsRUFBVTtBQUN6Qm5CLHVCQUFPVSxPQUFQLENBQWtCLEtBQUtiLEVBQXZCLFNBQTZCb0IsT0FBN0IsRUFBd0NFLFFBQXhDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7a0NBT2NGLE8sRUFBU0UsUSxFQUFVO0FBQy9CbkIsdUJBQU9XLGNBQVAsQ0FBeUIsS0FBS2QsRUFBOUIsU0FBb0NvQixPQUFwQyxFQUErQ0UsUUFBL0M7QUFDRDs7O3NCQXJFUUMsSSxFQUFNO0FBQ2IsV0FBS2hCLEtBQUwsR0FBYWdCLElBQWI7QUFDRCxLO3dCQUVVO0FBQ1QsYUFBTyxLQUFLaEIsS0FBWjtBQUNEOzs7RUFqR29CaUIsaUI7O2tCQW1LUnpCLFEiLCJmaWxlIjoiQWN0aXZpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvY2VzcyBmcm9tICcuL1Byb2Nlc3MnO1xuaW1wb3J0IFNpZ25hbCBmcm9tICcuLi8uLi91dGlscy9TaWduYWwnO1xuaW1wb3J0IFNpZ25hbEFsbCBmcm9tICcuLi8uLi91dGlscy9TaWduYWxBbGwnO1xuaW1wb3J0IHNvY2tldCBmcm9tICcuL3NvY2tldCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi92aWV3cy9WaWV3JztcbmltcG9ydCB2aWV3TWFuYWdlciBmcm9tICcuL3ZpZXdNYW5hZ2VyJztcblxuXG4vKipcbiAqIEludGVybmFsIGJhc2UgY2xhc3MgZm9yIHNlcnZpY2VzIGFuZCBzY2VuZXMuIEJhc2ljYWxseSBhIHByb2Nlc3Mgd2l0aCB2aWV3XG4gKiBhbmQgb3B0aW9ubmFsIG5ldHdvcmsgYWJpbGl0aWVzLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleHRlbmRzIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Qcm9jZXNzXG4gKi9cbmNsYXNzIEFjdGl2aXR5IGV4dGVuZHMgUHJvY2VzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBJZCBvZiB0aGUgYWN0aXZpdHkuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzTmV0d29yayAtIERlZmluZSBpZiB0aGUgYWN0aXZpdHkgbmVlZHMgYSBzb2NrZXRcbiAgICogIGNvbm5lY3Rpb24gb3Igbm90LlxuICAgKi9cbiAgY29uc3RydWN0b3IoaWQsIGhhc05ldHdvcmsgPSB0cnVlKSB7XG4gICAgc3VwZXIoaWQpO1xuXG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBkZWZpbmVzIGlmIHRoZSBhY3Rpdml0eSBoYXMgYWxyZWFkeSBzdGFydGVkIG9uY2UuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG5hbWUgaGFzU3RhcnRlZFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWN0aXZpdHlcbiAgICAgKi9cbiAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgaWYgdGhlIGFjdGl2aXR5IG5lZWRzIGEgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyLlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBuYW1lIGhhc05ldHdvcmtcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFjdGl2aXR5XG4gICAgICovXG4gICAgdGhpcy5oYXNOZXR3b3JrID0gISFoYXNOZXR3b3JrO1xuXG4gICAgLy8gcmVnaXN0ZXIgYXMgYSBuZXR3b3JrZWQgc2VydmljZSwgc2V0dXAgdGhlIHNvY2tldCBjb25uZWN0aW9uXG4gICAgaWYgKHRoaXMuaGFzTmV0d29yaylcbiAgICAgIHNvY2tldC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIG9mIHRoZSBhY3Rpdml0eS5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBuYW1lIG9wdGlvbnNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFjdGl2aXR5XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0geyB2aWV3UHJpb3JpdHk6IDAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb2YgdGhlIGFjdGl2aXR5LlxuICAgICAqIEB0eXBlIHttb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlld31cbiAgICAgKiBAbmFtZSB2aWV3XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BY3Rpdml0eVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fdmlldyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgd2hpY2ggc2lnbmFsIHRoZSBgQWN0aXZpdHlgIHJlcXVpcmVzIHRvIHN0YXJ0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZXF1aXJlZFNpZ25hbHMgPSBuZXcgU2lnbmFsQWxsKCk7XG5cbiAgICB0aGlzLnNlbmQgPSB0aGlzLnNlbmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbmRWb2xhdGlsZSA9IHRoaXMuc2VuZFZvbGF0aWxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWNlaXZlID0gdGhpcy5yZWNlaXZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lciA9IHRoaXMucmVtb3ZlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcmZhY2UgbWV0aG9kIHRvIGltcGxlbWVudCBpbiBjaGlsZCBjbGFzc2VzLlxuICAgKiBEZWZpbmUgd2hhdCB0byBkbyB3aGVuIGEgc2VydmljZSBpcyByZXF1aXJlZCBieSBhbiBgQWN0aXZpdHlgLlxuICAgKi9cbiAgcmVxdWlyZSgpIHt9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpZ25hbCB0byB0aGUgcmVxdWlyZWQgc2lnbmFscyBpbiBvcmRlciBmb3IgdGhlIGBTY2VuZWAgaW5zdGFuY2VcbiAgICogdG8gc3RhcnQuXG4gICAqIEBwYXJhbSB7U2lnbmFsfSBzaWduYWwgLSBUaGUgc2lnbmFsIHRoYXQgbXVzdCBiZSB3YWl0ZWQgZm9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgd2FpdEZvcihzaWduYWwpIHtcbiAgICB0aGlzLnJlcXVpcmVkU2lnbmFscy5hZGQoc2lnbmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgdGhlIGFjdGl2aXR5IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBjb25maWd1cmUob3B0aW9ucykge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZpZXcgb2Ygc2VydmljZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHZpZXcgLSBhbnkgb2JqZWN0IGNvbXBsaWFudCB3aXRoIHRoZSB2aWV3IGludGVyZmFjZS5cbiAgICovXG4gIHNldCB2aWV3KHZpZXcpIHtcbiAgICB0aGlzLl92aWV3ID0gdmlldztcbiAgfVxuXG4gIGdldCB2aWV3KCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgdGhlIHZpZXcgbWFuYWdlciB0byBkaXNwbGF5IHRoZSB2aWV3LiBUaGUgY2FsbCBvZiB0aGlzIG1ldGhvZFxuICAgKiBkb2Vzbid0IGd1YXJhbnRlZSBhIHN5bmNocm9uaXplZCByZW5kZXJpbmcgb3IgYW55IHJlbmRlcmluZyBhdCBhbGwgYXMgdGhlXG4gICAqIHZpZXcgbWFuYWdlciBkZWNpZGVzIHdoaWNoIHZpZXcgdG8gZGlzcGxheSBiYXNlZCBvbiB0aGVpciBwcmlvcml0eS5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB2aWV3IGlzIGFjdHVhbGx5XG4gICAqICBkaXNwbGF5ZWQgaW4gdGhlIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgc2hvdygpIHtcbiAgICByZXR1cm4gdmlld01hbmFnZXIucmVnaXN0ZXIodGhpcy5fdmlldywgdGhpcy5vcHRpb25zLnZpZXdQcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aGUgdmlldyBvZiB0aGUgYWN0aXZpdHkgaWYgaXQgb3ducyBvbmUuXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHZpZXdNYW5hZ2VyLnJlbW92ZSh0aGlzLl92aWV3KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgd2ViIHNvY2tldCBtZXNzYWdlIHRvIHRoZSBzZXJ2ZXIgb24gYSBnaXZlbiBjaGFubmVsLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIFRoZSBjaGFubmVsIG9mIHRoZSBtZXNzYWdlIChpcyBhdXRvbWF0aWNhbGx5XG4gICAqICBuYW1lc3BhY2VkIHdpdGggdGhlIGFjdGl2aXR5J3MgaWQ6IGAke3RoaXMuaWR9OmNoYW5uZWxgKS5cbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIC0gQXJndW1lbnRzIG9mIHRoZSBtZXNzYWdlIChhcyBtYW55IGFzIG5lZWRlZCwgb2YgYW55IHR5cGUpLlxuICAgKi9cbiAgc2VuZChjaGFubmVsLCAuLi5hcmdzKSB7XG4gICAgc29ja2V0LnNlbmQoYCR7dGhpcy5pZH06JHtjaGFubmVsfWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSB3ZWIgc29ja2V0IG1lc3NhZ2UgdG8gdGhlIHNlcnZlciBvbiBhIGdpdmVuIGNoYW5uZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gVGhlIGNoYW5uZWwgb2YgdGhlIG1lc3NhZ2UgKGlzIGF1dG9tYXRpY2FsbHlcbiAgICogIG5hbWVzcGFjZWQgd2l0aCB0aGUgYWN0aXZpdHkncyBpZDogYCR7dGhpcy5pZH06Y2hhbm5lbGApLlxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgb2YgdGhlIG1lc3NhZ2UgKGFzIG1hbnkgYXMgbmVlZGVkLCBvZiBhbnkgdHlwZSkuXG4gICAqL1xuICBzZW5kVm9sYXRpbGUoY2hhbm5lbCwgLi4uYXJncykge1xuICAgIHNvY2tldC5zZW5kVm9sYXRpbGUoYCR7dGhpcy5pZH06JHtjaGFubmVsfWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byB3ZWIgc29ja2V0IG1lc3NhZ2VzIGZyb20gdGhlIHNlcnZlciBvbiBhIGdpdmVuIGNoYW5uZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gVGhlIGNoYW5uZWwgb2YgdGhlIG1lc3NhZ2UgKGlzIGF1dG9tYXRpY2FsbHlcbiAgICogIG5hbWVzcGFjZWQgd2l0aCB0aGUgYWN0aXZpdHkncyBpZDogYCR7dGhpcy5pZH06Y2hhbm5lbGApLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkLlxuICAgKi9cbiAgcmVjZWl2ZShjaGFubmVsLCBjYWxsYmFjaykge1xuICAgIHNvY2tldC5yZWNlaXZlKGAke3RoaXMuaWR9OiR7Y2hhbm5lbH1gLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsaXN0ZW5pbmcgZm9yIG1lc3NhZ2VzIGZyb20gdGhlIHNlcnZlciBvbiBhIGdpdmVuIGNoYW5uZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gVGhlIGNoYW5uZWwgb2YgdGhlIG1lc3NhZ2UgKGlzIGF1dG9tYXRpY2FsbHlcbiAgICogIG5hbWVzcGFjZWQgd2l0aCB0aGUgYWN0aXZpdHkncyBpZDogYCR7dGhpcy5pZH06Y2hhbm5lbGApLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byByZW1vdmUgZnJvbSB0aGUgc3RhY2suXG4gICAqL1xuICBzdG9wUmVjZWl2aW5nKGNoYW5uZWwsIGNhbGxiYWNrKSB7XG4gICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKGAke3RoaXMuaWR9OiR7Y2hhbm5lbH1gLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWN0aXZpdHk7XG4iXX0=","deps":{"./Process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Process.js","../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","./viewManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/viewManager.js","./socket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/socket.js","../../utils/Signal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","../../utils/SignalAll":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/SignalAll.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioScheduler.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioScheduler.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _wavesAudio = require('waves-audio');\n\nvar audio = _interopRequireWildcard(_wavesAudio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:audio-scheduler';\n\n/**\n * Interface for the client `'audio-scheduler'` service.\n *\n * The `audio-scheduler` provides an access to the basic audio scheduler using the\n * scheduler provided by the [`wavesjs`]{@link https://github.com/wavesjs/audio}\n * library.\n *\n * @param {Object} options\n * @param {Number} [options.period] - Period of the scheduler (defauts to\n *  current value).\n * @param {Number} [options.lookahead] - Lookahead of the scheduler (defauts\n *  to current value).\n *\n * @memberof module:soundworks/client\n * @see [`wavesAudio.Scheduler`]{@link http://wavesjs.github.io/audio/#audio-scheduler}\n * @see [`platform` service]{@link module:soundworks/client.Platform}\n *\n * @example\n * // inside the experience constructor\n * this.audioScheduler = this.require('audio-scheduler');\n *\n * // when the experience has started\n * const nextTime = this.audioScheduler.currentTime + 2;\n * this.audioScheduler.add(timeEngine, nextTime);\n */\n\nvar AudioScheduler = function (_Service) {\n  (0, _inherits3.default)(AudioScheduler, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function AudioScheduler() {\n    (0, _classCallCheck3.default)(this, AudioScheduler);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AudioScheduler.__proto__ || (0, _getPrototypeOf2.default)(AudioScheduler)).call(this, SERVICE_ID, false));\n\n    _this._platform = _this.require('platform', { features: 'web-audio' });\n\n    // initialize sync option\n    _this._sync = null;\n    _this._syncedQueue = null;\n\n    // get audio time based scheduler\n    _this._scheduler = audio.getScheduler();\n\n    var defaults = {\n      lookahead: _this._scheduler.lookahead,\n      period: _this._scheduler.period\n    };\n\n    // call super.configure (activate sync option only if required)\n    (0, _get3.default)(AudioScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioScheduler.prototype), 'configure', _this).call(_this, defaults);\n    return _this;\n  }\n\n  /**\n   * Override default `configure` to configure the scheduler.\n   *\n   * @param {Object} options - The options to apply to the service.\n   * @private\n   */\n\n\n  (0, _createClass3.default)(AudioScheduler, [{\n    key: 'configure',\n    value: function configure(options) {\n      // check and set scheduler period option\n      if (options.period !== undefined) {\n        if (options.period > 0.010) this._scheduler.period = options.period;else throw new Error('Invalid scheduler period: ' + options.period);\n      }\n\n      // check and set scheduler lookahead option\n      if (options.lookahead !== undefined) {\n        if (options.lookahead > 0.010) this._scheduler.lookahead = options.lookahead;else throw new Error('Invalid scheduler lookahead: ' + options.lookahead);\n      }\n\n      (0, _get3.default)(AudioScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioScheduler.prototype), 'configure', this).call(this, options);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(AudioScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioScheduler.prototype), 'start', this).call(this);\n      this.ready();\n    }\n\n    /**\n     * Current audio time of the scheduler.\n     * @type {Number}\n     * @instance\n     */\n\n  }, {\n    key: 'defer',\n\n\n    /**\n     * Call a function at a given time.\n     *\n     * @param {Function} fun - Function to be deferred.\n     * @param {Number} time - The time at which the function should be executed.\n     * @param {Boolean} [lookahead=false] - Defines whether the function is called\n     *  anticipated (e.g. for audio events) or precisely at the given time (default).\n     */\n    value: function defer(fun, time) {\n      var lookahead = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var scheduler = this._scheduler;\n      var schedulerService = this;\n      var engine = void 0;\n\n      if (lookahead) {\n        scheduler.defer(fun, time);\n      } else {\n        engine = {\n          advanceTime: function advanceTime(time) {\n            var delta = schedulerService.deltaTime;\n\n            if (delta > 0) setTimeout(fun, 1000 * delta, time); // bridge scheduler lookahead with timeout\n            else fun(time);\n          }\n        };\n\n        scheduler.add(engine, time); // add without checks\n      }\n    }\n\n    /**\n     * Add a time engine to the queue.\n     *\n     * @param {Function} engine - Engine to schedule.\n     * @param {Number} time - The time at which the function should be executed.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(engine, time) {\n      this._scheduler.add(engine, time);\n    }\n\n    /**\n     * Remove the given engine from the queue.\n     *\n     * @param {Function} engine - Engine to remove from the scheduler.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(engine) {\n      this._scheduler.remove(engine);\n    }\n\n    /**\n     * Remove all scheduled functions and time engines (synchronized or not) from\n     * the scheduler.\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this._scheduler.clear();\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this._scheduler.currentTime;\n    }\n\n    /**\n     * Current audio time of the scheduler (alias `this.audioTime`).\n     * @type {Number}\n     * @instance\n     */\n\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this._scheduler.currentTime;\n    }\n\n    /**\n     * Difference between the scheduler's logical audio time and the `currentTime`\n     * of the audio context.\n     * @type {Number}\n     * @instance\n     */\n\n  }, {\n    key: 'deltaTime',\n    get: function get() {\n      return this._scheduler.currentTime - audio.audioContext.currentTime;\n    }\n  }]);\n  return AudioScheduler;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, AudioScheduler);\n\nexports.default = AudioScheduler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1ZGlvU2NoZWR1bGVyLmpzIl0sIm5hbWVzIjpbImF1ZGlvIiwiU0VSVklDRV9JRCIsIkF1ZGlvU2NoZWR1bGVyIiwiX3BsYXRmb3JtIiwicmVxdWlyZSIsImZlYXR1cmVzIiwiX3N5bmMiLCJfc3luY2VkUXVldWUiLCJfc2NoZWR1bGVyIiwiZ2V0U2NoZWR1bGVyIiwiZGVmYXVsdHMiLCJsb29rYWhlYWQiLCJwZXJpb2QiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJyZWFkeSIsImZ1biIsInRpbWUiLCJzY2hlZHVsZXIiLCJzY2hlZHVsZXJTZXJ2aWNlIiwiZW5naW5lIiwiZGVmZXIiLCJhZHZhbmNlVGltZSIsImRlbHRhIiwiZGVsdGFUaW1lIiwic2V0VGltZW91dCIsImFkZCIsInJlbW92ZSIsImNsZWFyIiwiY3VycmVudFRpbWUiLCJhdWRpb0NvbnRleHQiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztJQUFZQSxLOzs7Ozs7QUFFWixJQUFNQyxhQUFhLHlCQUFuQjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF5Qk1DLGM7OztBQUNKO0FBQ0EsNEJBQWU7QUFBQTs7QUFBQSxzSkFDUEQsVUFETyxFQUNLLEtBREw7O0FBR2IsVUFBS0UsU0FBTCxHQUFpQixNQUFLQyxPQUFMLENBQWEsVUFBYixFQUF5QixFQUFFQyxVQUFVLFdBQVosRUFBekIsQ0FBakI7O0FBRUE7QUFDQSxVQUFLQyxLQUFMLEdBQWEsSUFBYjtBQUNBLFVBQUtDLFlBQUwsR0FBb0IsSUFBcEI7O0FBRUE7QUFDQSxVQUFLQyxVQUFMLEdBQWtCUixNQUFNUyxZQUFOLEVBQWxCOztBQUVBLFFBQU1DLFdBQVc7QUFDZkMsaUJBQVcsTUFBS0gsVUFBTCxDQUFnQkcsU0FEWjtBQUVmQyxjQUFRLE1BQUtKLFVBQUwsQ0FBZ0JJO0FBRlQsS0FBakI7O0FBS0E7QUFDQSxzSkFBZ0JGLFFBQWhCO0FBbEJhO0FBbUJkOztBQUVEOzs7Ozs7Ozs7OzhCQU1VRyxPLEVBQVM7QUFDakI7QUFDQSxVQUFJQSxRQUFRRCxNQUFSLEtBQW1CRSxTQUF2QixFQUFrQztBQUNoQyxZQUFJRCxRQUFRRCxNQUFSLEdBQWlCLEtBQXJCLEVBQ0UsS0FBS0osVUFBTCxDQUFnQkksTUFBaEIsR0FBeUJDLFFBQVFELE1BQWpDLENBREYsS0FHRSxNQUFNLElBQUlHLEtBQUosZ0NBQXVDRixRQUFRRCxNQUEvQyxDQUFOO0FBQ0g7O0FBRUQ7QUFDQSxVQUFJQyxRQUFRRixTQUFSLEtBQXNCRyxTQUExQixFQUFxQztBQUNuQyxZQUFJRCxRQUFRRixTQUFSLEdBQW9CLEtBQXhCLEVBQ0UsS0FBS0gsVUFBTCxDQUFnQkcsU0FBaEIsR0FBNEJFLFFBQVFGLFNBQXBDLENBREYsS0FHRSxNQUFNLElBQUlJLEtBQUosbUNBQTBDRixRQUFRRixTQUFsRCxDQUFOO0FBQ0g7O0FBRUQsc0pBQWdCRSxPQUFoQjtBQUNEOztBQUVEOzs7OzRCQUNRO0FBQ047QUFDQSxXQUFLRyxLQUFMO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUE0QkE7Ozs7Ozs7OzBCQVFNQyxHLEVBQUtDLEksRUFBeUI7QUFBQSxVQUFuQlAsU0FBbUIsdUVBQVAsS0FBTzs7QUFDbEMsVUFBTVEsWUFBWSxLQUFLWCxVQUF2QjtBQUNBLFVBQU1ZLG1CQUFtQixJQUF6QjtBQUNBLFVBQUlDLGVBQUo7O0FBRUEsVUFBR1YsU0FBSCxFQUFjO0FBQ1pRLGtCQUFVRyxLQUFWLENBQWdCTCxHQUFoQixFQUFxQkMsSUFBckI7QUFDRCxPQUZELE1BRU87QUFDTEcsaUJBQVM7QUFDUEUsdUJBQWEscUJBQVNMLElBQVQsRUFBZTtBQUMxQixnQkFBTU0sUUFBUUosaUJBQWlCSyxTQUEvQjs7QUFFQSxnQkFBR0QsUUFBUSxDQUFYLEVBQ0VFLFdBQVdULEdBQVgsRUFBZ0IsT0FBT08sS0FBdkIsRUFBOEJOLElBQTlCLEVBREYsQ0FDdUM7QUFEdkMsaUJBR0VELElBQUlDLElBQUo7QUFDSDtBQVJNLFNBQVQ7O0FBV0FDLGtCQUFVUSxHQUFWLENBQWNOLE1BQWQsRUFBc0JILElBQXRCLEVBWkssQ0FZd0I7QUFDOUI7QUFDRjs7QUFFRDs7Ozs7Ozs7O3dCQU1JRyxNLEVBQVFILEksRUFBTTtBQUNoQixXQUFLVixVQUFMLENBQWdCbUIsR0FBaEIsQ0FBb0JOLE1BQXBCLEVBQTRCSCxJQUE1QjtBQUNEOztBQUVEOzs7Ozs7OzsyQkFLT0csTSxFQUFRO0FBQ2IsV0FBS2IsVUFBTCxDQUFnQm9CLE1BQWhCLENBQXVCUCxNQUF2QjtBQUNEOztBQUVEOzs7Ozs7OzRCQUlRO0FBQ04sV0FBS2IsVUFBTCxDQUFnQnFCLEtBQWhCO0FBQ0Q7Ozt3QkEvRWU7QUFDZCxhQUFPLEtBQUtyQixVQUFMLENBQWdCc0IsV0FBdkI7QUFDRDs7QUFFRDs7Ozs7Ozs7d0JBS2tCO0FBQ2hCLGFBQU8sS0FBS3RCLFVBQUwsQ0FBZ0JzQixXQUF2QjtBQUNEOztBQUVEOzs7Ozs7Ozs7d0JBTWdCO0FBQ2QsYUFBTyxLQUFLdEIsVUFBTCxDQUFnQnNCLFdBQWhCLEdBQThCOUIsTUFBTStCLFlBQU4sQ0FBbUJELFdBQXhEO0FBQ0Q7OztFQWpGMEJFLGlCOztBQThJN0JDLHlCQUFlQyxRQUFmLENBQXdCakMsVUFBeEIsRUFBb0NDLGNBQXBDOztrQkFFZUEsYyIsImZpbGUiOiJBdWRpb1NjaGVkdWxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTphdWRpby1zY2hlZHVsZXInO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNsaWVudCBgJ2F1ZGlvLXNjaGVkdWxlcidgIHNlcnZpY2UuXG4gKlxuICogVGhlIGBhdWRpby1zY2hlZHVsZXJgIHByb3ZpZGVzIGFuIGFjY2VzcyB0byB0aGUgYmFzaWMgYXVkaW8gc2NoZWR1bGVyIHVzaW5nIHRoZVxuICogc2NoZWR1bGVyIHByb3ZpZGVkIGJ5IHRoZSBbYHdhdmVzanNgXXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vd2F2ZXNqcy9hdWRpb31cbiAqIGxpYnJhcnkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wZXJpb2RdIC0gUGVyaW9kIG9mIHRoZSBzY2hlZHVsZXIgKGRlZmF1dHMgdG9cbiAqICBjdXJyZW50IHZhbHVlKS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sb29rYWhlYWRdIC0gTG9va2FoZWFkIG9mIHRoZSBzY2hlZHVsZXIgKGRlZmF1dHNcbiAqICB0byBjdXJyZW50IHZhbHVlKS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKiBAc2VlIFtgd2F2ZXNBdWRpby5TY2hlZHVsZXJgXXtAbGluayBodHRwOi8vd2F2ZXNqcy5naXRodWIuaW8vYXVkaW8vI2F1ZGlvLXNjaGVkdWxlcn1cbiAqIEBzZWUgW2BwbGF0Zm9ybWAgc2VydmljZV17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYXRmb3JtfVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMuYXVkaW9TY2hlZHVsZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLXNjaGVkdWxlcicpO1xuICpcbiAqIC8vIHdoZW4gdGhlIGV4cGVyaWVuY2UgaGFzIHN0YXJ0ZWRcbiAqIGNvbnN0IG5leHRUaW1lID0gdGhpcy5hdWRpb1NjaGVkdWxlci5jdXJyZW50VGltZSArIDI7XG4gKiB0aGlzLmF1ZGlvU2NoZWR1bGVyLmFkZCh0aW1lRW5naW5lLCBuZXh0VGltZSk7XG4gKi9cbmNsYXNzIEF1ZGlvU2NoZWR1bGVyIGV4dGVuZHMgU2VydmljZSB7XG4gIC8qKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlIGluc3RhbmNpYXRlZCBtYW51YWxseV8gKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIGZhbHNlKTtcblxuICAgIHRoaXMuX3BsYXRmb3JtID0gdGhpcy5yZXF1aXJlKCdwbGF0Zm9ybScsIHsgZmVhdHVyZXM6ICd3ZWItYXVkaW8nIH0pO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBzeW5jIG9wdGlvblxuICAgIHRoaXMuX3N5bmMgPSBudWxsO1xuICAgIHRoaXMuX3N5bmNlZFF1ZXVlID0gbnVsbDtcblxuICAgIC8vIGdldCBhdWRpbyB0aW1lIGJhc2VkIHNjaGVkdWxlclxuICAgIHRoaXMuX3NjaGVkdWxlciA9IGF1ZGlvLmdldFNjaGVkdWxlcigpO1xuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBsb29rYWhlYWQ6IHRoaXMuX3NjaGVkdWxlci5sb29rYWhlYWQsXG4gICAgICBwZXJpb2Q6IHRoaXMuX3NjaGVkdWxlci5wZXJpb2QsXG4gICAgfTtcblxuICAgIC8vIGNhbGwgc3VwZXIuY29uZmlndXJlIChhY3RpdmF0ZSBzeW5jIG9wdGlvbiBvbmx5IGlmIHJlcXVpcmVkKVxuICAgIHN1cGVyLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgZGVmYXVsdCBgY29uZmlndXJlYCB0byBjb25maWd1cmUgdGhlIHNjaGVkdWxlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgc2VydmljZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgLy8gY2hlY2sgYW5kIHNldCBzY2hlZHVsZXIgcGVyaW9kIG9wdGlvblxuICAgIGlmIChvcHRpb25zLnBlcmlvZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAob3B0aW9ucy5wZXJpb2QgPiAwLjAxMClcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVyLnBlcmlvZCA9IG9wdGlvbnMucGVyaW9kO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2NoZWR1bGVyIHBlcmlvZDogJHtvcHRpb25zLnBlcmlvZH1gKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBhbmQgc2V0IHNjaGVkdWxlciBsb29rYWhlYWQgb3B0aW9uXG4gICAgaWYgKG9wdGlvbnMubG9va2FoZWFkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb25zLmxvb2thaGVhZCA+IDAuMDEwKVxuICAgICAgICB0aGlzLl9zY2hlZHVsZXIubG9va2FoZWFkID0gb3B0aW9ucy5sb29rYWhlYWQ7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzY2hlZHVsZXIgbG9va2FoZWFkOiAke29wdGlvbnMubG9va2FoZWFkfWApO1xuICAgIH1cblxuICAgIHN1cGVyLmNvbmZpZ3VyZShvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMucmVhZHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXJyZW50IGF1ZGlvIHRpbWUgb2YgdGhlIHNjaGVkdWxlci5cbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGluc3RhbmNlXG4gICAqL1xuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZXIuY3VycmVudFRpbWU7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCBhdWRpbyB0aW1lIG9mIHRoZSBzY2hlZHVsZXIgKGFsaWFzIGB0aGlzLmF1ZGlvVGltZWApLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NoZWR1bGVyLmN1cnJlbnRUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc2NoZWR1bGVyJ3MgbG9naWNhbCBhdWRpbyB0aW1lIGFuZCB0aGUgYGN1cnJlbnRUaW1lYFxuICAgKiBvZiB0aGUgYXVkaW8gY29udGV4dC5cbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGluc3RhbmNlXG4gICAqL1xuICBnZXQgZGVsdGFUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZXIuY3VycmVudFRpbWUgLSBhdWRpby5hdWRpb0NvbnRleHQuY3VycmVudFRpbWU7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBhIGZ1bmN0aW9uIGF0IGEgZ2l2ZW4gdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuIC0gRnVuY3Rpb24gdG8gYmUgZGVmZXJyZWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIC0gVGhlIHRpbWUgYXQgd2hpY2ggdGhlIGZ1bmN0aW9uIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbbG9va2FoZWFkPWZhbHNlXSAtIERlZmluZXMgd2hldGhlciB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAqICBhbnRpY2lwYXRlZCAoZS5nLiBmb3IgYXVkaW8gZXZlbnRzKSBvciBwcmVjaXNlbHkgYXQgdGhlIGdpdmVuIHRpbWUgKGRlZmF1bHQpLlxuICAgKi9cbiAgZGVmZXIoZnVuLCB0aW1lLCBsb29rYWhlYWQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IHRoaXMuX3NjaGVkdWxlcjtcbiAgICBjb25zdCBzY2hlZHVsZXJTZXJ2aWNlID0gdGhpcztcbiAgICBsZXQgZW5naW5lO1xuXG4gICAgaWYobG9va2FoZWFkKSB7XG4gICAgICBzY2hlZHVsZXIuZGVmZXIoZnVuLCB0aW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5naW5lID0ge1xuICAgICAgICBhZHZhbmNlVGltZTogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgIGNvbnN0IGRlbHRhID0gc2NoZWR1bGVyU2VydmljZS5kZWx0YVRpbWU7XG5cbiAgICAgICAgICBpZihkZWx0YSA+IDApXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1biwgMTAwMCAqIGRlbHRhLCB0aW1lKTsgLy8gYnJpZGdlIHNjaGVkdWxlciBsb29rYWhlYWQgd2l0aCB0aW1lb3V0XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZnVuKHRpbWUpO1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgc2NoZWR1bGVyLmFkZChlbmdpbmUsIHRpbWUpOyAvLyBhZGQgd2l0aG91dCBjaGVja3NcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdGltZSBlbmdpbmUgdG8gdGhlIHF1ZXVlLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmdpbmUgLSBFbmdpbmUgdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIC0gVGhlIHRpbWUgYXQgd2hpY2ggdGhlIGZ1bmN0aW9uIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICovXG4gIGFkZChlbmdpbmUsIHRpbWUpIHtcbiAgICB0aGlzLl9zY2hlZHVsZXIuYWRkKGVuZ2luZSwgdGltZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBnaXZlbiBlbmdpbmUgZnJvbSB0aGUgcXVldWUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVuZ2luZSAtIEVuZ2luZSB0byByZW1vdmUgZnJvbSB0aGUgc2NoZWR1bGVyLlxuICAgKi9cbiAgcmVtb3ZlKGVuZ2luZSkge1xuICAgIHRoaXMuX3NjaGVkdWxlci5yZW1vdmUoZW5naW5lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHNjaGVkdWxlZCBmdW5jdGlvbnMgYW5kIHRpbWUgZW5naW5lcyAoc3luY2hyb25pemVkIG9yIG5vdCkgZnJvbVxuICAgKiB0aGUgc2NoZWR1bGVyLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fc2NoZWR1bGVyLmNsZWFyKCk7XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgQXVkaW9TY2hlZHVsZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1NjaGVkdWxlcjtcbiJdfQ==","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Checkin.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Checkin.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `checkin` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractCheckinView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Register the function that should be executed when the user is ready to\n * continue.\n *\n * @name setReadyCallback\n * @memberof module:soundworks/client.AbstractCheckinView\n * @function\n * @abstract\n * @instance\n *\n * @param {readyCallback} callback - Callback to execute when the user\n *  is ready to continue.\n */\n/**\n * Update the label retrieved by the server.\n *\n * @name updateLabel\n * @memberof module:soundworks/client.AbstractCheckinView\n * @function\n * @abstract\n * @instance\n *\n * @param {String} label - Label to be displayed in the view.\n */\n/**\n * Method executed when an error is received from the server (when no place is\n * is available in the experience).\n *\n * @name updateErrorStatus\n * @memberof module:soundworks/client.AbstractCheckinView\n * @function\n * @abstract\n * @instance\n *\n * @param {Boolean} value\n */\n\n/**\n * Callback to execute when the user is ready to continue.\n *\n * @callback\n * @name readyCallback\n * @memberof module:soundworks/client.AbstractCheckinView\n */\n\nvar SERVICE_ID = 'service:checkin';\n\n/**\n * Interface for the client `'checkin'` service.\n *\n * This service is one of the provided services aimed at identifying clients inside\n * the experience along with the [`'locator'`]{@link module:soundworks/client.Locator}\n * and [`'placer'`]{@link module:soundworks/client.Placer} services.\n *\n * The `'checkin'` service is the most simple among these services as the server\n * simply assigns a ticket to the client among the available ones. The ticket can\n * optionally be associated with coordinates or labels according to the server\n * `setup` configuration.\n *\n * The service requires the ['platform']{@link module:soundworks/client.Platform}\n * service, as it is considered that an index should be given only to clients who\n * actively entered the application.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Checkin}*__\n *\n * @see {@link module:soundworks/client.Locator}\n * @see {@link module:soundworks/client.Placer}\n *\n * @param {Object} options\n * @param {Boolean} [options.showDialog=false] - Define if the service should\n *  display a view informing the client of its position.\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.checkin = this.require('checkin', { showDialog: true });\n */\n\nvar Checkin = function (_Service) {\n  (0, _inherits3.default)(Checkin, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Checkin() {\n    (0, _classCallCheck3.default)(this, Checkin);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Checkin.__proto__ || (0, _getPrototypeOf2.default)(Checkin)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      showDialog: false,\n      order: 'ascending',\n      viewPriority: 6\n    };\n\n    _this.configure(defaults);\n\n    _this.require('platform');\n\n    /**\n     * Index given by the server.\n     * @type {Number}\n     */\n    _this.index = -1;\n\n    /**\n     * Optionnal label given by the server.\n     * @type {String}\n     */\n    _this.label = null;\n\n    /**\n     * Optionnal coordinates given by the server.\n     * @type {String}\n     */\n    _this.coordinates = null;\n\n    // bind callbacks to the current instance\n    _this._onPositionResponse = _this._onPositionResponse.bind(_this);\n    _this._onUnavailableResponse = _this._onUnavailableResponse.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Checkin, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Checkin.prototype.__proto__ || (0, _getPrototypeOf2.default)(Checkin.prototype), 'start', this).call(this);\n\n      this.setup = this._sharedConfigService;\n\n      // send request to the server\n      this.send('request', this.options.order);\n\n      // setup listeners for the server's response\n      this.receive('position', this._onPositionResponse);\n      this.receive('unavailable', this._onUnavailableResponse);\n\n      this.show();\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(Checkin.prototype.__proto__ || (0, _getPrototypeOf2.default)(Checkin.prototype), 'stop', this).call(this);\n      // Remove listeners for the server's response\n      this.removeListener('position', this._onPositionResponse);\n      this.removeListener('unavailable', this._onUnavailableResponse);\n\n      this.hide();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onPositionResponse',\n    value: function _onPositionResponse(index, label, coordinates) {\n      _client2.default.index = this.index = index;\n      _client2.default.label = this.label = label;\n      this.coordinates = coordinates;\n\n      if (coordinates !== null && !_client2.default.coordinates) _client2.default.coordinates = coordinates;\n\n      if (this.options.showDialog) {\n        var displayLabel = label || (index + 1).toString();\n        this.view.updateLabel(displayLabel);\n        this.view.setReadyCallback(this.ready.bind(this));\n      } else {\n        this.ready();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onUnavailableResponse',\n    value: function _onUnavailableResponse() {\n      this.view.updateErrorStatus(true);\n    }\n  }]);\n  return Checkin;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Checkin);\n\nexports.default = Checkin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoZWNraW4uanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIkNoZWNraW4iLCJkZWZhdWx0cyIsInNob3dEaWFsb2ciLCJvcmRlciIsInZpZXdQcmlvcml0eSIsImNvbmZpZ3VyZSIsInJlcXVpcmUiLCJpbmRleCIsImxhYmVsIiwiY29vcmRpbmF0ZXMiLCJfb25Qb3NpdGlvblJlc3BvbnNlIiwiYmluZCIsIl9vblVuYXZhaWxhYmxlUmVzcG9uc2UiLCJzZXR1cCIsIl9zaGFyZWRDb25maWdTZXJ2aWNlIiwic2VuZCIsIm9wdGlvbnMiLCJyZWNlaXZlIiwic2hvdyIsInJlbW92ZUxpc3RlbmVyIiwiaGlkZSIsImNsaWVudCIsImRpc3BsYXlMYWJlbCIsInRvU3RyaW5nIiwidmlldyIsInVwZGF0ZUxhYmVsIiwic2V0UmVhZHlDYWxsYmFjayIsInJlYWR5IiwidXBkYXRlRXJyb3JTdGF0dXMiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7Ozs7QUFRQTs7Ozs7Ozs7Ozs7OztBQWFBOzs7Ozs7Ozs7OztBQVdBOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7O0FBU0EsSUFBTUEsYUFBYSxpQkFBbkI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUE4Qk1DLE87OztBQUNKO0FBQ0EscUJBQWM7QUFBQTs7QUFBQSx3SUFDTkQsVUFETSxFQUNNLElBRE47O0FBR1osUUFBTUUsV0FBVztBQUNmQyxrQkFBWSxLQURHO0FBRWZDLGFBQU8sV0FGUTtBQUdmQyxvQkFBYztBQUhDLEtBQWpCOztBQU1BLFVBQUtDLFNBQUwsQ0FBZUosUUFBZjs7QUFFQSxVQUFLSyxPQUFMLENBQWEsVUFBYjs7QUFFQTs7OztBQUlBLFVBQUtDLEtBQUwsR0FBYSxDQUFDLENBQWQ7O0FBRUE7Ozs7QUFJQSxVQUFLQyxLQUFMLEdBQWEsSUFBYjs7QUFFQTs7OztBQUlBLFVBQUtDLFdBQUwsR0FBbUIsSUFBbkI7O0FBRUE7QUFDQSxVQUFLQyxtQkFBTCxHQUEyQixNQUFLQSxtQkFBTCxDQUF5QkMsSUFBekIsT0FBM0I7QUFDQSxVQUFLQyxzQkFBTCxHQUE4QixNQUFLQSxzQkFBTCxDQUE0QkQsSUFBNUIsT0FBOUI7QUFqQ1k7QUFrQ2I7O0FBRUQ7Ozs7OzRCQUNRO0FBQ047O0FBRUEsV0FBS0UsS0FBTCxHQUFhLEtBQUtDLG9CQUFsQjs7QUFFQTtBQUNBLFdBQUtDLElBQUwsQ0FBVSxTQUFWLEVBQXFCLEtBQUtDLE9BQUwsQ0FBYWIsS0FBbEM7O0FBRUE7QUFDQSxXQUFLYyxPQUFMLENBQWEsVUFBYixFQUF5QixLQUFLUCxtQkFBOUI7QUFDQSxXQUFLTyxPQUFMLENBQWEsYUFBYixFQUE0QixLQUFLTCxzQkFBakM7O0FBRUEsV0FBS00sSUFBTDtBQUNEOztBQUVEOzs7OzJCQUNPO0FBQ0w7QUFDQTtBQUNBLFdBQUtDLGNBQUwsQ0FBb0IsVUFBcEIsRUFBZ0MsS0FBS1QsbUJBQXJDO0FBQ0EsV0FBS1MsY0FBTCxDQUFvQixhQUFwQixFQUFtQyxLQUFLUCxzQkFBeEM7O0FBRUEsV0FBS1EsSUFBTDtBQUNEOztBQUVEOzs7O3dDQUNvQmIsSyxFQUFPQyxLLEVBQU9DLFcsRUFBYTtBQUM3Q1ksdUJBQU9kLEtBQVAsR0FBZSxLQUFLQSxLQUFMLEdBQWFBLEtBQTVCO0FBQ0FjLHVCQUFPYixLQUFQLEdBQWUsS0FBS0EsS0FBTCxHQUFhQSxLQUE1QjtBQUNBLFdBQUtDLFdBQUwsR0FBbUJBLFdBQW5COztBQUVBLFVBQUlBLGdCQUFnQixJQUFoQixJQUF3QixDQUFDWSxpQkFBT1osV0FBcEMsRUFDRVksaUJBQU9aLFdBQVAsR0FBcUJBLFdBQXJCOztBQUVGLFVBQUksS0FBS08sT0FBTCxDQUFhZCxVQUFqQixFQUE2QjtBQUMzQixZQUFNb0IsZUFBZWQsU0FBUyxDQUFDRCxRQUFRLENBQVQsRUFBWWdCLFFBQVosRUFBOUI7QUFDQSxhQUFLQyxJQUFMLENBQVVDLFdBQVYsQ0FBc0JILFlBQXRCO0FBQ0EsYUFBS0UsSUFBTCxDQUFVRSxnQkFBVixDQUEyQixLQUFLQyxLQUFMLENBQVdoQixJQUFYLENBQWdCLElBQWhCLENBQTNCO0FBQ0QsT0FKRCxNQUlPO0FBQ0wsYUFBS2dCLEtBQUw7QUFDRDtBQUNGOztBQUVEOzs7OzZDQUN5QjtBQUN2QixXQUFLSCxJQUFMLENBQVVJLGlCQUFWLENBQTRCLElBQTVCO0FBQ0Q7OztFQXJGbUJDLGlCOztBQXdGdEJDLHlCQUFlQyxRQUFmLENBQXdCaEMsVUFBeEIsRUFBb0NDLE9BQXBDOztrQkFFZUEsTyIsImZpbGUiOiJDaGVja2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaWVudCBmcm9tICcuLi9jb3JlL2NsaWVudCc7XG5pbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuXG4vKipcbiAqIEFQSSBvZiBhIGNvbXBsaWFudCB2aWV3IGZvciB0aGUgYGNoZWNraW5gIHNlcnZpY2UuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGludGVyZmFjZSBBYnN0cmFjdENoZWNraW5WaWV3XG4gKiBAZXh0ZW5kcyBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RWaWV3XG4gKiBAYWJzdHJhY3RcbiAqL1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgdXNlciBpcyByZWFkeSB0b1xuICogY29udGludWUuXG4gKlxuICogQG5hbWUgc2V0UmVhZHlDYWxsYmFja1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdENoZWNraW5WaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHtyZWFkeUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlclxuICogIGlzIHJlYWR5IHRvIGNvbnRpbnVlLlxuICovXG4vKipcbiAqIFVwZGF0ZSB0aGUgbGFiZWwgcmV0cmlldmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKlxuICogQG5hbWUgdXBkYXRlTGFiZWxcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RDaGVja2luVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCAtIExhYmVsIHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgdmlldy5cbiAqL1xuLyoqXG4gKiBNZXRob2QgZXhlY3V0ZWQgd2hlbiBhbiBlcnJvciBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIgKHdoZW4gbm8gcGxhY2UgaXNcbiAqIGlzIGF2YWlsYWJsZSBpbiB0aGUgZXhwZXJpZW5jZSkuXG4gKlxuICogQG5hbWUgdXBkYXRlRXJyb3JTdGF0dXNcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RDaGVja2luVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWVcbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciBpcyByZWFkeSB0byBjb250aW51ZS5cbiAqXG4gKiBAY2FsbGJhY2tcbiAqIEBuYW1lIHJlYWR5Q2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RDaGVja2luVmlld1xuICovXG5cblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOmNoZWNraW4nO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNsaWVudCBgJ2NoZWNraW4nYCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBpcyBvbmUgb2YgdGhlIHByb3ZpZGVkIHNlcnZpY2VzIGFpbWVkIGF0IGlkZW50aWZ5aW5nIGNsaWVudHMgaW5zaWRlXG4gKiB0aGUgZXhwZXJpZW5jZSBhbG9uZyB3aXRoIHRoZSBbYCdsb2NhdG9yJ2Bde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Mb2NhdG9yfVxuICogYW5kIFtgJ3BsYWNlcidgXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfSBzZXJ2aWNlcy5cbiAqXG4gKiBUaGUgYCdjaGVja2luJ2Agc2VydmljZSBpcyB0aGUgbW9zdCBzaW1wbGUgYW1vbmcgdGhlc2Ugc2VydmljZXMgYXMgdGhlIHNlcnZlclxuICogc2ltcGx5IGFzc2lnbnMgYSB0aWNrZXQgdG8gdGhlIGNsaWVudCBhbW9uZyB0aGUgYXZhaWxhYmxlIG9uZXMuIFRoZSB0aWNrZXQgY2FuXG4gKiBvcHRpb25hbGx5IGJlIGFzc29jaWF0ZWQgd2l0aCBjb29yZGluYXRlcyBvciBsYWJlbHMgYWNjb3JkaW5nIHRvIHRoZSBzZXJ2ZXJcbiAqIGBzZXR1cGAgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBUaGUgc2VydmljZSByZXF1aXJlcyB0aGUgWydwbGF0Zm9ybSdde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5QbGF0Zm9ybX1cbiAqIHNlcnZpY2UsIGFzIGl0IGlzIGNvbnNpZGVyZWQgdGhhdCBhbiBpbmRleCBzaG91bGQgYmUgZ2l2ZW4gb25seSB0byBjbGllbnRzIHdob1xuICogYWN0aXZlbHkgZW50ZXJlZCB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogX18qVGhlIHNlcnZpY2UgbXVzdCBiZSB1c2VkIHdpdGggaXRzIFtzZXJ2ZXItc2lkZSBjb3VudGVycGFydF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3Mvc2VydmVyLkNoZWNraW59Kl9fXG4gKlxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkxvY2F0b3J9XG4gKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3dEaWFsb2c9ZmFsc2VdIC0gRGVmaW5lIGlmIHRoZSBzZXJ2aWNlIHNob3VsZFxuICogIGRpc3BsYXkgYSB2aWV3IGluZm9ybWluZyB0aGUgY2xpZW50IG9mIGl0cyBwb3NpdGlvbi5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKiBAZXhhbXBsZVxuICogLy8gaW5zaWRlIHRoZSBleHBlcmllbmNlIGNvbnN0cnVjdG9yXG4gKiB0aGlzLmNoZWNraW4gPSB0aGlzLnJlcXVpcmUoJ2NoZWNraW4nLCB7IHNob3dEaWFsb2c6IHRydWUgfSk7XG4gKi9cbmNsYXNzIENoZWNraW4gZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgLyoqIF88c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj4gVGhpcyBjbGFzcyBzaG91bGQgbmV2ZXIgYmUgaW5zdGFuY2lhdGVkIG1hbnVhbGx5XyAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgc2hvd0RpYWxvZzogZmFsc2UsXG4gICAgICBvcmRlcjogJ2FzY2VuZGluZycsXG4gICAgICB2aWV3UHJpb3JpdHk6IDYsXG4gICAgfTtcblxuICAgIHRoaXMuY29uZmlndXJlKGRlZmF1bHRzKTtcblxuICAgIHRoaXMucmVxdWlyZSgncGxhdGZvcm0nKTtcblxuICAgIC8qKlxuICAgICAqIEluZGV4IGdpdmVuIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4ID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25uYWwgbGFiZWwgZ2l2ZW4gYnkgdGhlIHNlcnZlci5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubGFiZWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ubmFsIGNvb3JkaW5hdGVzIGdpdmVuIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gbnVsbDtcblxuICAgIC8vIGJpbmQgY2FsbGJhY2tzIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlXG4gICAgdGhpcy5fb25Qb3NpdGlvblJlc3BvbnNlID0gdGhpcy5fb25Qb3NpdGlvblJlc3BvbnNlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25VbmF2YWlsYWJsZVJlc3BvbnNlID0gdGhpcy5fb25VbmF2YWlsYWJsZVJlc3BvbnNlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMuc2V0dXAgPSB0aGlzLl9zaGFyZWRDb25maWdTZXJ2aWNlO1xuXG4gICAgLy8gc2VuZCByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcbiAgICB0aGlzLnNlbmQoJ3JlcXVlc3QnLCB0aGlzLm9wdGlvbnMub3JkZXIpO1xuXG4gICAgLy8gc2V0dXAgbGlzdGVuZXJzIGZvciB0aGUgc2VydmVyJ3MgcmVzcG9uc2VcbiAgICB0aGlzLnJlY2VpdmUoJ3Bvc2l0aW9uJywgdGhpcy5fb25Qb3NpdGlvblJlc3BvbnNlKTtcbiAgICB0aGlzLnJlY2VpdmUoJ3VuYXZhaWxhYmxlJywgdGhpcy5fb25VbmF2YWlsYWJsZVJlc3BvbnNlKTtcblxuICAgIHRoaXMuc2hvdygpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIC8vIFJlbW92ZSBsaXN0ZW5lcnMgZm9yIHRoZSBzZXJ2ZXIncyByZXNwb25zZVxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ3Bvc2l0aW9uJywgdGhpcy5fb25Qb3NpdGlvblJlc3BvbnNlKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCd1bmF2YWlsYWJsZScsIHRoaXMuX29uVW5hdmFpbGFibGVSZXNwb25zZSk7XG5cbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25Qb3NpdGlvblJlc3BvbnNlKGluZGV4LCBsYWJlbCwgY29vcmRpbmF0ZXMpIHtcbiAgICBjbGllbnQuaW5kZXggPSB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgY2xpZW50LmxhYmVsID0gdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcblxuICAgIGlmIChjb29yZGluYXRlcyAhPT0gbnVsbCAmJiAhY2xpZW50LmNvb3JkaW5hdGVzKVxuICAgICAgY2xpZW50LmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dEaWFsb2cpIHtcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IGxhYmVsIHx8IChpbmRleCArIDEpLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlTGFiZWwoZGlzcGxheUxhYmVsKTtcbiAgICAgIHRoaXMudmlldy5zZXRSZWFkeUNhbGxiYWNrKHRoaXMucmVhZHkuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uVW5hdmFpbGFibGVSZXNwb25zZSgpIHtcbiAgICB0aGlzLnZpZXcudXBkYXRlRXJyb3JTdGF0dXModHJ1ZSk7XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgQ2hlY2tpbik7XG5cbmV4cG9ydCBkZWZhdWx0IENoZWNraW47XG4iXX0=","deps":{"../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/ErrorReporter.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/ErrorReporter.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:error-reporter';\n\n/**\n * Interface for the client `'error-reporter'` service.\n *\n * This service allows to log javascript errors that could occur during the\n * application life cycle. Errors are caught and sent to the server in order\n * to be persisted in a file.\n * By default, the log files are located in the `logs/clients` directory inside\n * the application directory.\n *\n * *The service is automatically launched whenever the application detects the\n * use of a networked activity. It should never be required manually inside\n * an application.*\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.ErrorReporter}*__\n *\n * @memberof module:soundworks/client\n */\n\nvar ErrorReporter = function (_Service) {\n  (0, _inherits3.default)(ErrorReporter, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function ErrorReporter() {\n    (0, _classCallCheck3.default)(this, ErrorReporter);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ErrorReporter.__proto__ || (0, _getPrototypeOf2.default)(ErrorReporter)).call(this, SERVICE_ID, true));\n\n    _this._onError = _this._onError.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(ErrorReporter, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(ErrorReporter.prototype.__proto__ || (0, _getPrototypeOf2.default)(ErrorReporter.prototype), 'start', this).call(this);\n\n      window.addEventListener('error', this._onError);\n      this.ready();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onError',\n    value: function _onError(e) {\n      var stack = void 0;\n      var file = e.filename;\n      file = file.replace(window.location.origin, '');\n      var line = e.lineno;\n      var col = e.colno;\n      var msg = e.message;\n      var userAgent = navigator.userAgent;\n\n      this.send('error', file, line, col, msg, userAgent);\n    }\n  }]);\n  return ErrorReporter;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, ErrorReporter);\n\nexports.default = ErrorReporter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVycm9yUmVwb3J0ZXIuanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIkVycm9yUmVwb3J0ZXIiLCJfb25FcnJvciIsImJpbmQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVhZHkiLCJlIiwic3RhY2siLCJmaWxlIiwiZmlsZW5hbWUiLCJyZXBsYWNlIiwibG9jYXRpb24iLCJvcmlnaW4iLCJsaW5lIiwibGluZW5vIiwiY29sIiwiY29sbm8iLCJtc2ciLCJtZXNzYWdlIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwic2VuZCIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFHQSxJQUFNQSxhQUFhLHdCQUFuQjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBaUJNQyxhOzs7QUFDSjtBQUNBLDJCQUFjO0FBQUE7O0FBQUEsb0pBQ05ELFVBRE0sRUFDTSxJQUROOztBQUdaLFVBQUtFLFFBQUwsR0FBZ0IsTUFBS0EsUUFBTCxDQUFjQyxJQUFkLE9BQWhCO0FBSFk7QUFJYjs7QUFFRDs7Ozs7NEJBQ1E7QUFDTjs7QUFFQUMsYUFBT0MsZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUMsS0FBS0gsUUFBdEM7QUFDQSxXQUFLSSxLQUFMO0FBQ0Q7O0FBRUQ7Ozs7NkJBQ1NDLEMsRUFBRztBQUNWLFVBQUlDLGNBQUo7QUFDQSxVQUFJQyxPQUFPRixFQUFFRyxRQUFiO0FBQ0FELGFBQU9BLEtBQUtFLE9BQUwsQ0FBYVAsT0FBT1EsUUFBUCxDQUFnQkMsTUFBN0IsRUFBcUMsRUFBckMsQ0FBUDtBQUNBLFVBQU1DLE9BQU9QLEVBQUVRLE1BQWY7QUFDQSxVQUFNQyxNQUFNVCxFQUFFVSxLQUFkO0FBQ0EsVUFBTUMsTUFBTVgsRUFBRVksT0FBZDtBQUNBLFVBQU1DLFlBQVlDLFVBQVVELFNBQTVCOztBQUVBLFdBQUtFLElBQUwsQ0FBVSxPQUFWLEVBQW1CYixJQUFuQixFQUF5QkssSUFBekIsRUFBK0JFLEdBQS9CLEVBQW9DRSxHQUFwQyxFQUF5Q0UsU0FBekM7QUFDRDs7O0VBM0J5QkcsaUI7O0FBOEI1QkMseUJBQWVDLFFBQWYsQ0FBd0J6QixVQUF4QixFQUFvQ0MsYUFBcEM7O2tCQUVlQSxhIiwiZmlsZSI6IkVycm9yUmVwb3J0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuXG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTplcnJvci1yZXBvcnRlcic7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGAnZXJyb3ItcmVwb3J0ZXInYCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gbG9nIGphdmFzY3JpcHQgZXJyb3JzIHRoYXQgY291bGQgb2NjdXIgZHVyaW5nIHRoZVxuICogYXBwbGljYXRpb24gbGlmZSBjeWNsZS4gRXJyb3JzIGFyZSBjYXVnaHQgYW5kIHNlbnQgdG8gdGhlIHNlcnZlciBpbiBvcmRlclxuICogdG8gYmUgcGVyc2lzdGVkIGluIGEgZmlsZS5cbiAqIEJ5IGRlZmF1bHQsIHRoZSBsb2cgZmlsZXMgYXJlIGxvY2F0ZWQgaW4gdGhlIGBsb2dzL2NsaWVudHNgIGRpcmVjdG9yeSBpbnNpZGVcbiAqIHRoZSBhcHBsaWNhdGlvbiBkaXJlY3RvcnkuXG4gKlxuICogKlRoZSBzZXJ2aWNlIGlzIGF1dG9tYXRpY2FsbHkgbGF1bmNoZWQgd2hlbmV2ZXIgdGhlIGFwcGxpY2F0aW9uIGRldGVjdHMgdGhlXG4gKiB1c2Ugb2YgYSBuZXR3b3JrZWQgYWN0aXZpdHkuIEl0IHNob3VsZCBuZXZlciBiZSByZXF1aXJlZCBtYW51YWxseSBpbnNpZGVcbiAqIGFuIGFwcGxpY2F0aW9uLipcbiAqXG4gKiBfXypUaGUgc2VydmljZSBtdXN0IGJlIHVzZWQgd2l0aCBpdHMgW3NlcnZlci1zaWRlIGNvdW50ZXJwYXJ0XXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9zZXJ2ZXIuRXJyb3JSZXBvcnRlcn0qX19cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKi9cbmNsYXNzIEVycm9yUmVwb3J0ZXIgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgLyoqIF88c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj4gVGhpcyBjbGFzcyBzaG91bGQgbmV2ZXIgYmUgaW5zdGFuY2lhdGVkIG1hbnVhbGx5XyAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIHRoaXMuX29uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IpO1xuICAgIHRoaXMucmVhZHkoKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25FcnJvcihlKSB7XG4gICAgbGV0IHN0YWNrO1xuICAgIGxldCBmaWxlID0gZS5maWxlbmFtZTtcbiAgICBmaWxlID0gZmlsZS5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sICcnKTtcbiAgICBjb25zdCBsaW5lID0gZS5saW5lbm87XG4gICAgY29uc3QgY29sID0gZS5jb2xubztcbiAgICBjb25zdCBtc2cgPSBlLm1lc3NhZ2U7XG4gICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICAgIHRoaXMuc2VuZCgnZXJyb3InLCBmaWxlLCBsaW5lLCBjb2wsIG1zZywgdXNlckFnZW50KTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBFcnJvclJlcG9ydGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JSZXBvcnRlcjtcbiJdfQ==","deps":{"../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Language.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Language.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _SegmentedView = require('../views/SegmentedView');\n\nvar _SegmentedView2 = _interopRequireDefault(_SegmentedView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:language';\n\nvar defaultViewTemplate = '\\n <div class=\"section-top\"></div>\\n <div class=\"section-center\">\\n   <% Object.keys(options).forEach(function(key,index) { %>\\n     <button class=\"btn\" data-id=\"<%= key %>\"><%= options[key] %></button>\\n   <% }); %>\\n </div>\\n <div class=\"section-bottom\"></div>\\n';\n\n/**\n * API of a compliant view for the `language` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractLanguageView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Register the function that should be executed when the password is submitted\n * by the user.\n *\n * @name setSelectionCallback\n * @memberof module:soundworks/client.AbstractLanguageView\n * @function\n * @abstract\n * @instance\n *\n * @param {selectionCallback} callback - Callback to execute when the user\n *  choose its language\n */\n\n/**\n * Callback to execute when the user choose its language.\n *\n * @callback\n * @name selectionCallback\n * @memberof module:soundworks/client.AbstractLanguageView\n *\n * @param {String} id - id of the language.\n */\n\n/**\n * Interface for the client `language` service.\n *\n * This service present a view that allows to define a langage for the client.\n * Using this service implies that the application should handle itself this\n * information in the views of the the services as well as in the experience.\n *\n * @memberof module:soundworks/client\n * @example\n * this.language = this.require('language', { options: { en: 'English', fr:'Français' }});\n */\n\nvar Language = function (_Service) {\n  (0, _inherits3.default)(Language, _Service);\n\n  function Language() {\n    (0, _classCallCheck3.default)(this, Language);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Language.__proto__ || (0, _getPrototypeOf2.default)(Language)).call(this, SERVICE_ID, false));\n\n    var defaults = {\n      viewPriority: 9,\n      options: {}\n    };\n\n    _this.configure(defaults);\n\n    _this._onSelection = _this._onSelection.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Language, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Language.prototype.__proto__ || (0, _getPrototypeOf2.default)(Language.prototype), 'start', this).call(this);\n\n      this.view.model.options = this.options.options;\n      this.view.setSelectionCallback(this._onSelection);\n\n      this.show();\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(Language.prototype.__proto__ || (0, _getPrototypeOf2.default)(Language.prototype), 'stop', this).call(this);\n      this.hide();\n    }\n  }, {\n    key: '_onSelection',\n    value: function _onSelection(id) {\n      _client2.default.language = id;\n      this.ready();\n    }\n  }]);\n  return Language;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Language);\n\nexports.default = Language;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxhbmd1YWdlLmpzIl0sIm5hbWVzIjpbIlNFUlZJQ0VfSUQiLCJkZWZhdWx0Vmlld1RlbXBsYXRlIiwiTGFuZ3VhZ2UiLCJkZWZhdWx0cyIsInZpZXdQcmlvcml0eSIsIm9wdGlvbnMiLCJjb25maWd1cmUiLCJfb25TZWxlY3Rpb24iLCJiaW5kIiwidmlldyIsIm1vZGVsIiwic2V0U2VsZWN0aW9uQ2FsbGJhY2siLCJzaG93IiwiaGlkZSIsImlkIiwiY2xpZW50IiwibGFuZ3VhZ2UiLCJyZWFkeSIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsYUFBYSxrQkFBbkI7O0FBRUEsSUFBTUMsZ1NBQU47O0FBVUE7Ozs7Ozs7O0FBUUE7Ozs7Ozs7Ozs7Ozs7O0FBY0E7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7O0lBV01DLFE7OztBQUNKLHNCQUFjO0FBQUE7O0FBQUEsMElBQ05GLFVBRE0sRUFDTSxLQUROOztBQUdaLFFBQU1HLFdBQVc7QUFDZkMsb0JBQWMsQ0FEQztBQUVmQyxlQUFTO0FBRk0sS0FBakI7O0FBS0EsVUFBS0MsU0FBTCxDQUFlSCxRQUFmOztBQUVBLFVBQUtJLFlBQUwsR0FBb0IsTUFBS0EsWUFBTCxDQUFrQkMsSUFBbEIsT0FBcEI7QUFWWTtBQVdiOztBQUVEOzs7Ozs0QkFDUTtBQUNOOztBQUVBLFdBQUtDLElBQUwsQ0FBVUMsS0FBVixDQUFnQkwsT0FBaEIsR0FBMEIsS0FBS0EsT0FBTCxDQUFhQSxPQUF2QztBQUNBLFdBQUtJLElBQUwsQ0FBVUUsb0JBQVYsQ0FBK0IsS0FBS0osWUFBcEM7O0FBRUEsV0FBS0ssSUFBTDtBQUNEOztBQUVEOzs7OzJCQUNPO0FBQ0w7QUFDQSxXQUFLQyxJQUFMO0FBQ0Q7OztpQ0FFWUMsRSxFQUFJO0FBQ2ZDLHVCQUFPQyxRQUFQLEdBQWtCRixFQUFsQjtBQUNBLFdBQUtHLEtBQUw7QUFDRDs7O0VBakNvQkMsaUI7O0FBb0N2QkMseUJBQWVDLFFBQWYsQ0FBd0JwQixVQUF4QixFQUFvQ0UsUUFBcEM7O2tCQUVlQSxRIiwiZmlsZSI6Ikxhbmd1YWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaWVudCBmcm9tICcuLi9jb3JlL2NsaWVudCc7XG5pbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuaW1wb3J0IFNlZ21lbnRlZFZpZXcgZnJvbSAnLi4vdmlld3MvU2VnbWVudGVkVmlldyc7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpsYW5ndWFnZSc7XG5cbmNvbnN0IGRlZmF1bHRWaWV3VGVtcGxhdGUgPSBgXG4gPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wXCI+PC9kaXY+XG4gPGRpdiBjbGFzcz1cInNlY3Rpb24tY2VudGVyXCI+XG4gICA8JSBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSxpbmRleCkgeyAlPlxuICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgZGF0YS1pZD1cIjwlPSBrZXkgJT5cIj48JT0gb3B0aW9uc1trZXldICU+PC9idXR0b24+XG4gICA8JSB9KTsgJT5cbiA8L2Rpdj5cbiA8ZGl2IGNsYXNzPVwic2VjdGlvbi1ib3R0b21cIj48L2Rpdj5cbmA7XG5cbi8qKlxuICogQVBJIG9mIGEgY29tcGxpYW50IHZpZXcgZm9yIHRoZSBgbGFuZ3VhZ2VgIHNlcnZpY2UuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGludGVyZmFjZSBBYnN0cmFjdExhbmd1YWdlVmlld1xuICogQGV4dGVuZHMgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0Vmlld1xuICogQGFic3RyYWN0XG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgdGhlIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIHBhc3N3b3JkIGlzIHN1Ym1pdHRlZFxuICogYnkgdGhlIHVzZXIuXG4gKlxuICogQG5hbWUgc2V0U2VsZWN0aW9uQ2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RMYW5ndWFnZVZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge3NlbGVjdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlclxuICogIGNob29zZSBpdHMgbGFuZ3VhZ2VcbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciBjaG9vc2UgaXRzIGxhbmd1YWdlLlxuICpcbiAqIEBjYWxsYmFja1xuICogQG5hbWUgc2VsZWN0aW9uQ2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RMYW5ndWFnZVZpZXdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBpZCBvZiB0aGUgbGFuZ3VhZ2UuXG4gKi9cblxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNsaWVudCBgbGFuZ3VhZ2VgIHNlcnZpY2UuXG4gKlxuICogVGhpcyBzZXJ2aWNlIHByZXNlbnQgYSB2aWV3IHRoYXQgYWxsb3dzIHRvIGRlZmluZSBhIGxhbmdhZ2UgZm9yIHRoZSBjbGllbnQuXG4gKiBVc2luZyB0aGlzIHNlcnZpY2UgaW1wbGllcyB0aGF0IHRoZSBhcHBsaWNhdGlvbiBzaG91bGQgaGFuZGxlIGl0c2VsZiB0aGlzXG4gKiBpbmZvcm1hdGlvbiBpbiB0aGUgdmlld3Mgb2YgdGhlIHRoZSBzZXJ2aWNlcyBhcyB3ZWxsIGFzIGluIHRoZSBleHBlcmllbmNlLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiB0aGlzLmxhbmd1YWdlID0gdGhpcy5yZXF1aXJlKCdsYW5ndWFnZScsIHsgb3B0aW9uczogeyBlbjogJ0VuZ2xpc2gnLCBmcjonRnJhbsOnYWlzJyB9fSk7XG4gKi9cbmNsYXNzIExhbmd1YWdlIGV4dGVuZHMgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIGZhbHNlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgdmlld1ByaW9yaXR5OiA5LFxuICAgICAgb3B0aW9uczoge30sXG4gICAgfVxuXG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgdGhpcy5fb25TZWxlY3Rpb24gPSB0aGlzLl9vblNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICB0aGlzLnZpZXcubW9kZWwub3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vcHRpb25zO1xuICAgIHRoaXMudmlldy5zZXRTZWxlY3Rpb25DYWxsYmFjayh0aGlzLl9vblNlbGVjdGlvbik7XG5cbiAgICB0aGlzLnNob3coKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdG9wKCkge1xuICAgIHN1cGVyLnN0b3AoKTtcbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIF9vblNlbGVjdGlvbihpZCkge1xuICAgIGNsaWVudC5sYW5ndWFnZSA9IGlkO1xuICAgIHRoaXMucmVhZHkoKTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBMYW5ndWFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IExhbmd1YWdlO1xuIl19","deps":{"../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../views/SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Auth.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Auth.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _SegmentedView = require('../views/SegmentedView');\n\nvar _SegmentedView2 = _interopRequireDefault(_SegmentedView);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `auth` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractAuthView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Register the function that should be executed when the password is submitted\n * by the user.\n *\n * @name setSendPasswordCallback\n * @memberof module:soundworks/client.AbstractAuthView\n * @function\n * @abstract\n * @instance\n *\n * @param {sendPasswordCallback} callback - Callback to execute when the user\n *  submit the password\n */\n/**\n * Register the function that should be executed when the password is reset\n * by the user.\n *\n * @name setResetPasswordCallback\n * @memberof module:soundworks/client.AbstractAuthView\n * @function\n * @abstract\n * @instance\n *\n * @param {setResetCallback} callback -\n *  Callback to execute when the user reset the password\n */\n/**\n * Update the view according to the response to the submitted password.\n *\n * @name updateRejectedStatus\n * @memberof module:soundworks/client.AbstractAuthView\n * @function\n * @abstract\n * @instance\n *\n * @param {Boolean} value - `true` if the submitted password is rejected,\n *  `false` when the password is reset.\n */\n\n/**\n * Callback to execute when the user submit the password.\n *\n * @callback\n * @name sendPasswordCallback\n * @memberof module:soundworks/client.AbstractAuthView\n *\n * @param {String} password - Password given by the user.\n */\n/**\n * Callback to execute when the user reset the password.\n *\n * @callback\n * @name resetCallback\n * @memberof module:soundworks/client.AbstractAuthView\n */\n\nvar SERVICE_ID = 'service:auth';\nvar LOCAL_STORAGE_KEY = 'soundworks:' + SERVICE_ID;\n\n/**\n * Interface for the client `auth` service.\n *\n * This service allows to lock the application to specific users by adding a\n * simple logging page to the client.\n *\n * <span class=\"warning\">__WARNING__</span>: This service shouldn't be considered\n * secure from a production prespective.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Auth}*__\n *\n * @memberof module:soundworks/client\n * @example\n * this.auth = this.require('auth');\n */\n\nvar Auth = function (_Service) {\n  (0, _inherits3.default)(Auth, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Auth() {\n    (0, _classCallCheck3.default)(this, Auth);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Auth.__proto__ || (0, _getPrototypeOf2.default)(Auth)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      viewPriority: 100\n    };\n\n    _this.configure(defaults);\n\n    _this._password = null;\n\n    _this._onAccesGrantedResponse = _this._onAccesGrantedResponse.bind(_this);\n    _this._onAccesRefusedResponse = _this._onAccesRefusedResponse.bind(_this);\n    _this._sendPassword = _this._sendPassword.bind(_this);\n    _this._resetPassword = _this._resetPassword.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Auth, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Auth.prototype.__proto__ || (0, _getPrototypeOf2.default)(Auth.prototype), 'start', this).call(this);\n\n      this.view.setSendPasswordCallback(this._sendPassword);\n      this.view.setResetCallback(this._resetPassword);\n\n      this.receive('granted', this._onAccesGrantedResponse);\n      this.receive('refused', this._onAccesRefusedResponse);\n\n      var storedPassword = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n      if (storedPassword !== null) this._sendPassword(storedPassword);\n\n      this.show();\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(Auth.prototype.__proto__ || (0, _getPrototypeOf2.default)(Auth.prototype), 'stop', this).call(this);\n\n      this.removeListener('granted', this._onAccesGrantedResponse);\n      this.removeListener('refused', this._onAccesRefusedResponse);\n\n      this.hide();\n    }\n\n    /**\n     * Remove the stored password from local storage. This method is aimed at\n     * being called from inside an experience / controller. Any UI update\n     * resulting from the call of this method should then be handled from the\n     * experience.\n     */\n\n  }, {\n    key: 'logout',\n    value: function logout() {\n      localStorage.removeItem(LOCAL_STORAGE_KEY);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_sendPassword',\n    value: function _sendPassword(password) {\n      this._password = password;\n      this.send('password', password);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_resetPassword',\n    value: function _resetPassword() {\n      this._password = null;\n      localStorage.removeItem(LOCAL_STORAGE_KEY);\n\n      this.view.updateRejectedStatus(false);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onAccesGrantedResponse',\n    value: function _onAccesGrantedResponse() {\n      localStorage.setItem(LOCAL_STORAGE_KEY, this._password);\n      this.ready();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onAccesRefusedResponse',\n    value: function _onAccesRefusedResponse() {\n      this.view.updateRejectedStatus(true);\n    }\n  }]);\n  return Auth;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Auth);\n\nexports.default = Auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGguanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIkxPQ0FMX1NUT1JBR0VfS0VZIiwiQXV0aCIsImRlZmF1bHRzIiwidmlld1ByaW9yaXR5IiwiY29uZmlndXJlIiwiX3Bhc3N3b3JkIiwiX29uQWNjZXNHcmFudGVkUmVzcG9uc2UiLCJiaW5kIiwiX29uQWNjZXNSZWZ1c2VkUmVzcG9uc2UiLCJfc2VuZFBhc3N3b3JkIiwiX3Jlc2V0UGFzc3dvcmQiLCJ2aWV3Iiwic2V0U2VuZFBhc3N3b3JkQ2FsbGJhY2siLCJzZXRSZXNldENhbGxiYWNrIiwicmVjZWl2ZSIsInN0b3JlZFBhc3N3b3JkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNob3ciLCJyZW1vdmVMaXN0ZW5lciIsImhpZGUiLCJyZW1vdmVJdGVtIiwicGFzc3dvcmQiLCJzZW5kIiwidXBkYXRlUmVqZWN0ZWRTdGF0dXMiLCJzZXRJdGVtIiwicmVhZHkiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7OztBQVFBOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7Ozs7Ozs7QUFhQTs7Ozs7Ozs7Ozs7OztBQWFBOzs7Ozs7Ozs7QUFTQTs7Ozs7Ozs7QUFTQSxJQUFNQSxhQUFhLGNBQW5CO0FBQ0EsSUFBTUMsb0NBQWtDRCxVQUF4Qzs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztJQWVNRSxJOzs7QUFDSjtBQUNBLGtCQUFjO0FBQUE7O0FBQUEsa0lBQ05GLFVBRE0sRUFDTSxJQUROOztBQUdaLFFBQU1HLFdBQVc7QUFDZkMsb0JBQWM7QUFEQyxLQUFqQjs7QUFJQSxVQUFLQyxTQUFMLENBQWVGLFFBQWY7O0FBRUEsVUFBS0csU0FBTCxHQUFpQixJQUFqQjs7QUFFQSxVQUFLQyx1QkFBTCxHQUErQixNQUFLQSx1QkFBTCxDQUE2QkMsSUFBN0IsT0FBL0I7QUFDQSxVQUFLQyx1QkFBTCxHQUErQixNQUFLQSx1QkFBTCxDQUE2QkQsSUFBN0IsT0FBL0I7QUFDQSxVQUFLRSxhQUFMLEdBQXFCLE1BQUtBLGFBQUwsQ0FBbUJGLElBQW5CLE9BQXJCO0FBQ0EsVUFBS0csY0FBTCxHQUFzQixNQUFLQSxjQUFMLENBQW9CSCxJQUFwQixPQUF0QjtBQWRZO0FBZWI7O0FBRUQ7Ozs7OzRCQUNRO0FBQ047O0FBRUEsV0FBS0ksSUFBTCxDQUFVQyx1QkFBVixDQUFrQyxLQUFLSCxhQUF2QztBQUNBLFdBQUtFLElBQUwsQ0FBVUUsZ0JBQVYsQ0FBMkIsS0FBS0gsY0FBaEM7O0FBRUEsV0FBS0ksT0FBTCxDQUFhLFNBQWIsRUFBd0IsS0FBS1IsdUJBQTdCO0FBQ0EsV0FBS1EsT0FBTCxDQUFhLFNBQWIsRUFBd0IsS0FBS04sdUJBQTdCOztBQUVBLFVBQU1PLGlCQUFpQkMsYUFBYUMsT0FBYixDQUFxQmpCLGlCQUFyQixDQUF2Qjs7QUFFQSxVQUFJZSxtQkFBbUIsSUFBdkIsRUFDRSxLQUFLTixhQUFMLENBQW1CTSxjQUFuQjs7QUFFRixXQUFLRyxJQUFMO0FBQ0Q7O0FBRUQ7Ozs7MkJBQ087QUFDTDs7QUFFQSxXQUFLQyxjQUFMLENBQW9CLFNBQXBCLEVBQStCLEtBQUtiLHVCQUFwQztBQUNBLFdBQUthLGNBQUwsQ0FBb0IsU0FBcEIsRUFBK0IsS0FBS1gsdUJBQXBDOztBQUVBLFdBQUtZLElBQUw7QUFDRDs7QUFFRDs7Ozs7Ozs7OzZCQU1TO0FBQ1BKLG1CQUFhSyxVQUFiLENBQXdCckIsaUJBQXhCO0FBQ0Q7O0FBRUQ7Ozs7a0NBQ2NzQixRLEVBQVU7QUFDdEIsV0FBS2pCLFNBQUwsR0FBaUJpQixRQUFqQjtBQUNBLFdBQUtDLElBQUwsQ0FBVSxVQUFWLEVBQXNCRCxRQUF0QjtBQUNEOztBQUVEOzs7O3FDQUNpQjtBQUNmLFdBQUtqQixTQUFMLEdBQWlCLElBQWpCO0FBQ0FXLG1CQUFhSyxVQUFiLENBQXdCckIsaUJBQXhCOztBQUVBLFdBQUtXLElBQUwsQ0FBVWEsb0JBQVYsQ0FBK0IsS0FBL0I7QUFDRDs7QUFFRDs7Ozs4Q0FDMEI7QUFDeEJSLG1CQUFhUyxPQUFiLENBQXFCekIsaUJBQXJCLEVBQXdDLEtBQUtLLFNBQTdDO0FBQ0EsV0FBS3FCLEtBQUw7QUFDRDs7QUFFRDs7Ozs4Q0FDMEI7QUFDeEIsV0FBS2YsSUFBTCxDQUFVYSxvQkFBVixDQUErQixJQUEvQjtBQUNEOzs7RUFoRmdCRyxpQjs7QUFtRm5CQyx5QkFBZUMsUUFBZixDQUF3QjlCLFVBQXhCLEVBQW9DRSxJQUFwQzs7a0JBRWVBLEkiLCJmaWxlIjoiQXV0aC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGllbnQgZnJvbSAnLi4vY29yZS9jbGllbnQnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBTZWdtZW50ZWRWaWV3IGZyb20gJy4uL3ZpZXdzL1NlZ21lbnRlZFZpZXcnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuXG4vKipcbiAqIEFQSSBvZiBhIGNvbXBsaWFudCB2aWV3IGZvciB0aGUgYGF1dGhgIHNlcnZpY2UuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGludGVyZmFjZSBBYnN0cmFjdEF1dGhWaWV3XG4gKiBAZXh0ZW5kcyBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RWaWV3XG4gKiBAYWJzdHJhY3RcbiAqL1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgcGFzc3dvcmQgaXMgc3VibWl0dGVkXG4gKiBieSB0aGUgdXNlci5cbiAqXG4gKiBAbmFtZSBzZXRTZW5kUGFzc3dvcmRDYWxsYmFja1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdEF1dGhWaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHtzZW5kUGFzc3dvcmRDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXJcbiAqICBzdWJtaXQgdGhlIHBhc3N3b3JkXG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgdGhlIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIHBhc3N3b3JkIGlzIHJlc2V0XG4gKiBieSB0aGUgdXNlci5cbiAqXG4gKiBAbmFtZSBzZXRSZXNldFBhc3N3b3JkQ2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RBdXRoVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7c2V0UmVzZXRDYWxsYmFja30gY2FsbGJhY2sgLVxuICogIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciByZXNldCB0aGUgcGFzc3dvcmRcbiAqL1xuLyoqXG4gKiBVcGRhdGUgdGhlIHZpZXcgYWNjb3JkaW5nIHRvIHRoZSByZXNwb25zZSB0byB0aGUgc3VibWl0dGVkIHBhc3N3b3JkLlxuICpcbiAqIEBuYW1lIHVwZGF0ZVJlamVjdGVkU3RhdHVzXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0QXV0aFZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlIC0gYHRydWVgIGlmIHRoZSBzdWJtaXR0ZWQgcGFzc3dvcmQgaXMgcmVqZWN0ZWQsXG4gKiAgYGZhbHNlYCB3aGVuIHRoZSBwYXNzd29yZCBpcyByZXNldC5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciBzdWJtaXQgdGhlIHBhc3N3b3JkLlxuICpcbiAqIEBjYWxsYmFja1xuICogQG5hbWUgc2VuZFBhc3N3b3JkQ2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RBdXRoVmlld1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZCAtIFBhc3N3b3JkIGdpdmVuIGJ5IHRoZSB1c2VyLlxuICovXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciByZXNldCB0aGUgcGFzc3dvcmQuXG4gKlxuICogQGNhbGxiYWNrXG4gKiBAbmFtZSByZXNldENhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0QXV0aFZpZXdcbiAqL1xuXG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTphdXRoJztcbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gYHNvdW5kd29ya3M6JHtTRVJWSUNFX0lEfWA7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGBhdXRoYCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gbG9jayB0aGUgYXBwbGljYXRpb24gdG8gc3BlY2lmaWMgdXNlcnMgYnkgYWRkaW5nIGFcbiAqIHNpbXBsZSBsb2dnaW5nIHBhZ2UgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj46IFRoaXMgc2VydmljZSBzaG91bGRuJ3QgYmUgY29uc2lkZXJlZFxuICogc2VjdXJlIGZyb20gYSBwcm9kdWN0aW9uIHByZXNwZWN0aXZlLlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0cyBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5BdXRofSpfX1xuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiB0aGlzLmF1dGggPSB0aGlzLnJlcXVpcmUoJ2F1dGgnKTtcbiAqL1xuY2xhc3MgQXV0aCBleHRlbmRzIFNlcnZpY2Uge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIHRydWUpO1xuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICB2aWV3UHJpb3JpdHk6IDEwMCxcbiAgICB9O1xuXG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgdGhpcy5fcGFzc3dvcmQgPSBudWxsO1xuXG4gICAgdGhpcy5fb25BY2Nlc0dyYW50ZWRSZXNwb25zZSA9IHRoaXMuX29uQWNjZXNHcmFudGVkUmVzcG9uc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkFjY2VzUmVmdXNlZFJlc3BvbnNlID0gdGhpcy5fb25BY2Nlc1JlZnVzZWRSZXNwb25zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlbmRQYXNzd29yZCA9IHRoaXMuX3NlbmRQYXNzd29yZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3Jlc2V0UGFzc3dvcmQgPSB0aGlzLl9yZXNldFBhc3N3b3JkLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMudmlldy5zZXRTZW5kUGFzc3dvcmRDYWxsYmFjayh0aGlzLl9zZW5kUGFzc3dvcmQpO1xuICAgIHRoaXMudmlldy5zZXRSZXNldENhbGxiYWNrKHRoaXMuX3Jlc2V0UGFzc3dvcmQpO1xuXG4gICAgdGhpcy5yZWNlaXZlKCdncmFudGVkJywgdGhpcy5fb25BY2Nlc0dyYW50ZWRSZXNwb25zZSk7XG4gICAgdGhpcy5yZWNlaXZlKCdyZWZ1c2VkJywgdGhpcy5fb25BY2Nlc1JlZnVzZWRSZXNwb25zZSk7XG5cbiAgICBjb25zdCBzdG9yZWRQYXNzd29yZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcblxuICAgIGlmIChzdG9yZWRQYXNzd29yZCAhPT0gbnVsbClcbiAgICAgIHRoaXMuX3NlbmRQYXNzd29yZChzdG9yZWRQYXNzd29yZCk7XG5cbiAgICB0aGlzLnNob3coKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdG9wKCkge1xuICAgIHN1cGVyLnN0b3AoKTtcblxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2dyYW50ZWQnLCB0aGlzLl9vbkFjY2VzR3JhbnRlZFJlc3BvbnNlKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdyZWZ1c2VkJywgdGhpcy5fb25BY2Nlc1JlZnVzZWRSZXNwb25zZSk7XG5cbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIHN0b3JlZCBwYXNzd29yZCBmcm9tIGxvY2FsIHN0b3JhZ2UuIFRoaXMgbWV0aG9kIGlzIGFpbWVkIGF0XG4gICAqIGJlaW5nIGNhbGxlZCBmcm9tIGluc2lkZSBhbiBleHBlcmllbmNlIC8gY29udHJvbGxlci4gQW55IFVJIHVwZGF0ZVxuICAgKiByZXN1bHRpbmcgZnJvbSB0aGUgY2FsbCBvZiB0aGlzIG1ldGhvZCBzaG91bGQgdGhlbiBiZSBoYW5kbGVkIGZyb20gdGhlXG4gICAqIGV4cGVyaWVuY2UuXG4gICAqL1xuICBsb2dvdXQoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9zZW5kUGFzc3dvcmQocGFzc3dvcmQpIHtcbiAgICB0aGlzLl9wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIHRoaXMuc2VuZCgncGFzc3dvcmQnLCBwYXNzd29yZCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX3Jlc2V0UGFzc3dvcmQoKSB7XG4gICAgdGhpcy5fcGFzc3dvcmQgPSBudWxsO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcblxuICAgIHRoaXMudmlldy51cGRhdGVSZWplY3RlZFN0YXR1cyhmYWxzZSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uQWNjZXNHcmFudGVkUmVzcG9uc2UoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIHRoaXMuX3Bhc3N3b3JkKTtcbiAgICB0aGlzLnJlYWR5KCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uQWNjZXNSZWZ1c2VkUmVzcG9uc2UoKSB7XG4gICAgdGhpcy52aWV3LnVwZGF0ZVJlamVjdGVkU3RhdHVzKHRydWUpO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIEF1dGgpO1xuXG5leHBvcnQgZGVmYXVsdCBBdXRoO1xuIl19","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../views/SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Geolocation.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Geolocation.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:geolocation';\nvar geolocation = navigator.geolocation;\n\nfunction geopositionToJson(geoposition) {\n  return {\n    timestamp: geoposition.timestamp,\n    coords: {\n      accuracy: geoposition.coords.accuracy,\n      altitude: geoposition.coords.altitude,\n      altitudeAccuracy: geoposition.coords.altitudeAccuracy,\n      heading: geoposition.coords.heading,\n      latitude: geoposition.coords.latitude,\n      longitude: geoposition.coords.longitude,\n      speed: geoposition.coords.speed\n    }\n  };\n}\n\nfunction getRandomGeoposition() {\n  return {\n    timestamp: new Date().getTime(),\n    coords: {\n      accuracy: 10,\n      altitude: 10,\n      altitudeAccuracy: 10,\n      heading: 0,\n      latitude: Math.random() * 180 - 90,\n      longitude: Math.random() * 360 - 180,\n      speed: 1\n    }\n  };\n}\n\n// this is quite a large update...\nfunction updateRandomGeoposition(geoposition) {\n  geoposition.timestamp = new Date().getTime();\n  geoposition.coords.latitude += Math.random() * 1e-4 - 1e-4 / 2;\n  geoposition.coords.longitude += Math.random() * 1e-4 - 1e-4 / 2;\n}\n\n/**\n * Interface for the client `'geolocation'` service.\n *\n * The `'geolocation'` service allows to retrieve the latitude and longitude\n * of the client using `gps`. The current values are store into the\n * `client.coordinates` member.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Geolocation}*__\n *\n * @param {Object} options - Override default options.\n * @param {'start'|'stop'} [options.state='start'] - Default state when the\n *  service is launched.\n * @param {Boolean} [options.enableHighAccuracy=true] - Define if the application\n *  would like to receive the best possible results (cf. [https://dev.w3.org/geo/api/spec-source.html#high-accuracy](https://dev.w3.org/geo/api/spec-source.html#high-accuracy)).\n *\n * @memberof module:soundworks/client\n */\n\nvar Geolocation = function (_Service) {\n  (0, _inherits3.default)(Geolocation, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Geolocation() {\n    (0, _classCallCheck3.default)(this, Geolocation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Geolocation.__proto__ || (0, _getPrototypeOf2.default)(Geolocation)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      state: 'start',\n      enableHighAccuracy: true\n      // bypass: false,\n    };\n\n    _this.platform = _this.require('platform');\n\n    _this._onSuccess = _this._onSuccess.bind(_this);\n    _this._onError = _this._onError.bind(_this);\n    _this._watchId = null;\n    _this.state = null;\n    return _this;\n  }\n\n  (0, _createClass3.default)(Geolocation, [{\n    key: 'configure',\n    value: function configure(options) {\n      var _options = (0, _assign2.default)({}, this.defaults, options);\n\n      if (!this.options.feature) {\n        var feature = 'geolocation';\n\n        if (options.bypass !== undefined && options.bypass === true) feature = 'geolocation-mock';\n\n        this.options.feature = feature;\n        this.platform.requireFeature(feature);\n      }\n\n      (0, _get3.default)(Geolocation.prototype.__proto__ || (0, _getPrototypeOf2.default)(Geolocation.prototype), 'configure', this).call(this, options);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Geolocation.prototype.__proto__ || (0, _getPrototypeOf2.default)(Geolocation.prototype), 'start', this).call(this);\n\n      if (this.options.feature === 'geolocation-mock') {\n        var geoposition = getRandomGeoposition();\n        this._updateClient(geoposition);\n      }\n\n      // only sync values retrieved from `platform` with server before getting ready\n      this.emit('geoposition', _client2.default.geoposition);\n      this.send('geoposition', geopositionToJson(_client2.default.geoposition));\n      this.ready();\n\n      this.setState(this.options.state);\n    }\n\n    /**\n     * Set the state of the service.\n     *\n     * @param {'start'|'stop'} String - New state of the service.\n     */\n\n  }, {\n    key: 'setState',\n    value: function setState(state) {\n      if (this.state !== state) {\n        this.state = state;\n\n        if (this.state === 'start') this._startWatch();else this._stopWatch();\n      }\n    }\n\n    /**\n     * Resume the refresh of the position.\n     * @private\n     */\n\n  }, {\n    key: '_startWatch',\n    value: function _startWatch() {\n      var _this2 = this;\n\n      if (this.options.debug === false) {\n        this._watchId = geolocation.watchPosition(this._onSuccess, this._onError, this.options);\n      } else {\n        this._watchId = setInterval(function () {\n          updateRandomGeoposition(_client2.default.geoposition);\n          _this2._onSuccess(_client2.default.geoposition);\n        }, 3000);\n      }\n    }\n\n    /**\n     * Pause the refresh of the position.\n     * @private\n     */\n\n  }, {\n    key: '_stopWatch',\n    value: function _stopWatch() {\n      if (this.options.debug === false) navigator.geolocation.clearWatch(this._watchId);else clearInterval(this._watchId);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onSuccess',\n    value: function _onSuccess(geoposition) {\n      this._updateClient(geoposition);\n      this.emit('geoposition', geoposition);\n      this.send('geoposition', geopositionToJson(geoposition));\n    }\n\n    /** @private */\n\n  }, {\n    key: '_updateClient',\n    value: function _updateClient(geoposition) {\n      var coords = geoposition.coords;\n      _client2.default.coordinates = [coords.latitude, coords.longitude];\n      _client2.default.geoposition = geoposition;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onError',\n    value: function _onError(err) {\n      console.error(err.stack);\n    }\n  }]);\n  return Geolocation;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Geolocation);\n\nexports.default = Geolocation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdlb2xvY2F0aW9uLmpzIl0sIm5hbWVzIjpbIlNFUlZJQ0VfSUQiLCJnZW9sb2NhdGlvbiIsIm5hdmlnYXRvciIsImdlb3Bvc2l0aW9uVG9Kc29uIiwiZ2VvcG9zaXRpb24iLCJ0aW1lc3RhbXAiLCJjb29yZHMiLCJhY2N1cmFjeSIsImFsdGl0dWRlIiwiYWx0aXR1ZGVBY2N1cmFjeSIsImhlYWRpbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInNwZWVkIiwiZ2V0UmFuZG9tR2VvcG9zaXRpb24iLCJEYXRlIiwiZ2V0VGltZSIsIk1hdGgiLCJyYW5kb20iLCJ1cGRhdGVSYW5kb21HZW9wb3NpdGlvbiIsIkdlb2xvY2F0aW9uIiwiZGVmYXVsdHMiLCJzdGF0ZSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInBsYXRmb3JtIiwicmVxdWlyZSIsIl9vblN1Y2Nlc3MiLCJiaW5kIiwiX29uRXJyb3IiLCJfd2F0Y2hJZCIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsImZlYXR1cmUiLCJieXBhc3MiLCJ1bmRlZmluZWQiLCJyZXF1aXJlRmVhdHVyZSIsIl91cGRhdGVDbGllbnQiLCJlbWl0IiwiY2xpZW50Iiwic2VuZCIsInJlYWR5Iiwic2V0U3RhdGUiLCJfc3RhcnRXYXRjaCIsIl9zdG9wV2F0Y2giLCJkZWJ1ZyIsIndhdGNoUG9zaXRpb24iLCJzZXRJbnRlcnZhbCIsImNsZWFyV2F0Y2giLCJjbGVhckludGVydmFsIiwiY29vcmRpbmF0ZXMiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFHQSxJQUFNQSxhQUFhLHFCQUFuQjtBQUNBLElBQU1DLGNBQWNDLFVBQVVELFdBQTlCOztBQUVBLFNBQVNFLGlCQUFULENBQTJCQyxXQUEzQixFQUF3QztBQUN0QyxT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QWE7QUFDekIsVUFBTUUsU0FBU0YsWUFBWUUsTUFBM0I7QUFDQWdDLHVCQUFPVyxXQUFQLEdBQXFCLENBQUMzQyxPQUFPSyxRQUFSLEVBQWtCTCxPQUFPTSxTQUF6QixDQUFyQjtBQUNBMEIsdUJBQU9sQyxXQUFQLEdBQXFCQSxXQUFyQjtBQUNEOztBQUVEOzs7OzZCQUNTOEMsRyxFQUFLO0FBQ1pDLGNBQVFDLEtBQVIsQ0FBY0YsSUFBSUcsS0FBbEI7QUFDRDs7O0VBL0d1QkMsaUI7O0FBa0gxQkMseUJBQWVDLFFBQWYsQ0FBd0J4RCxVQUF4QixFQUFvQ29CLFdBQXBDOztrQkFFZUEsVyIsImZpbGUiOiJHZW9sb2NhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgY2xpZW50IGZyb20gJy4uL2NvcmUvY2xpZW50JztcblxuXG5jb25zdCBTRVJWSUNFX0lEID0gJ3NlcnZpY2U6Z2VvbG9jYXRpb24nO1xuY29uc3QgZ2VvbG9jYXRpb24gPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb247XG5cbmZ1bmN0aW9uIGdlb3Bvc2l0aW9uVG9Kc29uKGdlb3Bvc2l0aW9uKSB7XG4gIHJldHVybiB7XG4gICAgdGltZXN0YW1wOiBnZW9wb3NpdGlvbi50aW1lc3RhbXAsXG4gICAgY29vcmRzOiB7XG4gICAgICBhY2N1cmFjeTogZ2VvcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5LFxuICAgICAgYWx0aXR1ZGU6IGdlb3Bvc2l0aW9uLmNvb3Jkcy5hbHRpdHVkZSxcbiAgICAgIGFsdGl0dWRlQWNjdXJhY3k6IGdlb3Bvc2l0aW9uLmNvb3Jkcy5hbHRpdHVkZUFjY3VyYWN5LFxuICAgICAgaGVhZGluZzogZ2VvcG9zaXRpb24uY29vcmRzLmhlYWRpbmcsXG4gICAgICBsYXRpdHVkZTogZ2VvcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiBnZW9wb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgc3BlZWQ6IGdlb3Bvc2l0aW9uLmNvb3Jkcy5zcGVlZFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSYW5kb21HZW9wb3NpdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGNvb3Jkczoge1xuICAgICAgYWNjdXJhY3k6IDEwLFxuICAgICAgYWx0aXR1ZGU6IDEwLFxuICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogMTAsXG4gICAgICBoZWFkaW5nOiAwLFxuICAgICAgbGF0aXR1ZGU6IE1hdGgucmFuZG9tKCkgKiAxODAgLSA5MCxcbiAgICAgIGxvbmdpdHVkZTogTWF0aC5yYW5kb20oKSAqIDM2MCAtIDE4MCxcbiAgICAgIHNwZWVkOiAxLFxuICAgIH1cbiAgfTtcbn1cblxuLy8gdGhpcyBpcyBxdWl0ZSBhIGxhcmdlIHVwZGF0ZS4uLlxuZnVuY3Rpb24gdXBkYXRlUmFuZG9tR2VvcG9zaXRpb24oZ2VvcG9zaXRpb24pIHtcbiAgZ2VvcG9zaXRpb24udGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGdlb3Bvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSArPSAoTWF0aC5yYW5kb20oKSAqIDFlLTQpIC0gKDFlLTQgLyAyKTtcbiAgZ2VvcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSArPSAoTWF0aC5yYW5kb20oKSAqIDFlLTQpIC0gKDFlLTQgLyAyKTtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCdnZW9sb2NhdGlvbidgIHNlcnZpY2UuXG4gKlxuICogVGhlIGAnZ2VvbG9jYXRpb24nYCBzZXJ2aWNlIGFsbG93cyB0byByZXRyaWV2ZSB0aGUgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZVxuICogb2YgdGhlIGNsaWVudCB1c2luZyBgZ3BzYC4gVGhlIGN1cnJlbnQgdmFsdWVzIGFyZSBzdG9yZSBpbnRvIHRoZVxuICogYGNsaWVudC5jb29yZGluYXRlc2AgbWVtYmVyLlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0cyBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5HZW9sb2NhdGlvbn0qX19cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlIGRlZmF1bHQgb3B0aW9ucy5cbiAqIEBwYXJhbSB7J3N0YXJ0J3wnc3RvcCd9IFtvcHRpb25zLnN0YXRlPSdzdGFydCddIC0gRGVmYXVsdCBzdGF0ZSB3aGVuIHRoZVxuICogIHNlcnZpY2UgaXMgbGF1bmNoZWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmVuYWJsZUhpZ2hBY2N1cmFjeT10cnVlXSAtIERlZmluZSBpZiB0aGUgYXBwbGljYXRpb25cbiAqICB3b3VsZCBsaWtlIHRvIHJlY2VpdmUgdGhlIGJlc3QgcG9zc2libGUgcmVzdWx0cyAoY2YuIFtodHRwczovL2Rldi53My5vcmcvZ2VvL2FwaS9zcGVjLXNvdXJjZS5odG1sI2hpZ2gtYWNjdXJhY3ldKGh0dHBzOi8vZGV2LnczLm9yZy9nZW8vYXBpL3NwZWMtc291cmNlLmh0bWwjaGlnaC1hY2N1cmFjeSkpLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqL1xuY2xhc3MgR2VvbG9jYXRpb24gZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgLyoqIF88c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj4gVGhpcyBjbGFzcyBzaG91bGQgbmV2ZXIgYmUgaW5zdGFuY2lhdGVkIG1hbnVhbGx5XyAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgc3RhdGU6ICdzdGFydCcsXG4gICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAvLyBieXBhc3M6IGZhbHNlLFxuICAgIH07XG5cbiAgICB0aGlzLnBsYXRmb3JtID0gdGhpcy5yZXF1aXJlKCdwbGF0Zm9ybScpO1xuXG4gICAgdGhpcy5fb25TdWNjZXNzID0gdGhpcy5fb25TdWNjZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl93YXRjaElkID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgfVxuXG4gIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgY29uc3QgX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmZlYXR1cmUpIHtcbiAgICAgIGxldCBmZWF0dXJlID0gJ2dlb2xvY2F0aW9uJztcblxuICAgICAgaWYgKG9wdGlvbnMuYnlwYXNzICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5ieXBhc3MgPT09IHRydWUpXG4gICAgICAgIGZlYXR1cmUgPSAnZ2VvbG9jYXRpb24tbW9jayc7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgIHRoaXMucGxhdGZvcm0ucmVxdWlyZUZlYXR1cmUoZmVhdHVyZSk7XG4gICAgfVxuXG4gICAgc3VwZXIuY29uZmlndXJlKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZlYXR1cmUgPT09ICdnZW9sb2NhdGlvbi1tb2NrJykge1xuICAgICAgY29uc3QgZ2VvcG9zaXRpb24gPSBnZXRSYW5kb21HZW9wb3NpdGlvbigpO1xuICAgICAgdGhpcy5fdXBkYXRlQ2xpZW50KGdlb3Bvc2l0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBvbmx5IHN5bmMgdmFsdWVzIHJldHJpZXZlZCBmcm9tIGBwbGF0Zm9ybWAgd2l0aCBzZXJ2ZXIgYmVmb3JlIGdldHRpbmcgcmVhZHlcbiAgICB0aGlzLmVtaXQoJ2dlb3Bvc2l0aW9uJywgY2xpZW50Lmdlb3Bvc2l0aW9uKTtcbiAgICB0aGlzLnNlbmQoJ2dlb3Bvc2l0aW9uJywgZ2VvcG9zaXRpb25Ub0pzb24oY2xpZW50Lmdlb3Bvc2l0aW9uKSk7XG4gICAgdGhpcy5yZWFkeSgpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLm9wdGlvbnMuc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdGUgb2YgdGhlIHNlcnZpY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7J3N0YXJ0J3wnc3RvcCd9IFN0cmluZyAtIE5ldyBzdGF0ZSBvZiB0aGUgc2VydmljZS5cbiAgICovXG4gIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnc3RhcnQnKVxuICAgICAgICB0aGlzLl9zdGFydFdhdGNoKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuX3N0b3BXYXRjaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN1bWUgdGhlIHJlZnJlc2ggb2YgdGhlIHBvc2l0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0YXJ0V2F0Y2goKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZWJ1ZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX3dhdGNoSWQgPSBnZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKHRoaXMuX29uU3VjY2VzcywgdGhpcy5fb25FcnJvciwgdGhpcy5vcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd2F0Y2hJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdXBkYXRlUmFuZG9tR2VvcG9zaXRpb24oY2xpZW50Lmdlb3Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5fb25TdWNjZXNzKGNsaWVudC5nZW9wb3NpdGlvbik7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGF1c2UgdGhlIHJlZnJlc2ggb2YgdGhlIHBvc2l0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0b3BXYXRjaCgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlYnVnID09PSBmYWxzZSlcbiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX3dhdGNoSWQpO1xuICAgIGVsc2VcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fd2F0Y2hJZCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uU3VjY2VzcyhnZW9wb3NpdGlvbikge1xuICAgIHRoaXMuX3VwZGF0ZUNsaWVudChnZW9wb3NpdGlvbik7XG4gICAgdGhpcy5lbWl0KCdnZW9wb3NpdGlvbicsIGdlb3Bvc2l0aW9uKTtcbiAgICB0aGlzLnNlbmQoJ2dlb3Bvc2l0aW9uJywgZ2VvcG9zaXRpb25Ub0pzb24oZ2VvcG9zaXRpb24pKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfdXBkYXRlQ2xpZW50KGdlb3Bvc2l0aW9uKSB7XG4gICAgY29uc3QgY29vcmRzID0gZ2VvcG9zaXRpb24uY29vcmRzO1xuICAgIGNsaWVudC5jb29yZGluYXRlcyA9IFtjb29yZHMubGF0aXR1ZGUsIGNvb3Jkcy5sb25naXR1ZGVdO1xuICAgIGNsaWVudC5nZW9wb3NpdGlvbiA9IGdlb3Bvc2l0aW9uO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9vbkVycm9yKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBHZW9sb2NhdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEdlb2xvY2F0aW9uO1xuIl19","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Locator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Locator.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `locator` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractLocatorView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Set and display the `area` definition (as defined in server configuration).\n *\n * @name setArea\n * @memberof module:soundworks/client.AbstractLocatorView\n * @function\n * @abstract\n * @instance\n *\n * @param {Object} area - Area defintion as declared in server configuration.\n * @param {Number} area.width - With of the area.\n * @param {Number} area.height - Height of the area.\n * @param {Number} [area.labels=[]] - Labels of the position.\n * @param {Number} [area.coordinates=[]] - Coordinates of the area.\n */\n/**\n * Register the callback to be executed when the user select a position.\n *\n * @name setSelectCallback\n * @memberof module:soundworks/client.AbstractLocatorView\n * @function\n * @abstract\n * @instance\n *\n * @param {selectCallback} callback - Callback to be executed\n *  when a position is selected. This callback should be called with the `index`,\n * `label` and `coordinates` of the requested position.\n */\n\n/**\n * Callback to execute when the user select a position.\n *\n * @callback\n * @name selectCallback\n * @memberof module:soundworks/client.AbstractLocatorView\n * @param {Number} index - Index of the selected location.\n * @param {String} label - Label of the selected location if any.\n * @param {Array<Number>} coordinates - Coordinates (`[x, y]`) of the selected\n *  location if any.\n */\n\nvar SERVICE_ID = 'service:locator';\n\n/**\n * Interface for the client `'locator'` service.\n *\n * This service is one of the provided services aimed at identifying clients inside\n * the experience along with the [`'placer'`]{@link module:soundworks/client.Placer}\n * and [`'checkin'`]{@link module:soundworks/client.Checkin} services.\n *\n * The `'locator'` service allows a client to give its approximate location inside\n * a graphical representation of the `area` as defined in the server's `setup`\n * configuration member.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Locator}*__\n *\n * @see {@link module:soundworks/client.Placer}\n * @see {@link module:soundworks/client.Checkin}\n *\n * @param {Object} options\n * @param {Boolean} [options.random=false] - Defines whether the location is\n *  set randomly (mainly for development purposes).\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.locator = this.require('locator');\n */\n\nvar Locator = function (_Service) {\n  (0, _inherits3.default)(Locator, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Locator() {\n    (0, _classCallCheck3.default)(this, Locator);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Locator.__proto__ || (0, _getPrototypeOf2.default)(Locator)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      random: false,\n      viewPriority: 6\n    };\n\n    _this.configure(defaults);\n\n    _this._sharedConfig = _this.require('shared-config');\n\n    _this._onAknowledgeResponse = _this._onAknowledgeResponse.bind(_this);\n    _this._sendCoordinates = _this._sendCoordinates.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Locator, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Locator.prototype.__proto__ || (0, _getPrototypeOf2.default)(Locator.prototype), 'start', this).call(this);\n      this.show();\n\n      this.send('request');\n      this.receive('acknowledge', this._onAknowledgeResponse);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(Locator.prototype.__proto__ || (0, _getPrototypeOf2.default)(Locator.prototype), 'stop', this).call(this);\n      this.removeListener('acknowledge', this._onAknowledgeResponse);\n      this.hide();\n    }\n\n    /**\n     * @private\n     * @param {Object} areaConfigPath - Path to the area in the configuration.\n     */\n\n  }, {\n    key: '_onAknowledgeResponse',\n    value: function _onAknowledgeResponse(areaConfigPath) {\n      if (this.options.random) {\n        var x = Math.random() * area.width;\n        var y = Math.random() * area.height;\n        this._sendCoordinates(x, y);\n      } else {\n        var _area = this._sharedConfig.get(areaConfigPath);\n        this.view.setArea(_area);\n        this.view.setSelectCallback(this._sendCoordinates);\n      }\n    }\n\n    /**\n     * Send coordinates to the server.\n     * @private\n     * @param {Number} x - The `x` coordinate of the client.\n     * @param {Number} y - The `y` coordinate of the client.\n     */\n\n  }, {\n    key: '_sendCoordinates',\n    value: function _sendCoordinates(x, y) {\n      _client2.default.coordinates = [x, y];\n\n      this.send('coordinates', _client2.default.coordinates);\n      this.ready();\n    }\n  }]);\n  return Locator;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Locator);\n\nexports.default = Locator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvY2F0b3IuanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIkxvY2F0b3IiLCJkZWZhdWx0cyIsInJhbmRvbSIsInZpZXdQcmlvcml0eSIsImNvbmZpZ3VyZSIsIl9zaGFyZWRDb25maWciLCJyZXF1aXJlIiwiX29uQWtub3dsZWRnZVJlc3BvbnNlIiwiYmluZCIsIl9zZW5kQ29vcmRpbmF0ZXMiLCJzaG93Iiwic2VuZCIsInJlY2VpdmUiLCJyZW1vdmVMaXN0ZW5lciIsImhpZGUiLCJhcmVhQ29uZmlnUGF0aCIsIm9wdGlvbnMiLCJ4IiwiTWF0aCIsImFyZWEiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJnZXQiLCJ2aWV3Iiwic2V0QXJlYSIsInNldFNlbGVjdENhbGxiYWNrIiwiY2xpZW50IiwiY29vcmRpbmF0ZXMiLCJyZWFkeSIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7OztBQVFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTs7Ozs7Ozs7Ozs7Ozs7QUFjQTs7Ozs7Ozs7Ozs7O0FBWUEsSUFBTUEsYUFBYSxpQkFBbkI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBeUJNQyxPOzs7QUFDSjtBQUNBLHFCQUFjO0FBQUE7O0FBQUEsd0lBQ05ELFVBRE0sRUFDTSxJQUROOztBQUdaLFFBQU1FLFdBQVc7QUFDZkMsY0FBUSxLQURPO0FBRWZDLG9CQUFjO0FBRkMsS0FBakI7O0FBS0EsVUFBS0MsU0FBTCxDQUFlSCxRQUFmOztBQUVBLFVBQUtJLGFBQUwsR0FBcUIsTUFBS0MsT0FBTCxDQUFhLGVBQWIsQ0FBckI7O0FBRUEsVUFBS0MscUJBQUwsR0FBNkIsTUFBS0EscUJBQUwsQ0FBMkJDLElBQTNCLE9BQTdCO0FBQ0EsVUFBS0MsZ0JBQUwsR0FBd0IsTUFBS0EsZ0JBQUwsQ0FBc0JELElBQXRCLE9BQXhCO0FBYlk7QUFjYjs7QUFFRDs7Ozs7NEJBQ1E7QUFDTjtBQUNBLFdBQUtFLElBQUw7O0FBRUEsV0FBS0MsSUFBTCxDQUFVLFNBQVY7QUFDQSxXQUFLQyxPQUFMLENBQWEsYUFBYixFQUE0QixLQUFLTCxxQkFBakM7QUFDRDs7QUFFRDs7OzsyQkFDTztBQUNMO0FBQ0EsV0FBS00sY0FBTCxDQUFvQixhQUFwQixFQUFtQyxLQUFLTixxQkFBeEM7QUFDQSxXQUFLTyxJQUFMO0FBQ0Q7O0FBRUQ7Ozs7Ozs7MENBSXNCQyxjLEVBQWdCO0FBQ3BDLFVBQUksS0FBS0MsT0FBTCxDQUFhZCxNQUFqQixFQUF5QjtBQUN2QixZQUFNZSxJQUFJQyxLQUFLaEIsTUFBTCxLQUFnQmlCLEtBQUtDLEtBQS9CO0FBQ0EsWUFBTUMsSUFBSUgsS0FBS2hCLE1BQUwsS0FBZ0JpQixLQUFLRyxNQUEvQjtBQUNBLGFBQUtiLGdCQUFMLENBQXNCUSxDQUF0QixFQUF5QkksQ0FBekI7QUFDRCxPQUpELE1BSU87QUFDTCxZQUFNRixRQUFPLEtBQUtkLGFBQUwsQ0FBbUJrQixHQUFuQixDQUF1QlIsY0FBdkIsQ0FBYjtBQUNBLGFBQUtTLElBQUwsQ0FBVUMsT0FBVixDQUFrQk4sS0FBbEI7QUFDQSxhQUFLSyxJQUFMLENBQVVFLGlCQUFWLENBQTRCLEtBQUtqQixnQkFBakM7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7cUNBTWlCUSxDLEVBQUdJLEMsRUFBRztBQUNyQk0sdUJBQU9DLFdBQVAsR0FBcUIsQ0FBQ1gsQ0FBRCxFQUFJSSxDQUFKLENBQXJCOztBQUVBLFdBQUtWLElBQUwsQ0FBVSxhQUFWLEVBQXlCZ0IsaUJBQU9DLFdBQWhDO0FBQ0EsV0FBS0MsS0FBTDtBQUNEOzs7RUE3RG1CQyxpQjs7QUFnRXRCQyx5QkFBZUMsUUFBZixDQUF3QmpDLFVBQXhCLEVBQW9DQyxPQUFwQzs7a0JBRWVBLE8iLCJmaWxlIjoiTG9jYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGllbnQgZnJvbSAnLi4vY29yZS9jbGllbnQnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcblxuLyoqXG4gKiBBUEkgb2YgYSBjb21wbGlhbnQgdmlldyBmb3IgdGhlIGBsb2NhdG9yYCBzZXJ2aWNlLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBpbnRlcmZhY2UgQWJzdHJhY3RMb2NhdG9yVmlld1xuICogQGV4dGVuZHMgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0Vmlld1xuICogQGFic3RyYWN0XG4gKi9cbi8qKlxuICogU2V0IGFuZCBkaXNwbGF5IHRoZSBgYXJlYWAgZGVmaW5pdGlvbiAoYXMgZGVmaW5lZCBpbiBzZXJ2ZXIgY29uZmlndXJhdGlvbikuXG4gKlxuICogQG5hbWUgc2V0QXJlYVxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdExvY2F0b3JWaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFyZWEgLSBBcmVhIGRlZmludGlvbiBhcyBkZWNsYXJlZCBpbiBzZXJ2ZXIgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBhcmVhLndpZHRoIC0gV2l0aCBvZiB0aGUgYXJlYS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBhcmVhLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgYXJlYS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbYXJlYS5sYWJlbHM9W11dIC0gTGFiZWxzIG9mIHRoZSBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbYXJlYS5jb29yZGluYXRlcz1bXV0gLSBDb29yZGluYXRlcyBvZiB0aGUgYXJlYS5cbiAqL1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgdXNlciBzZWxlY3QgYSBwb3NpdGlvbi5cbiAqXG4gKiBAbmFtZSBzZXRTZWxlY3RDYWxsYmFja1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdExvY2F0b3JWaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHtzZWxlY3RDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0byBiZSBleGVjdXRlZFxuICogIHdoZW4gYSBwb3NpdGlvbiBpcyBzZWxlY3RlZC4gVGhpcyBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBpbmRleGAsXG4gKiBgbGFiZWxgIGFuZCBgY29vcmRpbmF0ZXNgIG9mIHRoZSByZXF1ZXN0ZWQgcG9zaXRpb24uXG4gKi9cblxuLyoqXG4gKiBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXIgc2VsZWN0IGEgcG9zaXRpb24uXG4gKlxuICogQGNhbGxiYWNrXG4gKiBAbmFtZSBzZWxlY3RDYWxsYmFja1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdExvY2F0b3JWaWV3XG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBvZiB0aGUgc2VsZWN0ZWQgbG9jYXRpb24uXG4gKiBAcGFyYW0ge1N0cmluZ30gbGFiZWwgLSBMYWJlbCBvZiB0aGUgc2VsZWN0ZWQgbG9jYXRpb24gaWYgYW55LlxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBjb29yZGluYXRlcyAtIENvb3JkaW5hdGVzIChgW3gsIHldYCkgb2YgdGhlIHNlbGVjdGVkXG4gKiAgbG9jYXRpb24gaWYgYW55LlxuICovXG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpsb2NhdG9yJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCdsb2NhdG9yJ2Agc2VydmljZS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgb25lIG9mIHRoZSBwcm92aWRlZCBzZXJ2aWNlcyBhaW1lZCBhdCBpZGVudGlmeWluZyBjbGllbnRzIGluc2lkZVxuICogdGhlIGV4cGVyaWVuY2UgYWxvbmcgd2l0aCB0aGUgW2AncGxhY2VyJ2Bde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5QbGFjZXJ9XG4gKiBhbmQgW2AnY2hlY2tpbidgXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2hlY2tpbn0gc2VydmljZXMuXG4gKlxuICogVGhlIGAnbG9jYXRvcidgIHNlcnZpY2UgYWxsb3dzIGEgY2xpZW50IHRvIGdpdmUgaXRzIGFwcHJveGltYXRlIGxvY2F0aW9uIGluc2lkZVxuICogYSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBhcmVhYCBhcyBkZWZpbmVkIGluIHRoZSBzZXJ2ZXIncyBgc2V0dXBgXG4gKiBjb25maWd1cmF0aW9uIG1lbWJlci5cbiAqXG4gKiBfXypUaGUgc2VydmljZSBtdXN0IGJlIHVzZWQgd2l0aCBpdHMgW3NlcnZlci1zaWRlIGNvdW50ZXJwYXJ0XXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9zZXJ2ZXIuTG9jYXRvcn0qX19cbiAqXG4gKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfVxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNoZWNraW59XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmFuZG9tPWZhbHNlXSAtIERlZmluZXMgd2hldGhlciB0aGUgbG9jYXRpb24gaXNcbiAqICBzZXQgcmFuZG9tbHkgKG1haW5seSBmb3IgZGV2ZWxvcG1lbnQgcHVycG9zZXMpLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMubG9jYXRvciA9IHRoaXMucmVxdWlyZSgnbG9jYXRvcicpO1xuICovXG5jbGFzcyBMb2NhdG9yIGV4dGVuZHMgU2VydmljZSB7XG4gIC8qKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlIGluc3RhbmNpYXRlZCBtYW51YWxseV8gKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgdHJ1ZSk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIHJhbmRvbTogZmFsc2UsXG4gICAgICB2aWV3UHJpb3JpdHk6IDYsXG4gICAgfTtcblxuICAgIHRoaXMuY29uZmlndXJlKGRlZmF1bHRzKTtcblxuICAgIHRoaXMuX3NoYXJlZENvbmZpZyA9IHRoaXMucmVxdWlyZSgnc2hhcmVkLWNvbmZpZycpO1xuXG4gICAgdGhpcy5fb25Ba25vd2xlZGdlUmVzcG9uc2UgPSB0aGlzLl9vbkFrbm93bGVkZ2VSZXNwb25zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlbmRDb29yZGluYXRlcyA9IHRoaXMuX3NlbmRDb29yZGluYXRlcy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG4gICAgdGhpcy5zaG93KCk7XG5cbiAgICB0aGlzLnNlbmQoJ3JlcXVlc3QnKTtcbiAgICB0aGlzLnJlY2VpdmUoJ2Fja25vd2xlZGdlJywgdGhpcy5fb25Ba25vd2xlZGdlUmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Fja25vd2xlZGdlJywgdGhpcy5fb25Ba25vd2xlZGdlUmVzcG9uc2UpO1xuICAgIHRoaXMuaGlkZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmVhQ29uZmlnUGF0aCAtIFBhdGggdG8gdGhlIGFyZWEgaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBfb25Ba25vd2xlZGdlUmVzcG9uc2UoYXJlYUNvbmZpZ1BhdGgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJhbmRvbSkge1xuICAgICAgY29uc3QgeCA9IE1hdGgucmFuZG9tKCkgKiBhcmVhLndpZHRoO1xuICAgICAgY29uc3QgeSA9IE1hdGgucmFuZG9tKCkgKiBhcmVhLmhlaWdodDtcbiAgICAgIHRoaXMuX3NlbmRDb29yZGluYXRlcyh4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYXJlYSA9IHRoaXMuX3NoYXJlZENvbmZpZy5nZXQoYXJlYUNvbmZpZ1BhdGgpO1xuICAgICAgdGhpcy52aWV3LnNldEFyZWEoYXJlYSk7XG4gICAgICB0aGlzLnZpZXcuc2V0U2VsZWN0Q2FsbGJhY2sodGhpcy5fc2VuZENvb3JkaW5hdGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBjb29yZGluYXRlcyB0byB0aGUgc2VydmVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFRoZSBgeGAgY29vcmRpbmF0ZSBvZiB0aGUgY2xpZW50LlxuICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFRoZSBgeWAgY29vcmRpbmF0ZSBvZiB0aGUgY2xpZW50LlxuICAgKi9cbiAgX3NlbmRDb29yZGluYXRlcyh4LCB5KSB7XG4gICAgY2xpZW50LmNvb3JkaW5hdGVzID0gW3gsIHldO1xuXG4gICAgdGhpcy5zZW5kKCdjb29yZGluYXRlcycsIGNsaWVudC5jb29yZGluYXRlcyk7XG4gICAgdGhpcy5yZWFkeSgpO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIExvY2F0b3IpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2NhdG9yO1xuIl19","deps":{"../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Network.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Network.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:network';\n\n/**\n * Interface for the client `'network'` service.\n *\n * This service provides a generic way to create client to client communications\n * through websockets without server side custom code.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Network}*__\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.network = this.require('network');\n * // after the experience has started, listens to events\n * this.network.receive('my:channel', (...args) => {\n *   // do something with `args`\n * });\n * // somewhere in the experience\n * this.network.send('player', 'my:channel', 42, false);\n */\n\nvar Network = function (_Service) {\n  (0, _inherits3.default)(Network, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Network() {\n    (0, _classCallCheck3.default)(this, Network);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Network.__proto__ || (0, _getPrototypeOf2.default)(Network)).call(this, SERVICE_ID, true));\n\n    var defaults = {};\n    _this.configure(defaults);\n\n    _this._listeners = {};\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Network, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(Network.prototype.__proto__ || (0, _getPrototypeOf2.default)(Network.prototype), 'start', this).call(this);\n\n      // common logic for receivers\n      (0, _get3.default)(Network.prototype.__proto__ || (0, _getPrototypeOf2.default)(Network.prototype), 'receive', this).call(this, 'receive', function () {\n        for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n          values[_key] = arguments[_key];\n        }\n\n        var channel = values.shift();\n        var listeners = _this2._listeners[channel];\n\n        if (Array.isArray(listeners)) listeners.forEach(function (callback) {\n          return callback.apply(undefined, values);\n        });\n      });\n\n      this.ready();\n    }\n\n    /**\n     * Send a message to given client type(s).\n     * @param {String|Array<String>} clientTypes - Client type(s) to send the\n     *  message to.\n     * @param {String} channel - Channel of the message.\n     * @param {...Mixed} values - Values to send in the message.\n     */\n\n  }, {\n    key: 'send',\n    value: function send(clientTypes, channel) {\n      for (var _len2 = arguments.length, values = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        values[_key2 - 2] = arguments[_key2];\n      }\n\n      values.unshift(clientTypes, channel);\n      (0, _get3.default)(Network.prototype.__proto__ || (0, _getPrototypeOf2.default)(Network.prototype), 'send', this).call(this, 'send', values);\n    }\n\n    /**\n     * Send a message to all the connected clients.\n     * @param {String} channel - Channel of the message.\n     * @param {...Mixed} values - Values to send in the message.\n     */\n\n  }, {\n    key: 'broadcast',\n    value: function broadcast(channel) {\n      for (var _len3 = arguments.length, values = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        values[_key3 - 1] = arguments[_key3];\n      }\n\n      values.unshift(channel);\n      (0, _get3.default)(Network.prototype.__proto__ || (0, _getPrototypeOf2.default)(Network.prototype), 'send', this).call(this, 'broadcast', values);\n    }\n\n    /**\n     * Register a callback to be executed when a message is received on a given\n     * channel.\n     * @param {String} channel - Channel to listen to.\n     * @param {Function} callback - Function to execute when a message is received.\n     */\n\n  }, {\n    key: 'receive',\n    value: function receive(channel, callback) {\n      if (!this._listeners[channel]) this._listeners[channel] = [];\n\n      this._listeners[channel].push(callback);\n    }\n\n    /**\n     * Remove a callback from listening a given channel.\n     * @param {String} channel - Channel to stop listening to.\n     * @param {Function} callback - The previously registered callback function.\n     */\n\n  }, {\n    key: 'removeListener',\n    value: function removeListener(channel, callback) {\n      var listeners = this._listeners[channel];\n\n      if (Array.isArray(listeners)) {\n        var index = listeners.indexOf(callback);\n\n        if (index !== -1) listeners.splice(index, 1);\n      }\n    }\n  }]);\n  return Network;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Network);\n\nexports.default = Network;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5ldHdvcmsuanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIk5ldHdvcmsiLCJkZWZhdWx0cyIsImNvbmZpZ3VyZSIsIl9saXN0ZW5lcnMiLCJ2YWx1ZXMiLCJjaGFubmVsIiwic2hpZnQiLCJsaXN0ZW5lcnMiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJyZWFkeSIsImNsaWVudFR5cGVzIiwidW5zaGlmdCIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsYUFBYSxpQkFBbkI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbUJNQyxPOzs7QUFDSjtBQUNBLHFCQUFjO0FBQUE7O0FBQUEsd0lBQ05ELFVBRE0sRUFDTSxJQUROOztBQUdaLFFBQU1FLFdBQVcsRUFBakI7QUFDQSxVQUFLQyxTQUFMLENBQWVELFFBQWY7O0FBRUEsVUFBS0UsVUFBTCxHQUFrQixFQUFsQjtBQU5ZO0FBT2I7O0FBRUQ7Ozs7OzRCQUNRO0FBQUE7O0FBQ047O0FBRUE7QUFDQSxzSUFBYyxTQUFkLEVBQXlCLFlBQWU7QUFBQSwwQ0FBWEMsTUFBVztBQUFYQSxnQkFBVztBQUFBOztBQUN0QyxZQUFNQyxVQUFVRCxPQUFPRSxLQUFQLEVBQWhCO0FBQ0EsWUFBTUMsWUFBWSxPQUFLSixVQUFMLENBQWdCRSxPQUFoQixDQUFsQjs7QUFFQSxZQUFJRyxNQUFNQyxPQUFOLENBQWNGLFNBQWQsQ0FBSixFQUNFQSxVQUFVRyxPQUFWLENBQWtCLFVBQUNDLFFBQUQ7QUFBQSxpQkFBY0EsMEJBQVlQLE1BQVosQ0FBZDtBQUFBLFNBQWxCO0FBQ0gsT0FORDs7QUFRQSxXQUFLUSxLQUFMO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7eUJBT0tDLFcsRUFBYVIsTyxFQUFvQjtBQUFBLHlDQUFSRCxNQUFRO0FBQVJBLGNBQVE7QUFBQTs7QUFDcENBLGFBQU9VLE9BQVAsQ0FBZUQsV0FBZixFQUE0QlIsT0FBNUI7QUFDQSxtSUFBVyxNQUFYLEVBQW1CRCxNQUFuQjtBQUNEOztBQUVEOzs7Ozs7Ozs4QkFLVUMsTyxFQUFvQjtBQUFBLHlDQUFSRCxNQUFRO0FBQVJBLGNBQVE7QUFBQTs7QUFDNUJBLGFBQU9VLE9BQVAsQ0FBZVQsT0FBZjtBQUNBLG1JQUFXLFdBQVgsRUFBd0JELE1BQXhCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs0QkFNUUMsTyxFQUFTTSxRLEVBQVU7QUFDekIsVUFBSSxDQUFDLEtBQUtSLFVBQUwsQ0FBZ0JFLE9BQWhCLENBQUwsRUFDRSxLQUFLRixVQUFMLENBQWdCRSxPQUFoQixJQUEyQixFQUEzQjs7QUFFRixXQUFLRixVQUFMLENBQWdCRSxPQUFoQixFQUF5QlUsSUFBekIsQ0FBOEJKLFFBQTlCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O21DQUtlTixPLEVBQVNNLFEsRUFBVTtBQUNoQyxVQUFNSixZQUFZLEtBQUtKLFVBQUwsQ0FBZ0JFLE9BQWhCLENBQWxCOztBQUVBLFVBQUlHLE1BQU1DLE9BQU4sQ0FBY0YsU0FBZCxDQUFKLEVBQThCO0FBQzVCLFlBQU1TLFFBQVFULFVBQVVVLE9BQVYsQ0FBa0JOLFFBQWxCLENBQWQ7O0FBRUEsWUFBSUssVUFBVSxDQUFDLENBQWYsRUFDRVQsVUFBVVcsTUFBVixDQUFpQkYsS0FBakIsRUFBd0IsQ0FBeEI7QUFDSDtBQUNGOzs7RUE1RW1CRyxpQjs7QUErRXRCQyx5QkFBZUMsUUFBZixDQUF3QnRCLFVBQXhCLEVBQW9DQyxPQUFwQzs7a0JBRWVBLE8iLCJmaWxlIjoiTmV0d29yay5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpuZXR3b3JrJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCduZXR3b3JrJ2Agc2VydmljZS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgcHJvdmlkZXMgYSBnZW5lcmljIHdheSB0byBjcmVhdGUgY2xpZW50IHRvIGNsaWVudCBjb21tdW5pY2F0aW9uc1xuICogdGhyb3VnaCB3ZWJzb2NrZXRzIHdpdGhvdXQgc2VydmVyIHNpZGUgY3VzdG9tIGNvZGUuXG4gKlxuICogX18qVGhlIHNlcnZpY2UgbXVzdCBiZSB1c2VkIHdpdGggaXRzIFtzZXJ2ZXItc2lkZSBjb3VudGVycGFydF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3Mvc2VydmVyLk5ldHdvcmt9Kl9fXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGV4YW1wbGVcbiAqIC8vIGluc2lkZSB0aGUgZXhwZXJpZW5jZSBjb25zdHJ1Y3RvclxuICogdGhpcy5uZXR3b3JrID0gdGhpcy5yZXF1aXJlKCduZXR3b3JrJyk7XG4gKiAvLyBhZnRlciB0aGUgZXhwZXJpZW5jZSBoYXMgc3RhcnRlZCwgbGlzdGVucyB0byBldmVudHNcbiAqIHRoaXMubmV0d29yay5yZWNlaXZlKCdteTpjaGFubmVsJywgKC4uLmFyZ3MpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIHdpdGggYGFyZ3NgXG4gKiB9KTtcbiAqIC8vIHNvbWV3aGVyZSBpbiB0aGUgZXhwZXJpZW5jZVxuICogdGhpcy5uZXR3b3JrLnNlbmQoJ3BsYXllcicsICdteTpjaGFubmVsJywgNDIsIGZhbHNlKTtcbiAqL1xuY2xhc3MgTmV0d29yayBleHRlbmRzIFNlcnZpY2Uge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIHRydWUpO1xuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7fTtcbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG5cbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgLy8gY29tbW9uIGxvZ2ljIGZvciByZWNlaXZlcnNcbiAgICBzdXBlci5yZWNlaXZlKCdyZWNlaXZlJywgKC4uLnZhbHVlcykgPT4ge1xuICAgICAgY29uc3QgY2hhbm5lbCA9IHZhbHVlcy5zaGlmdCgpO1xuICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2NoYW5uZWxdO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpKVxuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKC4uLnZhbHVlcykpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZWFkeSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIGdpdmVuIGNsaWVudCB0eXBlKHMpLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheTxTdHJpbmc+fSBjbGllbnRUeXBlcyAtIENsaWVudCB0eXBlKHMpIHRvIHNlbmQgdGhlXG4gICAqICBtZXNzYWdlIHRvLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIENoYW5uZWwgb2YgdGhlIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7Li4uTWl4ZWR9IHZhbHVlcyAtIFZhbHVlcyB0byBzZW5kIGluIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgc2VuZChjbGllbnRUeXBlcywgY2hhbm5lbCwgLi4udmFsdWVzKSB7XG4gICAgdmFsdWVzLnVuc2hpZnQoY2xpZW50VHlwZXMsIGNoYW5uZWwpO1xuICAgIHN1cGVyLnNlbmQoJ3NlbmQnLCB2YWx1ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIGFsbCB0aGUgY29ubmVjdGVkIGNsaWVudHMuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gQ2hhbm5lbCBvZiB0aGUgbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5NaXhlZH0gdmFsdWVzIC0gVmFsdWVzIHRvIHNlbmQgaW4gdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBicm9hZGNhc3QoY2hhbm5lbCwgLi4udmFsdWVzKSB7XG4gICAgdmFsdWVzLnVuc2hpZnQoY2hhbm5lbCk7XG4gICAgc3VwZXIuc2VuZCgnYnJvYWRjYXN0JywgdmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkIG9uIGEgZ2l2ZW5cbiAgICogY2hhbm5lbC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNoYW5uZWwgLSBDaGFubmVsIHRvIGxpc3RlbiB0by5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkLlxuICAgKi9cbiAgcmVjZWl2ZShjaGFubmVsLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzW2NoYW5uZWxdKVxuICAgICAgdGhpcy5fbGlzdGVuZXJzW2NoYW5uZWxdID0gW107XG5cbiAgICB0aGlzLl9saXN0ZW5lcnNbY2hhbm5lbF0ucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSBsaXN0ZW5pbmcgYSBnaXZlbiBjaGFubmVsLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIENoYW5uZWwgdG8gc3RvcCBsaXN0ZW5pbmcgdG8uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGNoYW5uZWwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2NoYW5uZWxdO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBOZXR3b3JrKTtcblxuZXhwb3J0IGRlZmF1bHQgTmV0d29yaztcbiJdfQ==","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Placer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Placer.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _SelectView = require('../prefabs/SelectView');\n\nvar _SelectView2 = _interopRequireDefault(_SelectView);\n\nvar _SpaceView = require('../prefabs/SpaceView');\n\nvar _SpaceView2 = _interopRequireDefault(_SpaceView);\n\nvar _SquaredView = require('../prefabs/SquaredView');\n\nvar _SquaredView2 = _interopRequireDefault(_SquaredView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `placer` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractPlacerView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Set and display the `area` definition (as defined in server configuration).\n *\n * @name setReadyCallback\n * @memberof module:soundworks/client.AbstractPlacerView\n * @function\n * @abstract\n * @instance\n *\n * @param {Object} area - Definition of the area.\n * @param {Number} area.width - With of the area.\n * @param {Number} area.height - Height of the area.\n * @param {Number} [area.labels=[]] - Labels of the position.\n * @param {Number} [area.coordinates=[]] - Coordinates of the area.\n */\n/**\n * Register the callback to be executed when the user select a position.\n *\n * @name setSelectCallback\n * @memberof module:soundworks/client.AbstractPlacerView\n * @function\n * @abstract\n * @instance\n *\n * @param {String} callback - Callback to execute when the user select a position.\n *  This callback should be called with the `index`, `label` and `coordinates` of\n *  the requested position.\n */\n/**\n * Display the available positions.\n *\n * @name displayPosition\n * @memberof module:soundworks/client.AbstractPlacerView\n * @function\n * @abstract\n * @instance\n *\n * @param {Number} capacity - The maximum number of clients allowed.\n * @param {Array<String>} [labels=null] - An array of the labels for the positions\n * @param {Array<Array<Number>>} [coordinates=null] - An array of the coordinates of the positions\n * @param {Number} [maxClientsPerPosition=1] - Number of clients allowed for each position.\n */\n/**\n * Update the view accroding to the disabled positions.\n *\n * @name updateDisabledPositions\n * @memberof module:soundworks/client.AbstractPlacerView\n * @function\n * @abstract\n * @instance\n *\n * @param {Array<Number>} disabledPositions - Array containing the indexes of\n *  the disabled positions.\n */\n/**\n * Update the view when the position selected by the user is no longer available.\n *\n * @name reject\n * @memberof module:soundworks/client.AbstractPlacerView\n * @function\n * @abstract\n * @instance\n *\n * @param {Array<Number>} disabledPositions - Array containing the indexes of\n *  the disabled positions.\n */\n\n/**\n * Callback to execute when the user select a position.\n *\n * @callback\n * @name selectCallback\n * @memberof module:soundworks/client.AbstractPlacerView\n * @param {Number} index - Index of the selected location.\n * @param {String} label - Label of the selected location if any.\n * @param {Array<Number>} coordinates - Coordinates (`[x, y]`) of the selected\n *  location if any.\n */\n\nvar SERVICE_ID = 'service:placer';\n\n/**\n * Interface for the `'placer'` service.\n *\n * This service is one of the provided services aimed at identifying clients inside\n * the experience along with the [`'locator'`]{@link module:soundworks/client.Locator}\n * and [`'checkin'`]{@link module:soundworks/client.Checkin} services.\n *\n * The `'placer'` service allows a client to choose its location among a set of\n * positions defined in the server's `setup` configuration entry.\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.Placer}*__\n *\n * @see {@link module:soundworks/client.Locator}\n * @see {@link module:soundworks/client.Checkin}\n *\n * @param {Object} options\n * @param {String} [options.mode='list'] - Sets the interaction mode for the\n *  client to choose its position, the `'list'` mode proposes a drop-down menu\n *  while the `'graphic'` mode (which requires located positions) proposes an\n *  interface representing the area and dots for each available location.\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.placer = this.require('placer', { mode: 'graphic' });\n */\n\nvar Placer = function (_Service) {\n  (0, _inherits3.default)(Placer, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function Placer() {\n    (0, _classCallCheck3.default)(this, Placer);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Placer.__proto__ || (0, _getPrototypeOf2.default)(Placer)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      mode: 'list',\n      viewPriority: 6\n    };\n\n    _this.configure(defaults);\n\n    /**\n     * Index of the position selected by the user.\n     * @type {Number}\n     */\n    _this.index = null;\n\n    /**\n     * Label of the position selected by the user.\n     * @type {String}\n     */\n    _this.label = null;\n\n    _this._onAknowledgeResponse = _this._onAknowledgeResponse.bind(_this);\n    _this._onClientJoined = _this._onClientJoined.bind(_this);\n    _this._onClientLeaved = _this._onClientLeaved.bind(_this);\n    _this._onSelect = _this._onSelect.bind(_this);\n    _this._onConfirmResponse = _this._onConfirmResponse.bind(_this);\n    _this._onRejectResponse = _this._onRejectResponse.bind(_this);\n\n    _this._sharedConfigService = _this.require('shared-config');\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Placer, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(Placer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Placer.prototype), 'start', this).call(this);\n      this.show();\n\n      this.send('request');\n\n      this.receive('aknowlegde', this._onAknowledgeResponse);\n      this.receive('confirm', this._onConfirmResponse);\n      this.receive('reject', this._onRejectResponse);\n      this.receive('client-joined', this._onClientJoined);\n      this.receive('client-leaved', this._onClientLeaved);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.removeListener('aknowlegde', this._onAknowledgeResponse);\n      this.removeListener('confirm', this._onConfirmResponse);\n      this.removeListener('reject', this._onRejectResponse);\n      this.removeListener('client-joined', this._onClientJoined);\n      this.removeListener('client-leaved', this._onClientLeaved);\n\n      this.hide();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onAknowledgeResponse',\n    value: function _onAknowledgeResponse(setupConfigItem, disabledPositions) {\n      var setup = this._sharedConfigService.get(setupConfigItem);\n      var area = setup.area;\n      var capacity = setup.capacity;\n      var labels = setup.labels;\n      var coordinates = setup.coordinates;\n      var maxClientsPerPosition = setup.maxClientsPerPosition;\n\n      this.nbrPositions = capacity / maxClientsPerPosition;\n\n      if (area) this.view.setArea(area);\n\n      this.view.displayPositions(capacity, labels, coordinates, maxClientsPerPosition);\n      this.view.updateDisabledPositions(disabledPositions);\n      this.view.setSelectCallack(this._onSelect);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onSelect',\n    value: function _onSelect(index, label, coordinates) {\n      this.send('position', index, label, coordinates);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onConfirmResponse',\n    value: function _onConfirmResponse(index, label, coordinates) {\n      _client2.default.index = this.index = index;\n      _client2.default.label = this.label = label;\n      _client2.default.coordinates = coordinates;\n\n      this.ready();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onClientJoined',\n    value: function _onClientJoined(disabledPositions) {\n      if (disabledPositions.length >= this.nbrPositions) this.view.reject(disabledPositions);else this.view.updateDisabledPositions(disabledPositions);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onClientLeaved',\n    value: function _onClientLeaved(disabledPositions) {\n      this.view.updateDisabledPositions(disabledPositions);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onRejectResponse',\n    value: function _onRejectResponse(disabledPositions) {\n      if (disabledPositions.length >= this.nbrPositions) this.view.reject(disabledPositions);else this.view.updateDisabledPositions(disabledPositions);\n    }\n  }]);\n  return Placer;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Placer);\n\nexports.default = Placer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYWNlci5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwiUGxhY2VyIiwiZGVmYXVsdHMiLCJtb2RlIiwidmlld1ByaW9yaXR5IiwiY29uZmlndXJlIiwiaW5kZXgiLCJsYWJlbCIsIl9vbkFrbm93bGVkZ2VSZXNwb25zZSIsImJpbmQiLCJfb25DbGllbnRKb2luZWQiLCJfb25DbGllbnRMZWF2ZWQiLCJfb25TZWxlY3QiLCJfb25Db25maXJtUmVzcG9uc2UiLCJfb25SZWplY3RSZXNwb25zZSIsIl9zaGFyZWRDb25maWdTZXJ2aWNlIiwicmVxdWlyZSIsInNob3ciLCJzZW5kIiwicmVjZWl2ZSIsInJlbW92ZUxpc3RlbmVyIiwiaGlkZSIsInNldHVwQ29uZmlnSXRlbSIsImRpc2FibGVkUG9zaXRpb25zIiwic2V0dXAiLCJnZXQiLCJhcmVhIiwiY2FwYWNpdHkiLCJsYWJlbHMiLCJjb29yZGluYXRlcyIsIm1heENsaWVudHNQZXJQb3NpdGlvbiIsIm5iclBvc2l0aW9ucyIsInZpZXciLCJzZXRBcmVhIiwiZGlzcGxheVBvc2l0aW9ucyIsInVwZGF0ZURpc2FibGVkUG9zaXRpb25zIiwic2V0U2VsZWN0Q2FsbGFjayIsImNsaWVudCIsInJlYWR5IiwibGVuZ3RoIiwicmVqZWN0IiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7Ozs7Ozs7O0FBUUE7Ozs7Ozs7Ozs7Ozs7OztBQWVBOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7Ozs7Ozs7O0FBY0E7Ozs7Ozs7Ozs7OztBQVlBOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7Ozs7OztBQWFBLElBQU1BLGFBQWEsZ0JBQW5COztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEwQk1DLE07OztBQUNKO0FBQ0Es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QWE7QUFDNUNRLHVCQUFPL0IsS0FBUCxHQUFlLEtBQUtBLEtBQUwsR0FBYUEsS0FBNUI7QUFDQStCLHVCQUFPOUIsS0FBUCxHQUFlLEtBQUtBLEtBQUwsR0FBYUEsS0FBNUI7QUFDQThCLHVCQUFPUixXQUFQLEdBQXFCQSxXQUFyQjs7QUFFQSxXQUFLUyxLQUFMO0FBQ0Q7O0FBRUQ7Ozs7b0NBQ2dCZixpQixFQUFtQjtBQUNqQyxVQUFJQSxrQkFBa0JnQixNQUFsQixJQUE0QixLQUFLUixZQUFyQyxFQUNFLEtBQUtDLElBQUwsQ0FBVVEsTUFBVixDQUFpQmpCLGlCQUFqQixFQURGLEtBR0UsS0FBS1MsSUFBTCxDQUFVRyx1QkFBVixDQUFrQ1osaUJBQWxDO0FBQ0g7O0FBRUQ7Ozs7b0NBQ2dCQSxpQixFQUFtQjtBQUNqQyxXQUFLUyxJQUFMLENBQVVHLHVCQUFWLENBQWtDWixpQkFBbEM7QUFDRDs7QUFFRDs7OztzQ0FDa0JBLGlCLEVBQW1CO0FBQ25DLFVBQUlBLGtCQUFrQmdCLE1BQWxCLElBQTRCLEtBQUtSLFlBQXJDLEVBQ0UsS0FBS0MsSUFBTCxDQUFVUSxNQUFWLENBQWlCakIsaUJBQWpCLEVBREYsS0FHRSxLQUFLUyxJQUFMLENBQVVHLHVCQUFWLENBQWtDWixpQkFBbEM7QUFDSDs7O0VBL0drQmtCLGlCOztBQWtIckJDLHlCQUFlQyxRQUFmLENBQXdCM0MsVUFBeEIsRUFBb0NDLE1BQXBDOztrQkFFZUEsTSIsImZpbGUiOiJQbGFjZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xpZW50IGZyb20gJy4uL2NvcmUvY2xpZW50JztcbmltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgU2VsZWN0VmlldyBmcm9tICcuLi9wcmVmYWJzL1NlbGVjdFZpZXcnO1xuaW1wb3J0IFNwYWNlVmlldyBmcm9tICcuLi9wcmVmYWJzL1NwYWNlVmlldyc7XG5pbXBvcnQgU3F1YXJlZFZpZXcgZnJvbSAnLi4vcHJlZmFicy9TcXVhcmVkVmlldyc7XG5cbi8qKlxuICogQVBJIG9mIGEgY29tcGxpYW50IHZpZXcgZm9yIHRoZSBgcGxhY2VyYCBzZXJ2aWNlLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBpbnRlcmZhY2UgQWJzdHJhY3RQbGFjZXJWaWV3XG4gKiBAZXh0ZW5kcyBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RWaWV3XG4gKiBAYWJzdHJhY3RcbiAqL1xuLyoqXG4gKiBTZXQgYW5kIGRpc3BsYXkgdGhlIGBhcmVhYCBkZWZpbml0aW9uIChhcyBkZWZpbmVkIGluIHNlcnZlciBjb25maWd1cmF0aW9uKS5cbiAqXG4gKiBAbmFtZSBzZXRSZWFkeUNhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhY2VyVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmVhIC0gRGVmaW5pdGlvbiBvZiB0aGUgYXJlYS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBhcmVhLndpZHRoIC0gV2l0aCBvZiB0aGUgYXJlYS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBhcmVhLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgYXJlYS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbYXJlYS5sYWJlbHM9W11dIC0gTGFiZWxzIG9mIHRoZSBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbYXJlYS5jb29yZGluYXRlcz1bXV0gLSBDb29yZGluYXRlcyBvZiB0aGUgYXJlYS5cbiAqL1xuLyoqXG4gKiBSZWdpc3RlciB0aGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgdXNlciBzZWxlY3QgYSBwb3NpdGlvbi5cbiAqXG4gKiBAbmFtZSBzZXRTZWxlY3RDYWxsYmFja1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFBsYWNlclZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY2FsbGJhY2sgLSBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXIgc2VsZWN0IGEgcG9zaXRpb24uXG4gKiAgVGhpcyBjYWxsYmFjayBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBpbmRleGAsIGBsYWJlbGAgYW5kIGBjb29yZGluYXRlc2Agb2ZcbiAqICB0aGUgcmVxdWVzdGVkIHBvc2l0aW9uLlxuICovXG4vKipcbiAqIERpc3BsYXkgdGhlIGF2YWlsYWJsZSBwb3NpdGlvbnMuXG4gKlxuICogQG5hbWUgZGlzcGxheVBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhY2VyVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBjYXBhY2l0eSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjbGllbnRzIGFsbG93ZWQuXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IFtsYWJlbHM9bnVsbF0gLSBBbiBhcnJheSBvZiB0aGUgbGFiZWxzIGZvciB0aGUgcG9zaXRpb25zXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PE51bWJlcj4+fSBbY29vcmRpbmF0ZXM9bnVsbF0gLSBBbiBhcnJheSBvZiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvc2l0aW9uc1xuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhDbGllbnRzUGVyUG9zaXRpb249MV0gLSBOdW1iZXIgb2YgY2xpZW50cyBhbGxvd2VkIGZvciBlYWNoIHBvc2l0aW9uLlxuICovXG4vKipcbiAqIFVwZGF0ZSB0aGUgdmlldyBhY2Nyb2RpbmcgdG8gdGhlIGRpc2FibGVkIHBvc2l0aW9ucy5cbiAqXG4gKiBAbmFtZSB1cGRhdGVEaXNhYmxlZFBvc2l0aW9uc1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFBsYWNlclZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGRpc2FibGVkUG9zaXRpb25zIC0gQXJyYXkgY29udGFpbmluZyB0aGUgaW5kZXhlcyBvZlxuICogIHRoZSBkaXNhYmxlZCBwb3NpdGlvbnMuXG4gKi9cbi8qKlxuICogVXBkYXRlIHRoZSB2aWV3IHdoZW4gdGhlIHBvc2l0aW9uIHNlbGVjdGVkIGJ5IHRoZSB1c2VyIGlzIG5vIGxvbmdlciBhdmFpbGFibGUuXG4gKlxuICogQG5hbWUgcmVqZWN0XG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhY2VyVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gZGlzYWJsZWRQb3NpdGlvbnMgLSBBcnJheSBjb250YWluaW5nIHRoZSBpbmRleGVzIG9mXG4gKiAgdGhlIGRpc2FibGVkIHBvc2l0aW9ucy5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciBzZWxlY3QgYSBwb3NpdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2tcbiAqIEBuYW1lIHNlbGVjdENhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhY2VyVmlld1xuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIHNlbGVjdGVkIGxvY2F0aW9uLlxuICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsIC0gTGFiZWwgb2YgdGhlIHNlbGVjdGVkIGxvY2F0aW9uIGlmIGFueS5cbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gY29vcmRpbmF0ZXMgLSBDb29yZGluYXRlcyAoYFt4LCB5XWApIG9mIHRoZSBzZWxlY3RlZFxuICogIGxvY2F0aW9uIGlmIGFueS5cbiAqL1xuXG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpwbGFjZXInO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGAncGxhY2VyJ2Agc2VydmljZS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMgb25lIG9mIHRoZSBwcm92aWRlZCBzZXJ2aWNlcyBhaW1lZCBhdCBpZGVudGlmeWluZyBjbGllbnRzIGluc2lkZVxuICogdGhlIGV4cGVyaWVuY2UgYWxvbmcgd2l0aCB0aGUgW2AnbG9jYXRvcidgXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuTG9jYXRvcn1cbiAqIGFuZCBbYCdjaGVja2luJ2Bde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DaGVja2lufSBzZXJ2aWNlcy5cbiAqXG4gKiBUaGUgYCdwbGFjZXInYCBzZXJ2aWNlIGFsbG93cyBhIGNsaWVudCB0byBjaG9vc2UgaXRzIGxvY2F0aW9uIGFtb25nIGEgc2V0IG9mXG4gKiBwb3NpdGlvbnMgZGVmaW5lZCBpbiB0aGUgc2VydmVyJ3MgYHNldHVwYCBjb25maWd1cmF0aW9uIGVudHJ5LlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0cyBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5QbGFjZXJ9Kl9fXG4gKlxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkxvY2F0b3J9XG4gKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2hlY2tpbn1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1vZGU9J2xpc3QnXSAtIFNldHMgdGhlIGludGVyYWN0aW9uIG1vZGUgZm9yIHRoZVxuICogIGNsaWVudCB0byBjaG9vc2UgaXRzIHBvc2l0aW9uLCB0aGUgYCdsaXN0J2AgbW9kZSBwcm9wb3NlcyBhIGRyb3AtZG93biBtZW51XG4gKiAgd2hpbGUgdGhlIGAnZ3JhcGhpYydgIG1vZGUgKHdoaWNoIHJlcXVpcmVzIGxvY2F0ZWQgcG9zaXRpb25zKSBwcm9wb3NlcyBhblxuICogIGludGVyZmFjZSByZXByZXNlbnRpbmcgdGhlIGFyZWEgYW5kIGRvdHMgZm9yIGVhY2ggYXZhaWxhYmxlIGxvY2F0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMucGxhY2VyID0gdGhpcy5yZXF1aXJlKCdwbGFjZXInLCB7IG1vZGU6ICdncmFwaGljJyB9KTtcbiAqL1xuY2xhc3MgUGxhY2VyIGV4dGVuZHMgU2VydmljZSB7XG4gIC8qKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlIGluc3RhbmNpYXRlZCBtYW51YWxseV8gKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgdHJ1ZSk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIG1vZGU6ICdsaXN0JyxcbiAgICAgIHZpZXdQcmlvcml0eTogNixcbiAgICB9O1xuXG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgLyoqXG4gICAgICogSW5kZXggb2YgdGhlIHBvc2l0aW9uIHNlbGVjdGVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBMYWJlbCBvZiB0aGUgcG9zaXRpb24gc2VsZWN0ZWQgYnkgdGhlIHVzZXIuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsID0gbnVsbDtcblxuICAgIHRoaXMuX29uQWtub3dsZWRnZVJlc3BvbnNlID0gdGhpcy5fb25Ba25vd2xlZGdlUmVzcG9uc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWVudEpvaW5lZCA9IHRoaXMuX29uQ2xpZW50Sm9pbmVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbGllbnRMZWF2ZWQgPSB0aGlzLl9vbkNsaWVudExlYXZlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0ID0gdGhpcy5fb25TZWxlY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNvbmZpcm1SZXNwb25zZSA9IHRoaXMuX29uQ29uZmlybVJlc3BvbnNlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25SZWplY3RSZXNwb25zZSA9IHRoaXMuX29uUmVqZWN0UmVzcG9uc2UuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3NoYXJlZENvbmZpZ1NlcnZpY2UgPSB0aGlzLnJlcXVpcmUoJ3NoYXJlZC1jb25maWcnKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc2hvdygpO1xuXG4gICAgdGhpcy5zZW5kKCdyZXF1ZXN0Jyk7XG5cbiAgICB0aGlzLnJlY2VpdmUoJ2Frbm93bGVnZGUnLCB0aGlzLl9vbkFrbm93bGVkZ2VSZXNwb25zZSk7XG4gICAgdGhpcy5yZWNlaXZlKCdjb25maXJtJywgdGhpcy5fb25Db25maXJtUmVzcG9uc2UpO1xuICAgIHRoaXMucmVjZWl2ZSgncmVqZWN0JywgdGhpcy5fb25SZWplY3RSZXNwb25zZSk7XG4gICAgdGhpcy5yZWNlaXZlKCdjbGllbnQtam9pbmVkJywgdGhpcy5fb25DbGllbnRKb2luZWQpO1xuICAgIHRoaXMucmVjZWl2ZSgnY2xpZW50LWxlYXZlZCcsIHRoaXMuX29uQ2xpZW50TGVhdmVkKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Frbm93bGVnZGUnLCB0aGlzLl9vbkFrbm93bGVkZ2VSZXNwb25zZSk7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcignY29uZmlybScsIHRoaXMuX29uQ29uZmlybVJlc3BvbnNlKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdyZWplY3QnLCB0aGlzLl9vblJlamVjdFJlc3BvbnNlKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdjbGllbnQtam9pbmVkJywgdGhpcy5fb25DbGllbnRKb2luZWQpO1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2NsaWVudC1sZWF2ZWQnLCB0aGlzLl9vbkNsaWVudExlYXZlZCk7XG5cbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25Ba25vd2xlZGdlUmVzcG9uc2Uoc2V0dXBDb25maWdJdGVtLCBkaXNhYmxlZFBvc2l0aW9ucykge1xuICAgIGNvbnN0IHNldHVwID0gdGhpcy5fc2hhcmVkQ29uZmlnU2VydmljZS5nZXQoc2V0dXBDb25maWdJdGVtKTtcbiAgICBjb25zdCBhcmVhID0gc2V0dXAuYXJlYTtcbiAgICBjb25zdCBjYXBhY2l0eSA9IHNldHVwLmNhcGFjaXR5O1xuICAgIGNvbnN0IGxhYmVscyA9IHNldHVwLmxhYmVscztcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IHNldHVwLmNvb3JkaW5hdGVzO1xuICAgIGNvbnN0IG1heENsaWVudHNQZXJQb3NpdGlvbiA9IHNldHVwLm1heENsaWVudHNQZXJQb3NpdGlvbjtcblxuICAgIHRoaXMubmJyUG9zaXRpb25zID0gY2FwYWNpdHkgLyBtYXhDbGllbnRzUGVyUG9zaXRpb247XG5cbiAgICBpZiAoYXJlYSlcbiAgICAgIHRoaXMudmlldy5zZXRBcmVhKGFyZWEpO1xuXG4gICAgdGhpcy52aWV3LmRpc3BsYXlQb3NpdGlvbnMoY2FwYWNpdHksIGxhYmVscywgY29vcmRpbmF0ZXMsIG1heENsaWVudHNQZXJQb3NpdGlvbik7XG4gICAgdGhpcy52aWV3LnVwZGF0ZURpc2FibGVkUG9zaXRpb25zKGRpc2FibGVkUG9zaXRpb25zKTtcbiAgICB0aGlzLnZpZXcuc2V0U2VsZWN0Q2FsbGFjayh0aGlzLl9vblNlbGVjdCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uU2VsZWN0KGluZGV4LCBsYWJlbCwgY29vcmRpbmF0ZXMpIHtcbiAgICB0aGlzLnNlbmQoJ3Bvc2l0aW9uJywgaW5kZXgsIGxhYmVsLCBjb29yZGluYXRlcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uQ29uZmlybVJlc3BvbnNlKGluZGV4LCBsYWJlbCwgY29vcmRpbmF0ZXMpIHtcbiAgICBjbGllbnQuaW5kZXggPSB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgY2xpZW50LmxhYmVsID0gdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgIGNsaWVudC5jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xuXG4gICAgdGhpcy5yZWFkeSgpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9vbkNsaWVudEpvaW5lZChkaXNhYmxlZFBvc2l0aW9ucykge1xuICAgIGlmIChkaXNhYmxlZFBvc2l0aW9ucy5sZW5ndGggPj0gdGhpcy5uYnJQb3NpdGlvbnMpXG4gICAgICB0aGlzLnZpZXcucmVqZWN0KGRpc2FibGVkUG9zaXRpb25zKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLnZpZXcudXBkYXRlRGlzYWJsZWRQb3NpdGlvbnMoZGlzYWJsZWRQb3NpdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9vbkNsaWVudExlYXZlZChkaXNhYmxlZFBvc2l0aW9ucykge1xuICAgIHRoaXMudmlldy51cGRhdGVEaXNhYmxlZFBvc2l0aW9ucyhkaXNhYmxlZFBvc2l0aW9ucyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uUmVqZWN0UmVzcG9uc2UoZGlzYWJsZWRQb3NpdGlvbnMpIHtcbiAgICBpZiAoZGlzYWJsZWRQb3NpdGlvbnMubGVuZ3RoID49IHRoaXMubmJyUG9zaXRpb25zKVxuICAgICAgdGhpcy52aWV3LnJlamVjdChkaXNhYmxlZFBvc2l0aW9ucyk7XG4gICAgZWxzZVxuICAgICAgdGhpcy52aWV3LnVwZGF0ZURpc2FibGVkUG9zaXRpb25zKGRpc2FibGVkUG9zaXRpb25zKTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBQbGFjZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBQbGFjZXI7XG4iXX0=","deps":{"../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../prefabs/SelectView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SelectView.js","../prefabs/SpaceView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SpaceView.js","../prefabs/SquaredView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SquaredView.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/RawSocket.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/RawSocket.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _SegmentedView = require('../views/SegmentedView');\n\nvar _SegmentedView2 = _interopRequireDefault(_SegmentedView);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:raw-socket';\n\n/**\n * Interface for the `raw-socket` service.\n *\n * This service creates an additionnal native socket with its binary type set\n * to `arraybuffer` and focused on performances.\n * It allows the transfert of `TypedArray` data wrapped with a minimal channel\n * mechanism (up to 256 channels).\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.RawSocket}*__\n *\n * @memberof module:soundworks/client\n */\n\nvar RawSocket = function (_Service) {\n  (0, _inherits3.default)(RawSocket, _Service);\n\n  function RawSocket() {\n    (0, _classCallCheck3.default)(this, RawSocket);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (RawSocket.__proto__ || (0, _getPrototypeOf2.default)(RawSocket)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      viewCtor: _SegmentedView2.default,\n      viewPriority: 5\n    };\n\n    _this.configure(defaults);\n\n    /**\n     * Listeners for the incomming messages.\n     *\n     * @type {Object<String, Set<Function>>}\n     * @name _listeners\n     * @memberof module:soundworks/server.RawSocket\n     * @instance\n     * @private\n     */\n    _this._listeners = {};\n\n    _this._protocol = null;\n    _this._onReceiveConnectionInfos = _this._onReceiveConnectionInfos.bind(_this);\n    _this._onReceiveAcknoledgement = _this._onReceiveAcknoledgement.bind(_this);\n    _this._onMessage = _this._onMessage.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(RawSocket, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(RawSocket.prototype.__proto__ || (0, _getPrototypeOf2.default)(RawSocket.prototype), 'start', this).call(this);\n      this.show();\n\n      (0, _get3.default)(RawSocket.prototype.__proto__ || (0, _getPrototypeOf2.default)(RawSocket.prototype), 'send', this).call(this, 'request');\n      (0, _get3.default)(RawSocket.prototype.__proto__ || (0, _getPrototypeOf2.default)(RawSocket.prototype), 'receive', this).call(this, 'infos', this._onReceiveConnectionInfos);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.hide();\n      (0, _get3.default)(RawSocket.prototype.__proto__ || (0, _getPrototypeOf2.default)(RawSocket.prototype), 'stop', this).call(this);\n    }\n\n    /**\n     * Method executed when the service receive connection informations from the\n     * server.\n     *\n     * @param {Number} port - Port on which open the new socket.\n     * @param {Object} protocol - User-defined protocol to be used in raw socket\n     *  exchanges.\n     * @param {Number} token - Unique token to retrieve in the first message to\n     *  identy the client server-side, allow to match the socket with its\n     *  corresponding client.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_onReceiveConnectionInfos',\n    value: function _onReceiveConnectionInfos(port, protocol, token) {\n      var _this2 = this;\n\n      this._protocol = protocol;\n      this._channels = protocol.map(function (entry) {\n        return entry.channel;\n      });\n\n      this.removeListener('connection-infos', this._onReceiveConnectionInfos);\n\n      var socketProtocol = window.location.protocol.replace(/^http?/, 'ws');\n      var socketHostname = window.location.hostname;\n      var url = socketProtocol + '//' + socketHostname + ':' + port;\n\n      this.socket = new WebSocket(url);\n      this.socket.binaryType = 'arraybuffer';\n      // send token back to the server and wait for acknoledgement\n      var data = new Uint32Array(1);\n      data[0] = token;\n\n      this.socket.addEventListener('open', function () {\n        _this2.send('service:handshake', data);\n      });\n\n      this.socket.addEventListener('message', this._onReceiveAcknoledgement);\n    }\n\n    /**\n     * Callback executed when the server acknoledges the matching between a\n     * client and a socket.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_onReceiveAcknoledgement',\n    value: function _onReceiveAcknoledgement(e) {\n      var index = new Uint8Array(e.data)[0];\n      var _protocol$index = this._protocol[index],\n          channel = _protocol$index.channel,\n          type = _protocol$index.type;\n\n      // ignore incomming messages that could occur if\n      // acknoledgement was not yet received\n\n      if (channel === 'service:handshake-ack') {\n        this.socket.removeEventListener('message', this._onReceiveAcknoledgement);\n        this.socket.addEventListener('message', this._onMessage);\n        this.ready();\n      }\n    }\n\n    /**\n     * Callback function of the socket `message` event. Unwrap the channel and\n     * the data contained in the payload and execute the registered callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_onMessage',\n    value: function _onMessage(e) {\n      var index = new Uint8Array(e.data)[0];\n\n      if (!this._protocol[index]) throw new Error('Invalid protocol index: ' + index);\n\n      var _protocol$index2 = this._protocol[index],\n          channel = _protocol$index2.channel,\n          type = _protocol$index2.type;\n\n      var viewCtor = window[type + 'Array'];\n      var data = new viewCtor(e.data, viewCtor.BYTES_PER_ELEMENT);\n      var callbacks = this._listeners[channel];\n\n      if (callbacks) callbacks.forEach(function (callback) {\n        return callback(data);\n      });\n    }\n\n    /**\n     * Register a callback to be executed when receiving a message on a specific\n     * channel.\n     *\n     * @param {String} channel - Channel of the message.\n     * @param {Function} callback - Callback function.\n     */\n\n  }, {\n    key: 'receive',\n    value: function receive(channel, callback) {\n      var listeners = this._listeners;\n\n      if (!listeners[channel]) listeners[channel] = new _set2.default();\n\n      listeners[channel].add(callback);\n    }\n\n    /**\n     * Send data on a specific channel.\n     *\n     * @param {String} channel - Channel of the message.\n     * @param {TypedArray} data - Data.\n     */\n\n  }, {\n    key: 'send',\n    value: function send(channel, data) {\n      var index = this._channels.indexOf(channel);\n\n      if (index === -1) throw new Error('Undefined channel \"' + channel + '\"');\n\n      var type = this._protocol[index].type;\n\n      var viewCtor = window[type + 'Array'];\n      var size = data ? 1 + data.length : 1;\n      var view = new viewCtor(size);\n\n      var channelView = new Uint8Array(viewCtor.BYTES_PER_ELEMENT);\n      channelView[0] = index;\n      // populate buffer\n      view.set(new viewCtor(channelView.buffer), 0);\n\n      if (data) view.set(data, 1);\n\n      this.socket.send(view.buffer);\n    }\n  }]);\n  return RawSocket;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, RawSocket);\n\nexports.default = RawSocket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJhd1NvY2tldC5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwiUmF3U29ja2V0IiwiZGVmYXVsdHMiLCJ2aWV3Q3RvciIsIlNlZ21lbnRlZFZpZXciLCJ2aWV3UHJpb3JpdHkiLCJjb25maWd1cmUiLCJfbGlzdGVuZXJzIiwiX3Byb3RvY29sIiwiX29uUmVjZWl2ZUNvbm5lY3Rpb25JbmZvcyIsImJpbmQiLCJfb25SZWNlaXZlQWNrbm9sZWRnZW1lbnQiLCJfb25NZXNzYWdlIiwic2hvdyIsImhpZGUiLCJwb3J0IiwicHJvdG9jb2wiLCJ0b2tlbiIsIl9jaGFubmVscyIsIm1hcCIsImVudHJ5IiwiY2hhbm5lbCIsInJlbW92ZUxpc3RlbmVyIiwic29ja2V0UHJvdG9jb2wiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJzb2NrZXRIb3N0bmFtZSIsImhvc3RuYW1lIiwidXJsIiwic29ja2V0IiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsImRhdGEiLCJVaW50MzJBcnJheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZW5kIiwiZSIsImluZGV4IiwiVWludDhBcnJheSIsInR5cGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVhZHkiLCJFcnJvciIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiY2FsbGJhY2tzIiwiZm9yRWFjaCIsImNhbGxiYWNrIiwibGlzdGVuZXJzIiwiYWRkIiwiaW5kZXhPZiIsInNpemUiLCJsZW5ndGgiLCJ2aWV3IiwiY2hhbm5lbFZpZXciLCJzZXQiLCJidWZmZXIiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsYUFBYSxvQkFBbkI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7SUFZTUMsUzs7O0FBQ0osdUJBQWM7QUFBQTs7QUFBQSw0SUFDTkQsVUFETSxFQUNNLElB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QUFKLENBQWVwQyxTQUFTeUMsaUJBQXhCLENBQXBCO0FBQ0FVLGtCQUFZLENBQVosSUFBaUJoQixLQUFqQjtBQUNBO0FBQ0FlLFdBQUtFLEdBQUwsQ0FBUyxJQUFJcEQsUUFBSixDQUFhbUQsWUFBWUUsTUFBekIsQ0FBVCxFQUEyQyxDQUEzQzs7QUFFQSxVQUFJdkIsSUFBSixFQUNFb0IsS0FBS0UsR0FBTCxDQUFTdEIsSUFBVCxFQUFlLENBQWY7O0FBRUYsV0FBS0gsTUFBTCxDQUFZTSxJQUFaLENBQWlCaUIsS0FBS0csTUFBdEI7QUFDRDs7O0VBaktxQkMsaUI7O0FBb0t4QkMseUJBQWVDLFFBQWYsQ0FBd0IzRCxVQUF4QixFQUFvQ0MsU0FBcEM7O2tCQUVlQSxTIiwiZmlsZSI6IlJhd1NvY2tldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZWdtZW50ZWRWaWV3IGZyb20gJy4uL3ZpZXdzL1NlZ21lbnRlZFZpZXcnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOnJhdy1zb2NrZXQnO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGByYXctc29ja2V0YCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBjcmVhdGVzIGFuIGFkZGl0aW9ubmFsIG5hdGl2ZSBzb2NrZXQgd2l0aCBpdHMgYmluYXJ5IHR5cGUgc2V0XG4gKiB0byBgYXJyYXlidWZmZXJgIGFuZCBmb2N1c2VkIG9uIHBlcmZvcm1hbmNlcy5cbiAqIEl0IGFsbG93cyB0aGUgdHJhbnNmZXJ0IG9mIGBUeXBlZEFycmF5YCBkYXRhIHdyYXBwZWQgd2l0aCBhIG1pbmltYWwgY2hhbm5lbFxuICogbWVjaGFuaXNtICh1cCB0byAyNTYgY2hhbm5lbHMpLlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0cyBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5SYXdTb2NrZXR9Kl9fXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICovXG5jbGFzcyBSYXdTb2NrZXQgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgdHJ1ZSk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIHZpZXdDdG9yOiBTZWdtZW50ZWRWaWV3LFxuICAgICAgdmlld1ByaW9yaXR5OiA1LFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5lcnMgZm9yIHRoZSBpbmNvbW1pbmcgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0PFN0cmluZywgU2V0PEZ1bmN0aW9uPj59XG4gICAgICogQG5hbWUgX2xpc3RlbmVyc1xuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9zZXJ2ZXIuUmF3U29ja2V0XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICAgIHRoaXMuX3Byb3RvY29sID0gbnVsbDtcbiAgICB0aGlzLl9vblJlY2VpdmVDb25uZWN0aW9uSW5mb3MgPSB0aGlzLl9vblJlY2VpdmVDb25uZWN0aW9uSW5mb3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblJlY2VpdmVBY2tub2xlZGdlbWVudCA9IHRoaXMuX29uUmVjZWl2ZUFja25vbGVkZ2VtZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25NZXNzYWdlID0gdGhpcy5fb25NZXNzYWdlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcbiAgICB0aGlzLnNob3coKTtcblxuICAgIHN1cGVyLnNlbmQoJ3JlcXVlc3QnKTtcbiAgICBzdXBlci5yZWNlaXZlKCdpbmZvcycsIHRoaXMuX29uUmVjZWl2ZUNvbm5lY3Rpb25JbmZvcyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmhpZGUoKTtcbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIGV4ZWN1dGVkIHdoZW4gdGhlIHNlcnZpY2UgcmVjZWl2ZSBjb25uZWN0aW9uIGluZm9ybWF0aW9ucyBmcm9tIHRoZVxuICAgKiBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3J0IC0gUG9ydCBvbiB3aGljaCBvcGVuIHRoZSBuZXcgc29ja2V0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG9jb2wgLSBVc2VyLWRlZmluZWQgcHJvdG9jb2wgdG8gYmUgdXNlZCBpbiByYXcgc29ja2V0XG4gICAqICBleGNoYW5nZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b2tlbiAtIFVuaXF1ZSB0b2tlbiB0byByZXRyaWV2ZSBpbiB0aGUgZmlyc3QgbWVzc2FnZSB0b1xuICAgKiAgaWRlbnR5IHRoZSBjbGllbnQgc2VydmVyLXNpZGUsIGFsbG93IHRvIG1hdGNoIHRoZSBzb2NrZXQgd2l0aCBpdHNcbiAgICogIGNvcnJlc3BvbmRpbmcgY2xpZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uUmVjZWl2ZUNvbm5lY3Rpb25JbmZvcyhwb3J0LCBwcm90b2NvbCwgdG9rZW4pIHtcbiAgICB0aGlzLl9wcm90b2NvbCA9IHByb3RvY29sO1xuICAgIHRoaXMuX2NoYW5uZWxzID0gcHJvdG9jb2wubWFwKChlbnRyeSkgPT4gZW50cnkuY2hhbm5lbCk7XG5cbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdjb25uZWN0aW9uLWluZm9zJywgdGhpcy5fb25SZWNlaXZlQ29ubmVjdGlvbkluZm9zKTtcblxuICAgIGNvbnN0IHNvY2tldFByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sLnJlcGxhY2UoL15odHRwPy8sICd3cycpO1xuICAgIGNvbnN0IHNvY2tldEhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIGNvbnN0IHVybCA9IGAke3NvY2tldFByb3RvY29sfS8vJHtzb2NrZXRIb3N0bmFtZX06JHtwb3J0fWA7XG5cbiAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJsKTtcbiAgICB0aGlzLnNvY2tldC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAvLyBzZW5kIHRva2VuIGJhY2sgdG8gdGhlIHNlcnZlciBhbmQgd2FpdCBmb3IgYWNrbm9sZWRnZW1lbnRcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQzMkFycmF5KDEpO1xuICAgIGRhdGFbMF0gPSB0b2tlbjtcblxuICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICB0aGlzLnNlbmQoJ3NlcnZpY2U6aGFuZHNoYWtlJywgZGF0YSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5fb25SZWNlaXZlQWNrbm9sZWRnZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gdGhlIHNlcnZlciBhY2tub2xlZGdlcyB0aGUgbWF0Y2hpbmcgYmV0d2VlbiBhXG4gICAqIGNsaWVudCBhbmQgYSBzb2NrZXQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25SZWNlaXZlQWNrbm9sZWRnZW1lbnQoZSkge1xuICAgIGNvbnN0IGluZGV4ID0gbmV3IFVpbnQ4QXJyYXkoZS5kYXRhKVswXTtcbiAgICBjb25zdCB7IGNoYW5uZWwsIHR5cGUgfSA9IHRoaXMuX3Byb3RvY29sW2luZGV4XTtcblxuICAgIC8vIGlnbm9yZSBpbmNvbW1pbmcgbWVzc2FnZXMgdGhhdCBjb3VsZCBvY2N1ciBpZlxuICAgIC8vIGFja25vbGVkZ2VtZW50IHdhcyBub3QgeWV0IHJlY2VpdmVkXG4gICAgaWYgKGNoYW5uZWwgPT09ICdzZXJ2aWNlOmhhbmRzaGFrZS1hY2snKcKge1xuICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uUmVjZWl2ZUFja25vbGVkZ2VtZW50KTtcbiAgICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vbk1lc3NhZ2UpO1xuICAgICAgdGhpcy5yZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgc29ja2V0IGBtZXNzYWdlYCBldmVudC4gVW53cmFwIHRoZSBjaGFubmVsIGFuZFxuICAgKiB0aGUgZGF0YSBjb250YWluZWQgaW4gdGhlIHBheWxvYWQgYW5kIGV4ZWN1dGUgdGhlIHJlZ2lzdGVyZWQgY2FsbGJhY2suXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25NZXNzYWdlKGUpIHtcbiAgICBjb25zdCBpbmRleCA9IG5ldyBVaW50OEFycmF5KGUuZGF0YSlbMF07XG5cbiAgICBpZiAoIXRoaXMuX3Byb3RvY29sW2luZGV4XSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm90b2NvbCBpbmRleDogJHtpbmRleH1gKTtcblxuICAgIGNvbnN0IHsgY2hhbm5lbCwgdHlwZSB9ID0gdGhpcy5fcHJvdG9jb2xbaW5kZXhdO1xuICAgIGNvbnN0IHZpZXdDdG9yID0gd2luZG93W2Ake3R5cGV9QXJyYXlgXTtcbiAgICBjb25zdCBkYXRhID0gbmV3IHZpZXdDdG9yKGUuZGF0YSwgdmlld0N0b3IuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2xpc3RlbmVyc1tjaGFubmVsXTtcblxuICAgIGlmIChjYWxsYmFja3MpXG4gICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGRhdGEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gcmVjZWl2aW5nIGEgbWVzc2FnZSBvbiBhIHNwZWNpZmljXG4gICAqIGNoYW5uZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gQ2hhbm5lbCBvZiB0aGUgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIHJlY2VpdmUoY2hhbm5lbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAoIWxpc3RlbmVyc1tjaGFubmVsXSlcbiAgICAgIGxpc3RlbmVyc1tjaGFubmVsXSA9IG5ldyBTZXQoKTtcblxuICAgIGxpc3RlbmVyc1tjaGFubmVsXS5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgZGF0YSBvbiBhIHNwZWNpZmljIGNoYW5uZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaGFubmVsIC0gQ2hhbm5lbCBvZiB0aGUgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtUeXBlZEFycmF5fSBkYXRhIC0gRGF0YS5cbiAgICovXG4gIHNlbmQoY2hhbm5lbCwgZGF0YSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY2hhbm5lbHMuaW5kZXhPZihjaGFubmVsKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZGVmaW5lZCBjaGFubmVsIFwiJHtjaGFubmVsfVwiYCk7XG5cbiAgICBjb25zdCB7IHR5cGUgfSA9IHRoaXMuX3Byb3RvY29sW2luZGV4XTtcbiAgICBjb25zdCB2aWV3Q3RvciA9IHdpbmRvd1tgJHt0eXBlfUFycmF5YF07XG4gICAgY29uc3Qgc2l6ZSA9IGRhdGEgPyAxICsgZGF0YS5sZW5ndGggOiAxO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgdmlld0N0b3Ioc2l6ZSk7XG5cbiAgICBjb25zdCBjaGFubmVsVmlldyA9IG5ldyBVaW50OEFycmF5KHZpZXdDdG9yLkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICBjaGFubmVsVmlld1swXSA9IGluZGV4O1xuICAgIC8vIHBvcHVsYXRlIGJ1ZmZlclxuICAgIHZpZXcuc2V0KG5ldyB2aWV3Q3RvcihjaGFubmVsVmlldy5idWZmZXIpLCAwKTtcblxuICAgIGlmIChkYXRhKVxuICAgICAgdmlldy5zZXQoZGF0YSwgMSk7XG5cbiAgICB0aGlzLnNvY2tldC5zZW5kKHZpZXcuYnVmZmVyKTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBSYXdTb2NrZXQpO1xuXG5leHBvcnQgZGVmYXVsdCBSYXdTb2NrZXQ7XG4iXX0=","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../views/SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedConfig.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedConfig.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:shared-config';\n\n/**\n * Interface for the client `'shared-config'` service.\n *\n * The `shared-config` service allows clients to access items of the server\n * configuration.\n * All configuration items retrieved by the server are also stored in the\n * `client.config` attribute.\n *\n * __*The service must be used with its\n * [server-side counterpart]{@link module:soundworks/server.SharedConfig}*__\n *\n * _<span class=\"warning\">__WARNING__</span> This class should never be\n * instanciated manually_\n *\n * @param {Object} options\n * @param {Array<String>} options.items - List of the configuration items\n *  required by the server. The given strings follow a convention defining a path\n *  to the required configuration item.\n *  _example:_ `'setup.area'` will retrieve the value (here an object)\n *  corresponding to the `area` key inside the `setup` entry of the server\n *  configuration.\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.sharedConfig = this.require('shared-config', { items: ['setup.area'] });\n * // when the experience has started\n * const areaWidth = this.sharedConfig.get('setup.area.width');\n */\n\nvar SharedConfig = function (_Service) {\n  (0, _inherits3.default)(SharedConfig, _Service);\n\n  function SharedConfig() {\n    (0, _classCallCheck3.default)(this, SharedConfig);\n\n    /**\n     * Configuration items required by the client.\n     * @type {Array}\n     * @private\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SharedConfig.__proto__ || (0, _getPrototypeOf2.default)(SharedConfig)).call(this, SERVICE_ID, true));\n\n    _this._items = [];\n\n    /**\n     * Object containing all the configuration items shared by the server. The\n     * object is flattened in order to minimize the needed communications between\n     * the client and the server.\n     * @type {Object}\n     */\n    _this.data = null;\n\n    _this._onConfigResponse = _this._onConfigResponse.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(SharedConfig, [{\n    key: 'configure',\n    value: function configure(options) {\n      if (options.items) {\n        this._items = this._items.concat(options.items);\n        delete options.items;\n      }\n\n      (0, _get3.default)(SharedConfig.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedConfig.prototype), 'configure', this).call(this, options);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(SharedConfig.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedConfig.prototype), 'start', this).call(this);\n\n      this.send('request', this._items);\n      this.receive('config', this._onConfigResponse);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onConfigResponse',\n    value: function _onConfigResponse(data) {\n      this.data = _client2.default.config = data;\n      this.ready();\n    }\n\n    /**\n     * Retrieve a configuration value from its key, as defined in server side\n     * service's `addItem` method or in client-side `items` option.\n     *\n     * @param {String} item - Key to the configuration item (_ex:_ `'setup.area'`)\n     * @return {Mixed}\n     */\n\n  }, {\n    key: 'get',\n    value: function get(item) {\n      var parts = item.split('.');\n      var tmp = this.data;\n\n      parts.forEach(function (attr) {\n        return tmp = tmp[attr];\n      });\n\n      return tmp;\n    }\n  }]);\n  return SharedConfig;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, SharedConfig);\n\nexports.default = SharedConfig;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNoYXJlZENvbmZpZy5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwiU2hhcmVkQ29uZmlnIiwiX2l0ZW1zIiwiZGF0YSIsIl9vbkNvbmZpZ1Jlc3BvbnNlIiwiYmluZCIsIm9wdGlvbnMiLCJpdGVtcyIsImNvbmNhdCIsInNlbmQiLCJyZWNlaXZlIiwiY2xpZW50IiwiY29uZmlnIiwicmVhZHkiLCJpdGVtIiwicGFydHMiLCJzcGxpdCIsInRtcCIsImZvckVhY2giLCJhdHRyIiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBR0EsSUFBTUEsYUFBYSx1QkFBbkI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTZCTUMsWTs7O0FBQ0osMEJBQWM7QUFBQTs7QUFHWjs7Ozs7QUFIWSxrSkFDTkQsVUFETSxFQUNNLElBRE47O0FBUVosVUFBS0UsTUFBTCxHQUFjLEVBQWQ7O0FBRUE7Ozs7OztBQU1BLFVBQUtDLElBQUwsR0FBWSxJQUFaOztBQUVBLFVBQUtDLGlCQUFMLEdBQXlCLE1BQUtBLGlCQUFMLENBQXVCQyxJQUF2QixPQUF6QjtBQWxCWTtBQW1CYjs7QUFFRDs7Ozs7OEJBQ1VDLE8sRUFBUztBQUNqQixVQUFJQSxRQUFRQyxLQUFaLEVBQW1CO0FBQ2pCLGFBQUtMLE1BQUwsR0FBYyxLQUFLQSxNQUFMLENBQVlNLE1BQVosQ0FBbUJGLFFBQVFDLEtBQTNCLENBQWQ7QUFDQSxlQUFPRCxRQUFRQyxLQUFmO0FBQ0Q7O0FBRUQsa0pBQWdCRCxPQUFoQjtBQUNEOztBQUVEOzs7OzRCQUNRO0FBQ047O0FBRUEsV0FBS0csSUFBTCxDQUFVLFNBQVYsRUFBcUIsS0FBS1AsTUFBMUI7QUFDQSxXQUFLUSxPQUFMLENBQWEsUUFBYixFQUF1QixLQUFLTixpQkFBNUI7QUFDRDs7QUFFRDs7OztzQ0FDa0JELEksRUFBTTtBQUN0QixXQUFLQSxJQUFMLEdBQVlRLGlCQUFPQyxNQUFQLEdBQWdCVCxJQUE1QjtBQUNBLFdBQUtVLEtBQUw7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozt3QkFPSUMsSSxFQUFNO0FBQ1IsVUFBTUMsUUFBUUQsS0FBS0UsS0FBTCxDQUFXLEdBQVgsQ0FBZDtBQUNBLFVBQUlDLE1BQU0sS0FBS2QsSUFBZjs7QUFFQVksWUFBTUcsT0FBTixDQUFjLFVBQUNDLElBQUQ7QUFBQSxlQUFVRixNQUFNQSxJQUFJRSxJQUFKLENBQWhCO0FBQUEsT0FBZDs7QUFFQSxhQUFPRixHQUFQO0FBQ0Q7OztFQTVEd0JHLGlCOztBQStEM0JDLHlCQUFlQyxRQUFmLENBQXdCdEIsVUFBeEIsRUFBb0NDLFlBQXBDOztrQkFFZUEsWSIsImZpbGUiOiJTaGFyZWRDb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IGNsaWVudCBmcm9tICcuLi9jb3JlL2NsaWVudCc7XG5cblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOnNoYXJlZC1jb25maWcnO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNsaWVudCBgJ3NoYXJlZC1jb25maWcnYCBzZXJ2aWNlLlxuICpcbiAqIFRoZSBgc2hhcmVkLWNvbmZpZ2Agc2VydmljZSBhbGxvd3MgY2xpZW50cyB0byBhY2Nlc3MgaXRlbXMgb2YgdGhlIHNlcnZlclxuICogY29uZmlndXJhdGlvbi5cbiAqIEFsbCBjb25maWd1cmF0aW9uIGl0ZW1zIHJldHJpZXZlZCBieSB0aGUgc2VydmVyIGFyZSBhbHNvIHN0b3JlZCBpbiB0aGVcbiAqIGBjbGllbnQuY29uZmlnYCBhdHRyaWJ1dGUuXG4gKlxuICogX18qVGhlIHNlcnZpY2UgbXVzdCBiZSB1c2VkIHdpdGggaXRzXG4gKiBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5TaGFyZWRDb25maWd9Kl9fXG4gKlxuICogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZVxuICogaW5zdGFuY2lhdGVkIG1hbnVhbGx5X1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IG9wdGlvbnMuaXRlbXMgLSBMaXN0IG9mIHRoZSBjb25maWd1cmF0aW9uIGl0ZW1zXG4gKiAgcmVxdWlyZWQgYnkgdGhlIHNlcnZlci4gVGhlIGdpdmVuIHN0cmluZ3MgZm9sbG93IGEgY29udmVudGlvbiBkZWZpbmluZyBhIHBhdGhcbiAqICB0byB0aGUgcmVxdWlyZWQgY29uZmlndXJhdGlvbiBpdGVtLlxuICogIF9leGFtcGxlOl8gYCdzZXR1cC5hcmVhJ2Agd2lsbCByZXRyaWV2ZSB0aGUgdmFsdWUgKGhlcmUgYW4gb2JqZWN0KVxuICogIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGBhcmVhYCBrZXkgaW5zaWRlIHRoZSBgc2V0dXBgIGVudHJ5IG9mIHRoZSBzZXJ2ZXJcbiAqICBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMuc2hhcmVkQ29uZmlnID0gdGhpcy5yZXF1aXJlKCdzaGFyZWQtY29uZmlnJywgeyBpdGVtczogWydzZXR1cC5hcmVhJ10gfSk7XG4gKiAvLyB3aGVuIHRoZSBleHBlcmllbmNlIGhhcyBzdGFydGVkXG4gKiBjb25zdCBhcmVhV2lkdGggPSB0aGlzLnNoYXJlZENvbmZpZy5nZXQoJ3NldHVwLmFyZWEud2lkdGgnKTtcbiAqL1xuY2xhc3MgU2hhcmVkQ29uZmlnIGV4dGVuZHMgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBpdGVtcyByZXF1aXJlZCBieSB0aGUgY2xpZW50LlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2l0ZW1zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGNvbmZpZ3VyYXRpb24gaXRlbXMgc2hhcmVkIGJ5IHRoZSBzZXJ2ZXIuIFRoZVxuICAgICAqIG9iamVjdCBpcyBmbGF0dGVuZWQgaW4gb3JkZXIgdG8gbWluaW1pemUgdGhlIG5lZWRlZCBjb21tdW5pY2F0aW9ucyBiZXR3ZWVuXG4gICAgICogdGhlIGNsaWVudCBhbmQgdGhlIHNlcnZlci5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICB0aGlzLl9vbkNvbmZpZ1Jlc3BvbnNlID0gdGhpcy5fb25Db25maWdSZXNwb25zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaXRlbXMpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5faXRlbXMuY29uY2F0KG9wdGlvbnMuaXRlbXMpO1xuICAgICAgZGVsZXRlIG9wdGlvbnMuaXRlbXM7XG4gICAgfVxuXG4gICAgc3VwZXIuY29uZmlndXJlKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICB0aGlzLnNlbmQoJ3JlcXVlc3QnLCB0aGlzLl9pdGVtcyk7XG4gICAgdGhpcy5yZWNlaXZlKCdjb25maWcnLCB0aGlzLl9vbkNvbmZpZ1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25Db25maWdSZXNwb25zZShkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gY2xpZW50LmNvbmZpZyA9IGRhdGE7XG4gICAgdGhpcy5yZWFkeSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgY29uZmlndXJhdGlvbiB2YWx1ZSBmcm9tIGl0cyBrZXksIGFzIGRlZmluZWQgaW4gc2VydmVyIHNpZGVcbiAgICogc2VydmljZSdzIGBhZGRJdGVtYCBtZXRob2Qgb3IgaW4gY2xpZW50LXNpZGUgYGl0ZW1zYCBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpdGVtIC0gS2V5IHRvIHRoZSBjb25maWd1cmF0aW9uIGl0ZW0gKF9leDpfIGAnc2V0dXAuYXJlYSdgKVxuICAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgICovXG4gIGdldChpdGVtKSB7XG4gICAgY29uc3QgcGFydHMgPSBpdGVtLnNwbGl0KCcuJyk7XG4gICAgbGV0IHRtcCA9IHRoaXMuZGF0YTtcblxuICAgIHBhcnRzLmZvckVhY2goKGF0dHIpID0+IHRtcCA9IHRtcFthdHRyXSk7XG5cbiAgICByZXR1cm4gdG1wO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIFNoYXJlZENvbmZpZyk7XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZENvbmZpZztcbiJdfQ==","deps":{"../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedParams.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedParams.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventEmitter2 = require('../../utils/EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* --------------------------------------------------------- */\n/* CONTROL UNITS\n/* --------------------------------------------------------- */\n\n/** @private */\nvar _Param = function (_EventEmitter) {\n  (0, _inherits3.default)(_Param, _EventEmitter);\n\n  function _Param(parent, type, name, label) {\n    (0, _classCallCheck3.default)(this, _Param);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (_Param.__proto__ || (0, _getPrototypeOf2.default)(_Param)).call(this));\n\n    _this.parent = parent;\n    _this.type = type;\n    _this.name = name;\n    _this.label = label;\n    _this.value = undefined;\n    return _this;\n  }\n\n  (0, _createClass3.default)(_Param, [{\n    key: 'set',\n    value: function set(val) {\n      this.value = value;\n    }\n  }, {\n    key: '_propagate',\n    value: function _propagate() {\n      var sendToServer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.emit('update', this.value); // call event listeners\n\n      if (sendToServer) this.parent.send('update', this.name, this.value); // send to server\n\n      this.parent.emit('update', this.name, this.value); // call parent listeners\n    }\n  }, {\n    key: 'update',\n    value: function update(val) {\n      var sendToServer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      this.set(val);\n      this._propagate(sendToServer);\n    }\n  }]);\n  return _Param;\n}(_EventEmitter3.default);\n\n/** @private */\n\n\nvar _BooleanParam = function (_Param2) {\n  (0, _inherits3.default)(_BooleanParam, _Param2);\n\n  function _BooleanParam(parent, name, label, init) {\n    (0, _classCallCheck3.default)(this, _BooleanParam);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (_BooleanParam.__proto__ || (0, _getPrototypeOf2.default)(_BooleanParam)).call(this, parent, 'boolean', name, label));\n\n    _this2.set(init);\n    return _this2;\n  }\n\n  (0, _createClass3.default)(_BooleanParam, [{\n    key: 'set',\n    value: function set(val) {\n      this.value = val;\n    }\n  }]);\n  return _BooleanParam;\n}(_Param);\n\n/** @private */\n\n\nvar _EnumParam = function (_Param3) {\n  (0, _inherits3.default)(_EnumParam, _Param3);\n\n  function _EnumParam(parent, name, label, options, init) {\n    (0, _classCallCheck3.default)(this, _EnumParam);\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (_EnumParam.__proto__ || (0, _getPrototypeOf2.default)(_EnumParam)).call(this, parent, 'enum', name, label));\n\n    _this3.options = options;\n    _this3.set(init);\n    return _this3;\n  }\n\n  (0, _createClass3.default)(_EnumParam, [{\n    key: 'set',\n    value: function set(val) {\n      var index = this.options.indexOf(val);\n\n      if (index >= 0) {\n        this.index = index;\n        this.value = val;\n      }\n    }\n  }]);\n  return _EnumParam;\n}(_Param);\n\n/** @private */\n\n\nvar _NumberParam = function (_Param4) {\n  (0, _inherits3.default)(_NumberParam, _Param4);\n\n  function _NumberParam(parent, name, label, min, max, step, init) {\n    (0, _classCallCheck3.default)(this, _NumberParam);\n\n    var _this4 = (0, _possibleConstructorReturn3.default)(this, (_NumberParam.__proto__ || (0, _getPrototypeOf2.default)(_NumberParam)).call(this, parent, 'number', name, label));\n\n    _this4.min = min;\n    _this4.max = max;\n    _this4.step = step;\n    _this4.set(init);\n    return _this4;\n  }\n\n  (0, _createClass3.default)(_NumberParam, [{\n    key: 'set',\n    value: function set(val) {\n      this.value = Math.min(this.max, Math.max(this.min, val));\n    }\n  }]);\n  return _NumberParam;\n}(_Param);\n\n/** @private */\n\n\nvar _TextParam = function (_Param5) {\n  (0, _inherits3.default)(_TextParam, _Param5);\n\n  function _TextParam(parent, name, label, init) {\n    (0, _classCallCheck3.default)(this, _TextParam);\n\n    var _this5 = (0, _possibleConstructorReturn3.default)(this, (_TextParam.__proto__ || (0, _getPrototypeOf2.default)(_TextParam)).call(this, parent, 'text', name, label));\n\n    _this5.set(init);\n    return _this5;\n  }\n\n  (0, _createClass3.default)(_TextParam, [{\n    key: 'set',\n    value: function set(val) {\n      this.value = val;\n    }\n  }]);\n  return _TextParam;\n}(_Param);\n\n/** @private */\n\n\nvar _TriggerParam = function (_Param6) {\n  (0, _inherits3.default)(_TriggerParam, _Param6);\n\n  function _TriggerParam(parent, name, label) {\n    (0, _classCallCheck3.default)(this, _TriggerParam);\n    return (0, _possibleConstructorReturn3.default)(this, (_TriggerParam.__proto__ || (0, _getPrototypeOf2.default)(_TriggerParam)).call(this, parent, 'trigger', name, label));\n  }\n\n  (0, _createClass3.default)(_TriggerParam, [{\n    key: 'set',\n    value: function set(val) {/* nothing to set here */}\n  }]);\n  return _TriggerParam;\n}(_Param);\n\nvar SERVICE_ID = 'service:shared-params';\n\n/**\n * Interface for the client `'shared-params'` service.\n *\n * The `shared-params` service is used to maintain and update global parameters\n * used among all connected clients. Each defined parameter can be of the\n * following data types:\n * - boolean\n * - enum\n * - number\n * - text\n * - trigger\n *\n * The parameters are configured in the server side counterpart of the service.\n *\n * To create a control surface from the parameters definitions, a dedicated scene\n * [`BasicSharedController`]{@link module:soundworks/client.BasicSharedController}\n * is available.\n *\n * __*The service must be used along with its\n * [server-side counterpart]{@link module:soundworks/server.SharedParams}*__\n *\n * _<span class=\"warning\">__WARNING__</span> This class should never be\n * instanciated manually_\n *\n * @memberof module:soundworks/client\n *\n * @example\n * // inside the experience constructor\n * this.sharedParams = this.require('shared-params');\n * // when the experience starts, listen for parameter updates\n * this.sharedParams.addParamListener('synth:gain', (value) => {\n *   this.synth.setGain(value);\n * });\n *\n * @see [`BasicSharedController` scene]{@link module:soundworks/client.BasicSharedController}\n */\n\nvar SharedParams = function (_Service) {\n  (0, _inherits3.default)(SharedParams, _Service);\n\n  function SharedParams() {\n    (0, _classCallCheck3.default)(this, SharedParams);\n\n    var _this7 = (0, _possibleConstructorReturn3.default)(this, (SharedParams.__proto__ || (0, _getPrototypeOf2.default)(SharedParams)).call(this, SERVICE_ID, true));\n\n    var defaults = {};\n    _this7.configure(defaults);\n\n    /**\n     * Dictionary of all the parameters and commands.\n     * @type {Object}\n     * @name params\n     * @instance\n     * @memberof module:soundworks/client.SharedParams\n     *\n     * @private\n     */\n    _this7.params = {};\n\n    _this7._onInitResponse = _this7._onInitResponse.bind(_this7);\n    _this7._onUpdateResponse = _this7._onUpdateResponse.bind(_this7);\n    return _this7;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(SharedParams, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(SharedParams.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedParams.prototype), 'start', this).call(this);\n\n      this.send('request');\n\n      this.receive('init', this._onInitResponse);\n      this.receive('update', this._onUpdateResponse);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(SharedParams.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedParams.prototype), 'stop', this).call(this);\n      // don't remove 'update' listener, as the control is runnig as a background process\n      this.removeListener('init', this._onInitResponse);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onInitResponse',\n    value: function _onInitResponse(config) {\n      var _this8 = this;\n\n      config.forEach(function (entry) {\n        var param = _this8._createParam(entry);\n        _this8.params[param.name] = param;\n      });\n\n      this.ready();\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onUpdateResponse',\n    value: function _onUpdateResponse(name, val) {\n      // update, but don't send back to server\n      this.update(name, val, false);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_createParam',\n    value: function _createParam(init) {\n      var param = null;\n\n      switch (init.type) {\n        case 'boolean':\n          param = new _BooleanParam(this, init.name, init.label, init.value);\n          break;\n\n        case 'enum':\n          param = new _EnumParam(this, init.name, init.label, init.options, init.value);\n          break;\n\n        case 'number':\n          param = new _NumberParam(this, init.name, init.label, init.min, init.max, init.step, init.value);\n          break;\n\n        case 'text':\n          param = new _TextParam(this, init.name, init.label, init.value);\n          break;\n\n        case 'trigger':\n          param = new _TriggerParam(this, init.name, init.label);\n          break;\n      }\n\n      return param;\n    }\n\n    /**\n     * @callback module:soundworks/client.SharedParams~paramCallback\n     * @param {Mixed} value - Updated value of the shared parameter.\n     */\n\n    /**\n     * Add a listener to listen a specific parameter changes. The listener is\n     * executed immediately when added with the parameter current value.\n     *\n     * @param {String} name - Name of the parameter.\n     * @param {module:soundworks/client.SharedParams~paramCallback} listener -\n     *  Listener to add.\n     */\n\n  }, {\n    key: 'addParamListener',\n    value: function addParamListener(name, listener) {\n      var param = this.params[name];\n\n      if (param) {\n        param.addListener('update', listener);\n\n        if (param.type !== 'trigger') listener(param.value);\n      } else {\n        console.log('unknown param \"' + name + '\"');\n      }\n    }\n\n    /**\n     * Remove a listener from listening a specific parameter changes.\n     *\n     * @param {String} name - Name of the parameter.\n     * @param {module:soundworks/client.SharedParams~paramCallback} listener -\n     *  Listener to remove.\n     */\n\n  }, {\n    key: 'removeParamListener',\n    value: function removeParamListener(name, listener) {\n      var param = this.params[name];\n\n      if (param) param.removeListener('update', listener);else console.log('unknown param \"' + name + '\"');\n    }\n\n    /**\n     * Get the value of a given parameter.\n     *\n     * @param {String} name - Name of the parameter.\n     * @returns {Mixed} - Current value of the parameter.\n     */\n\n  }, {\n    key: 'getValue',\n    value: function getValue(name) {\n      return this.params[name].value;\n    }\n\n    /**\n     * Update the value of a parameter (used when `options.hasGUI=true`)\n     *\n     * @param {String} name - Name of the parameter.\n     * @param {Mixed} val - New value of the parameter.\n     * @param {Boolean} [sendToServer=true] - Flag whether the value should be\n     *  propagated to the server.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, val) {\n      var sendToServer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      var param = this.params[name];\n\n      if (param) param.update(val, sendToServer);else console.log('unknown shared parameter \"' + name + '\"');\n    }\n  }]);\n  return SharedParams;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, SharedParams);\n\nexports.default = SharedParams;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNoYXJlZFBhcmFtcy5qcyJdLCJuYW1lcyI6WyJfUGFyYW0iLCJwYXJlbnQiLCJ0eXBlIiwibmFtZSIsImxhYmVsIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJ2YWwiLCJzZW5kVG9TZXJ2ZXIiLCJlbWl0Iiwic2VuZCIsInNldCIsIl9wcm9wYWdhdGUiLCJFdmVudEVtaXR0ZXIiLCJfQm9vbGVhblBhcmFtIiwiaW5pdCIsIl9FbnVtUGFyYW0iLCJvcHRpb25zIiwiaW5kZXgiLCJpbmRleE9mIiwiX051bWJlclBhcmFtIiwibWluIiwibWF4Iiwic3RlcCIsIk1hdGgiLCJfVGV4dFBhcmFtIiwiX1RyaWdnZXJQYXJhbSIsIlNFUlZJQ0VfSUQiLCJTaGFyZWRQYXJhbXMiLCJkZWZhdWx0cyIsImNvbmZpZ3VyZSIsInBhcmFtcyIsIl9vbkluaXRSZXNwb25zZSIsImJpbmQiLCJfb25VcGRhdGVSZXNwb25zZSIsInJlY2VpdmUiLCJyZW1vdmVMaXN0ZW5lciIsImNvbmZpZyIsImZvckVhY2giLCJlbnRyeSIsInBhcmFtIiwiX2NyZWF0ZVBhcmFtIiwicmVhZHkiLCJ1cGRhdGUiLCJsaXN0ZW5lciIsImFkZExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUdBO0FBQ0E7OztBQUdBO0lBQ01BLE07OztBQUNKLGtCQUFZQyxNQUFaLEVBQW9CQyxJQUFwQixFQUEwQkMsSUFBMUIsRUFBZ0NDLEtBQWhDLEVBQXVDO0FBQUE7O0FBQUE7O0FBRXJDLFVBQUtILE1BQUwsR0FBY0EsTUFBZDtBQUNBLFVBQUtDLElBQUwsR0FBWUEsSUFBWjtBQUNBLFVBQUtDLElBQUwsR0FBWUEsSUFBWjtBQUNBLFVBQUtDLEtBQUwsR0FBYUEsS0FBYjtBQUNBLFVBQUtDLEtBQUwsR0FBYUMsU0FBYjtB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dXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi4vLi4vdXRpbHMvRXZlbnRFbWl0dGVyJztcbmltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiBDT05UUk9MIFVOSVRTXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqIEBwcml2YXRlICovXG5jbGFzcyBfUGFyYW0gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHR5cGUsIG5hbWUsIGxhYmVsKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXQodmFsKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgX3Byb3BhZ2F0ZShzZW5kVG9TZXJ2ZXIgPSB0cnVlKSB7XG4gICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzLnZhbHVlKTsgLy8gY2FsbCBldmVudCBsaXN0ZW5lcnNcblxuICAgIGlmIChzZW5kVG9TZXJ2ZXIpXG4gICAgICB0aGlzLnBhcmVudC5zZW5kKCd1cGRhdGUnLCB0aGlzLm5hbWUsIHRoaXMudmFsdWUpOyAvLyBzZW5kIHRvIHNlcnZlclxuXG4gICAgdGhpcy5wYXJlbnQuZW1pdCgndXBkYXRlJywgdGhpcy5uYW1lLCB0aGlzLnZhbHVlKTsgLy8gY2FsbCBwYXJlbnQgbGlzdGVuZXJzXG4gIH1cblxuICB1cGRhdGUodmFsLCBzZW5kVG9TZXJ2ZXIgPSB0cnVlKSB7XG4gICAgdGhpcy5zZXQodmFsKTtcbiAgICB0aGlzLl9wcm9wYWdhdGUoc2VuZFRvU2VydmVyKTtcbiAgfVxufVxuXG5cbi8qKiBAcHJpdmF0ZSAqL1xuY2xhc3MgX0Jvb2xlYW5QYXJhbSBleHRlbmRzIF9QYXJhbSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbmFtZSwgbGFiZWwsIGluaXQpIHtcbiAgICBzdXBlcihwYXJlbnQsICdib29sZWFuJywgbmFtZSwgbGFiZWwpO1xuICAgIHRoaXMuc2V0KGluaXQpO1xuICB9XG5cbiAgc2V0KHZhbCkge1xuICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gIH1cbn1cblxuLyoqIEBwcml2YXRlICovXG5jbGFzcyBfRW51bVBhcmFtIGV4dGVuZHMgX1BhcmFtIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBuYW1lLCBsYWJlbCwgb3B0aW9ucywgaW5pdCkge1xuICAgIHN1cGVyKHBhcmVudCwgJ2VudW0nLCBuYW1lLCBsYWJlbCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnNldChpbml0KTtcbiAgfVxuXG4gIHNldCh2YWwpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLm9wdGlvbnMuaW5kZXhPZih2YWwpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgfVxuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuY2xhc3MgX051bWJlclBhcmFtIGV4dGVuZHMgX1BhcmFtIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBuYW1lLCBsYWJlbCwgbWluLCBtYXgsIHN0ZXAsIGluaXQpIHtcbiAgICBzdXBlcihwYXJlbnQsICdudW1iZXInLCBuYW1lLCBsYWJlbCk7XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICB0aGlzLnNldChpbml0KTtcbiAgfVxuXG4gIHNldCh2YWwpIHtcbiAgICB0aGlzLnZhbHVlID0gTWF0aC5taW4odGhpcy5tYXgsIE1hdGgubWF4KHRoaXMubWluLCB2YWwpKTtcbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmNsYXNzIF9UZXh0UGFyYW0gZXh0ZW5kcyBfUGFyYW0ge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5hbWUsIGxhYmVsLCBpbml0KSB7XG4gICAgc3VwZXIocGFyZW50LCAndGV4dCcsIG5hbWUsIGxhYmVsKTtcbiAgICB0aGlzLnNldChpbml0KTtcbiAgfVxuXG4gIHNldCh2YWwpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsO1xuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuY2xhc3MgX1RyaWdnZXJQYXJhbSBleHRlbmRzIF9QYXJhbSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbmFtZSwgbGFiZWwpIHtcbiAgICBzdXBlcihwYXJlbnQsICd0cmlnZ2VyJywgbmFtZSwgbGFiZWwpO1xuICB9XG5cbiAgc2V0KHZhbCkgeyAvKiBub3RoaW5nIHRvIHNldCBoZXJlICovIH1cbn1cblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOnNoYXJlZC1wYXJhbXMnO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIGNsaWVudCBgJ3NoYXJlZC1wYXJhbXMnYCBzZXJ2aWNlLlxuICpcbiAqIFRoZSBgc2hhcmVkLXBhcmFtc2Agc2VydmljZSBpcyB1c2VkIHRvIG1haW50YWluIGFuZCB1cGRhdGUgZ2xvYmFsIHBhcmFtZXRlcnNcbiAqIHVzZWQgYW1vbmcgYWxsIGNvbm5lY3RlZCBjbGllbnRzLiBFYWNoIGRlZmluZWQgcGFyYW1ldGVyIGNhbiBiZSBvZiB0aGVcbiAqIGZvbGxvd2luZyBkYXRhIHR5cGVzOlxuICogLSBib29sZWFuXG4gKiAtIGVudW1cbiAqIC0gbnVtYmVyXG4gKiAtIHRleHRcbiAqIC0gdHJpZ2dlclxuICpcbiAqIFRoZSBwYXJhbWV0ZXJzIGFyZSBjb25maWd1cmVkIGluIHRoZSBzZXJ2ZXIgc2lkZSBjb3VudGVycGFydCBvZiB0aGUgc2VydmljZS5cbiAqXG4gKiBUbyBjcmVhdGUgYSBjb250cm9sIHN1cmZhY2UgZnJvbSB0aGUgcGFyYW1ldGVycyBkZWZpbml0aW9ucywgYSBkZWRpY2F0ZWQgc2NlbmVcbiAqIFtgQmFzaWNTaGFyZWRDb250cm9sbGVyYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkJhc2ljU2hhcmVkQ29udHJvbGxlcn1cbiAqIGlzIGF2YWlsYWJsZS5cbiAqXG4gKiBfXypUaGUgc2VydmljZSBtdXN0IGJlIHVzZWQgYWxvbmcgd2l0aCBpdHNcbiAqIFtzZXJ2ZXItc2lkZSBjb3VudGVycGFydF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3Mvc2VydmVyLlNoYXJlZFBhcmFtc30qX19cbiAqXG4gKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlXG4gKiBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMuc2hhcmVkUGFyYW1zID0gdGhpcy5yZXF1aXJlKCdzaGFyZWQtcGFyYW1zJyk7XG4gKiAvLyB3aGVuIHRoZSBleHBlcmllbmNlIHN0YXJ0cywgbGlzdGVuIGZvciBwYXJhbWV0ZXIgdXBkYXRlc1xuICogdGhpcy5zaGFyZWRQYXJhbXMuYWRkUGFyYW1MaXN0ZW5lcignc3ludGg6Z2FpbicsICh2YWx1ZSkgPT4ge1xuICogICB0aGlzLnN5bnRoLnNldEdhaW4odmFsdWUpO1xuICogfSk7XG4gKlxuICogQHNlZSBbYEJhc2ljU2hhcmVkQ29udHJvbGxlcmAgc2NlbmVde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5CYXNpY1NoYXJlZENvbnRyb2xsZXJ9XG4gKi9cbmNsYXNzIFNoYXJlZFBhcmFtcyBleHRlbmRzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge307XG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgLyoqXG4gICAgICogRGljdGlvbmFyeSBvZiBhbGwgdGhlIHBhcmFtZXRlcnMgYW5kIGNvbW1hbmRzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG5hbWUgcGFyYW1zXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TaGFyZWRQYXJhbXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wYXJhbXMgPSB7fTtcblxuICAgIHRoaXMuX29uSW5pdFJlc3BvbnNlID0gdGhpcy5fb25Jbml0UmVzcG9uc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblVwZGF0ZVJlc3BvbnNlID0gdGhpcy5fb25VcGRhdGVSZXNwb25zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICB0aGlzLnNlbmQoJ3JlcXVlc3QnKTtcblxuICAgIHRoaXMucmVjZWl2ZSgnaW5pdCcsIHRoaXMuX29uSW5pdFJlc3BvbnNlKTtcbiAgICB0aGlzLnJlY2VpdmUoJ3VwZGF0ZScsIHRoaXMuX29uVXBkYXRlUmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0b3AoKSB7XG4gICAgc3VwZXIuc3RvcCgpO1xuICAgIC8vIGRvbid0IHJlbW92ZSAndXBkYXRlJyBsaXN0ZW5lciwgYXMgdGhlIGNvbnRyb2wgaXMgcnVubmlnIGFzIGEgYmFja2dyb3VuZCBwcm9jZXNzXG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcignaW5pdCcsIHRoaXMuX29uSW5pdFJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25Jbml0UmVzcG9uc2UoY29uZmlnKSB7XG4gICAgY29uZmlnLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBwYXJhbSA9IHRoaXMuX2NyZWF0ZVBhcmFtKGVudHJ5KTtcbiAgICAgIHRoaXMucGFyYW1zW3BhcmFtLm5hbWVdID0gcGFyYW07XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlYWR5KCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29uVXBkYXRlUmVzcG9uc2UobmFtZSwgdmFsKSB7XG4gICAgLy8gdXBkYXRlLCBidXQgZG9uJ3Qgc2VuZCBiYWNrIHRvIHNlcnZlclxuICAgIHRoaXMudXBkYXRlKG5hbWUsIHZhbCwgZmFsc2UpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9jcmVhdGVQYXJhbShpbml0KSB7XG4gICAgbGV0IHBhcmFtID0gbnVsbDtcblxuICAgIHN3aXRjaCAoaW5pdC50eXBlKSB7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcGFyYW0gPSBuZXcgX0Jvb2xlYW5QYXJhbSh0aGlzLCBpbml0Lm5hbWUsIGluaXQubGFiZWwsIGluaXQudmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgIHBhcmFtID0gbmV3IF9FbnVtUGFyYW0odGhpcywgaW5pdC5uYW1lLCBpbml0LmxhYmVsLCBpbml0Lm9wdGlvbnMsIGluaXQudmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcGFyYW0gPSBuZXcgX051bWJlclBhcmFtKHRoaXMsIGluaXQubmFtZSwgaW5pdC5sYWJlbCwgaW5pdC5taW4sIGluaXQubWF4LCBpbml0LnN0ZXAsIGluaXQudmFsdWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIHBhcmFtID0gbmV3IF9UZXh0UGFyYW0odGhpcywgaW5pdC5uYW1lLCBpbml0LmxhYmVsLCBpbml0LnZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RyaWdnZXInOlxuICAgICAgICBwYXJhbSA9IG5ldyBfVHJpZ2dlclBhcmFtKHRoaXMsIGluaXQubmFtZSwgaW5pdC5sYWJlbCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlNoYXJlZFBhcmFtc35wYXJhbUNhbGxiYWNrXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlIC0gVXBkYXRlZCB2YWx1ZSBvZiB0aGUgc2hhcmVkIHBhcmFtZXRlci5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFkZCBhIGxpc3RlbmVyIHRvIGxpc3RlbiBhIHNwZWNpZmljIHBhcmFtZXRlciBjaGFuZ2VzLiBUaGUgbGlzdGVuZXIgaXNcbiAgICogZXhlY3V0ZWQgaW1tZWRpYXRlbHkgd2hlbiBhZGRlZCB3aXRoIHRoZSBwYXJhbWV0ZXIgY3VycmVudCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlNoYXJlZFBhcmFtc35wYXJhbUNhbGxiYWNrfSBsaXN0ZW5lciAtXG4gICAqICBMaXN0ZW5lciB0byBhZGQuXG4gICAqL1xuICBhZGRQYXJhbUxpc3RlbmVyKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgcGFyYW0gPSB0aGlzLnBhcmFtc1tuYW1lXTtcblxuICAgIGlmIChwYXJhbSkge1xuICAgICAgcGFyYW0uYWRkTGlzdGVuZXIoJ3VwZGF0ZScsIGxpc3RlbmVyKTtcblxuICAgICAgaWYgKHBhcmFtLnR5cGUgIT09ICd0cmlnZ2VyJylcbiAgICAgICAgbGlzdGVuZXIocGFyYW0udmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygndW5rbm93biBwYXJhbSBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGxpc3RlbmVyIGZyb20gbGlzdGVuaW5nIGEgc3BlY2lmaWMgcGFyYW1ldGVyIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TaGFyZWRQYXJhbXN+cGFyYW1DYWxsYmFja30gbGlzdGVuZXIgLVxuICAgKiAgTGlzdGVuZXIgdG8gcmVtb3ZlLlxuICAgKi9cbiAgcmVtb3ZlUGFyYW1MaXN0ZW5lcihuYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IHBhcmFtID0gdGhpcy5wYXJhbXNbbmFtZV07XG5cbiAgICBpZiAocGFyYW0pXG4gICAgICBwYXJhbS5yZW1vdmVMaXN0ZW5lcigndXBkYXRlJywgbGlzdGVuZXIpO1xuICAgIGVsc2VcbiAgICAgIGNvbnNvbGUubG9nKCd1bmtub3duIHBhcmFtIFwiJyArIG5hbWUgKyAnXCInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gcGFyYW1ldGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIHBhcmFtZXRlci5cbiAgICogQHJldHVybnMge01peGVkfSAtIEN1cnJlbnQgdmFsdWUgb2YgdGhlIHBhcmFtZXRlci5cbiAgICovXG4gIGdldFZhbHVlKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXNbbmFtZV0udmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB2YWx1ZSBvZiBhIHBhcmFtZXRlciAodXNlZCB3aGVuIGBvcHRpb25zLmhhc0dVST10cnVlYClcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbCAtIE5ldyB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzZW5kVG9TZXJ2ZXI9dHJ1ZV0gLSBGbGFnIHdoZXRoZXIgdGhlIHZhbHVlIHNob3VsZCBiZVxuICAgKiAgcHJvcGFnYXRlZCB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgdXBkYXRlKG5hbWUsIHZhbCwgc2VuZFRvU2VydmVyID0gdHJ1ZSkge1xuICAgIGNvbnN0IHBhcmFtID0gdGhpcy5wYXJhbXNbbmFtZV07XG5cbiAgICBpZiAocGFyYW0pXG4gICAgICBwYXJhbS51cGRhdGUodmFsLCBzZW5kVG9TZXJ2ZXIpO1xuICAgIGVsc2VcbiAgICAgIGNvbnNvbGUubG9nKCd1bmtub3duIHNoYXJlZCBwYXJhbWV0ZXIgXCInICsgbmFtZSArICdcIicpO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIFNoYXJlZFBhcmFtcyk7XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZFBhcmFtcztcbiJdfQ==","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../../utils/EventEmitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/EventEmitter.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _View2 = require('./View');\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultTemplate = '\\n  <div class=\"section-top flex-middle\"><p><%= top %></p></div>\\n  <div class=\"section-center flex-center\"><p><%= center %></p></div>\\n  <div class=\"section-bottom flex-middle\"><p><%= bottom %></p></div>\\n';\n\n/**\n * Create views which keep defined vertical ratios among elements. These ratios\n * are kept between the different parts in portrait and landscape orientation.\n * The default Segmented view defines a layout with 3 verticals parts.\n *\n * Others ratios can be defined by creating a new template and defining the\n * ratios of the different elements by overriding the `ratio` option.\n * The sum of all the ratios should be equal to 1.\n *\n * _<span class=\"warning\">__WARNING__</span> Views should be created using\n * {@link module:soundworks/client.Activity#createView} method._\n *\n * @param {String} template - Template of the view.\n * @param {Object} content - Object containing the variables used to populate\n *  the template. {@link module:soundworks/client.View#content}.\n * @param {Object} events - Event listeners to install to the view\n *  {@link module:soundworks/client.View#events}.\n * @param {Object} options - Options of the view.\n *  {@link module:soundworks/client.View#options}.\n *\n * @memberof module:soundworks/client\n * @extends {module:soundworks/client.View}\n */\n\nvar SegmentedView = function (_View) {\n  (0, _inherits3.default)(SegmentedView, _View);\n\n  function SegmentedView(template) {\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var events = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, SegmentedView);\n\n    // fallback on default template if `template = null`\n    template = !template ? defaultTemplate : template;\n\n    /**\n     * Object associating selectors as defined in the given template associated\n     * with their vertical ratio, the ratio is applyed in both 'portrait' and\n     * 'landscape' orientation.\n     *\n     * @type {Object<String:Number>}\n     * @name ratios\n     * @instance\n     * @memberof module:soundworks/client.SegmentedView\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SegmentedView.__proto__ || (0, _getPrototypeOf2.default)(SegmentedView)).call(this, template, content, events, options));\n\n    _this.ratios = options.ratios || {\n      '.section-top': 0.3,\n      '.section-center': 0.5,\n      '.section-bottom': 0.2\n    };\n\n    /**\n     * An object containing selectors defined in the template associated\n     * with their vertical ratio, the ratio is applyed in both 'portrait'\n     * and 'landscape' orientation.\n     *\n     * @type {Object<String:Element>}\n     * @name ratios\n     * @instance\n     * @memberof module:soundworks/client.SegmentedView\n     * @private\n     */\n    _this._$sections = {};\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(SegmentedView, [{\n    key: 'onRender',\n    value: function onRender() {\n      var _this2 = this;\n\n      (0, _keys2.default)(this.ratios).forEach(function (sel) {\n        var $el = _this2.$el.querySelector(sel);\n\n        if ($el === null) throw new Error('Unknow selector \"' + sel + '\"');\n\n        _this2._$sections[sel] = $el;\n      });\n    }\n\n    /** @private */\n\n  }, {\n    key: 'onResize',\n    value: function onResize(width, height, orientation) {\n      (0, _get3.default)(SegmentedView.prototype.__proto__ || (0, _getPrototypeOf2.default)(SegmentedView.prototype), 'onResize', this).call(this, width, height, orientation);\n\n      for (var sel in this.ratios) {\n        var ratio = this.ratios[sel];\n        var $el = this._$sections[sel];\n\n        $el.style.minHeight = ratio * height + 'px';\n      }\n    }\n  }]);\n  return SegmentedView;\n}(_View3.default);\n\nexports.default = SegmentedView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlZ21lbnRlZFZpZXcuanMiXSwibmFtZXMiOlsiZGVmYXVsdFRlbXBsYXRlIiwiU2VnbWVudGVkVmlldyIsInRlbXBsYXRlIiwiY29udGVudCIsImV2ZW50cyIsIm9wdGlvbnMiLCJyYXRpb3MiLCJfJHNlY3Rpb25zIiwiZm9yRWFjaCIsInNlbCIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJFcnJvciIsIndpZHRoIiwiaGVpZ2h0Iiwib3JpZW50YXRpb24iLCJyYXRpbyIsInN0eWxlIiwibWluSGVpZ2h0IiwiVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFNQSxrT0FBTjs7QUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBdUJNQyxhOzs7QUFDSix5QkFBWUMsUUFBWixFQUErRDtBQUFBLFFBQXpDQyxPQUF5Qyx1RUFBL0IsRUFBK0I7QUFBQSxRQUEzQkMsTUFBMkIsdUVBQWxCLEVBQWtCO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQUE7O0FBQzdEO0FBQ0FILGVBQVcsQ0FBQ0EsUUFBRCxHQUFZRixlQUFaLEdBQThCRSxRQUF6Qzs7QUFHQTs7Ozs7Ozs7OztBQUw2RCxvSkFHdkRBLFFBSHVELEVBRzdDQyxPQUg2QyxFQUdwQ0MsTUFIb0MsRUFHNUJDLE9BSDRCOztBQWU3RCxVQUFLQyxNQUFMLEdBQWNELFFBQVFDLE1BQVIsSUFBa0I7QUFDOUIsc0JBQWdCLEdBRGM7QUFFOUIseUJBQW1CLEdBRlc7QUFHOUIseUJBQW1CO0FBSFcsS0FBaEM7O0FBTUE7Ozs7Ozs7Ozs7O0FBV0EsVUFBS0MsVUFBTCxHQUFrQixFQUFsQjtBQWhDNkQ7QUFpQzlEOztBQUVEOzs7OzsrQkFDVztBQUFBOztBQUNULDBCQUFZLEtBQUtELE1BQWpCLEVBQXlCRSxPQUF6QixDQUFpQyxVQUFDQyxHQUFELEVBQVM7QUFDeEMsWUFBTUMsTUFBTSxPQUFLQSxHQUFMLENBQVNDLGFBQVQsQ0FBdUJGLEdBQXZCLENBQVo7O0FBRUEsWUFBSUMsUUFBUSxJQUFaLEVBQ0UsTUFBTSxJQUFJRSxLQUFKLHVCQUE4QkgsR0FBOUIsT0FBTjs7QUFFRixlQUFLRixVQUFMLENBQWdCRSxHQUFoQixJQUF1QkMsR0FBdkI7QUFDRCxPQVBEO0FBUUQ7O0FBRUQ7Ozs7NkJBQ1NHLEssRUFBT0MsTSxFQUFRQyxXLEVBQWE7QUFDbkMsbUpBQWVGLEtBQWYsRUFBc0JDLE1BQXRCLEVBQThCQyxXQUE5Qjs7QUFFQSxXQUFLLElBQUlOLEdBQVQsSUFBZ0IsS0FBS0gsTUFBckIsRUFBNkI7QUFDM0IsWUFBTVUsUUFBUSxLQUFLVixNQUFMLENBQVlHLEdBQVosQ0FBZDtBQUNBLFlBQU1DLE1BQU0sS0FBS0gsVUFBTCxDQUFnQkUsR0FBaEIsQ0FBWjs7QUFFQUMsWUFBSU8sS0FBSixDQUFVQyxTQUFWLEdBQXlCRixRQUFRRixNQUFqQztBQUNEO0FBQ0Y7OztFQTFEeUJLLGM7O2tCQTZEYmxCLGEiLCJmaWxlIjoiU2VnbWVudGVkVmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3IGZyb20gJy4vVmlldyc7XG5cbmNvbnN0IGRlZmF1bHRUZW1wbGF0ZSA9IGBcbiAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wIGZsZXgtbWlkZGxlXCI+PHA+PCU9IHRvcCAlPjwvcD48L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInNlY3Rpb24tY2VudGVyIGZsZXgtY2VudGVyXCI+PHA+PCU9IGNlbnRlciAlPjwvcD48L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tIGZsZXgtbWlkZGxlXCI+PHA+PCU9IGJvdHRvbSAlPjwvcD48L2Rpdj5cbmA7XG5cbi8qKlxuICogQ3JlYXRlIHZpZXdzIHdoaWNoIGtlZXAgZGVmaW5lZCB2ZXJ0aWNhbCByYXRpb3MgYW1vbmcgZWxlbWVudHMuIFRoZXNlIHJhdGlvc1xuICogYXJlIGtlcHQgYmV0d2VlbiB0aGUgZGlmZmVyZW50IHBhcnRzIGluIHBvcnRyYWl0IGFuZCBsYW5kc2NhcGUgb3JpZW50YXRpb24uXG4gKiBUaGUgZGVmYXVsdCBTZWdtZW50ZWQgdmlldyBkZWZpbmVzIGEgbGF5b3V0IHdpdGggMyB2ZXJ0aWNhbHMgcGFydHMuXG4gKlxuICogT3RoZXJzIHJhdGlvcyBjYW4gYmUgZGVmaW5lZCBieSBjcmVhdGluZyBhIG5ldyB0ZW1wbGF0ZSBhbmQgZGVmaW5pbmcgdGhlXG4gKiByYXRpb3Mgb2YgdGhlIGRpZmZlcmVudCBlbGVtZW50cyBieSBvdmVycmlkaW5nIHRoZSBgcmF0aW9gIG9wdGlvbi5cbiAqIFRoZSBzdW0gb2YgYWxsIHRoZSByYXRpb3Mgc2hvdWxkIGJlIGVxdWFsIHRvIDEuXG4gKlxuICogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBWaWV3cyBzaG91bGQgYmUgY3JlYXRlZCB1c2luZ1xuICoge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BY3Rpdml0eSNjcmVhdGVWaWV3fSBtZXRob2QuX1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZSAtIFRlbXBsYXRlIG9mIHRoZSB2aWV3LlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRlbnQgLSBPYmplY3QgY29udGFpbmluZyB0aGUgdmFyaWFibGVzIHVzZWQgdG8gcG9wdWxhdGVcbiAqICB0aGUgdGVtcGxhdGUuIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNjb250ZW50fS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudHMgLSBFdmVudCBsaXN0ZW5lcnMgdG8gaW5zdGFsbCB0byB0aGUgdmlld1xuICogIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNldmVudHN9LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIG9mIHRoZSB2aWV3LlxuICogIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNvcHRpb25zfS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKiBAZXh0ZW5kcyB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXd9XG4gKi9cbmNsYXNzIFNlZ21lbnRlZFZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgY29uc3RydWN0b3IodGVtcGxhdGUsIGNvbnRlbnQgPSB7fSwgZXZlbnRzID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIGZhbGxiYWNrIG9uIGRlZmF1bHQgdGVtcGxhdGUgaWYgYHRlbXBsYXRlID0gbnVsbGBcbiAgICB0ZW1wbGF0ZSA9ICF0ZW1wbGF0ZSA/IGRlZmF1bHRUZW1wbGF0ZSA6IHRlbXBsYXRlO1xuICAgIHN1cGVyKHRlbXBsYXRlLCBjb250ZW50LCBldmVudHMsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGFzc29jaWF0aW5nIHNlbGVjdG9ycyBhcyBkZWZpbmVkIGluIHRoZSBnaXZlbiB0ZW1wbGF0ZSBhc3NvY2lhdGVkXG4gICAgICogd2l0aCB0aGVpciB2ZXJ0aWNhbCByYXRpbywgdGhlIHJhdGlvIGlzIGFwcGx5ZWQgaW4gYm90aCAncG9ydHJhaXQnIGFuZFxuICAgICAqICdsYW5kc2NhcGUnIG9yaWVudGF0aW9uLlxuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdDxTdHJpbmc6TnVtYmVyPn1cbiAgICAgKiBAbmFtZSByYXRpb3NcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlNlZ21lbnRlZFZpZXdcbiAgICAgKi9cbiAgICB0aGlzLnJhdGlvcyA9IG9wdGlvbnMucmF0aW9zIHx8wqB7XG4gICAgICAnLnNlY3Rpb24tdG9wJzogMC4zLFxuICAgICAgJy5zZWN0aW9uLWNlbnRlcic6IDAuNSxcbiAgICAgICcuc2VjdGlvbi1ib3R0b20nOiAwLjIsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIHNlbGVjdG9ycyBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkXG4gICAgICogd2l0aCB0aGVpciB2ZXJ0aWNhbCByYXRpbywgdGhlIHJhdGlvIGlzIGFwcGx5ZWQgaW4gYm90aCAncG9ydHJhaXQnXG4gICAgICogYW5kICdsYW5kc2NhcGUnIG9yaWVudGF0aW9uLlxuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdDxTdHJpbmc6RWxlbWVudD59XG4gICAgICogQG5hbWUgcmF0aW9zXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TZWdtZW50ZWRWaWV3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl8kc2VjdGlvbnMgPSB7fTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBvblJlbmRlcigpIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLnJhdGlvcykuZm9yRWFjaCgoc2VsKSA9PiB7XG4gICAgICBjb25zdCAkZWwgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKHNlbCk7XG5cbiAgICAgIGlmICgkZWwgPT09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93IHNlbGVjdG9yIFwiJHtzZWx9XCJgKTtcblxuICAgICAgdGhpcy5fJHNlY3Rpb25zW3NlbF0gPSAkZWw7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25SZXNpemUod2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pIHtcbiAgICBzdXBlci5vblJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbik7XG5cbiAgICBmb3IgKGxldCBzZWwgaW4gdGhpcy5yYXRpb3MpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5yYXRpb3Nbc2VsXTtcbiAgICAgIGNvbnN0ICRlbCA9IHRoaXMuXyRzZWN0aW9uc1tzZWxdO1xuXG4gICAgICAkZWwuc3R5bGUubWluSGVpZ2h0ID0gYCR7cmF0aW8gKiBoZWlnaHR9cHhgO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWdtZW50ZWRWaWV3O1xuIl19","deps":{"./View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/keys.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _SegmentedView2 = require('./SegmentedView');\n\nvar _SegmentedView3 = _interopRequireDefault(_SegmentedView2);\n\nvar _CanvasRenderingGroup = require('./CanvasRenderingGroup');\n\nvar _CanvasRenderingGroup2 = _interopRequireDefault(_CanvasRenderingGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultCanvasTemplate = '\\n  <canvas class=\"background\"></canvas>\\n  <div class=\"foreground\">\\n    <div class=\"section-top flex-middle\"><%= top %></div>\\n    <div class=\"section-center flex-center\"><%= center %></div>\\n    <div class=\"section-bottom flex-middle\"><%= bottom %></div>\\n  </div>\\n';\n\n/**\n * View designed for experiences where 2d graphical rendering is needed.\n * The view is basically a `SegmentedView` with a `canvas` element in\n * the background and a set of helpers to handle the __renderers__ (objects\n * that draw something into the canvas).\n *\n * _<span class=\"warning\">__WARNING__</span> Views should preferably by\n * created using the [`Experience#createView`]{@link module:soundworks/client.Experience#createView}\n * method._\n *\n * @param {String} template - Template of the view.\n * @param {Object} content - Object containing the variables used to populate\n *  the template. {@link module:soundworks/client.View#content}.\n * @param {Object} events - Listeners to install in the view\n *  {@link module:soundworks/client.View#events}.\n * @param {Object} options - Options of the view.\n *  {@link module:soundworks/client.View#options}.\n *\n * @memberof module:soundworks/client\n * @extends {module:soundworks/client.SegmentedView}\n *\n * @see {@link module:soundworks/client.View}\n * @see {@link module:soundworks/client.Renderer}\n */\n\nvar CanvasView = function (_SegmentedView) {\n  (0, _inherits3.default)(CanvasView, _SegmentedView);\n\n  function CanvasView(template, content, events, options) {\n    (0, _classCallCheck3.default)(this, CanvasView);\n\n    template = template || defaultCanvasTemplate;\n    options = (0, _assign2.default)({\n      preservePixelRatio: false,\n      skipFrames: 0\n    }, options);\n\n    /**\n     * Temporary stack the renderers when the view is not visible.\n     *\n     * @type {Set}\n     * @name _rendererStack\n     * @instance\n     * @memberof module:soundworks/client.CanvasView\n     * @private\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (CanvasView.__proto__ || (0, _getPrototypeOf2.default)(CanvasView)).call(this, template, content, events, options));\n\n    _this._rendererStack = new _set2.default();\n\n    /**\n     * Flag to track the first `onRender` call.\n     *\n     * @type {Boolean}\n     * @name _hasRenderedOnce\n     * @instance\n     * @memberof module:soundworks/client.CanvasView\n     * @private\n     */\n    _this._hasRenderedOnce = false;\n\n    /**\n     * Default rendering group.\n     *\n     * @type {module:soundworks/client.CanvasRenderingGroup}\n     * @name _renderingGroup\n     * @instance\n     * @memberof module:soundworks/client.CanvasView\n     * @private\n     */\n    _this._renderingGroup = null;\n\n    /**\n     * Canvas DOM element to draw into.\n     *\n     * @type {Element}\n     * @name $canvas\n     * @instance\n     * @memberof module:soundworks/client.$canvas\n     */\n    _this.$canvas = null;\n\n    /**\n     * 2d context of the canvas.\n     *\n     * @type {CanvasRenderingContext2D}\n     * @name $canvas\n     * @instance\n     * @memberof module:soundworks/client.$canvas\n     */\n    _this.ctx = null;\n    return _this;\n  }\n\n  (0, _createClass3.default)(CanvasView, [{\n    key: 'onRender',\n\n\n    /** @private */\n    value: function onRender() {\n      (0, _get3.default)(CanvasView.prototype.__proto__ || (0, _getPrototypeOf2.default)(CanvasView.prototype), 'onRender', this).call(this);\n\n      this.$canvas = this.$el.querySelector('canvas');\n      this.ctx = this.$canvas.getContext('2d');\n\n      // update the rendering group if the canvas instance has changed after a render\n      if (this._renderingGroup) this._renderingGroup.ctx = this.ctx;\n\n      if (!this._hasRenderedOnce) {\n        var preservePixelRatio = this.options.preservePixelRatio;\n        var skipFrames = this.options.skipFrames;\n        this._renderingGroup = new _CanvasRenderingGroup2.default(this.ctx, preservePixelRatio, skipFrames);\n\n        // prevent creating a new rendering group each time the view is re-rendered\n        this._hasRenderedOnce = true;\n        this.init();\n      }\n    }\n\n    /**\n     * Entry point called when the renderingGroup for the view is ready.\n     * Basically allows to instanciate some renderers from inside the view.\n     */\n\n  }, {\n    key: 'init',\n    value: function init() {}\n\n    /** @private */\n\n  }, {\n    key: 'onResize',\n    value: function onResize(viewportWidth, viewportHeight, orientation) {\n      var _this2 = this;\n\n      (0, _get3.default)(CanvasView.prototype.__proto__ || (0, _getPrototypeOf2.default)(CanvasView.prototype), 'onResize', this).call(this, viewportWidth, viewportHeight, orientation);\n      this._renderingGroup.onResize(viewportWidth, viewportHeight, orientation);\n\n      // add stacked renderers to the rendering group\n      this._rendererStack.forEach(function (renderer) {\n        return _this2._renderingGroup.add(renderer);\n      });\n      this._rendererStack.clear();\n    }\n\n    /**\n     * Callback executed at the beginning of each `requestAnimationFrame`\n     * cycle, before the execution of the renderers.\n     * @callback module:soundworks/client.CanvasView~preRenderer\n     *\n     * @param {CanvasRenderingContext2D} ctx - Context of the canvas.\n     * @param {Number} dt - Delta time in seconds since last rendering.\n     * @param {Number} canvasWidth - Current width of the canvas.\n     * @param {Number} canvasHeight - Current height of the canvas.\n     */\n    /**\n     * Register a function to execute at the beginning of each\n     * `requestAnimationFrame` cycle.\n     *\n     * @param {module:soundworks/client.CanvasView~preRenderer} callback -\n     *  Function to execute before each rendering cycle.\n     */\n\n  }, {\n    key: 'setPreRender',\n    value: function setPreRender(callback) {\n      this._renderingGroup.preRender = callback;\n    }\n\n    /**\n     * Callback executed at the end of each `requestAnimationFrame`\n     * cycle, after the execution of the renderers.\n     * @callback module:soundworks/client.CanvasView~postRenderer\n     *\n     * @param {CanvasRenderingContext2D} ctx - Context of the canvas.\n     * @param {Number} dt - Delta time in seconds since last rendering.\n     * @param {Number} canvasWidth - Current width of the canvas.\n     * @param {Number} canvasHeight - Current height of the canvas.\n     */\n    /**\n     * Register a function to execute at the end of each\n     * `requestAnimationFrame` cycle.\n     *\n     * @param {module:soundworks/client.CanvasView~postRenderer} callback -\n     *  Function to execute before each rendering cycle.\n     */\n\n  }, {\n    key: 'setPostRender',\n    value: function setPostRender(callback) {\n      this._renderingGroup.postRender = callback;\n    }\n\n    /**\n     * Add a renderer to the `RenderingGroup`. The renderer is automatically\n     * activated when added to the group.\n     *\n     * @param {module:soundworks/client.Renderer} renderer - Renderer to add.\n     */\n\n  }, {\n    key: 'addRenderer',\n    value: function addRenderer(renderer) {\n      if (this.isVisible) this._renderingGroup.add(renderer);else this._rendererStack.add(renderer);\n    }\n\n    /**\n     * Remove a renderer from the `RenderingGroup`. The renderer is automatically\n     * disactivated when removed from the group.\n     *\n     * @param {module:soundworks/client.Renderer} renderer - Renderer to remove.\n     */\n\n  }, {\n    key: 'removeRenderer',\n    value: function removeRenderer(renderer) {\n      if (this.isVisible) this._renderingGroup.remove(renderer);else this._rendererStack.delete(renderer);\n    }\n  }, {\n    key: 'pixelRatio',\n    get: function get() {\n      return this._renderingGroup.pixelRatio;\n    }\n  }]);\n  return CanvasView;\n}(_SegmentedView3.default);\n\nexports.default = CanvasView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhbnZhc1ZpZXcuanMiXSwibmFtZXMiOlsiZGVmYXVsdENhbnZhc1RlbXBsYXRlIiwiQ2FudmFzVmlldyIsInRlbXBsYXRlIiwiY29udGVudCIsImV2ZW50cyIsIm9wdGlvbnMiLCJwcmVzZXJ2ZVBpeGVsUmF0aW8iLCJza2lwRnJhbWVzIiwiX3JlbmRlcmVyU3RhY2siLCJfaGFzUmVuZGVyZWRPbmNlIiwiX3JlbmRlcmluZ0dyb3VwIiwiJGNhbnZhcyIsImN0eCIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRDb250ZXh0IiwiQ2FudmFzUmVuZGVyaW5nR3JvdXAiLCJpbml0Iiwidmlld3BvcnRXaWR0aCIsInZpZXdwb3J0SGVpZ2h0Iiwib3JpZW50YXRpb24iLCJvblJlc2l6ZSIsImZvckVhY2giLCJyZW5kZXJlciIsImFkZCIsImNsZWFyIiwiY2FsbGJhY2siLCJwcmVSZW5kZXIiLCJwb3N0UmVuZGVyIiwiaXNWaXNpYmxlIiwicmVtb3ZlIiwiZGVsZXRlIiwicGl4ZWxSYXRpbyIsIlNlZ21lbnRlZFZpZXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBR0EsSUFBTUEsdVNBQU47O0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF3Qk1DLFU7OztBQUNKLHNCQUFZQyxRQUFaLEVBQXNCQyxPQUF0QixFQUErQkMsTUFBL0IsRUFBdUNDLE9BQXZDLEVBQWdEO0FBQUE7O0FBQzlDSCxlQUFXQSxZQUFZRixxQkFBdkI7QUFDQUssY0FBVSxzQkFBYztBQUN0QkMsMEJBQW9CLEtBREU7QUFFdEJDLGtCQUFZO0FBRlUsS0FBZCxFQUdQRixPQUhPLENBQVY7O0FBT0E7Ozs7Ozs7OztBQVQ4Qyw4SUFPeENILFFBUHdDLEVBTzlCQyxPQVA4QixFQU9yQkMsTUFQcUIsRUFPYkMsT0FQYTs7QUFrQjlDLFVBQUtHLGNBQUwsR0FBc0IsbUJBQXRCOztBQUVBOzs7Ozs7Ozs7QUFTQSxVQUFLQyxnQkFBTCxHQUF3QixLQUF4Qjs7QUFFQTs7Ozs7Ozs7O0FBU0EsVUFBS0MsZUFBTCxHQUF1QixJQUF2Qjs7QUFFQTs7Ozs7Ozs7QUFRQSxVQUFLQyxPQUFMLEdBQWUsSUFBZjs7QUFFQTs7Ozs7Ozs7QUFRQSxVQUFLQyxHQUFMLEdBQVcsSUFBWDtBQTVEOEM7QUE2RC9DOzs7Ozs7QUFNRDsrQkFDVztBQUNUOztBQUVBLFdBQUtELE9BQUwsR0FBZSxLQUFLRSxHQUFMLENBQVNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtBQUNBLFdBQUtGLEdBQUwsR0FBVyxLQUFLRCxPQUFMLENBQWFJLFVBQWIsQ0FBd0IsSUFBeEIsQ0FBWDs7QUFFQTtBQUNBLFVBQUksS0FBS0wsZUFBVCxFQUNFLEtBQUtBLGVBQUwsQ0FBcUJFLEdBQXJCLEdBQTJCLEtBQUtBLEdBQWhDOztBQUVGLFVBQUksQ0FBQyxLQUFLSCxnQkFBVixFQUE0QjtBQUMxQixZQUFNSCxxQkFBcUIsS0FBS0QsT0FBTCxDQUFhQyxrQkFBeEM7QUFDQSxZQUFNQyxhQUFhLEtBQUtGLE9BQUwsQ0FBYUUsVUFBaEM7QUFDQSxhQUFLRyxlQUFMLEdBQXVCLElBQUlNLDhCQUFKLENBQXlCLEtBQUtKLEdBQTlCLEVBQW1DTixrQkFBbkMsRUFBdURDLFVBQXZELENBQXZCOztBQUVBO0FBQ0EsYUFBS0UsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxhQUFLUSxJQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7OzsyQkFJTyxDQUFFOztBQUVUOzs7OzZCQUNTQyxhLEVBQWVDLGMsRUFBZ0JDLFcsRUFBYTtBQUFBOztBQUNuRCw2SUFBZUYsYUFBZixFQUE4QkMsY0FBOUIsRUFBOENDLFdBQTlDO0FBQ0EsV0FBS1YsZUFBTCxDQUFxQlcsUUFBckIsQ0FBOEJILGFBQTlCLEVBQTZDQyxjQUE3QyxFQUE2REMsV0FBN0Q7O0FBRUE7QUFDQSxXQUFLWixjQUFMLENBQW9CYyxPQUFwQixDQUE0QixVQUFDQyxRQUFEO0FBQUEsZUFBYyxPQUFLYixlQUFMLENBQXFCYyxHQUFyQixDQUF5QkQsUUFBekIsQ0FBZDtBQUFBLE9BQTVCO0FBQ0EsV0FBS2YsY0FBTCxDQUFvQmlCLEtBQXBCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7OztpQ0FPYUMsUSxFQUFVO0FBQ3JCLFdBQUtoQixlQUFMLENBQXFCaUIsU0FBckIsR0FBaUNELFFBQWpDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7OztrQ0FPY0EsUSxFQUFVO0FBQ3RCLFdBQUtoQixlQUFMLENBQXFCa0IsVUFBckIsR0FBa0NGLFFBQWxDO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztnQ0FNWUgsUSxFQUFVO0FBQ3BCLFVBQUksS0FBS00sU0FBVCxFQUNFLEtBQUtuQixlQUFMLENBQXFCYyxHQUFyQixDQUF5QkQsUUFBekIsRUFERixLQUdFLEtBQUtmLGNBQUwsQ0FBb0JnQixHQUFwQixDQUF3QkQsUUFBeEI7QUFDSDs7QUFFRDs7Ozs7Ozs7O21DQU1lQSxRLEVBQVU7QUFDdkIsVUFBSSxLQUFLTSxTQUFULEVBQ0UsS0FBS25CLGVBQUwsQ0FBcUJvQixNQUFyQixDQUE0QlAsUUFBNUIsRUFERixLQUdFLEtBQUtmLGNBQUwsQ0FBb0J1QixNQUFwQixDQUEyQlIsUUFBM0I7QUFDSDs7O3dCQTVHZ0I7QUFDZixhQUFPLEtBQUtiLGVBQUwsQ0FBcUJzQixVQUE1QjtBQUNEOzs7RUFsRXNCQyx1Qjs7a0JBK0tWaEMsVSIsImZpbGUiOiJDYW52YXNWaWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlZ21lbnRlZFZpZXcgZnJvbSAnLi9TZWdtZW50ZWRWaWV3JztcbmltcG9ydCBDYW52YXNSZW5kZXJpbmdHcm91cCBmcm9tICcuL0NhbnZhc1JlbmRlcmluZ0dyb3VwJztcblxuXG5jb25zdCBkZWZhdWx0Q2FudmFzVGVtcGxhdGUgPSBgXG4gIDxjYW52YXMgY2xhc3M9XCJiYWNrZ3JvdW5kXCI+PC9jYW52YXM+XG4gIDxkaXYgY2xhc3M9XCJmb3JlZ3JvdW5kXCI+XG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wIGZsZXgtbWlkZGxlXCI+PCU9IHRvcCAlPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNlbnRlciBmbGV4LWNlbnRlclwiPjwlPSBjZW50ZXIgJT48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1ib3R0b20gZmxleC1taWRkbGVcIj48JT0gYm90dG9tICU+PC9kaXY+XG4gIDwvZGl2PlxuYDtcblxuLyoqXG4gKiBWaWV3IGRlc2lnbmVkIGZvciBleHBlcmllbmNlcyB3aGVyZSAyZCBncmFwaGljYWwgcmVuZGVyaW5nIGlzIG5lZWRlZC5cbiAqIFRoZSB2aWV3IGlzIGJhc2ljYWxseSBhIGBTZWdtZW50ZWRWaWV3YCB3aXRoIGEgYGNhbnZhc2AgZWxlbWVudCBpblxuICogdGhlIGJhY2tncm91bmQgYW5kIGEgc2V0IG9mIGhlbHBlcnMgdG8gaGFuZGxlIHRoZSBfX3JlbmRlcmVyc19fIChvYmplY3RzXG4gKiB0aGF0IGRyYXcgc29tZXRoaW5nIGludG8gdGhlIGNhbnZhcykuXG4gKlxuICogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBWaWV3cyBzaG91bGQgcHJlZmVyYWJseSBieVxuICogY3JlYXRlZCB1c2luZyB0aGUgW2BFeHBlcmllbmNlI2NyZWF0ZVZpZXdgXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuRXhwZXJpZW5jZSNjcmVhdGVWaWV3fVxuICogbWV0aG9kLl9cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGUgLSBUZW1wbGF0ZSBvZiB0aGUgdmlldy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50IC0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZhcmlhYmxlcyB1c2VkIHRvIHBvcHVsYXRlXG4gKiAgdGhlIHRlbXBsYXRlLiB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjY29udGVudH0uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRzIC0gTGlzdGVuZXJzIHRvIGluc3RhbGwgaW4gdGhlIHZpZXdcbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjZXZlbnRzfS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBvZiB0aGUgdmlldy5cbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjb3B0aW9uc30uXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGV4dGVuZHMge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TZWdtZW50ZWRWaWV3fVxuICpcbiAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3fVxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlJlbmRlcmVyfVxuICovXG5jbGFzcyBDYW52YXNWaWV3IGV4dGVuZHMgU2VnbWVudGVkVmlldyB7XG4gIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBjb250ZW50LCBldmVudHMsIG9wdGlvbnMpIHtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlIHx8IGRlZmF1bHRDYW52YXNUZW1wbGF0ZTtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBwcmVzZXJ2ZVBpeGVsUmF0aW86IGZhbHNlLFxuICAgICAgc2tpcEZyYW1lczogMCxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHN1cGVyKHRlbXBsYXRlLCBjb250ZW50LCBldmVudHMsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHN0YWNrIHRoZSByZW5kZXJlcnMgd2hlbiB0aGUgdmlldyBpcyBub3QgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtTZXR9XG4gICAgICogQG5hbWUgX3JlbmRlcmVyU3RhY2tcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlcmVyU3RhY2sgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBGbGFnIHRvIHRyYWNrIHRoZSBmaXJzdCBgb25SZW5kZXJgIGNhbGwuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbmFtZSBfaGFzUmVuZGVyZWRPbmNlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXNWaWV3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9oYXNSZW5kZXJlZE9uY2UgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVuZGVyaW5nIGdyb3VwLlxuICAgICAqXG4gICAgICogQHR5cGUge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DYW52YXNSZW5kZXJpbmdHcm91cH1cbiAgICAgKiBAbmFtZSBfcmVuZGVyaW5nR3JvdXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlcmluZ0dyb3VwID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENhbnZhcyBET00gZWxlbWVudCB0byBkcmF3IGludG8uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAbmFtZSAkY2FudmFzXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC4kY2FudmFzXG4gICAgICovXG4gICAgdGhpcy4kY2FudmFzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIDJkIGNvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICogQG5hbWUgJGNhbnZhc1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuJGNhbnZhc1xuICAgICAqL1xuICAgIHRoaXMuY3R4ID0gbnVsbDtcbiAgfVxuXG4gIGdldCBwaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJpbmdHcm91cC5waXhlbFJhdGlvO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG9uUmVuZGVyKCkge1xuICAgIHN1cGVyLm9uUmVuZGVyKCk7XG5cbiAgICB0aGlzLiRjYW52YXMgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcbiAgICB0aGlzLmN0eCA9IHRoaXMuJGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gdXBkYXRlIHRoZSByZW5kZXJpbmcgZ3JvdXAgaWYgdGhlIGNhbnZhcyBpbnN0YW5jZSBoYXMgY2hhbmdlZCBhZnRlciBhIHJlbmRlclxuICAgIGlmICh0aGlzLl9yZW5kZXJpbmdHcm91cClcbiAgICAgIHRoaXMuX3JlbmRlcmluZ0dyb3VwLmN0eCA9IHRoaXMuY3R4O1xuXG4gICAgaWYgKCF0aGlzLl9oYXNSZW5kZXJlZE9uY2UpIHtcbiAgICAgIGNvbnN0IHByZXNlcnZlUGl4ZWxSYXRpbyA9IHRoaXMub3B0aW9ucy5wcmVzZXJ2ZVBpeGVsUmF0aW87XG4gICAgICBjb25zdCBza2lwRnJhbWVzID0gdGhpcy5vcHRpb25zLnNraXBGcmFtZXM7XG4gICAgICB0aGlzLl9yZW5kZXJpbmdHcm91cCA9IG5ldyBDYW52YXNSZW5kZXJpbmdHcm91cCh0aGlzLmN0eCwgcHJlc2VydmVQaXhlbFJhdGlvLCBza2lwRnJhbWVzKTtcblxuICAgICAgLy8gcHJldmVudCBjcmVhdGluZyBhIG5ldyByZW5kZXJpbmcgZ3JvdXAgZWFjaCB0aW1lIHRoZSB2aWV3IGlzIHJlLXJlbmRlcmVkXG4gICAgICB0aGlzLl9oYXNSZW5kZXJlZE9uY2UgPSB0cnVlO1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVudHJ5IHBvaW50IGNhbGxlZCB3aGVuIHRoZSByZW5kZXJpbmdHcm91cCBmb3IgdGhlIHZpZXcgaXMgcmVhZHkuXG4gICAqIEJhc2ljYWxseSBhbGxvd3MgdG8gaW5zdGFuY2lhdGUgc29tZSByZW5kZXJlcnMgZnJvbSBpbnNpZGUgdGhlIHZpZXcuXG4gICAqL1xuICBpbml0KCkge31cblxuICAvKiogQHByaXZhdGUgKi9cbiAgb25SZXNpemUodmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIG9yaWVudGF0aW9uKSB7XG4gICAgc3VwZXIub25SZXNpemUodmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIG9yaWVudGF0aW9uKTtcbiAgICB0aGlzLl9yZW5kZXJpbmdHcm91cC5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gICAgLy8gYWRkIHN0YWNrZWQgcmVuZGVyZXJzIHRvIHRoZSByZW5kZXJpbmcgZ3JvdXBcbiAgICB0aGlzLl9yZW5kZXJlclN0YWNrLmZvckVhY2goKHJlbmRlcmVyKSA9PiB0aGlzLl9yZW5kZXJpbmdHcm91cC5hZGQocmVuZGVyZXIpKTtcbiAgICB0aGlzLl9yZW5kZXJlclN0YWNrLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZXhlY3V0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBlYWNoIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gICAqIGN5Y2xlLCBiZWZvcmUgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgcmVuZGVyZXJzLlxuICAgKiBAY2FsbGJhY2sgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXd+cHJlUmVuZGVyZXJcbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCAtIENvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0IC0gRGVsdGEgdGltZSBpbiBzZWNvbmRzIHNpbmNlIGxhc3QgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge051bWJlcn0gY2FudmFzV2lkdGggLSBDdXJyZW50IHdpZHRoIG9mIHRoZSBjYW52YXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjYW52YXNIZWlnaHQgLSBDdXJyZW50IGhlaWdodCBvZiB0aGUgY2FudmFzLlxuICAgKi9cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gZXhlY3V0ZSBhdCB0aGUgYmVnaW5uaW5nIG9mIGVhY2hcbiAgICogYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgY3ljbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXd+cHJlUmVuZGVyZXJ9IGNhbGxiYWNrIC1cbiAgICogIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgYmVmb3JlIGVhY2ggcmVuZGVyaW5nIGN5Y2xlLlxuICAgKi9cbiAgc2V0UHJlUmVuZGVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fcmVuZGVyaW5nR3JvdXAucHJlUmVuZGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZXhlY3V0ZWQgYXQgdGhlIGVuZCBvZiBlYWNoIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gICAqIGN5Y2xlLCBhZnRlciB0aGUgZXhlY3V0aW9uIG9mIHRoZSByZW5kZXJlcnMuXG4gICAqIEBjYWxsYmFjayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2FudmFzVmlld35wb3N0UmVuZGVyZXJcbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCAtIENvbnRleHQgb2YgdGhlIGNhbnZhcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0IC0gRGVsdGEgdGltZSBpbiBzZWNvbmRzIHNpbmNlIGxhc3QgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge051bWJlcn0gY2FudmFzV2lkdGggLSBDdXJyZW50IHdpZHRoIG9mIHRoZSBjYW52YXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjYW52YXNIZWlnaHQgLSBDdXJyZW50IGhlaWdodCBvZiB0aGUgY2FudmFzLlxuICAgKi9cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gZXhlY3V0ZSBhdCB0aGUgZW5kIG9mIGVhY2hcbiAgICogYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgY3ljbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNhbnZhc1ZpZXd+cG9zdFJlbmRlcmVyfSBjYWxsYmFjayAtXG4gICAqICBGdW5jdGlvbiB0byBleGVjdXRlIGJlZm9yZSBlYWNoIHJlbmRlcmluZyBjeWNsZS5cbiAgICovXG4gIHNldFBvc3RSZW5kZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9yZW5kZXJpbmdHcm91cC5wb3N0UmVuZGVyID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcmVuZGVyZXIgdG8gdGhlIGBSZW5kZXJpbmdHcm91cGAuIFRoZSByZW5kZXJlciBpcyBhdXRvbWF0aWNhbGx5XG4gICAqIGFjdGl2YXRlZCB3aGVuIGFkZGVkIHRvIHRoZSBncm91cC5cbiAgICpcbiAgICogQHBhcmFtIHttb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gYWRkLlxuICAgKi9cbiAgYWRkUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5pc1Zpc2libGUpXG4gICAgICB0aGlzLl9yZW5kZXJpbmdHcm91cC5hZGQocmVuZGVyZXIpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuX3JlbmRlcmVyU3RhY2suYWRkKHJlbmRlcmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSByZW5kZXJlciBmcm9tIHRoZSBgUmVuZGVyaW5nR3JvdXBgLiBUaGUgcmVuZGVyZXIgaXMgYXV0b21hdGljYWxseVxuICAgKiBkaXNhY3RpdmF0ZWQgd2hlbiByZW1vdmVkIGZyb20gdGhlIGdyb3VwLlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSlcbiAgICAgIHRoaXMuX3JlbmRlcmluZ0dyb3VwLnJlbW92ZShyZW5kZXJlcik7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fcmVuZGVyZXJTdGFjay5kZWxldGUocmVuZGVyZXIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZpZXc7XG4iXX0=","deps":{"./SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","./CanvasRenderingGroup":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasRenderingGroup.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SelectView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SelectView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _View2 = require('../views/View');\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultTemplate = '\\n  <option class=\"small\"><%= instructions %></option>\\n  <% entries.forEach(function(entry) { %>\\n    <option value=\"<%= entry.index %>\"><%= entry.label %></option>\\n  <% }); %>\\n';\n\n/**\n * View with a drop down list.\n *\n * @memberof module:soundworks/client\n */\n\nvar SelectView = function (_View) {\n  (0, _inherits3.default)(SelectView, _View);\n\n  function SelectView(content) {\n    var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    (0, _classCallCheck3.default)(this, SelectView);\n\n    options = (0, _assign2.default)({ el: 'select', className: 'select' }, options);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SelectView.__proto__ || (0, _getPrototypeOf2.default)(SelectView)).call(this, defaultTemplate, content, events, options));\n\n    _this.entries = content.entries;\n    return _this;\n  }\n\n  /**\n   * why noop ?\n   * @private\n   */\n\n\n  (0, _createClass3.default)(SelectView, [{\n    key: 'onResize',\n    value: function onResize() {}\n\n    /**\n     * Return the entry corresponding to the selected item.\n     */\n\n  }, {\n    key: 'enableIndex',\n\n\n    /**\n     * Enable selection of a specific item.\n     *\n     * @param {Number} index - Index of the entry.\n     */\n    value: function enableIndex(index) {\n      var $option = this.$el.querySelector('option[value=\"' + index + '\"]');\n      if ($option) $option.removeAttribute('disabled');\n    }\n\n    /**\n     * Disable selection of a specific item.\n     *\n     * @param {Number} index - Index of the entry.\n     */\n\n  }, {\n    key: 'disableIndex',\n    value: function disableIndex(index) {\n      var $option = this.$el.querySelector('option[value=\"' + index + '\"]');\n      if ($option) $option.setAttribute('disabled', 'disabled');\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      var index = parseInt(this.$el.value);\n      var entry = this.entries.find(function (entry) {\n        return entry.index === index;\n      });\n      return entry || null;\n    }\n  }]);\n  return SelectView;\n}(_View3.default);\n\nexports.default = SelectView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdFZpZXcuanMiXSwibmFtZXMiOlsiZGVmYXVsdFRlbXBsYXRlIiwiU2VsZWN0VmlldyIsImNvbnRlbnQiLCJldmVudHMiLCJvcHRpb25zIiwiZWwiLCJjbGFzc05hbWUiLCJlbnRyaWVzIiwiaW5kZXgiLCIkb3B0aW9uIiwiJGVsIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInBhcnNlSW50IiwidmFsdWUiLCJlbnRyeSIsImZpbmQiLCJWaWV3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsd01BQU47O0FBUUE7Ozs7OztJQUtNQyxVOzs7QUFDSixzQkFBWUMsT0FBWixFQUFnRDtBQUFBLFFBQTNCQyxNQUEyQix1RUFBbEIsRUFBa0I7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7QUFBQTs7QUFDOUNBLGNBQVUsc0JBQWMsRUFBRUMsSUFBSSxRQUFOLEVBQWdCQyxXQUFXLFFBQTNCLEVBQWQsRUFBcURGLE9BQXJELENBQVY7O0FBRDhDLDhJQUV4Q0osZUFGd0MsRUFFdkJFLE9BRnVCLEVBRWRDLE1BRmMsRUFFTkMsT0FGTTs7QUFJOUMsVUFBS0csT0FBTCxHQUFlTCxRQUFRSyxPQUF2QjtBQUo4QztBQUsvQzs7QUFFRDs7Ozs7Ozs7K0JBSVcsQ0FBRTs7QUFFYjs7Ozs7Ozs7QUFTQTs7Ozs7Z0NBS1lDLEssRUFBTztBQUNqQixVQUFNQyxVQUFVLEtBQUtDLEdBQUwsQ0FBU0MsYUFBVCxvQkFBd0NILEtBQXhDLFFBQWhCO0FBQ0EsVUFBSUMsT0FBSixFQUNFQSxRQUFRRyxlQUFSLENBQXdCLFVBQXhCO0FBQ0g7O0FBRUQ7Ozs7Ozs7O2lDQUthSixLLEVBQU87QUFDbEIsVUFBTUMsVUFBVSxLQUFLQyxHQUFMLENBQVNDLGFBQVQsb0JBQXdDSCxLQUF4QyxRQUFoQjtBQUNBLFVBQUlDLE9BQUosRUFDRUEsUUFBUUksWUFBUixDQUFxQixVQUFyQixFQUFpQyxVQUFqQztBQUNIOzs7d0JBMUJXO0FBQ1YsVUFBTUwsUUFBUU0sU0FBUyxLQUFLSixHQUFMLENBQVNLLEtBQWxCLENBQWQ7QUFDQSxVQUFNQyxRQUFRLEtBQUtULE9BQUwsQ0FBYVUsSUFBYixDQUFrQjtBQUFBLGVBQVNELE1BQU1SLEtBQU4sS0FBZ0JBLEtBQXpCO0FBQUEsT0FBbEIsQ0FBZDtBQUNBLGFBQU9RLFNBQVMsSUFBaEI7QUFDRDs7O0VBckJzQkUsYzs7a0JBOENWakIsVSIsImZpbGUiOiJTZWxlY3RWaWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSAnLi4vdmlld3MvVmlldyc7XG5cbmNvbnN0IGRlZmF1bHRUZW1wbGF0ZSA9IGBcbiAgPG9wdGlvbiBjbGFzcz1cInNtYWxsXCI+PCU9IGluc3RydWN0aW9ucyAlPjwvb3B0aW9uPlxuICA8JSBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24oZW50cnkpIHsgJT5cbiAgICA8b3B0aW9uIHZhbHVlPVwiPCU9IGVudHJ5LmluZGV4ICU+XCI+PCU9IGVudHJ5LmxhYmVsICU+PC9vcHRpb24+XG4gIDwlIH0pOyAlPlxuYDtcblxuXG4vKipcbiAqIFZpZXcgd2l0aCBhIGRyb3AgZG93biBsaXN0LlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqL1xuY2xhc3MgU2VsZWN0VmlldyBleHRlbmRzIFZpZXcge1xuICBjb25zdHJ1Y3Rvcihjb250ZW50LCBldmVudHMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBlbDogJ3NlbGVjdCcsIGNsYXNzTmFtZTogJ3NlbGVjdCcgfSwgb3B0aW9ucyk7XG4gICAgc3VwZXIoZGVmYXVsdFRlbXBsYXRlLCBjb250ZW50LCBldmVudHMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5lbnRyaWVzID0gY29udGVudC5lbnRyaWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIHdoeSBub29wID9cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uUmVzaXplKCkge31cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBlbnRyeSBjb3JyZXNwb25kaW5nIHRvIHRoZSBzZWxlY3RlZCBpdGVtLlxuICAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQodGhpcy4kZWwudmFsdWUpO1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5lbnRyaWVzLmZpbmQoZW50cnkgPT4gZW50cnkuaW5kZXggPT09IGluZGV4KTtcbiAgICByZXR1cm4gZW50cnkgfHzCoG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIHNlbGVjdGlvbiBvZiBhIHNwZWNpZmljIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbnRyeS5cbiAgICovXG4gIGVuYWJsZUluZGV4KGluZGV4KSB7XG4gICAgY29uc3QgJG9wdGlvbiA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT1cIiR7aW5kZXh9XCJdYCk7XG4gICAgaWYgKCRvcHRpb24pXG4gICAgICAkb3B0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHNlbGVjdGlvbiBvZiBhIHNwZWNpZmljIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbnRyeS5cbiAgICovXG4gIGRpc2FibGVJbmRleChpbmRleCkge1xuICAgIGNvbnN0ICRvcHRpb24gPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmICgkb3B0aW9uKVxuICAgICAgJG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0VmlldztcbiJdfQ==","deps":{"../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerExperience.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerExperience.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Experience2 = require('../core/Experience');\n\nvar _Experience3 = _interopRequireDefault(_Experience2);\n\nvar _View = require('../views/View');\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _ControllerScene = require('./ControllerScene');\n\nvar _ControllerScene2 = _interopRequireDefault(_ControllerScene);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Predefined experience to create a 1 line shared controller\n *\n * @deprecated\n * @memberof module:soundworks/client\n */\nvar ControllerExperience = function (_Experience) {\n  (0, _inherits3.default)(ControllerExperience, _Experience);\n\n  function ControllerExperience() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, ControllerExperience);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ControllerExperience.__proto__ || (0, _getPrototypeOf2.default)(ControllerExperience)).call(this));\n\n    console.error('[deprecated] ControllerExperience is deprecated, has moved in soundworks-template and will be removed in soundworks#v3.0.0. Please consider updating your application from soundworks-template');\n\n    _this.sharedParams = _this.require('shared-params');\n    _this.controllerScene = new _ControllerScene2.default(_this, _this.sharedParams);\n\n    if (options.auth) _this.auth = _this.require('auth');\n    return _this;\n  }\n\n  (0, _createClass3.default)(ControllerExperience, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(ControllerExperience.prototype.__proto__ || (0, _getPrototypeOf2.default)(ControllerExperience.prototype), 'start', this).call(this);\n\n      this.view = new _View2.default();\n      this.show();\n\n      this.controllerScene.enter();\n    }\n\n    /**\n     * Configure the GUI for a given parameter, this method only makes sens if\n     * `options.hasGUI=true`.\n     * @param {String} name - Name of the parameter to configure.\n     * @param {Object} options - Options to configure the parameter GUI.\n     * @param {String} options.type - Type of GUI to use. Each type of parameter can\n     *  used with different GUI according to their type and comes with acceptable\n     *  default values.\n     * @param {Boolean} [options.show=true] - Display or not the GUI for this parameter.\n     * @param {Boolean} [options.confirm=false] - Ask for confirmation when the value changes.\n     */\n\n  }, {\n    key: 'setGuiOptions',\n    value: function setGuiOptions(name, options) {\n      this.controllerScene.setGuiOptions(name, options);\n    }\n  }, {\n    key: 'container',\n    get: function get() {\n      return this.view.$el;\n    }\n  }]);\n  return ControllerExperience;\n}(_Experience3.default);\n\nexports.default = ControllerExperience;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRyb2xsZXJFeHBlcmllbmNlLmpzIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXJFeHBlcmllbmNlIiwib3B0aW9ucyIsImNvbnNvbGUiLCJlcnJvciIsInNoYXJlZFBhcmFtcyIsInJlcXVpcmUiLCJjb250cm9sbGVyU2NlbmUiLCJDb250cm9sbGVyU2NlbmUiLCJhdXRoIiwidmlldyIsIlZpZXciLCJzaG93IiwiZW50ZXIiLCJuYW1lIiwic2V0R3VpT3B0aW9ucyIsIiRlbCIsIkV4cGVyaWVuY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBR0E7Ozs7OztJQU1NQSxvQjs7O0FBQ0osa0NBQTBCO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQUE7O0FBQUE7O0FBR3hCQyxZQUFRQyxLQUFSLENBQWMsZ01BQWQ7O0FBRUEsVUFBS0MsWUFBTCxHQUFvQixNQUFLQyxPQUFMLENBQWEsZUFBYixDQUFwQjtBQUNBLFVBQUtDLGVBQUwsR0FBdUIsSUFBSUMseUJBQUosUUFBMEIsTUFBS0gsWUFBL0IsQ0FBdkI7O0FBRUEsUUFBSUgsUUFBUU8sSUFBWixFQUNFLE1BQUtBLElBQUwsR0FBWSxNQUFLSCxPQUFMLENBQWEsTUFBYixDQUFaO0FBVHNCO0FBVXpCOzs7OzRCQUVPO0FBQ047O0FBRUEsV0FBS0ksSUFBTCxHQUFZLElBQUlDLGNBQUosRUFBWjtBQUNBLFdBQUtDLElBQUw7O0FBRUEsV0FBS0wsZUFBTCxDQUFxQk0sS0FBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7a0NBV2NDLEksRUFBTVosTyxFQUFTO0FBQzNCLFdBQUtLLGVBQUwsQ0FBcUJRLGFBQXJCLENBQW1DRCxJQUFuQyxFQUF5Q1osT0FBekM7QUFDRDs7O3dCQUVlO0FBQ2QsYUFBTyxLQUFLUSxJQUFMLENBQVVNLEdBQWpCO0FBQ0Q7OztFQXZDZ0NDLG9COztrQkEwQ3BCaEIsb0IiLCJmaWxlIjoiQ29udHJvbGxlckV4cGVyaWVuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwZXJpZW5jZSBmcm9tICcuLi9jb3JlL0V4cGVyaWVuY2UnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vdmlld3MvVmlldyc7XG5pbXBvcnQgQ29udHJvbGxlclNjZW5lIGZyb20gJy4vQ29udHJvbGxlclNjZW5lJztcblxuXG4vKipcbiAqIFByZWRlZmluZWQgZXhwZXJpZW5jZSB0byBjcmVhdGUgYSAxIGxpbmUgc2hhcmVkIGNvbnRyb2xsZXJcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICovXG5jbGFzcyBDb250cm9sbGVyRXhwZXJpZW5jZSBleHRlbmRzIEV4cGVyaWVuY2Uge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgY29uc29sZS5lcnJvcignW2RlcHJlY2F0ZWRdIENvbnRyb2xsZXJFeHBlcmllbmNlIGlzIGRlcHJlY2F0ZWQsIGhhcyBtb3ZlZCBpbiBzb3VuZHdvcmtzLXRlbXBsYXRlIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gc291bmR3b3JrcyN2My4wLjAuIFBsZWFzZSBjb25zaWRlciB1cGRhdGluZyB5b3VyIGFwcGxpY2F0aW9uIGZyb20gc291bmR3b3Jrcy10ZW1wbGF0ZScpO1xuXG4gICAgdGhpcy5zaGFyZWRQYXJhbXMgPSB0aGlzLnJlcXVpcmUoJ3NoYXJlZC1wYXJhbXMnKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJTY2VuZSA9IG5ldyBDb250cm9sbGVyU2NlbmUodGhpcywgdGhpcy5zaGFyZWRQYXJhbXMpO1xuXG4gICAgaWYgKG9wdGlvbnMuYXV0aClcbiAgICAgIHRoaXMuYXV0aCA9IHRoaXMucmVxdWlyZSgnYXV0aCcpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KCk7XG4gICAgdGhpcy5zaG93KCk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXJTY2VuZS5lbnRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB0aGUgR1VJIGZvciBhIGdpdmVuIHBhcmFtZXRlciwgdGhpcyBtZXRob2Qgb25seSBtYWtlcyBzZW5zIGlmXG4gICAqIGBvcHRpb25zLmhhc0dVST10cnVlYC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBwYXJhbWV0ZXIgdG8gY29uZmlndXJlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gY29uZmlndXJlIHRoZSBwYXJhbWV0ZXIgR1VJLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy50eXBlIC0gVHlwZSBvZiBHVUkgdG8gdXNlLiBFYWNoIHR5cGUgb2YgcGFyYW1ldGVyIGNhblxuICAgKiAgdXNlZCB3aXRoIGRpZmZlcmVudCBHVUkgYWNjb3JkaW5nIHRvIHRoZWlyIHR5cGUgYW5kIGNvbWVzIHdpdGggYWNjZXB0YWJsZVxuICAgKiAgZGVmYXVsdCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2hvdz10cnVlXSAtIERpc3BsYXkgb3Igbm90IHRoZSBHVUkgZm9yIHRoaXMgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbmZpcm09ZmFsc2VdIC0gQXNrIGZvciBjb25maXJtYXRpb24gd2hlbiB0aGUgdmFsdWUgY2hhbmdlcy5cbiAgICovXG4gIHNldEd1aU9wdGlvbnMobmFtZSwgb3B0aW9ucykge1xuICAgIHRoaXMuY29udHJvbGxlclNjZW5lLnNldEd1aU9wdGlvbnMobmFtZSwgb3B0aW9ucyk7XG4gIH1cblxuICBnZXQgY29udGFpbmVyKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuJGVsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXJFeHBlcmllbmNlO1xuIl19","deps":{"../core/Experience":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Experience.js","../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","./ControllerScene":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerScene.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SquaredView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SquaredView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _View2 = require('../views/View');\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultTemplate = '\\n  <div class=\"section-square flex-middle\"></div>\\n  <div class=\"section-float flex-middle\"></div>\\n';\n\n/**\n * A view that define a squared zone of maximum size on the top of the screen\n * in `portrait` orientation or on the left of the screen in 'landscape'\n * orientation.\n *\n * @param {String} template - Template of the view.\n * @param {Object} content - Object containing the variables used to populate\n *  the template. {@link module:soundworks/client.View#content}.\n * @param {Object} events - Listeners to install in the view\n *  {@link module:soundworks/client.View#events}.\n * @param {Object} options - Options of the view.\n *  {@link module:soundworks/client.View#options}.\n *\n * @memberof module:soundworks/client\n */\n\nvar SquaredView = function (_View) {\n  (0, _inherits3.default)(SquaredView, _View);\n\n  function SquaredView(template) {\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var events = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, SquaredView);\n\n    template = !template ? defaultTemplate : template;\n\n    return (0, _possibleConstructorReturn3.default)(this, (SquaredView.__proto__ || (0, _getPrototypeOf2.default)(SquaredView)).call(this, template, content, events, options));\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(SquaredView, [{\n    key: 'onRender',\n    value: function onRender() {\n      this.$square = this.$el.querySelector('.section-square');\n      this.$float = this.$el.querySelector('.section-float');\n\n      this.$square.style.float = 'left';\n      this.$float.style.float = 'left';\n    }\n\n    /** @private */\n\n  }, {\n    key: 'onResize',\n    value: function onResize(viewportWidth, viewportHeight, orientation) {\n      (0, _get3.default)(SquaredView.prototype.__proto__ || (0, _getPrototypeOf2.default)(SquaredView.prototype), 'onResize', this).call(this, viewportWidth, viewportHeight, orientation);\n\n      var size = void 0,\n          floatHeight = void 0,\n          floatWidth = void 0;\n\n      if (orientation === 'portrait') {\n        size = viewportWidth;\n        floatHeight = viewportHeight - size;\n        floatWidth = viewportWidth;\n      } else {\n        size = viewportHeight;\n        floatHeight = viewportHeight;\n        floatWidth = viewportWidth - size;\n      }\n\n      this.$square.style.width = size + 'px';\n      this.$square.style.height = size + 'px';\n\n      this.$float.style.width = floatWidth + 'px';\n      this.$float.style.height = floatHeight + 'px';\n    }\n  }]);\n  return SquaredView;\n}(_View3.default);\n\nexports.default = SquaredView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNxdWFyZWRWaWV3LmpzIl0sIm5hbWVzIjpbImRlZmF1bHRUZW1wbGF0ZSIsIlNxdWFyZWRWaWV3IiwidGVtcGxhdGUiLCJjb250ZW50IiwiZXZlbnRzIiwib3B0aW9ucyIsIiRzcXVhcmUiLCIkZWwiLCJxdWVyeVNlbGVjdG9yIiwiJGZsb2F0Iiwic3R5bGUiLCJmbG9hdCIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsIm9yaWVudGF0aW9uIiwic2l6ZSIsImZsb2F0SGVpZ2h0IiwiZmxvYXRXaWR0aCIsIndpZHRoIiwiaGVpZ2h0IiwiVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLHlIQUFOOztBQUtBOzs7Ozs7Ozs7Ozs7Ozs7O0lBZU1DLFc7OztBQUNKLHVCQUFZQyxRQUFaLEVBQStEO0FBQUEsUUFBekNDLE9BQXlDLHVFQUEvQixFQUErQjtBQUFBLFFBQTNCQyxNQUEyQix1RUFBbEIsRUFBa0I7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7QUFBQTs7QUFDN0RILGVBQVcsQ0FBQ0EsUUFBRCxHQUFZRixlQUFaLEdBQThCRSxRQUF6Qzs7QUFENkQsMklBR3ZEQSxRQUh1RCxFQUc3Q0MsT0FINkMsRUFHcENDLE1BSG9DLEVBRzVCQyxPQUg0QjtBQUk5RDs7QUFFRDs7Ozs7K0JBQ1c7QUFDVCxXQUFLQyxPQUFMLEdBQWUsS0FBS0MsR0FBTCxDQUFTQyxhQUFULENBQXVCLGlCQUF2QixDQUFmO0FBQ0EsV0FBS0MsTUFBTCxHQUFjLEtBQUtGLEdBQUwsQ0FBU0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FBZDs7QUFFQSxXQUFLRixPQUFMLENBQWFJLEtBQWIsQ0FBbUJDLEtBQW5CLEdBQTJCLE1BQTNCO0FBQ0EsV0FBS0YsTUFBTCxDQUFZQyxLQUFaLENBQWtCQyxLQUFsQixHQUEwQixNQUExQjtBQUNEOztBQUVEOzs7OzZCQUNTQyxhLEVBQWVDLGMsRUFBZ0JDLFcsRUFBYTtBQUNuRCwrSUFBZUYsYUFBZixFQUE4QkMsY0FBOUIsRUFBOENDLFdBQTlDOztBQUVBLFVBQUlDLGFBQUo7QUFBQSxVQUFVQyxvQkFBVjtBQUFBLFVBQXVCQyxtQkFBdkI7O0FBRUEsVUFBSUgsZ0JBQWdCLFVBQXBCLEVBQWdDO0FBQzlCQyxlQUFPSCxhQUFQO0FBQ0FJLHNCQUFjSCxpQkFBaUJFLElBQS9CO0FBQ0FFLHFCQUFhTCxhQUFiO0FBQ0QsT0FKRCxNQUlPO0FBQ0xHLGVBQU9GLGNBQVA7QUFDQUcsc0JBQWNILGNBQWQ7QUFDQUkscUJBQWFMLGdCQUFnQkcsSUFBN0I7QUFDRDs7QUFFRCxXQUFLVCxPQUFMLENBQWFJLEtBQWIsQ0FBbUJRLEtBQW5CLEdBQThCSCxJQUE5QjtBQUNBLFdBQUtULE9BQUwsQ0FBYUksS0FBYixDQUFtQlMsTUFBbkIsR0FBK0JKLElBQS9COztBQUVBLFdBQUtOLE1BQUwsQ0FBWUMsS0FBWixDQUFrQlEsS0FBbEIsR0FBNkJELFVBQTdCO0FBQ0EsV0FBS1IsTUFBTCxDQUFZQyxLQUFaLENBQWtCUyxNQUFsQixHQUE4QkgsV0FBOUI7QUFDRDs7O0VBckN1QkksYzs7a0JBd0NYbkIsVyIsImZpbGUiOiJTcXVhcmVkVmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3IGZyb20gJy4uL3ZpZXdzL1ZpZXcnO1xuXG5jb25zdCBkZWZhdWx0VGVtcGxhdGUgPSBgXG4gIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXNxdWFyZSBmbGV4LW1pZGRsZVwiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1mbG9hdCBmbGV4LW1pZGRsZVwiPjwvZGl2PlxuYDtcblxuLyoqXG4gKiBBIHZpZXcgdGhhdCBkZWZpbmUgYSBzcXVhcmVkIHpvbmUgb2YgbWF4aW11bSBzaXplIG9uIHRoZSB0b3Agb2YgdGhlIHNjcmVlblxuICogaW4gYHBvcnRyYWl0YCBvcmllbnRhdGlvbiBvciBvbiB0aGUgbGVmdCBvZiB0aGUgc2NyZWVuIGluICdsYW5kc2NhcGUnXG4gKiBvcmllbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGUgLSBUZW1wbGF0ZSBvZiB0aGUgdmlldy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50IC0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZhcmlhYmxlcyB1c2VkIHRvIHBvcHVsYXRlXG4gKiAgdGhlIHRlbXBsYXRlLiB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjY29udGVudH0uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRzIC0gTGlzdGVuZXJzIHRvIGluc3RhbGwgaW4gdGhlIHZpZXdcbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjZXZlbnRzfS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBvZiB0aGUgdmlldy5cbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjb3B0aW9uc30uXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICovXG5jbGFzcyBTcXVhcmVkVmlldyBleHRlbmRzIFZpZXcge1xuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgY29udGVudCA9IHt9LCBldmVudHMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGVtcGxhdGUgPSAhdGVtcGxhdGUgPyBkZWZhdWx0VGVtcGxhdGUgOiB0ZW1wbGF0ZTtcblxuICAgIHN1cGVyKHRlbXBsYXRlLCBjb250ZW50LCBldmVudHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIG9uUmVuZGVyKCkge1xuICAgIHRoaXMuJHNxdWFyZSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLXNxdWFyZScpO1xuICAgIHRoaXMuJGZsb2F0ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tZmxvYXQnKTtcblxuICAgIHRoaXMuJHNxdWFyZS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgICB0aGlzLiRmbG9hdC5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBvblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pIHtcbiAgICBzdXBlci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gICAgbGV0IHNpemUsIGZsb2F0SGVpZ2h0LCBmbG9hdFdpZHRoO1xuXG4gICAgaWYgKG9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XG4gICAgICBzaXplID0gdmlld3BvcnRXaWR0aDtcbiAgICAgIGZsb2F0SGVpZ2h0ID0gdmlld3BvcnRIZWlnaHQgLSBzaXplO1xuICAgICAgZmxvYXRXaWR0aCA9IHZpZXdwb3J0V2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpemUgPSB2aWV3cG9ydEhlaWdodDtcbiAgICAgIGZsb2F0SGVpZ2h0ID0gdmlld3BvcnRIZWlnaHQ7XG4gICAgICBmbG9hdFdpZHRoID0gdmlld3BvcnRXaWR0aCAtIHNpemU7XG4gICAgfVxuXG4gICAgdGhpcy4kc3F1YXJlLnN0eWxlLndpZHRoID0gYCR7c2l6ZX1weGA7XG4gICAgdGhpcy4kc3F1YXJlLnN0eWxlLmhlaWdodCA9IGAke3NpemV9cHhgO1xuXG4gICAgdGhpcy4kZmxvYXQuc3R5bGUud2lkdGggPSBgJHtmbG9hdFdpZHRofXB4YDtcbiAgICB0aGlzLiRmbG9hdC5zdHlsZS5oZWlnaHQgPSBgJHtmbG9hdEhlaWdodH1weGA7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3F1YXJlZFZpZXc7XG4iXX0=","deps":{"../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _serviceManager = require('./serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _socket = require('./socket');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _viewManager = require('./viewManager');\n\nvar _viewManager2 = _interopRequireDefault(_viewManager);\n\nvar _viewport = require('../views/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Client side entry point for a `soundworks` application.\n *\n * This object hosts general informations about the user, as well as methods\n * to initialize and start the application.\n *\n * @memberof module:soundworks/client\n * @namespace\n *\n * @example\n * import * as soundworks from 'soundworks/client';\n * import MyExperience from './MyExperience';\n *\n * soundworks.client.init('player');\n * const myExperience = new MyExperience();\n * soundworks.client.start();\n */\nvar client = {\n  /**\n   * Unique id of the client, generated and retrieved by the server.\n   *\n   * @type {Number}\n   */\n  uuid: null,\n\n  /**\n   * The type of the client, this can generally be considered as the role of the\n   * client in the application. This value is defined in the\n   * [`client.init`]{@link module:soundworks/server.server~serverConfig} object\n   * and defaults to `'player'`.\n   *\n   * @type {String}\n   */\n  type: null,\n\n  /**\n   * Configuration informations from the server configuration if any.\n   *\n   * @type {Object}\n   * @see {@link module:soundworks/client.client~init}\n   * @see {@link module:soundworks/client.SharedConfig}\n   */\n  config: {},\n\n  /**\n   * Array of optionnal parameters passed through the url\n   *\n   * @type {Array}\n   */\n  urlParams: null,\n\n  /**\n   * Information about the client platform. The properties are set by the\n   * [`platform`]{@link module:soundworks/client.Platform} service.\n   *\n   * @type {Object}\n   * @property {String} os - Operating system.\n   * @property {Boolean} isMobile - Indicates whether the client is running on a\n   *  mobile platform or not.\n   * @property {String} audioFileExt - Audio file extension to use, depending on\n   *  the platform.\n   * @property {String} interaction - Type of interaction allowed by the\n   *  viewport, `touch` or `mouse`\n   *\n   * @see {@link module:soundworks/client.Platform}\n   */\n  platform: {\n    os: null,\n    isMobile: null,\n    audioFileExt: '',\n    interaction: null\n  },\n\n  /**\n   * Defines whether the user's device is compatible with the application\n   * requirements.\n   *\n   * @type {Boolean}\n   * @see {@link module:soundworks/client.Platform}\n   */\n  compatible: null,\n\n  /**\n   * Index (if any) given by a [`placer`]{@link module:soundworks/client.Placer}\n   * or [`checkin`]{@link module:soundworks/client.Checkin} service.\n   *\n   * @type {Number}\n   * @see {@link module:soundworks/client.Checkin}\n   * @see {@link module:soundworks/client.Placer}\n   */\n  index: null,\n\n  /**\n   * Ticket label (if any) given by a [`placer`]{@link module:soundworks/client.Placer}\n   * or [`checkin`]{@link module:soundworks/client.Checkin} service.\n   *\n   * @type {String}\n   * @see {@link module:soundworks/client.Checkin}\n   * @see {@link module:soundworks/client.Placer}\n   */\n  label: null,\n\n  /**\n   * Client coordinates (if any) given by a\n   * [`locator`]{@link module:soundworks/client.Locator},\n   * [`placer`]{@link module:soundworks/client.Placer} or\n   * [`checkin`]{@link module:soundworks/client.Checkin} service.\n   * (Format: `[x:Number, y:Number]`.)\n   *\n   * @type {Array<Number>}\n   * @see {@link module:soundworks/client.Checkin}\n   * @see {@link module:soundworks/client.Locator}\n   * @see {@link module:soundworks/client.Placer}\n   * @see {@link module:soundworks/client.Geolocation}\n   */\n  coordinates: null,\n\n  /**\n   * Full `geoposition` object as returned by `navigator.geolocation`, when\n   * using the `geolocation` service.\n   *\n   * @type {Object}\n   * @see {@link module:soundworks/client.Geolocation}\n   */\n  geoposition: null,\n\n  /**\n   * Socket object that handle communications with the server, if any.\n   * This object is automatically created if the experience requires any service\n   * having a server-side counterpart.\n   *\n   * @type {module:soundworks/client.socket}\n   * @private\n   */\n  socket: _socket2.default,\n\n  /**\n   * Initialize the application.\n   *\n   * @param {String} [clientType='player'] - The type of the client, defines the\n   *  socket connection namespace. Should match a client type defined server side.\n   * @param {Object} [config={}]\n   * @param {Object} [config.appContainer='#container'] - A css selector\n   *  matching a DOM element where the views should be inserted.\n   * @param {Object} [config.websockets.url=''] - The url where the socket should\n   *  connect _(unstable)_.\n   * @param {Object} [config.websockets.transports=['websocket']] - The transport\n   *  used to create the url (overrides default socket.io mecanism) _(unstable)_.\n   */\n  init: function init() {\n    var clientType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'player';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    this.type = clientType;\n\n    this._parseUrlParams();\n    // if socket config given, mix it with defaults\n    var websockets = (0, _assign2.default)({\n      url: '',\n      transports: ['websocket'],\n      path: ''\n    }, config.websockets);\n\n    // mix all other config and override with defined socket config\n    (0, _assign2.default)(this.config, config, { websockets: websockets });\n\n    _serviceManager2.default.init();\n    _viewport2.default.init();\n\n    var el = config.appContainer;\n    var $container = el instanceof Element ? el : document.querySelector(el);\n    _viewManager2.default.setAppContainer($container);\n\n    return _promise2.default.resolve();\n  },\n\n\n  /**\n   * Register a function to be executed when a service is instanciated.\n   *\n   * @param {serviceManager~serviceInstanciationHook} func - Function to\n   *  register has a hook to be execute when a service is created.\n   */\n  /**\n   * @callback serviceManager~serviceInstanciationHook\n   * @param {String} id - id of the instanciated service.\n   * @param {Service} instance - instance of the service.\n   */\n  setServiceInstanciationHook: function setServiceInstanciationHook(func) {\n    _serviceManager2.default.setServiceInstanciationHook(func);\n  },\n\n\n  /**\n   * Start the application.\n   */\n  start: function start() {\n    if (_socket2.default.required) this._initSocket(function () {\n      return _serviceManager2.default.start();\n    });else _serviceManager2.default.start();\n  },\n\n\n  /**\n   * Returns a service configured with the given options.\n   * @param {String} id - Identifier of the service.\n   * @param {Object} options - Options to configure the service.\n   */\n  require: function require(id, options) {\n    return _serviceManager2.default.require(id, options);\n  },\n\n\n  /**\n   * Retrieve an array of optionnal parameters from the url excluding the client type\n   * and store it in `this.urlParams`.\n   * Parameters can be defined in two ways :\n   * - as a regular route (ex: `/player/param1/param2`)\n   * - as a hash (ex: `/player#param1-param2`)\n   * The parameters are send along with the socket connection\n   *\n   * @see {@link module:soundworks/client.socket}\n   * @private\n   * @todo - When handshake implemented, define if these informations should be part of it\n   */\n  _parseUrlParams: function _parseUrlParams() {\n    var _this = this;\n\n    var pathParams = null;\n    var hashParams = null;\n    // handle path name first\n    var pathname = window.location.pathname;\n    // sanitize\n    pathname = pathname.replace(/^\\//, '') // leading slash\n    .replace(new RegExp('^' + this.type + '/?'), '') // remove clientType\n    .replace(/\\/$/, ''); // trailing slash\n\n    if (pathname.length > 0) pathParams = pathname.split('/');\n\n    // handle hash\n    var hash = window.location.hash;\n    hash = hash.replace(/^#/, '');\n\n    if (hash.length > 0) hashParams = hash.split('-');\n\n    if (pathParams || hashParams) {\n      this.urlParams = [];\n\n      if (pathParams) pathParams.forEach(function (param) {\n        return _this.urlParams.push(param);\n      });\n\n      if (hashParams) hashParams.forEach(function (param) {\n        return _this.urlParams.push(param);\n      });\n    }\n  },\n\n\n  /**\n   * Initialize socket connection and perform handshake with the server.\n   * @todo - refactor handshake.\n   * @private\n   */\n  _initSocket: function _initSocket(callback) {\n    var _this2 = this;\n\n    _socket2.default.init(this.type, this.config.websockets);\n\n    // see: http://socket.io/docs/client-api/#socket\n    this.socket.addStateListener(function (eventName) {\n      switch (eventName) {\n        case 'connect':\n          var payload = { urlParams: _this2.urlParams };\n\n          if (_this2.config.env !== 'production') {\n            (0, _assign2.default)(payload, {\n              requiredServices: _serviceManager2.default.getRequiredServices()\n            });\n          }\n\n          _this2.socket.send('handshake', payload);\n          // wait for handshake response to mark client as `ready`\n          _this2.socket.receive('client:start', function (uuid) {\n            _this2.uuid = uuid;\n            callback();\n          });\n\n          _this2.socket.receive('client:error', function (err) {\n            switch (err.type) {\n              case 'services':\n                // can only append if env !== 'production'\n                var msg = '\"' + err.data.join(', ') + '\" required client-side but not server-side';\n                throw new Error(msg);\n                break;\n            }\n          });\n          break;\n        // case 'reconnect':\n        //   // serviceManager.start();\n        //   break;\n        // case 'disconnect':\n        //   // can relaunch serviceManager on reconnection\n        //   // serviceManager.reset();\n        //   break;\n        // case 'connect_error':\n        // case 'reconnect_attempt':\n        // case 'reconnecting':\n        // case 'reconnect_error':\n        // case 'reconnect_failed':\n        //   break;\n      }\n    });\n  }\n};\n\nexports.default = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC5qcyJdLCJuYW1lcyI6WyJjbGllbnQiLCJ1dWlkIiwidHlwZSIsImNvbmZpZyIsInVybFBhcmFtcyIsInBsYXRmb3JtIiwib3MiLCJpc01vYmlsZSIsImF1ZGlvRmlsZUV4dCIsImludGVyYWN0aW9uIiwiY29tcGF0aWJsZSIsImluZGV4IiwibGFiZWwiLCJjb29yZGluYXRlcyIsImdlb3Bvc2l0aW9uIiwic29ja2V0IiwiaW5pdCIsImNsaWVudFR5cGUiLCJfcGFyc2VVcmxQYXJhbXMiLCJ3ZWJzb2NrZXRzIiwidXJsIiwidHJhbnNwb3J0cyIsInBhdGgiLCJzZXJ2aWNlTWFuYWdlciIsInZpZXdwb3J0IiwiZWwiLCJhcHBDb250YWluZXIiLCIkY29udGFpbmVyIiwiRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZpZXdNYW5hZ2VyIiwic2V0QXBwQ29udGFpbmVyIiwicmVzb2x2ZSIsInNldFNlcnZpY2VJbnN0YW5jaWF0aW9uSG9vayIsImZ1bmMiLCJzdGFydCIsInJlcXVpcmVkIiwiX2luaXRTb2NrZXQiLCJyZXF1aXJlIiwiaWQiLCJvcHRpb25zIiwicGF0aFBhcmFtcyIsImhhc2hQYXJhbXMiLCJwYXRobmFtZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVwbGFjZSIsIlJlZ0V4cCIsImxlbmd0aCIsInNwbGl0IiwiaGFzaCIsImZvckVhY2giLCJwYXJhbSIsInB1c2giLCJjYWxsYmFjayIsImFkZFN0YXRlTGlzdGVuZXIiLCJldmVudE5hbWUiLCJwYXlsb2FkIiwiZW52IiwicmVxdWlyZWRTZXJ2aWNlcyIsImdldFJlcXVpcmVkU2VydmljZXMiLCJzZW5kIiwicmVjZWl2ZSIsImVyciIsIm1zZyIsImRhdGEiLCJqb2luIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxJQUFNQSxTQUFTO0FB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VUFBQzlELElBQUQsRUFBVTtBQUM1QyxtQkFBS0EsSUFBTCxHQUFZQSxJQUFaO0FBQ0FzRDtBQUNELFdBSEQ7O0FBS0EsaUJBQUt4QyxNQUFMLENBQVlnRCxPQUFaLENBQW9CLGNBQXBCLEVBQW9DLFVBQUNDLEdBQUQsRUFBUztBQUMzQyxvQkFBUUEsSUFBSTlELElBQVo7QUFDRSxtQkFBSyxVQUFMO0FBQ0U7QUFDQSxvQkFBTStELFlBQVVELElBQUlFLElBQUosQ0FBU0MsSUFBVCxDQUFjLElBQWQsQ0FBViwrQ0FBTjtBQUNBLHNCQUFNLElBQUlDLEtBQUosQ0FBVUgsR0FBVixDQUFOO0FBQ0E7QUFMSjtBQU9ELFdBUkQ7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkNKO0FBeUNELEtBMUNEO0FBMkNEO0FBOVJZLENBQWY7O2tCQWlTZWpFLE0iLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4vc2VydmljZU1hbmFnZXInO1xuaW1wb3J0IHNvY2tldCBmcm9tICcuL3NvY2tldCc7XG5pbXBvcnQgdmlld01hbmFnZXIgZnJvbSAnLi92aWV3TWFuYWdlcic7XG5pbXBvcnQgdmlld3BvcnQgZnJvbSAnLi4vdmlld3Mvdmlld3BvcnQnO1xuXG4vKipcbiAqIENsaWVudCBzaWRlIGVudHJ5IHBvaW50IGZvciBhIGBzb3VuZHdvcmtzYCBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIG9iamVjdCBob3N0cyBnZW5lcmFsIGluZm9ybWF0aW9ucyBhYm91dCB0aGUgdXNlciwgYXMgd2VsbCBhcyBtZXRob2RzXG4gKiB0byBpbml0aWFsaXplIGFuZCBzdGFydCB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQG5hbWVzcGFjZVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBzb3VuZHdvcmtzIGZyb20gJ3NvdW5kd29ya3MvY2xpZW50JztcbiAqIGltcG9ydCBNeUV4cGVyaWVuY2UgZnJvbSAnLi9NeUV4cGVyaWVuY2UnO1xuICpcbiAqIHNvdW5kd29ya3MuY2xpZW50LmluaXQoJ3BsYXllcicpO1xuICogY29uc3QgbXlFeHBlcmllbmNlID0gbmV3IE15RXhwZXJpZW5jZSgpO1xuICogc291bmR3b3Jrcy5jbGllbnQuc3RhcnQoKTtcbiAqL1xuY29uc3QgY2xpZW50ID0ge1xuICAvKipcbiAgICogVW5pcXVlIGlkIG9mIHRoZSBjbGllbnQsIGdlbmVyYXRlZCBhbmQgcmV0cmlldmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB1dWlkOiBudWxsLFxuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY2xpZW50LCB0aGlzIGNhbiBnZW5lcmFsbHkgYmUgY29uc2lkZXJlZCBhcyB0aGUgcm9sZSBvZiB0aGVcbiAgICogY2xpZW50IGluIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyB2YWx1ZSBpcyBkZWZpbmVkIGluIHRoZVxuICAgKiBbYGNsaWVudC5pbml0YF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3Mvc2VydmVyLnNlcnZlcn5zZXJ2ZXJDb25maWd9IG9iamVjdFxuICAgKiBhbmQgZGVmYXVsdHMgdG8gYCdwbGF5ZXInYC5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIHR5cGU6IG51bGwsXG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb25zIGZyb20gdGhlIHNlcnZlciBjb25maWd1cmF0aW9uIGlmIGFueS5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LmNsaWVudH5pbml0fVxuICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuU2hhcmVkQ29uZmlnfVxuICAgKi9cbiAgY29uZmlnOiB7fSxcblxuICAvKipcbiAgICogQXJyYXkgb2Ygb3B0aW9ubmFsIHBhcmFtZXRlcnMgcGFzc2VkIHRocm91Z2ggdGhlIHVybFxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuICB1cmxQYXJhbXM6IG51bGwsXG5cbiAgLyoqXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBjbGllbnQgcGxhdGZvcm0uIFRoZSBwcm9wZXJ0aWVzIGFyZSBzZXQgYnkgdGhlXG4gICAqIFtgcGxhdGZvcm1gXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhdGZvcm19IHNlcnZpY2UuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBvcyAtIE9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNNb2JpbGUgLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2xpZW50IGlzIHJ1bm5pbmcgb24gYVxuICAgKiAgbW9iaWxlIHBsYXRmb3JtIG9yIG5vdC5cbiAgICogQHByb3BlcnR5IHtTdHJpbmd9IGF1ZGlvRmlsZUV4dCAtIEF1ZGlvIGZpbGUgZXh0ZW5zaW9uIHRvIHVzZSwgZGVwZW5kaW5nIG9uXG4gICAqICB0aGUgcGxhdGZvcm0uXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBpbnRlcmFjdGlvbiAtIFR5cGUgb2YgaW50ZXJhY3Rpb24gYWxsb3dlZCBieSB0aGVcbiAgICogIHZpZXdwb3J0LCBgdG91Y2hgIG9yIGBtb3VzZWBcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYXRmb3JtfVxuICAgKi9cbiAgcGxhdGZvcm06IHtcbiAgICBvczogbnVsbCxcbiAgICBpc01vYmlsZTogbnVsbCxcbiAgICBhdWRpb0ZpbGVFeHQ6ICcnLFxuICAgIGludGVyYWN0aW9uOiBudWxsLFxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIHVzZXIncyBkZXZpY2UgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBhcHBsaWNhdGlvblxuICAgKiByZXF1aXJlbWVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhdGZvcm19XG4gICAqL1xuICBjb21wYXRpYmxlOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJbmRleCAoaWYgYW55KSBnaXZlbiBieSBhIFtgcGxhY2VyYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYWNlcn1cbiAgICogb3IgW2BjaGVja2luYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNoZWNraW59IHNlcnZpY2UuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DaGVja2lufVxuICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfVxuICAgKi9cbiAgaW5kZXg6IG51bGwsXG5cbiAgLyoqXG4gICAqIFRpY2tldCBsYWJlbCAoaWYgYW55KSBnaXZlbiBieSBhIFtgcGxhY2VyYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYWNlcn1cbiAgICogb3IgW2BjaGVja2luYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkNoZWNraW59IHNlcnZpY2UuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5DaGVja2lufVxuICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfVxuICAgKi9cbiAgbGFiZWw6IG51bGwsXG5cbiAgLyoqXG4gICAqIENsaWVudCBjb29yZGluYXRlcyAoaWYgYW55KSBnaXZlbiBieSBhXG4gICAqIFtgbG9jYXRvcmBde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5Mb2NhdG9yfSxcbiAgICogW2BwbGFjZXJgXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuUGxhY2VyfSBvclxuICAgKiBbYGNoZWNraW5gXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2hlY2tpbn0gc2VydmljZS5cbiAgICogKEZvcm1hdDogYFt4Ok51bWJlciwgeTpOdW1iZXJdYC4pXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxOdW1iZXI+fVxuICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQ2hlY2tpbn1cbiAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkxvY2F0b3J9XG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5QbGFjZXJ9XG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5HZW9sb2NhdGlvbn1cbiAgICovXG4gIGNvb3JkaW5hdGVzOiBudWxsLFxuXG4gIC8qKlxuICAgKiBGdWxsIGBnZW9wb3NpdGlvbmAgb2JqZWN0IGFzIHJldHVybmVkIGJ5IGBuYXZpZ2F0b3IuZ2VvbG9jYXRpb25gLCB3aGVuXG4gICAqIHVzaW5nIHRoZSBgZ2VvbG9jYXRpb25gIHNlcnZpY2UuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5HZW9sb2NhdGlvbn1cbiAgICovXG4gIGdlb3Bvc2l0aW9uOiBudWxsLFxuXG4gIC8qKlxuICAgKiBTb2NrZXQgb2JqZWN0IHRoYXQgaGFuZGxlIGNvbW11bmljYXRpb25zIHdpdGggdGhlIHNlcnZlciwgaWYgYW55LlxuICAgKiBUaGlzIG9iamVjdCBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgaWYgdGhlIGV4cGVyaWVuY2UgcmVxdWlyZXMgYW55IHNlcnZpY2VcbiAgICogaGF2aW5nIGEgc2VydmVyLXNpZGUgY291bnRlcnBhcnQuXG4gICAqXG4gICAqIEB0eXBlIHttb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuc29ja2V0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc29ja2V0OiBzb2NrZXQsXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NsaWVudFR5cGU9J3BsYXllciddIC0gVGhlIHR5cGUgb2YgdGhlIGNsaWVudCwgZGVmaW5lcyB0aGVcbiAgICogIHNvY2tldCBjb25uZWN0aW9uIG5hbWVzcGFjZS4gU2hvdWxkIG1hdGNoIGEgY2xpZW50IHR5cGUgZGVmaW5lZCBzZXJ2ZXIgc2lkZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWc9e31dXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmFwcENvbnRhaW5lcj0nI2NvbnRhaW5lciddIC0gQSBjc3Mgc2VsZWN0b3JcbiAgICogIG1hdGNoaW5nIGEgRE9NIGVsZW1lbnQgd2hlcmUgdGhlIHZpZXdzIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcud2Vic29ja2V0cy51cmw9JyddIC0gVGhlIHVybCB3aGVyZSB0aGUgc29ja2V0IHNob3VsZFxuICAgKiAgY29ubmVjdCBfKHVuc3RhYmxlKV8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLndlYnNvY2tldHMudHJhbnNwb3J0cz1bJ3dlYnNvY2tldCddXSAtIFRoZSB0cmFuc3BvcnRcbiAgICogIHVzZWQgdG8gY3JlYXRlIHRoZSB1cmwgKG92ZXJyaWRlcyBkZWZhdWx0IHNvY2tldC5pbyBtZWNhbmlzbSkgXyh1bnN0YWJsZSlfLlxuICAgKi9cbiAgaW5pdChjbGllbnRUeXBlID0gJ3BsYXllcicsIGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy50eXBlID0gY2xpZW50VHlwZTtcblxuICAgIHRoaXMuX3BhcnNlVXJsUGFyYW1zKCk7XG4gICAgLy8gaWYgc29ja2V0IGNvbmZpZyBnaXZlbiwgbWl4IGl0IHdpdGggZGVmYXVsdHNcbiAgICBjb25zdCB3ZWJzb2NrZXRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB1cmw6ICcnLFxuICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnXSxcbiAgICAgIHBhdGg6ICcnLFxuICAgIH0sIGNvbmZpZy53ZWJzb2NrZXRzKTtcblxuICAgIC8vIG1peCBhbGwgb3RoZXIgY29uZmlnIGFuZCBvdmVycmlkZSB3aXRoIGRlZmluZWQgc29ja2V0IGNvbmZpZ1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIGNvbmZpZywgeyB3ZWJzb2NrZXRzIH0pO1xuXG4gICAgc2VydmljZU1hbmFnZXIuaW5pdCgpO1xuICAgIHZpZXdwb3J0LmluaXQoKTtcblxuICAgIGNvbnN0IGVsID0gY29uZmlnLmFwcENvbnRhaW5lcjtcbiAgICBjb25zdCAkY29udGFpbmVyID0gZWwgaW5zdGFuY2VvZiBFbGVtZW50ID8gZWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICB2aWV3TWFuYWdlci5zZXRBcHBDb250YWluZXIoJGNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBhIHNlcnZpY2UgaXMgaW5zdGFuY2lhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3NlcnZpY2VNYW5hZ2VyfnNlcnZpY2VJbnN0YW5jaWF0aW9uSG9va30gZnVuYyAtIEZ1bmN0aW9uIHRvXG4gICAqICByZWdpc3RlciBoYXMgYSBob29rIHRvIGJlIGV4ZWN1dGUgd2hlbiBhIHNlcnZpY2UgaXMgY3JlYXRlZC5cbiAgICovXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgc2VydmljZU1hbmFnZXJ+c2VydmljZUluc3RhbmNpYXRpb25Ib29rXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIGlkIG9mIHRoZSBpbnN0YW5jaWF0ZWQgc2VydmljZS5cbiAgICogQHBhcmFtIHtTZXJ2aWNlfSBpbnN0YW5jZSAtIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICAgKi9cbiAgc2V0U2VydmljZUluc3RhbmNpYXRpb25Ib29rKGZ1bmMpIHtcbiAgICBzZXJ2aWNlTWFuYWdlci5zZXRTZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2soZnVuYyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBhcHBsaWNhdGlvbi5cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIGlmIChzb2NrZXQucmVxdWlyZWQpXG4gICAgICB0aGlzLl9pbml0U29ja2V0KCgpID0+IHNlcnZpY2VNYW5hZ2VyLnN0YXJ0KCkpO1xuICAgIGVsc2VcbiAgICAgIHNlcnZpY2VNYW5hZ2VyLnN0YXJ0KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzZXJ2aWNlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gSWRlbnRpZmllciBvZiB0aGUgc2VydmljZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgc2VydmljZS5cbiAgICovXG4gIHJlcXVpcmUoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2VydmljZU1hbmFnZXIucmVxdWlyZShpZCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGFuIGFycmF5IG9mIG9wdGlvbm5hbCBwYXJhbWV0ZXJzIGZyb20gdGhlIHVybCBleGNsdWRpbmcgdGhlIGNsaWVudCB0eXBlXG4gICAqIGFuZCBzdG9yZSBpdCBpbiBgdGhpcy51cmxQYXJhbXNgLlxuICAgKiBQYXJhbWV0ZXJzIGNhbiBiZSBkZWZpbmVkIGluIHR3byB3YXlzIDpcbiAgICogLSBhcyBhIHJlZ3VsYXIgcm91dGUgKGV4OiBgL3BsYXllci9wYXJhbTEvcGFyYW0yYClcbiAgICogLSBhcyBhIGhhc2ggKGV4OiBgL3BsYXllciNwYXJhbTEtcGFyYW0yYClcbiAgICogVGhlIHBhcmFtZXRlcnMgYXJlIHNlbmQgYWxvbmcgd2l0aCB0aGUgc29ja2V0IGNvbm5lY3Rpb25cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LnNvY2tldH1cbiAgICogQHByaXZhdGVcbiAgICogQHRvZG8gLSBXaGVuIGhhbmRzaGFrZSBpbXBsZW1lbnRlZCwgZGVmaW5lIGlmIHRoZXNlIGluZm9ybWF0aW9ucyBzaG91bGQgYmUgcGFydCBvZiBpdFxuICAgKi9cbiAgX3BhcnNlVXJsUGFyYW1zKCkge1xuICAgIGxldCBwYXRoUGFyYW1zID0gbnVsbDtcbiAgICBsZXQgaGFzaFBhcmFtcyA9IG51bGw7XG4gICAgLy8gaGFuZGxlIHBhdGggbmFtZSBmaXJzdFxuICAgIGxldCBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAvLyBzYW5pdGl6ZVxuICAgIHBhdGhuYW1lID0gcGF0aG5hbWVcbiAgICAgIC5yZXBsYWNlKC9eXFwvLywgJycpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlYWRpbmcgc2xhc2hcbiAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgdGhpcy50eXBlICsgJy8/JyksICcnKSAgLy8gcmVtb3ZlIGNsaWVudFR5cGVcbiAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYWlsaW5nIHNsYXNoXG5cbiAgICBpZiAocGF0aG5hbWUubGVuZ3RoID4gMClcbiAgICAgIHBhdGhQYXJhbXMgPSBwYXRobmFtZS5zcGxpdCgnLycpO1xuXG4gICAgLy8gaGFuZGxlIGhhc2hcbiAgICBsZXQgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgIGhhc2ggPSBoYXNoLnJlcGxhY2UoL14jLywgJycpO1xuXG4gICAgaWYgKGhhc2gubGVuZ3RoID4gMClcbiAgICAgIGhhc2hQYXJhbXMgPSBoYXNoLnNwbGl0KCctJyk7XG5cbiAgICBpZiAocGF0aFBhcmFtcyB8fMKgaGFzaFBhcmFtcykge1xuICAgICAgdGhpcy51cmxQYXJhbXMgPSBbXTtcblxuICAgICAgaWYgKHBhdGhQYXJhbXMpXG4gICAgICAgIHBhdGhQYXJhbXMuZm9yRWFjaCgocGFyYW0pID0+IHRoaXMudXJsUGFyYW1zLnB1c2gocGFyYW0pKTtcblxuICAgICAgaWYgKGhhc2hQYXJhbXMpXG4gICAgICAgIGhhc2hQYXJhbXMuZm9yRWFjaCgocGFyYW0pID0+IHRoaXMudXJsUGFyYW1zLnB1c2gocGFyYW0pKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc29ja2V0IGNvbm5lY3Rpb24gYW5kIHBlcmZvcm0gaGFuZHNoYWtlIHdpdGggdGhlIHNlcnZlci5cbiAgICogQHRvZG8gLSByZWZhY3RvciBoYW5kc2hha2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdFNvY2tldChjYWxsYmFjaykge1xuICAgIHNvY2tldC5pbml0KHRoaXMudHlwZSwgdGhpcy5jb25maWcud2Vic29ja2V0cyk7XG5cbiAgICAvLyBzZWU6IGh0dHA6Ly9zb2NrZXQuaW8vZG9jcy9jbGllbnQtYXBpLyNzb2NrZXRcbiAgICB0aGlzLnNvY2tldC5hZGRTdGF0ZUxpc3RlbmVyKChldmVudE5hbWUpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgJ2Nvbm5lY3QnOlxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHVybFBhcmFtczogdGhpcy51cmxQYXJhbXMgfTtcblxuICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbnYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwYXlsb2FkLCB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkU2VydmljZXM6IHNlcnZpY2VNYW5hZ2VyLmdldFJlcXVpcmVkU2VydmljZXMoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZCgnaGFuZHNoYWtlJywgcGF5bG9hZCk7XG4gICAgICAgICAgLy8gd2FpdCBmb3IgaGFuZHNoYWtlIHJlc3BvbnNlIHRvIG1hcmsgY2xpZW50IGFzIGByZWFkeWBcbiAgICAgICAgICB0aGlzLnNvY2tldC5yZWNlaXZlKCdjbGllbnQ6c3RhcnQnLCAodXVpZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLnNvY2tldC5yZWNlaXZlKCdjbGllbnQ6ZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyci50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3NlcnZpY2VzJzpcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBhcHBlbmQgaWYgZW52ICE9PSAncHJvZHVjdGlvbidcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBgXCIke2Vyci5kYXRhLmpvaW4oJywgJyl9XCIgcmVxdWlyZWQgY2xpZW50LXNpZGUgYnV0IG5vdCBzZXJ2ZXItc2lkZWA7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gY2FzZSAncmVjb25uZWN0JzpcbiAgICAgICAgICAvLyAgIC8vIHNlcnZpY2VNYW5hZ2VyLnN0YXJ0KCk7XG4gICAgICAgICAgLy8gICBicmVhaztcbiAgICAgICAgICAvLyBjYXNlICdkaXNjb25uZWN0JzpcbiAgICAgICAgICAvLyAgIC8vIGNhbiByZWxhdW5jaCBzZXJ2aWNlTWFuYWdlciBvbiByZWNvbm5lY3Rpb25cbiAgICAgICAgICAvLyAgIC8vIHNlcnZpY2VNYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAgICAgLy8gICBicmVhaztcbiAgICAgICAgICAvLyBjYXNlICdjb25uZWN0X2Vycm9yJzpcbiAgICAgICAgICAvLyBjYXNlICdyZWNvbm5lY3RfYXR0ZW1wdCc6XG4gICAgICAgICAgLy8gY2FzZSAncmVjb25uZWN0aW5nJzpcbiAgICAgICAgICAvLyBjYXNlICdyZWNvbm5lY3RfZXJyb3InOlxuICAgICAgICAgIC8vIGNhc2UgJ3JlY29ubmVjdF9mYWlsZWQnOlxuICAgICAgICAgIC8vICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGllbnQ7XG4iXX0=","deps":{"./serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../views/viewport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","./viewManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/viewManager.js","./socket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/socket.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Activity2 = require('./Activity');\n\nvar _Activity3 = _interopRequireDefault(_Activity2);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _serviceManager = require('./serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _Signal = require('../../utils/Signal');\n\nvar _Signal2 = _interopRequireDefault(_Signal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('soundworks:services');\n\n/**\n * Base class to be extended in order to create a new service.\n *\n * @memberof module:soundworks/client\n * @extends module:soundworks/client.Activity\n */\n\nvar Service = function (_Activity) {\n  (0, _inherits3.default)(Service, _Activity);\n\n  /**\n   * @param {String} id - The id of the service (should be prefixed with `'service:'`).\n   * @param {Boolean} hasNetwork - Define if the service needs an access to the socket\n   *  connection.\n   */\n  function Service(id, hasNetwork) {\n    (0, _classCallCheck3.default)(this, Service);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Service.__proto__ || (0, _getPrototypeOf2.default)(Service)).call(this, id, hasNetwork));\n\n    _this.requiredSignals.addObserver(function (value) {\n      if (value) {\n        _this.start();\n        _this.hasStarted = true; // keep this for Orbe/Nodal compatibility\n      } else {\n        _this.stop();\n      }\n    });\n\n    /**\n     * Is set to `true` when a signal is ready to be consumed.\n     * @type {Signal}\n     */\n    _this.signals.ready = new _Signal2.default();\n    // add the serviceManager bootstart signal to the required signals\n    _this.waitFor(_serviceManager2.default.signals.start);\n\n    _this.ready = _this.ready.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Allow to require another service as a dependencies. When a service is\n   * dependent from another service its `start` method is delayed until all\n   * its dependencies are themselves `ready`.\n   * @param {String} id - id of the service to require.\n   * @param {Object} options - configuration object to be passed to the service.\n   */\n\n\n  (0, _createClass3.default)(Service, [{\n    key: 'require',\n    value: function require(id, options) {\n      var service = _serviceManager2.default.require(id, options);\n      var signal = service.signals.ready;\n\n      if (signal) this.waitFor(signal);else throw new Error('signal \"continue\" doesn\\'t exist on service :', service);\n\n      return service;\n    }\n\n    /**\n     * Method to call in the service lifecycle when it should be considered as\n     * `ready` and thus allows all its dependent activities to start themselves.\n     */\n\n  }, {\n    key: 'ready',\n    value: function ready() {\n      log('\"' + this.id + '\" ready');\n\n      this.stop();\n      this.signals.ready.set(true);\n    }\n\n    /** @inheritdoc */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      log('\"' + this.id + '\" started');\n      (0, _get3.default)(Service.prototype.__proto__ || (0, _getPrototypeOf2.default)(Service.prototype), 'start', this).call(this);\n    }\n\n    /** @inheritdoc */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      log('\"' + this.id + '\" stopped');\n      (0, _get3.default)(Service.prototype.__proto__ || (0, _getPrototypeOf2.default)(Service.prototype), 'stop', this).call(this);\n    }\n  }]);\n  return Service;\n}(_Activity3.default);\n\nexports.default = Service;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlcnZpY2UuanMiXSwibmFtZXMiOlsibG9nIiwiU2VydmljZSIsImlkIiwiaGFzTmV0d29yayIsInJlcXVpcmVkU2lnbmFscyIsImFkZE9ic2VydmVyIiwidmFsdWUiLCJzdGFydCIsImhhc1N0YXJ0ZWQiLCJzdG9wIiwic2lnbmFscyIsInJlYWR5IiwiU2lnbmFsIiwid2FpdEZvciIsInNlcnZpY2VNYW5hZ2VyIiwiYmluZCIsIm9wdGlvbnMiLCJzZXJ2aWNlIiwicmVxdWlyZSIsInNpZ25hbCIsIkVycm9yIiwic2V0IiwiQWN0aXZpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxNQUFNLHFCQUFNLHFCQUFOLENBQVo7O0FBR0E7Ozs7Ozs7SUFNTUMsTzs7O0FBQ0o7Ozs7O0FBS0EsbUJBQVlDLEVBQVosRUFBZ0JDLFVBQWhCLEVBQTRCO0FBQUE7O0FBQUEsd0lBQ3BCRCxFQURvQixFQUNoQkMsVUFEZ0I7O0FBRzFCLFVBQUtDLGVBQUwsQ0FBcUJDLFdBQXJCLENBQWlDLFVBQUNDLEtBQUQsRUFBVztBQUMxQyxVQUFJQSxLQUFKLEVBQVc7QUFDVCxjQUFLQyxLQUFMO0FBQ0EsY0FBS0MsVUFBTCxHQUFrQixJQUFsQixDQUZTLENBRWU7QUFDekIsT0FIRCxNQUdPO0FBQ0wsY0FBS0MsSUFBTDtBQUNEO0FBQ0YsS0FQRDs7QUFTQTs7OztBQUlBLFVBQUtDLE9BQUwsQ0FBYUMsS0FBYixHQUFxQixJQUFJQyxnQkFBSixFQUFyQjtBQUNBO0FBQ0EsVUFBS0MsT0FBTCxDQUFhQyx5QkFBZUosT0FBZixDQUF1QkgsS0FBcEM7O0FBRUEsVUFBS0ksS0FBTCxHQUFhLE1BQUtBLEtBQUwsQ0FBV0ksSUFBWCxPQUFiO0FBcEIwQjtBQXFCM0I7O0FBRUQ7Ozs7Ozs7Ozs7OzRCQU9RYixFLEVBQUljLE8sRUFBUztBQUNuQixVQUFNQyxVQUFVSCx5QkFBZUksT0FBZixDQUF1QmhCLEVBQXZCLEVBQTJCYyxPQUEzQixDQUFoQjtBQUNBLFVBQU1HLFNBQVNGLFFBQVFQLE9BQVIsQ0FBZ0JDLEtBQS9COztBQUVBLFVBQUlRLE1BQUosRUFDRSxLQUFLTixPQUFMLENBQWFNLE1BQWIsRUFERixLQUdFLE1BQU0sSUFBSUMsS0FBSixrREFBMERILE9BQTFELENBQU47O0FBRUYsYUFBT0EsT0FBUDtBQUNEOztBQUVEOzs7Ozs7OzRCQUlRO0FBQ05qQixnQkFBUSxLQUFLRSxFQUFiOztBQUVBLFdBQUtPLElBQUw7QUFDQSxXQUFLQyxPQUFMLENBQWFDLEtBQWIsQ0FBbUJVLEdBQW5CLENBQXVCLElBQXZCO0FBQ0Q7O0FBRUQ7Ozs7NEJBQ1E7QUFDTnJCLGdCQUFRLEtBQUtFLEVBQWI7QUFDQTtBQUNEOztBQUVEOzs7OzJCQUNPO0FBQ0xGLGdCQUFRLEtBQUtFLEVBQWI7QUFDQTtBQUNEOzs7RUFyRW1Cb0Isa0I7O2tCQXdFUHJCLE8iLCJmaWxlIjoiU2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpdml0eSBmcm9tICcuL0FjdGl2aXR5JztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgU2lnbmFsIGZyb20gJy4uLy4uL3V0aWxzL1NpZ25hbCc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKCdzb3VuZHdvcmtzOnNlcnZpY2VzJyk7XG5cblxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGJlIGV4dGVuZGVkIGluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ldyBzZXJ2aWNlLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleHRlbmRzIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BY3Rpdml0eVxuICovXG5jbGFzcyBTZXJ2aWNlIGV4dGVuZHMgQWN0aXZpdHkge1xuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBzZXJ2aWNlIChzaG91bGQgYmUgcHJlZml4ZWQgd2l0aCBgJ3NlcnZpY2U6J2ApLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGhhc05ldHdvcmsgLSBEZWZpbmUgaWYgdGhlIHNlcnZpY2UgbmVlZHMgYW4gYWNjZXNzIHRvIHRoZSBzb2NrZXRcbiAgICogIGNvbm5lY3Rpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpZCwgaGFzTmV0d29yaykge1xuICAgIHN1cGVyKGlkLCBoYXNOZXR3b3JrKTtcblxuICAgIHRoaXMucmVxdWlyZWRTaWduYWxzLmFkZE9ic2VydmVyKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gdHJ1ZTsgLy8ga2VlcCB0aGlzIGZvciBPcmJlL05vZGFsIGNvbXBhdGliaWxpdHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSXMgc2V0IHRvIGB0cnVlYCB3aGVuIGEgc2lnbmFsIGlzIHJlYWR5IHRvIGJlIGNvbnN1bWVkLlxuICAgICAqIEB0eXBlIHtTaWduYWx9XG4gICAgICovXG4gICAgdGhpcy5zaWduYWxzLnJlYWR5ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8vIGFkZCB0aGUgc2VydmljZU1hbmFnZXIgYm9vdHN0YXJ0IHNpZ25hbCB0byB0aGUgcmVxdWlyZWQgc2lnbmFsc1xuICAgIHRoaXMud2FpdEZvcihzZXJ2aWNlTWFuYWdlci5zaWduYWxzLnN0YXJ0KTtcblxuICAgIHRoaXMucmVhZHkgPSB0aGlzLnJlYWR5LmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3cgdG8gcmVxdWlyZSBhbm90aGVyIHNlcnZpY2UgYXMgYSBkZXBlbmRlbmNpZXMuIFdoZW4gYSBzZXJ2aWNlIGlzXG4gICAqIGRlcGVuZGVudCBmcm9tIGFub3RoZXIgc2VydmljZSBpdHMgYHN0YXJ0YCBtZXRob2QgaXMgZGVsYXllZCB1bnRpbCBhbGxcbiAgICogaXRzIGRlcGVuZGVuY2llcyBhcmUgdGhlbXNlbHZlcyBgcmVhZHlgLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBpZCBvZiB0aGUgc2VydmljZSB0byByZXF1aXJlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGJlIHBhc3NlZCB0byB0aGUgc2VydmljZS5cbiAgICovXG4gIHJlcXVpcmUoaWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXJ2aWNlID0gc2VydmljZU1hbmFnZXIucmVxdWlyZShpZCwgb3B0aW9ucyk7XG4gICAgY29uc3Qgc2lnbmFsID0gc2VydmljZS5zaWduYWxzLnJlYWR5O1xuXG4gICAgaWYgKHNpZ25hbClcbiAgICAgIHRoaXMud2FpdEZvcihzaWduYWwpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc2lnbmFsIFwiY29udGludWVcIiBkb2Vzbid0IGV4aXN0IG9uIHNlcnZpY2UgOmAsIHNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIHNlcnZpY2U7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHRvIGNhbGwgaW4gdGhlIHNlcnZpY2UgbGlmZWN5Y2xlIHdoZW4gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXNcbiAgICogYHJlYWR5YCBhbmQgdGh1cyBhbGxvd3MgYWxsIGl0cyBkZXBlbmRlbnQgYWN0aXZpdGllcyB0byBzdGFydCB0aGVtc2VsdmVzLlxuICAgKi9cbiAgcmVhZHkoKSB7XG4gICAgbG9nKGBcIiR7dGhpcy5pZH1cIiByZWFkeWApO1xuXG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5zaWduYWxzLnJlYWR5LnNldCh0cnVlKTtcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICBzdGFydCgpIHtcbiAgICBsb2coYFwiJHt0aGlzLmlkfVwiIHN0YXJ0ZWRgKTtcbiAgICBzdXBlci5zdGFydCgpO1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gIHN0b3AoKSB7XG4gICAgbG9nKGBcIiR7dGhpcy5pZH1cIiBzdG9wcGVkYCk7XG4gICAgc3VwZXIuc3RvcCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlcnZpY2U7XG5cbiJdfQ==","deps":{"./serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","./Activity":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../utils/Signal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/FileSystem.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/FileSystem.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:file-system';\nvar isString = function isString(value) {\n  return typeof value === 'string' || value instanceof String;\n};\n\n/**\n * Interface for the client `'file-system'` service.\n *\n * This service allow to retrieve a list of files or directories from a given path.\n * If a `list` option is given when requiring the service, the service marks\n * itself as `ready` when the file list is returned by the server.\n * The service can be used later to retrieve new file lists, each required list is\n * cached client-side to prevent useless network traffic.\n *\n * @param {Object} options\n * @param {String|module:soundworks/client.FileSystem~ListConfig|Array<String>|Array<module:soundworks/client.FileSystem~ListConfig>} option.list -\n *  List to\n *\n * __*The service must be used with its [client-side counterpart]{@link module:soundworks/client.FileSystem}*__\n *\n * @memberof module:soundworks/client\n * @example\n * // require and configure the `file-system` service inside the experience\n * // constructor, the file list to be retrive can be configured as a simple string\n * this.fileSystem = this.require('file-system', { list: 'audio' });\n * // ... or as a full {@link module:soundworks/client.FileSystem~ListConfig}\n * // object for better control over the returned file list\n * this.fileSystem = this.require('file-system', { list: {\n *     path: 'audio',\n *     match: /\\.wav$/,\n *     recursive: true,\n *   }\n * });\n *\n * // given the following file system\n * // audio/\n * //   voice.mp3\n * //   voice.wav\n * //   drum/\n * //     kick.mp3\n * //     kick.wav\n * // the first query will return the following result:\n * > ['/audio/voice.mp3', 'audio/voice.wav']\n * // while the second one will return:\n * > ['/audio/voice.wav', 'audio/drum/kick.wav']\n *\n * @see {@link module:soundworks/client.FileSystem~ListConfig}\n */\n\nvar FileSystem = function (_Service) {\n  (0, _inherits3.default)(FileSystem, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function FileSystem() {\n    (0, _classCallCheck3.default)(this, FileSystem);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (FileSystem.__proto__ || (0, _getPrototypeOf2.default)(FileSystem)).call(this, SERVICE_ID, true));\n\n    var defaults = { list: null };\n    _this.configure(defaults);\n\n    _this._cache = {};\n    // as file system is async (server side), nothing guarantees response order\n    _this._requestId = 0;\n    return _this;\n  }\n\n  (0, _createClass3.default)(FileSystem, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(FileSystem.prototype.__proto__ || (0, _getPrototypeOf2.default)(FileSystem.prototype), 'start', this).call(this);\n\n      if (this.options.list !== null) this.getList(this.options.list);else this.ready();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(FileSystem.prototype.__proto__ || (0, _getPrototypeOf2.default)(FileSystem.prototype), 'stop', this).call(this);\n    }\n\n    /**\n     * @typedef {Object} module:soundworks/client.FileSystem~ListConfig\n     * @property {String} path - Name of the folder to search into.\n     * @property {RegExp} [match='*'] - RegExp used to filter the results.\n     * @property {Boolean} [recursive=false] - Flag whether the search should be\n     *  recursive.\n     * @property {Boolean} [directories=false] - If true only return directories,\n     *  files otherwise.\n     */\n    /**\n     * Return a list of file according to the given configuration.\n     *\n     * @param {String|module:soundworks/client.FileSystem~ListConfig|Array<String>|Array<module:soundworks/client.FileSystem~ListConfig>} config -\n     *  Details of the requested list(s). The requested files or directories must\n     *  be publicly accessible.\n     * @return {Promise<Array>|Promise<Array<Array>>} - Promise resolving with an\n     *  an array containing the absolute urls of the files or directories.\n     *  If `config` is an array, the results will be an array of arrays\n     *  containing the result of each different request.\n     *\n     * @example:\n     * // 1. Single list\n     * // retrieve all the file in a folder\n     * fileSystem.getList('my-directory').then((list) => ... );\n     * // or, retrieve all the `.wav` files inside a given folder,\n     * //search recursively\n     * fileSystem.getList({\n     *   path: 'my-directory',\n     *   match: /\\.wav/,\n     *   recursive: true,\n     * }).then((list) => ... );\n     *\n     * // 2. Multiple Requests\n     * // retrieve all the file in 2 different folders, the returned value will be\n     * // an array containing the 2 lists\n     * fileSystem.getList(['my-directory1', 'my-directory2'])\n     *   .then((lists) => ... );\n     * // or\n     * fileSystem.getList([{ ... }, { ... }])\n     *   .then((lists) => ... );\n     */\n\n  }, {\n    key: 'getList',\n    value: function getList(config) {\n      var _this2 = this;\n\n      // serialize the json config to properly handle RegExp, adapted from:\n      // http://stackoverflow.com/questions/12075927/serialization-of-regexp#answer-33416684\n      var _config = (0, _stringify2.default)(config, function (key, value) {\n        if (value instanceof RegExp) return '__REGEXP ' + value.toString();else return value;\n      });\n\n      var key = isString(config) ? config : _config;\n\n      if (this._cache[key]) return this._cache[key];\n\n      var promise = new _promise2.default(function (resolve, reject) {\n        var id = _this2._requestId;\n        var channel = 'list:' + id;\n        _this2._requestId += 1;\n\n        _this2.receive(channel, function (results) {\n          // @note - socket.io remove the first listener if no func argument given\n          //         should be done properly -> update socket and Activity\n          _this2.removeListener(channel);\n          resolve(results);\n\n          if (_this2.options.list !== null && channel === 'list:0') _this2.fileList = results;\n          _this2.ready();\n        });\n\n        _this2.send('request', id, _config);\n\n        _this2._requestId += 1;\n      });\n\n      this._cache[key] = promise;\n      return promise;\n    }\n  }]);\n  return FileSystem;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, FileSystem);\n\nexports.default = FileSystem;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZpbGVTeXN0ZW0uanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsImlzU3RyaW5nIiwidmFsdWUiLCJTdHJpbmciLCJGaWxlU3lzdGVtIiwiZGVmYXVsdHMiLCJsaXN0IiwiY29uZmlndXJlIiwiX2NhY2hlIiwiX3JlcXVlc3RJZCIsIm9wdGlvbnMiLCJnZXRMaXN0IiwicmVhZHkiLCJjb25maWciLCJfY29uZmlnIiwia2V5IiwiUmVnRXhwIiwidG9TdHJpbmciLCJwcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlkIiwiY2hhbm5lbCIsInJlY2VpdmUiLCJyZXN1bHRzIiwicmVtb3ZlTGlzdGVuZXIiLCJmaWxlTGlzdCIsInNlbmQiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLHFCQUFuQjtBQUNBLElBQU1DLFdBQVcsU0FBWEEsUUFBVyxDQUFDQyxLQUFEO0FBQUEsU0FBWSxPQUFPQSxLQUFQLEtBQWlCLFFBQWpCLElBQTZCQSxpQkFBaUJDLE1BQTFEO0FBQUEsQ0FBakI7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBMkNNQyxVOzs7QUFDSjtBQUNBLHdCQUFjO0FBQUE7O0FBQUEsOElBQ05KLFVBRE0sRUFDTSxJQUROOztBQUdaLFFBQU1LLFdBQVcsRUFBRUMsTUFBTSxJQUFSLEVBQWpCO0FBQ0EsVUFBS0MsU0FBTCxDQUFlRixRQUFmOztBQUVBLFVBQUtHLE1BQUwsR0FBYyxFQUFkO0FBQ0E7QUFDQSxVQUFLQyxVQUFMLEdBQWtCLENBQWxCO0FBUlk7QUFTYjs7Ozs0QkFFTztBQUNOOztBQUVBLFVBQUksS0FBS0MsT0FBTCxDQUFhSixJQUFiLEtBQXNCLElBQTFCLEVBQ0UsS0FBS0ssT0FBTCxDQUFhLEtBQUtELE9BQUwsQ0FBYUosSUFBMUIsRUFERixLQUdFLEtBQUtNLEtBQUw7QUFDSDs7OzJCQUVNO0FBQ0w7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQWdDUUMsTSxFQUFRO0FBQUE7O0FBQ2Q7QUFDQTtBQUNBLFVBQU1DLFVBQVUseUJBQWVELE1BQWYsRUFBdUIsVUFBU0UsR0FBVCxFQUFjYixLQUFkLEVBQXFCO0FBQzFELFlBQUlBLGlCQUFpQmMsTUFBckIsRUFDRSxxQkFBbUJkLE1BQU1lLFFBQU4sRUFBbkIsQ0FERixLQUdFLE9BQU9mLEtBQVA7QUFDSCxPQUxlLENBQWhCOztBQU9BLFVBQU1hLE1BQU1kLFNBQVNZLE1BQVQsSUFBbUJBLE1BQW5CLEdBQTRCQyxPQUF4Qzs7QUFFQSxVQUFJLEtBQUtOLE1BQUwsQ0FBWU8sR0FBWixDQUFKLEVBQ0UsT0FBTyxLQUFLUCxNQUFMLENBQVlPLEdBQVosQ0FBUDs7QUFFRixVQUFNRyxVQUFVLHNCQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUMvQyxZQUFNQyxLQUFLLE9BQUtaLFVBQWhCO0FBQ0EsWUFBTWEsb0JBQWtCRCxFQUF4QjtBQUNBLGVBQUtaLFVBQUwsSUFBbUIsQ0FBbkI7O0FBRUEsZUFBS2MsT0FBTCxDQUFhRCxPQUFiLEVBQXNCLFVBQUNFLE9BQUQsRUFBYTtBQUNqQztBQUNBO0FBQ0EsaUJBQUtDLGNBQUwsQ0FBb0JILE9BQXBCO0FBQ0FILGtCQUFRSyxPQUFSOztBQUVBLGNBQUksT0FBS2QsT0FBTCxDQUFhSixJQUFiLEtBQXNCLElBQXRCLElBQThCZ0IsWUFBWSxRQUE5QyxFQUNFLE9BQUtJLFFBQUwsR0FBZ0JGLE9BQWhCO0FBQ0EsaUJBQUtaLEtBQUw7QUFDSCxTQVREOztBQVdBLGVBQUtlLElBQUwsQ0FBVSxTQUFWLEVBQXFCTixFQUFyQixFQUF5QlAsT0FBekI7O0FBRUEsZUFBS0wsVUFBTCxJQUFtQixDQUFuQjtBQUNELE9BbkJlLENBQWhCOztBQXFCQSxXQUFLRCxNQUFMLENBQVlPLEdBQVosSUFBbUJHLE9BQW5CO0FBQ0EsYUFBT0EsT0FBUDtBQUNEOzs7RUF6R3NCVSxpQjs7QUE0R3pCQyx5QkFBZUMsUUFBZixDQUF3QjlCLFVBQXhCLEVBQW9DSSxVQUFwQzs7a0JBRWVBLFUiLCJmaWxlIjoiRmlsZVN5c3RlbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpmaWxlLXN5c3RlbSc7XG5jb25zdCBpc1N0cmluZyA9ICh2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpO1xuXG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGAnZmlsZS1zeXN0ZW0nYCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBhbGxvdyB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgZmlsZXMgb3IgZGlyZWN0b3JpZXMgZnJvbSBhIGdpdmVuIHBhdGguXG4gKiBJZiBhIGBsaXN0YCBvcHRpb24gaXMgZ2l2ZW4gd2hlbiByZXF1aXJpbmcgdGhlIHNlcnZpY2UsIHRoZSBzZXJ2aWNlIG1hcmtzXG4gKiBpdHNlbGYgYXMgYHJlYWR5YCB3aGVuIHRoZSBmaWxlIGxpc3QgaXMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlci5cbiAqIFRoZSBzZXJ2aWNlIGNhbiBiZSB1c2VkIGxhdGVyIHRvIHJldHJpZXZlIG5ldyBmaWxlIGxpc3RzLCBlYWNoIHJlcXVpcmVkIGxpc3QgaXNcbiAqIGNhY2hlZCBjbGllbnQtc2lkZSB0byBwcmV2ZW50IHVzZWxlc3MgbmV0d29yayB0cmFmZmljLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuRmlsZVN5c3RlbX5MaXN0Q29uZmlnfEFycmF5PFN0cmluZz58QXJyYXk8bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkZpbGVTeXN0ZW1+TGlzdENvbmZpZz59IG9wdGlvbi5saXN0IC1cbiAqICBMaXN0IHRvXG4gKlxuICogX18qVGhlIHNlcnZpY2UgbXVzdCBiZSB1c2VkIHdpdGggaXRzIFtjbGllbnQtc2lkZSBjb3VudGVycGFydF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkZpbGVTeXN0ZW19Kl9fXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGV4YW1wbGVcbiAqIC8vIHJlcXVpcmUgYW5kIGNvbmZpZ3VyZSB0aGUgYGZpbGUtc3lzdGVtYCBzZXJ2aWNlIGluc2lkZSB0aGUgZXhwZXJpZW5jZVxuICogLy8gY29uc3RydWN0b3IsIHRoZSBmaWxlIGxpc3QgdG8gYmUgcmV0cml2ZSBjYW4gYmUgY29uZmlndXJlZCBhcyBhIHNpbXBsZSBzdHJpbmdcbiAqIHRoaXMuZmlsZVN5c3RlbSA9IHRoaXMucmVxdWlyZSgnZmlsZS1zeXN0ZW0nLCB7IGxpc3Q6ICdhdWRpbycgfSk7XG4gKiAvLyAuLi4gb3IgYXMgYSBmdWxsIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuRmlsZVN5c3RlbX5MaXN0Q29uZmlnfVxuICogLy8gb2JqZWN0IGZvciBiZXR0ZXIgY29udHJvbCBvdmVyIHRoZSByZXR1cm5lZCBmaWxlIGxpc3RcbiAqIHRoaXMuZmlsZVN5c3RlbSA9IHRoaXMucmVxdWlyZSgnZmlsZS1zeXN0ZW0nLCB7IGxpc3Q6IHtcbiAqICAgICBwYXRoOiAnYXVkaW8nLFxuICogICAgIG1hdGNoOiAvXFwud2F2JC8sXG4gKiAgICAgcmVjdXJzaXZlOiB0cnVlLFxuICogICB9XG4gKiB9KTtcbiAqXG4gKiAvLyBnaXZlbiB0aGUgZm9sbG93aW5nIGZpbGUgc3lzdGVtXG4gKiAvLyBhdWRpby9cbiAqIC8vICAgdm9pY2UubXAzXG4gKiAvLyAgIHZvaWNlLndhdlxuICogLy8gICBkcnVtL1xuICogLy8gICAgIGtpY2subXAzXG4gKiAvLyAgICAga2ljay53YXZcbiAqIC8vIHRoZSBmaXJzdCBxdWVyeSB3aWxsIHJldHVybiB0aGUgZm9sbG93aW5nIHJlc3VsdDpcbiAqID4gWycvYXVkaW8vdm9pY2UubXAzJywgJ2F1ZGlvL3ZvaWNlLndhdiddXG4gKiAvLyB3aGlsZSB0aGUgc2Vjb25kIG9uZSB3aWxsIHJldHVybjpcbiAqID4gWycvYXVkaW8vdm9pY2Uud2F2JywgJ2F1ZGlvL2RydW0va2ljay53YXYnXVxuICpcbiAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5GaWxlU3lzdGVtfkxpc3RDb25maWd9XG4gKi9cbmNsYXNzIEZpbGVTeXN0ZW0gZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgLyoqIF88c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj4gVGhpcyBjbGFzcyBzaG91bGQgbmV2ZXIgYmUgaW5zdGFuY2lhdGVkIG1hbnVhbGx5XyAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0geyBsaXN0OiBudWxsIH07XG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAvLyBhcyBmaWxlIHN5c3RlbSBpcyBhc3luYyAoc2VydmVyIHNpZGUpLCBub3RoaW5nIGd1YXJhbnRlZXMgcmVzcG9uc2Ugb3JkZXJcbiAgICB0aGlzLl9yZXF1ZXN0SWQgPSAwO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMubGlzdCAhPT0gbnVsbClcbiAgICAgIHRoaXMuZ2V0TGlzdCh0aGlzLm9wdGlvbnMubGlzdCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5yZWFkeSgpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkZpbGVTeXN0ZW1+TGlzdENvbmZpZ1xuICAgKiBAcHJvcGVydHkge1N0cmluZ30gcGF0aCAtIE5hbWUgb2YgdGhlIGZvbGRlciB0byBzZWFyY2ggaW50by5cbiAgICogQHByb3BlcnR5IHtSZWdFeHB9IFttYXRjaD0nKiddIC0gUmVnRXhwIHVzZWQgdG8gZmlsdGVyIHRoZSByZXN1bHRzLlxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtyZWN1cnNpdmU9ZmFsc2VdIC0gRmxhZyB3aGV0aGVyIHRoZSBzZWFyY2ggc2hvdWxkIGJlXG4gICAqICByZWN1cnNpdmUuXG4gICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2RpcmVjdG9yaWVzPWZhbHNlXSAtIElmIHRydWUgb25seSByZXR1cm4gZGlyZWN0b3JpZXMsXG4gICAqICBmaWxlcyBvdGhlcndpc2UuXG4gICAqL1xuICAvKipcbiAgICogUmV0dXJuIGEgbGlzdCBvZiBmaWxlIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkZpbGVTeXN0ZW1+TGlzdENvbmZpZ3xBcnJheTxTdHJpbmc+fEFycmF5PG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5GaWxlU3lzdGVtfkxpc3RDb25maWc+fSBjb25maWcgLVxuICAgKiAgRGV0YWlscyBvZiB0aGUgcmVxdWVzdGVkIGxpc3QocykuIFRoZSByZXF1ZXN0ZWQgZmlsZXMgb3IgZGlyZWN0b3JpZXMgbXVzdFxuICAgKiAgYmUgcHVibGljbHkgYWNjZXNzaWJsZS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheT58UHJvbWlzZTxBcnJheTxBcnJheT4+fSAtIFByb21pc2UgcmVzb2x2aW5nIHdpdGggYW5cbiAgICogIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHVybHMgb2YgdGhlIGZpbGVzIG9yIGRpcmVjdG9yaWVzLlxuICAgKiAgSWYgYGNvbmZpZ2AgaXMgYW4gYXJyYXksIHRoZSByZXN1bHRzIHdpbGwgYmUgYW4gYXJyYXkgb2YgYXJyYXlzXG4gICAqICBjb250YWluaW5nIHRoZSByZXN1bHQgb2YgZWFjaCBkaWZmZXJlbnQgcmVxdWVzdC5cbiAgICpcbiAgICogQGV4YW1wbGU6XG4gICAqIC8vIDEuIFNpbmdsZSBsaXN0XG4gICAqIC8vIHJldHJpZXZlIGFsbCB0aGUgZmlsZSBpbiBhIGZvbGRlclxuICAgKiBmaWxlU3lzdGVtLmdldExpc3QoJ215LWRpcmVjdG9yeScpLnRoZW4oKGxpc3QpID0+IC4uLiApO1xuICAgKiAvLyBvciwgcmV0cmlldmUgYWxsIHRoZSBgLndhdmAgZmlsZXMgaW5zaWRlIGEgZ2l2ZW4gZm9sZGVyLFxuICAgKiAvL3NlYXJjaCByZWN1cnNpdmVseVxuICAgKiBmaWxlU3lzdGVtLmdldExpc3Qoe1xuICAgKiAgIHBhdGg6ICdteS1kaXJlY3RvcnknLFxuICAgKiAgIG1hdGNoOiAvXFwud2F2LyxcbiAgICogICByZWN1cnNpdmU6IHRydWUsXG4gICAqIH0pLnRoZW4oKGxpc3QpID0+IC4uLiApO1xuICAgKlxuICAgKiAvLyAyLiBNdWx0aXBsZSBSZXF1ZXN0c1xuICAgKiAvLyByZXRyaWV2ZSBhbGwgdGhlIGZpbGUgaW4gMiBkaWZmZXJlbnQgZm9sZGVycywgdGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmVcbiAgICogLy8gYW4gYXJyYXkgY29udGFpbmluZyB0aGUgMiBsaXN0c1xuICAgKiBmaWxlU3lzdGVtLmdldExpc3QoWydteS1kaXJlY3RvcnkxJywgJ215LWRpcmVjdG9yeTInXSlcbiAgICogICAudGhlbigobGlzdHMpID0+IC4uLiApO1xuICAgKiAvLyBvclxuICAgKiBmaWxlU3lzdGVtLmdldExpc3QoW3sgLi4uIH0sIHsgLi4uIH1dKVxuICAgKiAgIC50aGVuKChsaXN0cykgPT4gLi4uICk7XG4gICAqL1xuICBnZXRMaXN0KGNvbmZpZykge1xuICAgIC8vIHNlcmlhbGl6ZSB0aGUganNvbiBjb25maWcgdG8gcHJvcGVybHkgaGFuZGxlIFJlZ0V4cCwgYWRhcHRlZCBmcm9tOlxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTIwNzU5Mjcvc2VyaWFsaXphdGlvbi1vZi1yZWdleHAjYW5zd2VyLTMzNDE2Njg0XG4gICAgY29uc3QgX2NvbmZpZyA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICByZXR1cm4gYF9fUkVHRVhQICR7dmFsdWUudG9TdHJpbmcoKX1gO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG5cbiAgICBjb25zdCBrZXkgPSBpc1N0cmluZyhjb25maWcpID8gY29uZmlnIDogX2NvbmZpZztcblxuICAgIGlmICh0aGlzLl9jYWNoZVtrZXldKVxuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2tleV07XG5cbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSB0aGlzLl9yZXF1ZXN0SWQ7XG4gICAgICBjb25zdCBjaGFubmVsID0gYGxpc3Q6JHtpZH1gO1xuICAgICAgdGhpcy5fcmVxdWVzdElkICs9IDE7XG5cbiAgICAgIHRoaXMucmVjZWl2ZShjaGFubmVsLCAocmVzdWx0cykgPT4ge1xuICAgICAgICAvLyBAbm90ZSAtIHNvY2tldC5pbyByZW1vdmUgdGhlIGZpcnN0IGxpc3RlbmVyIGlmIG5vIGZ1bmMgYXJndW1lbnQgZ2l2ZW5cbiAgICAgICAgLy8gICAgICAgICBzaG91bGQgYmUgZG9uZSBwcm9wZXJseSAtPiB1cGRhdGUgc29ja2V0IGFuZCBBY3Rpdml0eVxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGNoYW5uZWwpO1xuICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGlzdCAhPT0gbnVsbCAmJiBjaGFubmVsID09PSAnbGlzdDowJylcbiAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gcmVzdWx0cztcbiAgICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZW5kKCdyZXF1ZXN0JywgaWQsIF9jb25maWcpO1xuXG4gICAgICB0aGlzLl9yZXF1ZXN0SWQgKz0gMTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhY2hlW2tleV0gPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIEZpbGVTeXN0ZW0pO1xuXG5leHBvcnQgZGVmYXVsdCBGaWxlU3lzdGVtO1xuIl19","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/json/stringify":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/json/stringify.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedRecorder.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedRecorder.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _wavesAudio = require('waves-audio');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:shared-recorder';\n\n// const filter = filename => true;\n\nvar SharedRecorder = function (_Service) {\n  (0, _inherits3.default)(SharedRecorder, _Service);\n\n  function SharedRecorder() {\n    (0, _classCallCheck3.default)(this, SharedRecorder);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SharedRecorder.__proto__ || (0, _getPrototypeOf2.default)(SharedRecorder)).call(this, SERVICE_ID));\n\n    var defaults = {\n      recorder: false\n    };\n\n    _this.configure(defaults);\n\n    _this._rawSocket = _this.require('raw-socket');\n    _this._audioBufferManager = _this.require('audio-buffer-manager');\n    _this._platfform = null;\n\n    _this._gain = 1;\n\n    _this._listeners = new _map2.default();\n    _this._streams = {};\n    _this._buffers = {};\n    _this._bufferNames = [];\n\n    _this._onAvailableFile = _this._onAvailableFile.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(SharedRecorder, [{\n    key: 'configure',\n    value: function configure(options) {\n      if (options.recorder === true) {\n        this._platfform = this.require('platform', {\n          features: ['audio-input', 'web-audio']\n        });\n      }\n\n      (0, _get3.default)(SharedRecorder.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedRecorder.prototype), 'configure', this).call(this, options);\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(SharedRecorder.prototype.__proto__ || (0, _getPrototypeOf2.default)(SharedRecorder.prototype), 'start', this).call(this);\n\n      this.receive('available-file', this._onAvailableFile);\n\n      // @todo - implement a handshake to notify the server about who\n      // is a consumer and who is a recorder.\n      this.ready();\n    }\n  }, {\n    key: 'setGain',\n    value: function setGain(value) {\n      this._gain = value;\n    }\n\n    /** Consumer interface */\n\n    /**\n     * Get notifications for new available files\n     *\n     * @param {String} name - Id of the buffer.\n     * @param {Number} phase - If ring buffer, phase of the buffer.\n     * @param {String} filename - Path of the file on the server.\n     */\n\n  }, {\n    key: '_onAvailableFile',\n    value: function _onAvailableFile(name, phase, filename) {\n      var _this2 = this;\n\n      var listener = this._listeners.get(name);\n\n      if (listener) {\n        var filter = listener.filter,\n            callback = listener.callback;\n\n\n        if (filter.length === 0 || filter.indexOf(phase) !== -1) {\n          var description = (0, _defineProperty3.default)({}, name, (0, _defineProperty3.default)({}, phase, filename));\n\n          this._audioBufferManager.loadFiles(description).then(function () {\n            var audioBuffer = _this2._audioBufferManager.get(name, phase);\n            callback(audioBuffer, phase);\n          }).catch(function (err) {\n            return console.error(err.stack);\n          });\n        }\n      }\n    }\n\n    /**\n     *\n     *\n     */\n\n  }, {\n    key: 'addListener',\n    value: function addListener(name, filter, callback) {\n      this._listeners.set(name, { filter: filter, callback: callback });\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(name) {\n      this._listeners.delete(name);\n    }\n\n    /** Recorder interface */\n\n  }, {\n    key: '_getIndex',\n    value: function _getIndex(name) {\n      var index = this._bufferNames.indexOf(name);\n\n      if (index === -1) {\n        index = this._bufferNames.length;\n        this._bufferNames[index] = name;\n      }\n\n      return index;\n    }\n\n    /**\n     * @param {String} name - Name of the record buffer.\n     * @param {Number} chunkDuration - Duration of each chunk in second.\n     * @param {Number} chunkPeriod - Period between each chunk.\n     * @param {Number} numChunks - Number of chunk in the recording.\n     * @param {Boolean} cyclic - Define if ring buffer or not.\n     */\n\n  }, {\n    key: 'createBuffer',\n    value: function createBuffer(name, chunkDuration, chunkPeriod, numChunks) {\n      var cyclic = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n      // client specific index of the given name\n      var index = this._getIndex(name);\n      var infos = { index: index, name: name, chunkDuration: chunkDuration, chunkPeriod: chunkPeriod, numChunks: numChunks, cyclic: cyclic };\n      var sampleRate = _wavesAudio.audioContext.sampleRate;\n      var length = void 0;\n\n      if (!cyclic) length = chunkPeriod * (numChunks - 1) + chunkDuration;else length = chunkPeriod * numChunks;\n\n      infos.length = length * sampleRate;\n      infos.sampleRate = sampleRate;\n\n      // keep a local copy of the informations\n      this._buffers[name] = infos;\n      this.send('create-buffer', infos);\n    }\n  }, {\n    key: 'startRecord',\n    value: function startRecord(name) {\n      var _this3 = this;\n\n      var infos = this._buffers[name];\n      var stream = this._streams[name];\n\n      if (!infos) throw new Error('Cannot start non existing buffer: \"' + name + '\"');else if (stream) this._disconnectGraph(name);\n\n      var index = infos.index;\n\n      // if not cyclic to be able to stop the record\n      if (infos.cyclic === false) infos.pointer = 0;\n\n      // send start message (reinit buffer pointer)\n      var msg = new Uint8Array(1);\n      msg[0] = index;\n      this._rawSocket.send('shared-recorder:start-record', msg);\n\n      // start recording\n      var bufferSize = 4096;\n      var buffer = new Float32Array(bufferSize + 1);\n      buffer[0] = index;\n\n      navigator.getUserMedia({ audio: true }, function (stream) {\n        var scriptProcessor = _wavesAudio.audioContext.createScriptProcessor(bufferSize, 1, 1);\n        scriptProcessor.connect(_wavesAudio.audioContext.destination);\n        scriptProcessor.onaudioprocess = function (e) {\n          var data = e.inputBuffer.getChannelData(0);\n\n          if (_this3._gain !== 1) {\n            var gain = _this3._gain;\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n              data[i] *= gain;\n            }\n          }\n\n          buffer.set(data, 1);\n          _this3._rawSocket.send('shared-recorder:new-block', buffer);\n\n          // maintain a local pointer to trigger `stopRecord` at the end of the buffer\n          if (infos.cyclic === false) {\n            infos.pointer += bufferSize;\n\n            if (infos.pointer >= infos.length) _this3._disconnectGraph(infos.name);\n          }\n        };\n\n        var audioIn = _wavesAudio.audioContext.createMediaStreamSource(stream);\n        audioIn.connect(scriptProcessor);\n\n        _this3._streams[name] = { stream: stream, audioIn: audioIn, scriptProcessor: scriptProcessor };\n      }, function (err) {\n        console.error(err.stack);\n      });\n    }\n\n    /**\n     * @param {String} name - Name of the buffer.\n     */\n\n  }, {\n    key: 'stopRecord',\n    value: function stopRecord(name) {\n      if (!this._streams[name]) return;\n\n      // send stop message\n      var index = this._getIndex(name);\n      var msg = new Uint8Array(1);\n      msg[0] = index;\n      this._rawSocket.send('shared-recorder:stop-record', msg);\n\n      this._disconnectGraph(name);\n    }\n  }, {\n    key: '_disconnectGraph',\n    value: function _disconnectGraph(name) {\n      var _streams$name = this._streams[name],\n          stream = _streams$name.stream,\n          audioIn = _streams$name.audioIn,\n          scriptProcessor = _streams$name.scriptProcessor;\n\n      scriptProcessor.disconnect();\n      audioIn.disconnect();\n\n      stream.getTracks()[0].stop();\n      delete this._streams[name];\n    }\n  }]);\n  return SharedRecorder;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, SharedRecorder);\n\nexports.default = SharedRecorder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNoYXJlZFJlY29yZGVyLmpzIl0sIm5hbWVzIjpbIlNFUlZJQ0VfSUQiLCJTaGFyZWRSZWNvcmRlciIsImRlZmF1bHRzIiwicmVjb3JkZXIiLCJjb25maWd1cmUiLCJfcmF3U29ja2V0IiwicmVxdWlyZSIsIl9hdWRpb0J1ZmZlck1hbmFnZXIiLCJfcGxhdGZmb3JtIiwiX2dhaW4iLCJfbGlzdGVuZXJzIiwiX3N0cmVhbXMiLCJfYnVmZmVycyIsIl9idWZmZXJOYW1lcyIsIl9vbkF2YWlsYWJsZUZpbGUiLCJiaW5kIiwib3B0aW9ucyIsImZlYXR1cmVzIiwicmVjZWl2ZSIsInJlYWR5IiwidmFsdWUiLCJuYW1lIiwicGhhc2UiLCJmaWxlbmFtZSIsImxpc3RlbmVyIiwiZ2V0IiwiZmlsdGVyIiwiY2FsbGJhY2siLCJsZW5ndGgiLCJpbmRleE9mIiwiZGVzY3JpcHRpb24iLCJsb2FkRmlsZXMiLCJ0aGVuIiwiYXVkaW9CdWZmZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInN0YWNrIiwic2V0IiwiZGVsZXRlIiwiaW5kZXgiLCJjaHVua0R1cmF0aW9uIiwiY2h1bmtQZXJpb2QiLCJudW1DaHVua3MiLCJjeWNsaWMiLCJfZ2V0SW5kZXgiLCJpbmZvcyIsInNhbXBsZVJhdGUiLCJhdWRpb0NvbnRleHQiLCJzZW5kIiwic3RyZWFtIiwiRXJyb3IiLCJfZGlzY29ubmVjdEdyYXBoIiwicG9pbnRlciIsIm1zZyIsIlVpbnQ4QXJyYXkiLCJidWZmZXJTaXplIiwiYnVmZmVyIiwiRmxvYXQzMkFycmF5IiwibmF2aWdhdG9yIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJzY3JpcHRQcm9jZXNzb3IiLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJvbmF1ZGlvcHJvY2VzcyIsImUiLCJkYXRhIiwiaW5wdXRCdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsImdhaW4iLCJpIiwiYXVkaW9JbiIsImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlIiwiZGlzY29ubmVjdCIsImdldFRyYWNrcyIsInN0b3AiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxhQUFhLHlCQUFuQjs7QUFFQTs7SUFFTUMsYzs7O0FBQ0osNEJBQWM7QUFBQTs7QUFBQSxzSkFDTkQsVUFETTs7QUFHWixRQUFNRSxXQUFXO0FBQ2ZDLGdCQUFVO0FBREssS0FBakI7O0FBSUEsVUFBS0MsU0FBTCxDQUFlRixRQUFmOztBQUVBLFVBQUtHLFVBQUwsR0FBa0IsTUFBS0MsT0FBTCxDQUFhLFlBQWIsQ0FBbEI7QUFDQSxVQUFLQyxtQkFBTCxHQUEyQixNQUFLRCxPQUFMLENBQWEsc0JBQWIsQ0FBM0I7QUFDQSxVQUFLRSxVQUFMLEdBQWtCLElBQWxCOztBQUVBLFVBQUtDLEtBQUwsR0FBYSxDQUFiOztBQUVBLFVBQUtDLFVBQUwsR0FBa0IsbUJBQWxCO0FBQ0EsVUFBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFVBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxVQUFLQyxZQUFMLEdBQW9CLEVBQXBCOztBQUVBLFVBQUtDLGdCQUFMLEdBQXdCLE1BQUtBLGdCQUFMLENBQXNCQyxJQUF0QixPQUF4QjtBQXBCWTtBQXFCYjs7Ozs4QkFFU0MsTyxFQUFTO0FBQ2pCLFVBQUlBLFFBQVFiLFFBQVIsS0FBcUIsSUFBekIsRUFBK0I7QUFDN0IsYUFBS0ssVUFBTCxHQUFrQixLQUFLRixPQUFMLENBQWEsVUFBYixFQUF5QjtBQUN6Q1csb0JBQVUsQ0FBQyxhQUFELEVBQWdCLFdBQWhCO0FBRCtCLFNBQXpCLENBQWxCO0FBR0Q7O0FBRUQsc0pBQWdCRCxPQUFoQjtBQUNEOzs7NEJBRU87QUFDTjs7QUFFQSxXQUFLRSxPQUFMLENBQWEsZ0JBQWIsRUFBK0IsS0FBS0osZ0JBQXBDOztBQUVBO0FBQ0E7QUFDQSxXQUFLSyxLQUFMO0FBQ0Q7Ozs0QkFFT0MsSyxFQUFPO0FBQ2IsV0FBS1gsS0FBTCxHQUFhVyxLQUFiO0FBQ0Q7O0FBRUQ7O0FBRUE7Ozs7Ozs7Ozs7cUNBT2lCQyxJLEVBQU1DLEssRUFBT0MsUSxFQUFVO0FBQUE7O0FBQ3RDLFVBQU1DLFdBQVcsS0FBS2QsVUFBTCxDQUFnQmUsR0FBaEIsQ0FBb0JKLElBQXBCLENBQWpCOztBQUVBLFVBQUlHLFFBQUosRUFBYztBQUFBLFlBQ0pFLE1BREksR0FDaUJGLFFBRGpCLENBQ0pFLE1BREk7QUFBQSxZQUNJQyxRQURKLEdBQ2lCSCxRQURqQixDQUNJRyxRQURKOzs7QUFHWixZQUFJRCxPQUFPRSxNQUFQLEtBQWtCLENBQWxCLElBQXVCRixPQUFPRyxPQUFQLENBQWVQLEtBQWYsTUFBMEIsQ0FBQyxDQUF0RCxFQUF5RDtBQUN2RCxjQUFNUSxnREFBaUJULElBQWpCLG9DQUEyQkMsS0FBM0IsRUFBbUNDLFFBQW5DLEVBQU47O0FBRUEsZUFBS2hCLG1CQUFMLENBQ0d3QixTQURILENBQ2FELFdBRGIsRUFFR0UsSUFGSCxDQUVRLFlBQU07QUFDVixnQkFBTUMsY0FBYyxPQUFLMUIsbUJBQUwsQ0FBeUJrQixHQUF6QixDQUE2QkosSUFBN0IsRUFBbUNDLEtBQW5DLENBQXBCO0FBQ0FLLHFCQUFTTSxXQUFULEVBQXNCWCxLQUF0QjtBQUNELFdBTEgsRUFNR1ksS0FOSCxDQU1TLFVBQUNDLEdBQUQ7QUFBQSxtQkFBU0MsUUFBUUMsS0FBUixDQUFjRixJQUFJRyxLQUFsQixDQUFUO0FBQUEsV0FOVDtBQU9EO0FBQ0Y7QUFDRjs7QUFFRDs7Ozs7OztnQ0FJWWpCLEksRUFBTUssTSxFQUFRQyxRLEVBQVU7QUFDbEMsV0FBS2pCLFVBQUwsQ0FBZ0I2QixHQUFoQixDQUFvQmxCLElBQXBCLEVBQTBCLEVBQUVLLGNBQUYsRUFBVUMsa0JBQVYsRUFBMUI7QUFDRDs7O21DQUVjTixJLEVBQU07QUFDbkIsV0FBS1gsVUFBTCxDQUFnQjhCLE1BQWhCLENBQXVCbkIsSUFBdkI7QUFDRDs7QUFHRDs7Ozs4QkFFVUEsSSxFQUFNO0FBQ2QsVUFBSW9CLFFBQVEsS0FBSzVCLFlBQUwsQ0FBa0JnQixPQUFsQixDQUEwQlIsSUFBMUIsQ0FBWjs7QUFFQSxVQUFJb0IsVUFBVSxDQUFDLENBQWYsRUFBa0I7QUFDaEJBLGdCQUFRLEtBQUs1QixZQUFMLENBQWtCZSxNQUExQjtBQUNBLGFBQUtmLFlBQUwsQ0FBa0I0QixLQUFsQixJQUEyQnBCLElBQTNCO0FBQ0Q7O0FBRUQsYUFBT29CLEtBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OztpQ0FPYXBCLEksRUFBTXFCLGEsRUFBZUMsVyxFQUFhQyxTLEVBQTBCO0FBQUEsVUFBZkMsTUFBZSx1RUFBTixJQUFNOztBQUN2RTtBQUNBLFVBQU1KLFFBQVEsS0FBS0ssU0FBTCxDQUFlekIsSUFBZixDQUFkO0FBQ0EsVUFBTTBCLFFBQVEsRUFBRU4sWUFBRixFQUFTcEIsVUFBVCxFQUFlcUIsNEJBQWYsRUFBOEJDLHdCQUE5QixFQUEyQ0Msb0JBQTNDLEVBQXNEQyxjQUF0RCxFQUFkO0FBQ0EsVUFBTUcsYUFBYUMseUJBQWFELFVBQWhDO0FBQ0EsVUFBSXBCLGVBQUo7O0FBRUEsVUFBSSxDQUFDaUIsTUFBTCxFQUNFakIsU0FBU2UsZUFBZUMsWUFBWSxDQUEzQixJQUFnQ0YsYUFBekMsQ0FERixLQUdFZCxTQUFTZSxjQUFjQyxTQUF2Qjs7QUFFRkcsWUFBTW5CLE1BQU4sR0FBZUEsU0FBU29CLFVBQXhCO0FBQ0FELFlBQU1DLFVBQU4sR0FBbUJBLFVBQW5COztBQUVBO0FBQ0EsV0FBS3BDLFFBQUwsQ0FBY1MsSUFBZCxJQUFzQjBCLEtBQXRCO0FBQ0EsV0FBS0csSUFBTCxDQUFVLGVBQVYsRUFBMkJILEtBQTNCO0FBQ0Q7OztnQ0FFVzFCLEksRUFBTTtBQUFBOztBQUNoQixVQUFNMEIsUUFBUSxLQUFLbkMsUUFBTCxDQUFjUyxJQUFkLENBQWQ7QUFDQSxVQUFNOEIsU0FBUyxLQUFLeEMsUUFBTCxDQUFjVSxJQUFkLENBQWY7O0FBRUEsVUFBSSxDQUFDMEIsS0FBTCxFQUNFLE1BQU0sSUFBSUssS0FBSix5Q0FBZ0QvQixJQUFoRCxPQUFOLENBREYsS0FFSyxJQUFJOEIsTUFBSixFQUNILEtBQUtFLGdCQUFMLENBQXNCaEMsSUFBdEI7O0FBRUYsVUFBTW9CLFFBQVFNLE1BQU1OLEtBQXBCOztBQUVBO0FBQ0EsVUFBSU0sTUFBTUYsTUFBTixLQUFpQixLQUFyQixFQUNFRSxNQUFNTyxPQUFOLEdBQWdCLENBQWhCOztBQUVGO0FBQ0EsVUFBTUMsTUFBTSxJQUFJQyxVQUFKLENBQWUsQ0FBZixDQUFaO0FBQ0FELFVBQUksQ0FBSixJQUFTZCxLQUFUO0FBQ0EsV0FBS3BDLFVBQUwsQ0FBZ0I2QyxJQUFoQixDQUFxQiw4QkFBckIsRUFBcURLLEdBQXJEOztBQUVBO0FBQ0EsVUFBTUUsYUFBYSxJQUFuQjtBQUNBLFVBQU1DLFNBQVMsSUFBSUMsWUFBSixDQUFpQkYsYUFBYSxDQUE5QixDQUFmO0FBQ0FDLGFBQU8sQ0FBUCxJQUFZakIsS0FBWjs7QUFFQW1CLGdCQUFVQyxZQUFWLENBQXVCLEVBQUVDLE9BQU8sSUFBVCxFQUF2QixFQUF3QyxVQUFDWCxNQUFELEVBQVk7QUFDbEQsWUFBTVksa0JBQWtCZCx5QkFBYWUscUJBQWIsQ0FBbUNQLFVBQW5DLEVBQStDLENBQS9DLEVBQWtELENBQWxELENBQXhCO0FBQ0FNLHdCQUFnQkUsT0FBaEIsQ0FBd0JoQix5QkFBYWlCLFdBQXJDO0FBQ0FILHdCQUFnQkksY0FBaEIsR0FBaUMsVUFBQ0MsQ0FBRCxFQUFPO0FBQ3RDLGNBQU1DLE9BQU9ELEVBQUVFLFdBQUYsQ0FBY0MsY0FBZCxDQUE2QixDQUE3QixDQUFiOztBQUVBLGNBQUksT0FBSzlELEtBQUwsS0FBZSxDQUFuQixFQUFzQjtBQUNwQixnQkFBTStELE9BQU8sT0FBSy9ELEtBQWxCO0FBQ0EsZ0JBQU1tQixTQUFTeUMsS0FBS3pDLE1BQXBCOztBQUVBLGlCQUFLLElBQUk2QyxJQUFJLENBQWIsRUFBZ0JBLElBQUk3QyxNQUFwQixFQUE0QjZDLEdBQTVCO0FBQ0VKLG1CQUFLSSxDQUFMLEtBQVdELElBQVg7QUFERjtBQUVEOztBQUVEZCxpQkFBT25CLEdBQVAsQ0FBVzhCLElBQVgsRUFBaUIsQ0FBakI7QUFDQSxpQkFBS2hFLFVBQUwsQ0FBZ0I2QyxJQUFoQixDQUFxQiwyQkFBckIsRUFBa0RRLE1BQWxEOztBQUVBO0FBQ0EsY0FBSVgsTUFBTUYsTUFBTixLQUFpQixLQUFyQixFQUE0QjtBQUMxQkUsa0JBQU1PLE9BQU4sSUFBaUJHLFVBQWpCOztBQUVBLGdCQUFJVixNQUFNTyxPQUFOLElBQWlCUCxNQUFNbkIsTUFBM0IsRUFDRSxPQUFLeUIsZ0JBQUwsQ0FBc0JOLE1BQU0xQixJQUE1QjtBQUNIO0FBQ0YsU0FyQkQ7O0FBdUJBLFlBQU1xRCxVQUFVekIseUJBQWEwQix1QkFBYixDQUFxQ3hCLE1BQXJDLENBQWhCO0FBQ0F1QixnQkFBUVQsT0FBUixDQUFnQkYsZUFBaEI7O0FBRUEsZUFBS3BELFFBQUwsQ0FBY1UsSUFBZCxJQUFzQixFQUFFOEIsY0FBRixFQUFVdUIsZ0JBQVYsRUFBbUJYLGdDQUFuQixFQUF0QjtBQUNELE9BOUJELEVBOEJHLFVBQVM1QixHQUFULEVBQWM7QUFBRUMsZ0JBQVFDLEtBQVIsQ0FBY0YsSUFBSUcsS0FBbEI7QUFBMkIsT0E5QjlDO0FBK0JEOztBQUVEOzs7Ozs7K0JBR1dqQixJLEVBQU07QUFDZixVQUFJLENBQUMsS0FBS1YsUUFBTCxDQUFjVSxJQUFkLENBQUwsRUFBMEI7O0FBRTFCO0FBQ0EsVUFBTW9CLFFBQVEsS0FBS0ssU0FBTCxDQUFlekIsSUFBZixDQUFkO0FBQ0EsVUFBTWtDLE1BQU0sSUFBSUMsVUFBSixDQUFlLENBQWYsQ0FBWjtBQUNBRCxVQUFJLENBQUosSUFBU2QsS0FBVDtBQUNBLFdBQUtwQyxVQUFMLENBQWdCNkMsSUFBaEIsQ0FBcUIsNkJBQXJCLEVBQW9ESyxHQUFwRDs7QUFFQSxXQUFLRixnQkFBTCxDQUFzQmhDLElBQXRCO0FBQ0Q7OztxQ0FFZ0JBLEksRUFBTTtBQUFBLDBCQUN3QixLQUFLVixRQUFMLENBQWNVLElBQWQsQ0FEeEI7QUFBQSxVQUNiOEIsTUFEYSxpQkFDYkEsTUFEYTtBQUFBLFVBQ0x1QixPQURLLGlCQUNMQSxPQURLO0FBQUEsVUFDSVgsZUFESixpQkFDSUEsZUFESjs7QUFFckJBLHNCQUFnQmEsVUFBaEI7QUFDQUYsY0FBUUUsVUFBUjs7QUFFQXpCLGFBQU8wQixTQUFQLEdBQW1CLENBQW5CLEVBQXNCQyxJQUF0QjtBQUNBLGFBQU8sS0FBS25FLFFBQUwsQ0FBY1UsSUFBZCxDQUFQO0FBQ0Q7OztFQWxOMEIwRCxpQjs7QUFxTjdCQyx5QkFBZUMsUUFBZixDQUF3QmpGLFVBQXhCLEVBQW9DQyxjQUFwQzs7a0JBRWVBLGMiLCJmaWxlIjoiU2hhcmVkUmVjb3JkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuaW1wb3J0IHsgYXVkaW9Db250ZXh0IH0gZnJvbSAnd2F2ZXMtYXVkaW8nO1xuXG5jb25zdCBTRVJWSUNFX0lEID0gJ3NlcnZpY2U6c2hhcmVkLXJlY29yZGVyJztcblxuLy8gY29uc3QgZmlsdGVyID0gZmlsZW5hbWUgPT4gdHJ1ZTtcblxuY2xhc3MgU2hhcmVkUmVjb3JkZXIgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIHJlY29yZGVyOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgdGhpcy5fcmF3U29ja2V0ID0gdGhpcy5yZXF1aXJlKCdyYXctc29ja2V0Jyk7XG4gICAgdGhpcy5fYXVkaW9CdWZmZXJNYW5hZ2VyID0gdGhpcy5yZXF1aXJlKCdhdWRpby1idWZmZXItbWFuYWdlcicpO1xuICAgIHRoaXMuX3BsYXRmZm9ybSA9IG51bGw7XG5cbiAgICB0aGlzLl9nYWluID0gMTtcblxuICAgIHRoaXMuX2xpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9zdHJlYW1zID0ge307XG4gICAgdGhpcy5fYnVmZmVycyA9IHt9O1xuICAgIHRoaXMuX2J1ZmZlck5hbWVzID0gW107XG5cbiAgICB0aGlzLl9vbkF2YWlsYWJsZUZpbGUgPSB0aGlzLl9vbkF2YWlsYWJsZUZpbGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMucmVjb3JkZXIgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3BsYXRmZm9ybSA9IHRoaXMucmVxdWlyZSgncGxhdGZvcm0nLCB7XG4gICAgICAgIGZlYXR1cmVzOiBbJ2F1ZGlvLWlucHV0JywgJ3dlYi1hdWRpbyddLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3VwZXIuY29uZmlndXJlKG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMucmVjZWl2ZSgnYXZhaWxhYmxlLWZpbGUnLCB0aGlzLl9vbkF2YWlsYWJsZUZpbGUpO1xuXG4gICAgLy8gQHRvZG8gLSBpbXBsZW1lbnQgYSBoYW5kc2hha2UgdG8gbm90aWZ5IHRoZSBzZXJ2ZXIgYWJvdXQgd2hvXG4gICAgLy8gaXMgYSBjb25zdW1lciBhbmQgd2hvIGlzIGEgcmVjb3JkZXIuXG4gICAgdGhpcy5yZWFkeSgpO1xuICB9XG5cbiAgc2V0R2Fpbih2YWx1ZSkge1xuICAgIHRoaXMuX2dhaW4gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKiBDb25zdW1lciBpbnRlcmZhY2UgKi9cblxuICAvKipcbiAgICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIG5ldyBhdmFpbGFibGUgZmlsZXNcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBJZCBvZiB0aGUgYnVmZmVyLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcGhhc2UgLSBJZiByaW5nIGJ1ZmZlciwgcGhhc2Ugb2YgdGhlIGJ1ZmZlci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gUGF0aCBvZiB0aGUgZmlsZSBvbiB0aGUgc2VydmVyLlxuICAgKi9cbiAgX29uQXZhaWxhYmxlRmlsZShuYW1lLCBwaGFzZSwgZmlsZW5hbWUpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IHRoaXMuX2xpc3RlbmVycy5nZXQobmFtZSk7XG5cbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGNvbnN0IHsgZmlsdGVyLCBjYWxsYmFjayB9ID0gbGlzdGVuZXI7XG5cbiAgICAgIGlmIChmaWx0ZXIubGVuZ3RoID09PSAwIHx8wqBmaWx0ZXIuaW5kZXhPZihwaGFzZSkgIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0geyBbbmFtZV06IHsgW3BoYXNlXTogZmlsZW5hbWUgfSB9O1xuXG4gICAgICAgIHRoaXMuX2F1ZGlvQnVmZmVyTWFuYWdlclxuICAgICAgICAgIC5sb2FkRmlsZXMoZGVzY3JpcHRpb24pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSB0aGlzLl9hdWRpb0J1ZmZlck1hbmFnZXIuZ2V0KG5hbWUsIHBoYXNlKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGF1ZGlvQnVmZmVyLCBwaGFzZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIuc3RhY2spKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICpcbiAgICovXG4gIGFkZExpc3RlbmVyKG5hbWUsIGZpbHRlciwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KG5hbWUsIHsgZmlsdGVyLCBjYWxsYmFjayB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpc3RlbmVyKG5hbWUpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKG5hbWUpO1xuICB9XG5cblxuICAvKiogUmVjb3JkZXIgaW50ZXJmYWNlICovXG5cbiAgX2dldEluZGV4KG5hbWUpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLl9idWZmZXJOYW1lcy5pbmRleE9mKG5hbWUpO1xuXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgaW5kZXggPSB0aGlzLl9idWZmZXJOYW1lcy5sZW5ndGg7XG4gICAgICB0aGlzLl9idWZmZXJOYW1lc1tpbmRleF0gPSBuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIHJlY29yZCBidWZmZXIuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaHVua0R1cmF0aW9uIC0gRHVyYXRpb24gb2YgZWFjaCBjaHVuayBpbiBzZWNvbmQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaHVua1BlcmlvZCAtIFBlcmlvZCBiZXR3ZWVuIGVhY2ggY2h1bmsuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBudW1DaHVua3MgLSBOdW1iZXIgb2YgY2h1bmsgaW4gdGhlIHJlY29yZGluZy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBjeWNsaWMgLSBEZWZpbmUgaWYgcmluZyBidWZmZXIgb3Igbm90LlxuICAgKi9cbiAgY3JlYXRlQnVmZmVyKG5hbWUsIGNodW5rRHVyYXRpb24sIGNodW5rUGVyaW9kLCBudW1DaHVua3MsIGN5Y2xpYyA9IHRydWUpIHtcbiAgICAvLyBjbGllbnQgc3BlY2lmaWMgaW5kZXggb2YgdGhlIGdpdmVuIG5hbWVcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2dldEluZGV4KG5hbWUpO1xuICAgIGNvbnN0IGluZm9zID0geyBpbmRleCwgbmFtZSwgY2h1bmtEdXJhdGlvbiwgY2h1bmtQZXJpb2QsIG51bUNodW5rcywgY3ljbGljIH07XG4gICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlO1xuICAgIGxldCBsZW5ndGg7XG5cbiAgICBpZiAoIWN5Y2xpYylcbiAgICAgIGxlbmd0aCA9IGNodW5rUGVyaW9kICogKG51bUNodW5rcyAtIDEpICsgY2h1bmtEdXJhdGlvbjtcbiAgICBlbHNlXG4gICAgICBsZW5ndGggPSBjaHVua1BlcmlvZCAqIG51bUNodW5rcztcblxuICAgIGluZm9zLmxlbmd0aCA9IGxlbmd0aCAqIHNhbXBsZVJhdGU7XG4gICAgaW5mb3Muc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG5cbiAgICAvLyBrZWVwIGEgbG9jYWwgY29weSBvZiB0aGUgaW5mb3JtYXRpb25zXG4gICAgdGhpcy5fYnVmZmVyc1tuYW1lXSA9IGluZm9zO1xuICAgIHRoaXMuc2VuZCgnY3JlYXRlLWJ1ZmZlcicsIGluZm9zKTtcbiAgfVxuXG4gIHN0YXJ0UmVjb3JkKG5hbWUpIHtcbiAgICBjb25zdCBpbmZvcyA9IHRoaXMuX2J1ZmZlcnNbbmFtZV07XG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fc3RyZWFtc1tuYW1lXTtcblxuICAgIGlmICghaW5mb3MpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzdGFydCBub24gZXhpc3RpbmcgYnVmZmVyOiBcIiR7bmFtZX1cImApO1xuICAgIGVsc2UgaWYgKHN0cmVhbSlcbiAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RHcmFwaChuYW1lKTtcblxuICAgIGNvbnN0IGluZGV4ID0gaW5mb3MuaW5kZXg7XG5cbiAgICAvLyBpZiBub3QgY3ljbGljIHRvIGJlIGFibGUgdG8gc3RvcCB0aGUgcmVjb3JkXG4gICAgaWYgKGluZm9zLmN5Y2xpYyA9PT0gZmFsc2UpXG4gICAgICBpbmZvcy5wb2ludGVyID0gMDtcblxuICAgIC8vIHNlbmQgc3RhcnQgbWVzc2FnZSAocmVpbml0IGJ1ZmZlciBwb2ludGVyKVxuICAgIGNvbnN0IG1zZyA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgIG1zZ1swXSA9IGluZGV4O1xuICAgIHRoaXMuX3Jhd1NvY2tldC5zZW5kKCdzaGFyZWQtcmVjb3JkZXI6c3RhcnQtcmVjb3JkJywgbXNnKTtcblxuICAgIC8vIHN0YXJ0IHJlY29yZGluZ1xuICAgIGNvbnN0IGJ1ZmZlclNpemUgPSA0MDk2O1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSArIDEpO1xuICAgIGJ1ZmZlclswXSA9IGluZGV4O1xuXG4gICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0sIChzdHJlYW0pID0+IHtcbiAgICAgIGNvbnN0IHNjcmlwdFByb2Nlc3NvciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoYnVmZmVyU2l6ZSwgMSwgMSk7XG4gICAgICBzY3JpcHRQcm9jZXNzb3IuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgc2NyaXB0UHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gKGUpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2dhaW4gIT09IDEpIHtcbiAgICAgICAgICBjb25zdCBnYWluID0gdGhpcy5fZ2FpbjtcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBkYXRhW2ldICo9IGdhaW47XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIuc2V0KGRhdGEsIDEpO1xuICAgICAgICB0aGlzLl9yYXdTb2NrZXQuc2VuZCgnc2hhcmVkLXJlY29yZGVyOm5ldy1ibG9jaycsIGJ1ZmZlcik7XG5cbiAgICAgICAgLy8gbWFpbnRhaW4gYSBsb2NhbCBwb2ludGVyIHRvIHRyaWdnZXIgYHN0b3BSZWNvcmRgIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICAgICAgICBpZiAoaW5mb3MuY3ljbGljID09PSBmYWxzZSkge1xuICAgICAgICAgIGluZm9zLnBvaW50ZXIgKz0gYnVmZmVyU2l6ZTtcblxuICAgICAgICAgIGlmIChpbmZvcy5wb2ludGVyID49IGluZm9zLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RHcmFwaChpbmZvcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhdWRpb0luID0gYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSk7XG4gICAgICBhdWRpb0luLmNvbm5lY3Qoc2NyaXB0UHJvY2Vzc29yKTtcblxuICAgICAgdGhpcy5fc3RyZWFtc1tuYW1lXSA9IHsgc3RyZWFtLCBhdWRpb0luLCBzY3JpcHRQcm9jZXNzb3IgfTtcbiAgICB9LCBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIuc3RhY2spOyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIGJ1ZmZlci5cbiAgICovXG4gIHN0b3BSZWNvcmQobmFtZSkge1xuICAgIGlmICghdGhpcy5fc3RyZWFtc1tuYW1lXSkgcmV0dXJuO1xuXG4gICAgLy8gc2VuZCBzdG9wIG1lc3NhZ2VcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2dldEluZGV4KG5hbWUpO1xuICAgIGNvbnN0IG1zZyA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgIG1zZ1swXSA9IGluZGV4O1xuICAgIHRoaXMuX3Jhd1NvY2tldC5zZW5kKCdzaGFyZWQtcmVjb3JkZXI6c3RvcC1yZWNvcmQnLCBtc2cpO1xuXG4gICAgdGhpcy5fZGlzY29ubmVjdEdyYXBoKG5hbWUpO1xuICB9XG5cbiAgX2Rpc2Nvbm5lY3RHcmFwaChuYW1lKSB7XG4gICAgY29uc3QgeyBzdHJlYW0sIGF1ZGlvSW4sIHNjcmlwdFByb2Nlc3NvciB9ID0gdGhpcy5fc3RyZWFtc1tuYW1lXTtcbiAgICBzY3JpcHRQcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICAgIGF1ZGlvSW4uZGlzY29ubmVjdCgpO1xuXG4gICAgc3RyZWFtLmdldFRyYWNrcygpWzBdLnN0b3AoKTtcbiAgICBkZWxldGUgdGhpcy5fc3RyZWFtc1tuYW1lXTtcbiAgfVxufVxuXG5zZXJ2aWNlTWFuYWdlci5yZWdpc3RlcihTRVJWSUNFX0lELCBTaGFyZWRSZWNvcmRlcik7XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZFJlY29yZGVyO1xuIl19","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/helpers/defineProperty":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js","babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioStreamManager.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioStreamManager.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _wavesAudio = require('waves-audio');\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:audio-stream-manager';\nvar log = (0, _debug2.default)('soundworks:services:audio-stream-manager');\n\n// TODO:\n// - support streaming of files of total duration shorter than packet duration\n\nfunction loadAudioBuffer(url) {\n  var promise = new _promise2.default(function (resolve, reject) {\n    var request = new XMLHttpRequest();\n    request.open('GET', url, true);\n    request.responseType = 'arraybuffer';\n\n    request.onload = function () {\n      var response = request.response;\n      _wavesAudio.audioContext.decodeAudioData(response, resolve, reject);\n    };\n\n    request.send();\n  });\n\n  return promise;\n}\n\n/**\n * Interface for the client `'audio-stream-manager'` service.\n *\n * @warning - unstable\n *\n * This service allows to stream audio buffers to the client during the experience\n * (not preloaded). Input audio files are segmented by the server upon startup\n * and sent to the clients upon request. Service only accepts .wav files at the\n * moment. The service main objective is to 1) enable synced streaming between\n * clients (not precise if based on mediaElementSources), and 2) provide an\n * equivalent to the mediaElementSource object (streaming as a Web Audio API\n * node) that could be plugged to any other node in Safari (bypassing e.g. gain\n * or analyzer nodes when plugged to mediaElementSource).\n *\n * __*The service must be used with its [server-side counterpart]{@link module:soundworks/server.AudioStreamManager}*__\n *\n * @param {Object} options\n * @param {Number} options.monitorInterval - Interval time (in sec) at which the\n *  client will check if it has enough preloaded audio data to ensure streaming\n *  or if it needs to require some more.\n * @param {Number} options.requiredAdvanceThreshold - Threshold time (in sec) of\n *  preloaded audio data below which the client will require a new audio chunk.\n *\n * @memberof module:soundworks/client\n * @example\n * // require the `audio-stream-manager` (in experience constructor)\n * this.audioStreamManager = this.require('audio-stream-manager', {\n *   monitorInterval: 1,\n *   requiredAdvanceThreshold: 10\n * });\n *\n * // request new audio stream from the stream manager (in experience start method)\n * const audioStream = this.audioStreamManager.getAudioStream();\n * // setup and start audio stream\n * audioStream.url = 'my-audio-file-name'; // without extension\n * // connect as you would any audio node from the web audio api\n * audioStream.connect(audioContext.destination);\n * audioStream.loop = false; // disable loop\n * audioStream.sync = false; // disable synchronization\n * // mimics AudioBufferSourceNode onended method\n * audioStream.onended = function(){ console.log('stream ended'); };\n * audioStream.start(); // start audio stream\n */\n\nvar AudioStreamManager = function (_Service) {\n  (0, _inherits3.default)(AudioStreamManager, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instantiated manually_ */\n  function AudioStreamManager() {\n    (0, _classCallCheck3.default)(this, AudioStreamManager);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AudioStreamManager.__proto__ || (0, _getPrototypeOf2.default)(AudioStreamManager)).call(this, SERVICE_ID, false));\n\n    console.error('[deprecated] AudioStreamManager unstable API is now deprecated - API will change in soundworks#v3.0.0, please consider updating your application');\n\n    _this.bufferInfos = new _map2.default();\n    // define general offset in sync loop (in sec) (not propagated to\n    // already created audio streams when modified)\n    _this.syncStartTime = 0;\n\n    // configure options\n    var defaults = {\n      monitorInterval: 1, // in seconds\n      requiredAdvanceThreshold: 10, // in seconds\n      assetsDomain: null\n    };\n\n    _this.configure(defaults);\n\n    _this.syncService = _this.require('sync');\n\n    _this._onAcknowledgeResponse = _this._onAcknowledgeResponse.bind(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(AudioStreamManager, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(AudioStreamManager.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioStreamManager.prototype), 'start', this).call(this);\n      // send request for infos on \"streamable\" audio files\n      this.receive('acknowlegde', this._onAcknowledgeResponse);\n      this.receive('syncStartTime', function (value) {\n        return _this2.syncStartTime = value;\n      });\n      this.send('request');\n\n      // @todo - should receive a sync start time from server\n    }\n\n    /**\n     * @private\n     * @param {Object} bufferInfos - info on audio files that can be streamed\n     */\n\n  }, {\n    key: '_onAcknowledgeResponse',\n    value: function _onAcknowledgeResponse(bufferInfos) {\n      var _this3 = this;\n\n      for (var id in bufferInfos) {\n        bufferInfos[id].forEach(function (chunk) {\n          if (_this3.options.assetsDomain !== null) chunk.url = _this3.options.assetsDomain + '/' + chunk.name;else chunk.url = chunk.name;\n        });\n\n        this.bufferInfos.set(id, bufferInfos[id]);\n      }\n\n      this.ready();\n    }\n\n    /**\n     * Return a new audio stream node.\n     */\n\n  }, {\n    key: 'getAudioStream',\n    value: function getAudioStream() {\n      // console.log(this.syncStartTime, this.syncService.getSyncTime());\n      return new AudioStream(this.bufferInfos, this.syncService, this.options.monitorInterval, this.options.requiredAdvanceThreshold, this.syncStartTime);\n    }\n  }, {\n    key: 'getStreamEngine',\n    value: function getStreamEngine(url) {\n      var engine = new StreamEngine({});\n\n      return engine;\n    }\n  }]);\n  return AudioStreamManager;\n}(_Service3.default);\n\n/**\n * An audio stream node, behaving as would a mediaElementSource node.\n *\n * @param {Object} bufferInfos - Map of streamable buffer chunks infos.\n * @param {Object} syncService - Soundworks sync service, used for sync mode.\n * @param {Number} monitorInterval - See AudioStreamManager's.\n * @param {Number} requiredAdvanceThreshold - See AudioStreamManager's.\n *\n * @memberof module:soundworks/client.AudioStreamManager\n */\n\n\nvar AudioStream = function () {\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instantiated manually_ */\n  function AudioStream(bufferInfos, syncService, monitorInterval, requiredAdvanceThreshold, syncStartTime) {\n    (0, _classCallCheck3.default)(this, AudioStream);\n\n    // arguments\n    this.bufferInfos = bufferInfos;\n    this.syncService = syncService;\n    this.monitorInterval = monitorInterval * 1000; // in ms\n    this.requiredAdvanceThreshold = requiredAdvanceThreshold;\n    this.syncStartTime = syncStartTime;\n\n    // local attr.\n    this._sync = false;\n    this._loop = false;\n    this._periodic = false;\n    this._metaData = undefined;\n    this._url = null;\n\n    this.output = _wavesAudio.audioContext.createGain();\n\n    // stream monitoring\n    this._intervalId = undefined;\n    this._queueEndTime = 0;\n    this._srcMap = new _map2.default();\n    this._stopRequired = false;\n\n    this._reset();\n\n    this._requestChunks = this._requestChunks.bind(this);\n    this._onended = this._onended.bind(this);\n  }\n\n  /**\n   * Init / reset local attributes (at stream creation and stop() ).\n   * @private\n   */\n\n\n  (0, _createClass3.default)(AudioStream, [{\n    key: '_reset',\n    value: function _reset() {\n      this._firstChunkNetworkLatencyOffset = undefined;\n      this._currentChunkIndex = -1;\n      this._firstPacketState = 0;\n    }\n\n    /**\n     * Define url of audio file to stream, send meta data request to server concerning this file.\n     *\n     * @param {String} url - Requested file name, without extension\n     */\n\n  }, {\n    key: 'connect',\n\n\n    /**\n     * Connect the stream to an audio node.\n     *\n     * @param {AudioNode} node - Audio node to connect to.\n     */\n    value: function connect(node) {\n      this.output.connect(node);\n    }\n\n    /**\n     * Method called when stream finished playing on its own (won't fire if loop\n     * enabled).\n     */\n\n  }, {\n    key: 'onended',\n    value: function onended() {}\n\n    /**\n     * Method called when stream drops a packet (arrived too late).\n     */\n\n  }, {\n    key: 'ondrop',\n    value: function ondrop() {\n      console.warn('audiostream: too long loading, discarding buffer');\n    }\n\n    /**\n     * Method called when stream received a packet late, but not too much to drop\n     * it (gap in audio).\n     * @param {Number} time - delay time.\n     */\n\n  }, {\n    key: 'onlate',\n    value: function onlate(time) {}\n\n    /**\n     * Start streaming audio source.\n     * @warning - offset doesn't seem to make sens when not loop and not periodic\n     *\n     * @param {Number} offset - time in buffer from which to start (in sec)\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.isPlaying) {\n        console.warn('[WARNING] - start() discarded, must stop first');\n        return;\n      }\n\n      // check if we dispose of valid url to execute start\n      if (this._url === null) {\n        console.warn('[WARNING] - start() discarded, must define valid url first');\n        return;\n      }\n\n      // we consider the stream started now\n      this.isPlaying = true;\n\n      var bufferInfo = this.bufferInfos.get(this._url);\n      var duration = this.duration;\n\n      if (this.sync) {\n        var syncTime = this.syncService.getSyncTime();\n        var startTime = this.syncStartTime;\n        offset = syncTime - startTime + offset;\n      }\n\n      if (this.loop) offset = offset % duration;\n\n      // this looks coherent for all combinations of `loop` and `sync`\n      // console.log('offset', offset);\n      // console.log('duration', duration);\n\n      if (offset >= duration) {\n        console.warn('[WARNING] - start() discarded, requested offset\\n        (' + offset + ' sec) larger than file duration (' + duration + ' sec)');\n        return;\n      }\n\n      // find index of the chunk corresponding to given offset\n      var index = 0;\n      var offsetInFirstChunk = 0;\n      // console.log(bufferInfo, index, bufferInfo[index]);\n\n      while (this._currentChunkIndex === -1 && index < bufferInfo.length) {\n        var chunkInfos = bufferInfo[index];\n        var start = chunkInfos.start;\n        var end = start + chunkInfos.duration;\n\n        if (offset >= start && offset < end) {\n          this._currentChunkIndex = index;\n          offsetInFirstChunk = offset - start;\n        }\n\n        index += 1;\n      }\n\n      // handle negative offset, pick first chunk. This can be usefull to start\n      // synced stream while give them some delay to preload the first chunk\n      if (this._currentChunkIndex === -1 && offset < 0) this._currentChunkIndex = 0;\n\n      // console.log('AudioStream.start()', this._url, this._currentChunkIndex);\n      this._stopRequired = false;\n      this._queueEndTime = this.syncService.getSyncTime() - offsetInFirstChunk;\n\n      // @important - never change the order of these 2 calls\n      this._intervalId = setInterval(this._requestChunks, this.monitorInterval);\n      this._requestChunks();\n    }\n  }, {\n    key: '_onended',\n    value: function _onended() {\n      this.isPlaying = false;\n      this.onended();\n    }\n\n    /**\n     * Stop the audio stream. Mimics AudioBufferSourceNode stop() method. A stopped\n     * audio stream can be started (no need to create a new one as required when\n     * using an AudioBufferSourceNode).\n     *\n     * @param {Number} offset - offset time (in sec) from now at which\n     *  the audio stream should stop playing.\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var _this4 = this;\n\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (!this.isPlaying) {\n        console.warn('[WARNING] - stop discarded, not started or already ended');\n        return;\n      }\n\n      if (this._intervalId !== undefined) this._clearRequestChunks();\n\n      this._stopRequired = true; // avoid playing buffer that are currently loading\n      this._reset();\n\n      var now = this.syncService.getSyncTime();\n      var audioTime = _wavesAudio.audioContext.currentTime;\n      var size = this._srcMap.size;\n      var counter = 0;\n\n      this._srcMap.forEach(function (src, startTime) {\n        counter += 1;\n        src.onended = null;\n\n        // pick a source arbitrarily to trigger the `onended` event properly\n        if (counter === size) src.onended = _this4._onended;\n\n        if (startTime < now + offset || src.onended !== null) src.stop(audioTime + offset);else src.stop(audioTime);\n      });\n\n      this._srcMap.clear();\n    }\n\n    /**\n     * Check if we have enough \"local buffer time\" for the audio stream,\n     * request new buffer chunks otherwise.\n     * @private\n     */\n\n  }, {\n    key: '_requestChunks',\n    value: function _requestChunks() {\n      var _this5 = this;\n\n      var bufferInfo = this.bufferInfos.get(this._url);\n      var now = this.syncService.getSyncTime();\n\n      // have to deal properly with\n\n      var _loop = function _loop() {\n        // in non sync mode, we want the start time to be delayed when the first\n        // buffer is actually received, so we load it before requesting next ones\n        if (_this5._firstPacketState === 1 && !_this5._sync) return {\n            v: void 0\n          };\n\n        var chunkInfos = bufferInfo[_this5._currentChunkIndex];\n        var chunkStartTime = _this5._queueEndTime - chunkInfos.overlapStart;\n        var url = chunkInfos.url;\n\n        // flag that first packet has been required and that we must await for its\n        // arrival in unsync mode before asking for more, as the network delay\n        // will define the `true` start time\n        if (_this5._firstPacketState === 0 && !_this5._sync) _this5._firstPacketState = 1;\n\n        // console.log('currentChunkIndex', this._currentChunkIndex);\n        // console.log('timeAtQueueEnd', this._queueEndTime);\n        // console.log('chunkStartTime', chunkStartTime);\n\n        var currentChunkIndex = _this5._currentChunkIndex;\n\n        _this5._currentChunkIndex += 1;\n        _this5._queueEndTime += chunkInfos.duration;\n\n        var isLastChunk = false;\n\n        if (_this5._currentChunkIndex === bufferInfo.length) {\n          if (_this5._loop) {\n            _this5._currentChunkIndex = 0;\n          } else {\n            // has this method is called once outside the loop, it might append\n            // that we finish the whole loading without actually having an\n            // intervalId, maybe handle this more properly with reccursive\n            // `setTimeout`s\n            if (_this5._intervalId) _this5._clearRequestChunks();\n            // but reset later as the last chunk still needs the current offsets\n            isLastChunk = true;\n          }\n        }\n\n        // load and add buffer to queue\n        loadAudioBuffer(url).then(function (buffer) {\n          if (_this5._stopRequired) return;\n\n          // mark that first packet arrived and that we can ask for more\n          if (_this5._firstPacketState === 1 && !_this5._sync) _this5._firstPacketState = 2;\n\n          var overlapStart = chunkInfos.overlapStart,\n              overlapEnd = chunkInfos.overlapEnd;\n\n          _this5._addBufferToQueue(buffer, chunkStartTime, overlapStart, overlapEnd, isLastChunk);\n\n          if (isLastChunk) _this5._reset();\n        });\n\n        if (isLastChunk) return 'break';\n      };\n\n      _loop2: while (this._queueEndTime - now <= this.requiredAdvanceThreshold) {\n        var _ret = _loop();\n\n        switch (_ret) {\n          case 'break':\n            break _loop2;\n\n          default:\n            if ((typeof _ret === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret)) === \"object\") return _ret.v;\n        }\n      }\n    }\n\n    /**\n     * Stop looking for new chunks\n     * @private\n     */\n\n  }, {\n    key: '_clearRequestChunks',\n    value: function _clearRequestChunks() {\n      // console.log(`AudioStream._clearRequestChunks() ${this._url} - clearInterval`, this._intervalId);\n      clearInterval(this._intervalId);\n      this._intervalId = undefined;\n    }\n\n    /**\n     * Add audio buffer to stream queue.\n     *\n     * @param {AudioBuffer} buffer - Audio buffer to add to playing queue.\n     * @param {Number} startTime - Time at which audio buffer playing is due.\n     * @param {Number} overlapStart - Duration (in sec) of the additional audio\n     *  content added by the node-audio-slicer (on server side) at audio buffer's\n     *  head (used in fade-in mechanism to avoid perceiving potential .mp3\n     *  encoding artifacts introduced when buffer starts with non-zero value)\n     * @param {Number} overlapEnd - Duration (in sec) of the additional audio\n     *  content added at audio buffer's tail.\n     * @private\n     */\n\n  }, {\n    key: '_addBufferToQueue',\n    value: function _addBufferToQueue(buffer, startTime, overlapStart, overlapEnd, isLastChunk) {\n      var _this6 = this;\n\n      // hard-code overlap fade-in and out in buffer\n      var numSamplesFadeIn = Math.floor(overlapStart * buffer.sampleRate);\n      var numSamplesFadeOut = Math.floor(overlapEnd * buffer.sampleRate);\n      // loop over audio channels\n      for (var channel = 0; channel < buffer.numberOfChannels; channel++) {\n        var channelData = buffer.getChannelData(channel);\n\n        // fade in\n        for (var i = 0; i < numSamplesFadeIn; i++) {\n          var gain = i / (numSamplesFadeIn - 1);\n          channelData[i] = channelData[i] * gain;\n        }\n\n        // fade out\n        for (var _i = channelData.length - numSamplesFadeOut; _i < channelData.length; _i++) {\n          var _gain = (channelData.length - _i - 1) / (numSamplesFadeOut - 1);\n          channelData[_i] = channelData[_i] * _gain;\n        }\n      }\n\n      var syncTime = this.syncService.getSyncTime();\n      var now = _wavesAudio.audioContext.currentTime;\n      var offset = startTime - syncTime;\n\n      // - in `non sync` scenario, we want to take in account the latency induced\n      // by the loading of the first chunk. This latency must then be applied\n      // to all subsequent chunks.\n      // - in `sync` scenarios, we just let the logical start time and computed\n      // offset do their job...\n      // - in `periodic` scenarios we don't want to compensate for the loading time\n      if (!this._sync && !this._periodic) {\n        //\n        if (this._firstChunkNetworkLatencyOffset === undefined) {\n          this._firstChunkNetworkLatencyOffset = offset;\n        }\n\n        offset -= this._firstChunkNetworkLatencyOffset;\n      }\n\n      // if computed offset is smaller than duration\n      if (-offset <= buffer.duration) {\n        // create audio source\n        var src = _wavesAudio.audioContext.createBufferSource();\n        src.connect(this.output);\n        src.buffer = buffer;\n\n        if (offset < 0) {\n          src.start(now, -offset);\n          // the callback should be called after start\n          this.onlate(-offset);\n        } else {\n          src.start(now + offset, 0);\n        }\n\n        // keep and clean reference to source\n        this._srcMap.set(startTime, src);\n\n        src.onended = function () {\n          _this6._srcMap.delete(startTime);\n\n          if (isLastChunk) _this6._onended();\n        };\n      } else {\n        this.ondrop();\n      }\n    }\n  }, {\n    key: 'url',\n    set: function set(filename) {\n      if (this.isPlaying) {\n        console.warn('[WARNING] - Cannot set url while playing');\n        return;\n      }\n\n      // check if url corresponds to a streamable file\n      if (this.bufferInfos.get(filename)) this._url = filename;else console.error('[ERROR] - ' + filename + ' url not in ' + this.bufferInfos + ' \\n ### url discarded');\n    },\n    get: function get() {\n      return this._url;\n    }\n\n    /**\n     * Set/Get synchronized mode status. in non sync. mode, the stream audio\n     * will start whenever the first audio buffer is downloaded. in sync. mode,\n     * the stream audio will start (again whan the audio buffer is downloaded)\n     * with an offset in the buffer, as if it started playing exactly when the\n     * start() command was issued.\n     *\n     * @param {Bool} val - Enable / disable sync\n     */\n\n  }, {\n    key: 'sync',\n    set: function set(val) {\n      if (this.isPlaying) {\n        console.warn('[WARNING] - Cannot set sync while playing');\n        return;\n      }\n\n      this._sync = val;\n    },\n    get: function get() {\n      return this._sync;\n    }\n\n    /**\n     * Set/Get loop mode. onended() method not called if loop enabled.\n     * @param {Bool} val - enable / disable sync\n     */\n\n  }, {\n    key: 'loop',\n    set: function set(val) {\n      if (this.isPlaying) {\n        console.warn('[WARNING] - Cannot set loop while playing');\n        return;\n      }\n\n      this._loop = val;\n    },\n    get: function get() {\n      return this._loop;\n    }\n\n    /**\n     * Set/Get periodic mode. we don't want the stream to be synchronized to\n     * a common origin, but have them aligned on a grid. aka, we don't wan't to\n     * compensate for the loading time, when starting with an offset.\n     * @param {Bool} val - enable / disable periodic\n     */\n\n  }, {\n    key: 'periodic',\n    set: function set(val) {\n      if (this.isPlaying) {\n        console.warn('[WARNING] - Cannot set loop while playing');\n        return;\n      }\n\n      this._periodic = val;\n    },\n    get: function get() {\n      return this._periodic;\n    }\n\n    /**\n     * Return the total duration (in secs) of the audio file currently streamed.\n     */\n\n  }, {\n    key: 'duration',\n    get: function get() {\n      var bufferInfo = this.bufferInfos.get(this._url);\n      var lastChunk = bufferInfo[bufferInfo.length - 1];\n      var duration = lastChunk.start + lastChunk.duration;\n      return duration;\n    }\n  }]);\n  return AudioStream;\n}();\n\n_serviceManager2.default.register(SERVICE_ID, AudioStreamManager);\nexports.default = AudioStreamManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1ZGlvU3RyZWFtTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwibG9nIiwibG9hZEF1ZGlvQnVmZmVyIiwidXJsIiwicHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwicmVzcG9uc2UiLCJhdWRpb0NvbnRleHQiLCJkZWNvZGVBdWRpb0RhdGEiLCJzZW5kIiwiQXVkaW9TdHJlYW1NYW5hZ2VyIiwiY29uc29sZSIsImVycm9yIiwiYnVmZmVySW5mb3MiLCJzeW5jU3RhcnRUaW1lIiwiZGVmYXVsdHMiLCJtb25pdG9ySW50ZXJ2YWwiLCJyZXF1aXJlZEFkdmFuY2VUaHJlc2hvbGQiLCJhc3NldHNEb21haW4iLCJjb25maWd1cmUiLCJzeW5jU2VydmljZSIsInJlcXVpcmUiLCJfb25BY2tub3dsZWRnZVJlc3BvbnNlIiwiYmluZCIsInJlY2VpdmUiLCJ2YWx1ZSIsImlkIiwiZm9yRWFjaCIsIm9wdGlvbnMiLCJjaHVuayIsIm5hbWUiLCJzZXQiLCJyZWFkeSIsIkF1ZGlvU3RyZWFtIiwiZW5naW5lIiwiU3RyZWFtRW5naW5lIiwiU2VydmljZSIsIl9zeW5jIiwiX2xvb3AiLCJfcGVyaW9kaWMiLCJfbWV0YURhdGEiLCJ1bmRlZmluZWQiLCJfdXJsIiwib3V0cHV0IiwiY3JlYXRlR2FpbiIsIl9pbnRlcnZhbElkIiwiX3F1ZXVlRW5kVGltZSIsIl9zcmNNYXAiLCJfc3RvcFJlcXVpcmVkIiwiX3Jlc2V0IiwiX3JlcXVlc3RDaHVua3MiLCJfb25lbmRlZCIsIl9maXJzdENodW5rTmV0d29ya0xhdGVuY3lPZmZzZXQiLCJfY3VycmVudENodW5rSW5kZXgiLCJfZmlyc3RQYWNrZXRTdGF0ZSIsIm5vZGUiLCJjb25uZWN0Iiwid2FybiIsInRpbWUiLCJvZmZzZXQiLCJpc1BsYXlpbmciLCJidWZmZXJJbmZvIiwiZ2V0IiwiZHVyYXRpb24iLCJzeW5jIiwic3luY1RpbWUiLCJnZXRTeW5jVGltZSIsInN0YXJ0VGltZSIsImxvb3AiLCJpbmRleCIsIm9mZnNldEluRmlyc3RDaHVuayIsImxlbmd0aCIsImNodW5rSW5mb3MiLCJzdGFydCIsImVuZCIsInNldEludGVydmFsIiwib25lbmRlZCIsIl9jbGVhclJlcXVlc3RDaHVua3MiLCJub3ciLCJhdWRpb1RpbWUiLCJjdXJyZW50VGltZSIsInNpemUiLCJjb3VudGVyIiwic3JjIiwic3RvcCIsImNsZWFyIiwiY2h1bmtTdGFydFRpbWUiLCJvdmVybGFwU3RhcnQiLCJjdXJyZW50Q2h1bmtJbmRleCIsImlzTGFzdENodW5rIiwidGhlbiIsImJ1ZmZlciIsIm92ZXJsYXBFbmQiLCJfYWRkQnVmZmVyVG9RdWV1ZSIsImNsZWFySW50ZXJ2YWwiLCJudW1TYW1wbGVzRmFkZUluIiwiTWF0aCIsImZsb29yIiwic2FtcGxlUmF0ZSIsIm51bVNhbXBsZXNGYWRlT3V0IiwiY2hhbm5lbCIsIm51bWJlck9mQ2hhbm5lbHMiLCJjaGFubmVsRGF0YSIsImdldENoYW5uZWxEYXRhIiwiaSIsImdhaW4iLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJvbmxhdGUiLCJkZWxldGUiLCJvbmRyb3AiLCJmaWxlbmFtZSIsInZhbCIsImxhc3RDaHVuayIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLDhCQUFuQjtBQUNBLElBQU1DLE1BQU0scUJBQU0sMENBQU4sQ0FBWjs7QUFFQTtBQUNBOztBQUVBLFNBQVNDLGVBQVQsQ0FBeUJDLEdBQXpCLEVBQThCO0FBQzVCLE1BQU1DLFVBQVUsc0JBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQy9DLFFBQU1DLFVBQVUsSUFBSUMsY0FBSixFQUFoQjtBQUNBRCxZQUFRRSxJ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QWEsMkNBQWI7QUFDQTtBQUNEOztBQUVELFdBQUtwQixLQUFMLEdBQWEwRSxHQUFiO0FBQ0QsSzt3QkFFVTtBQUNULGFBQU8sS0FBSzFFLEtBQVo7QUFDRDs7QUFFRDs7Ozs7OztzQkFJUzBFLEcsRUFBSztBQUNaLFVBQUksS0FBS25ELFNBQVQsRUFBb0I7QUFDbEJqRCxnQkFBUThDLElBQVIsQ0FBYSwyQ0FBYjtBQUNBO0FBQ0Q7O0FBRUQsV0FBS25CLEtBQUwsR0FBYXlFLEdBQWI7QUFDRCxLO3dCQUVVO0FBQ1QsYUFBTyxLQUFLekUsS0FBWjtBQUNEOztBQUVEOzs7Ozs7Ozs7c0JBTWF5RSxHLEVBQUs7QUFDaEIsVUFBSSxLQUFLbkQsU0FBVCxFQUFvQjtBQUNsQmpELGdCQUFROEMsSUFBUixDQUFhLDJDQUFiO0FBQ0E7QUFDRDs7QUFFRCxXQUFLbEIsU0FBTCxHQUFpQndFLEdBQWpCO0FBQ0QsSzt3QkFFYztBQUNiLGFBQU8sS0FBS3hFLFNBQVo7QUFDRDs7QUFFRDs7Ozs7O3dCQUdlO0FBQ2IsVUFBTXNCLGFBQWEsS0FBS2hELFdBQUwsQ0FBaUJpRCxHQUFqQixDQUFxQixLQUFLcEIsSUFBMUIsQ0FBbkI7QUFDQSxVQUFNc0UsWUFBWW5ELFdBQVdBLFdBQVdVLE1BQVgsR0FBb0IsQ0FBL0IsQ0FBbEI7QUFDQSxVQUFNUixXQUFXaUQsVUFBVXZDLEtBQVYsR0FBa0J1QyxVQUFVakQsUUFBN0M7QUFDQSxhQUFPQSxRQUFQO0FBQ0Q7Ozs7O0FBbVVIa0QseUJBQWVDLFFBQWYsQ0FBd0J4SCxVQUF4QixFQUFvQ2dCLGtCQUFwQztrQkFDZUEsa0IiLCJmaWxlIjoiQXVkaW9TdHJlYW1NYW5hZ2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9Db250ZXh0IH0gZnJvbSAnd2F2ZXMtYXVkaW8nO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOmF1ZGlvLXN0cmVhbS1tYW5hZ2VyJztcbmNvbnN0IGxvZyA9IGRlYnVnKCdzb3VuZHdvcmtzOnNlcnZpY2VzOmF1ZGlvLXN0cmVhbS1tYW5hZ2VyJyk7XG5cbi8vIFRPRE86XG4vLyAtIHN1cHBvcnQgc3RyZWFtaW5nIG9mIGZpbGVzIG9mIHRvdGFsIGR1cmF0aW9uIHNob3J0ZXIgdGhhbiBwYWNrZXQgZHVyYXRpb25cblxuZnVuY3Rpb24gbG9hZEF1ZGlvQnVmZmVyKHVybCkge1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICBhdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHJlc3BvbnNlLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH1cblxuICAgIHJlcXVlc3Quc2VuZCgpO1xuICB9KTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCdhdWRpby1zdHJlYW0tbWFuYWdlcidgIHNlcnZpY2UuXG4gKlxuICogQHdhcm5pbmcgLSB1bnN0YWJsZVxuICpcbiAqIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gc3RyZWFtIGF1ZGlvIGJ1ZmZlcnMgdG8gdGhlIGNsaWVudCBkdXJpbmcgdGhlIGV4cGVyaWVuY2VcbiAqIChub3QgcHJlbG9hZGVkKS4gSW5wdXQgYXVkaW8gZmlsZXMgYXJlIHNlZ21lbnRlZCBieSB0aGUgc2VydmVyIHVwb24gc3RhcnR1cFxuICogYW5kIHNlbnQgdG8gdGhlIGNsaWVudHMgdXBvbiByZXF1ZXN0LiBTZXJ2aWNlIG9ubHkgYWNjZXB0cyAud2F2IGZpbGVzIGF0IHRoZVxuICogbW9tZW50LiBUaGUgc2VydmljZSBtYWluIG9iamVjdGl2ZSBpcyB0byAxKSBlbmFibGUgc3luY2VkIHN0cmVhbWluZyBiZXR3ZWVuXG4gKiBjbGllbnRzIChub3QgcHJlY2lzZSBpZiBiYXNlZCBvbiBtZWRpYUVsZW1lbnRTb3VyY2VzKSwgYW5kIDIpIHByb3ZpZGUgYW5cbiAqIGVxdWl2YWxlbnQgdG8gdGhlIG1lZGlhRWxlbWVudFNvdXJjZSBvYmplY3QgKHN0cmVhbWluZyBhcyBhIFdlYiBBdWRpbyBBUElcbiAqIG5vZGUpIHRoYXQgY291bGQgYmUgcGx1Z2dlZCB0byBhbnkgb3RoZXIgbm9kZSBpbiBTYWZhcmkgKGJ5cGFzc2luZyBlLmcuIGdhaW5cbiAqIG9yIGFuYWx5emVyIG5vZGVzIHdoZW4gcGx1Z2dlZCB0byBtZWRpYUVsZW1lbnRTb3VyY2UpLlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0cyBbc2VydmVyLXNpZGUgY291bnRlcnBhcnRde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL3NlcnZlci5BdWRpb1N0cmVhbU1hbmFnZXJ9Kl9fXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLm1vbml0b3JJbnRlcnZhbCAtIEludGVydmFsIHRpbWUgKGluIHNlYykgYXQgd2hpY2ggdGhlXG4gKiAgY2xpZW50IHdpbGwgY2hlY2sgaWYgaXQgaGFzIGVub3VnaCBwcmVsb2FkZWQgYXVkaW8gZGF0YSB0byBlbnN1cmUgc3RyZWFtaW5nXG4gKiAgb3IgaWYgaXQgbmVlZHMgdG8gcmVxdWlyZSBzb21lIG1vcmUuXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5yZXF1aXJlZEFkdmFuY2VUaHJlc2hvbGQgLSBUaHJlc2hvbGQgdGltZSAoaW4gc2VjKSBvZlxuICogIHByZWxvYWRlZCBhdWRpbyBkYXRhIGJlbG93IHdoaWNoIHRoZSBjbGllbnQgd2lsbCByZXF1aXJlIGEgbmV3IGF1ZGlvIGNodW5rLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiAvLyByZXF1aXJlIHRoZSBgYXVkaW8tc3RyZWFtLW1hbmFnZXJgIChpbiBleHBlcmllbmNlIGNvbnN0cnVjdG9yKVxuICogdGhpcy5hdWRpb1N0cmVhbU1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLXN0cmVhbS1tYW5hZ2VyJywge1xuICogICBtb25pdG9ySW50ZXJ2YWw6IDEsXG4gKiAgIHJlcXVpcmVkQWR2YW5jZVRocmVzaG9sZDogMTBcbiAqIH0pO1xuICpcbiAqIC8vIHJlcXVlc3QgbmV3IGF1ZGlvIHN0cmVhbSBmcm9tIHRoZSBzdHJlYW0gbWFuYWdlciAoaW4gZXhwZXJpZW5jZSBzdGFydCBtZXRob2QpXG4gKiBjb25zdCBhdWRpb1N0cmVhbSA9IHRoaXMuYXVkaW9TdHJlYW1NYW5hZ2VyLmdldEF1ZGlvU3RyZWFtKCk7XG4gKiAvLyBzZXR1cCBhbmQgc3RhcnQgYXVkaW8gc3RyZWFtXG4gKiBhdWRpb1N0cmVhbS51cmwgPSAnbXktYXVkaW8tZmlsZS1uYW1lJzsgLy8gd2l0aG91dCBleHRlbnNpb25cbiAqIC8vIGNvbm5lY3QgYXMgeW91IHdvdWxkIGFueSBhdWRpbyBub2RlIGZyb20gdGhlIHdlYiBhdWRpbyBhcGlcbiAqIGF1ZGlvU3RyZWFtLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAqIGF1ZGlvU3RyZWFtLmxvb3AgPSBmYWxzZTsgLy8gZGlzYWJsZSBsb29wXG4gKiBhdWRpb1N0cmVhbS5zeW5jID0gZmFsc2U7IC8vIGRpc2FibGUgc3luY2hyb25pemF0aW9uXG4gKiAvLyBtaW1pY3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIG9uZW5kZWQgbWV0aG9kXG4gKiBhdWRpb1N0cmVhbS5vbmVuZGVkID0gZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ3N0cmVhbSBlbmRlZCcpOyB9O1xuICogYXVkaW9TdHJlYW0uc3RhcnQoKTsgLy8gc3RhcnQgYXVkaW8gc3RyZWFtXG4gKi9cblxuY2xhc3MgQXVkaW9TdHJlYW1NYW5hZ2VyIGV4dGVuZHMgU2VydmljZSB7XG4gIC8qKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlIGluc3RhbnRpYXRlZCBtYW51YWxseV8gKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgZmFsc2UpO1xuXG4gICAgY29uc29sZS5lcnJvcignW2RlcHJlY2F0ZWRdIEF1ZGlvU3RyZWFtTWFuYWdlciB1bnN0YWJsZSBBUEkgaXMgbm93IGRlcHJlY2F0ZWQgLSBBUEkgd2lsbCBjaGFuZ2UgaW4gc291bmR3b3JrcyN2My4wLjAsIHBsZWFzZSBjb25zaWRlciB1cGRhdGluZyB5b3VyIGFwcGxpY2F0aW9uJyk7XG5cbiAgICB0aGlzLmJ1ZmZlckluZm9zID0gbmV3IE1hcCgpO1xuICAgIC8vIGRlZmluZSBnZW5lcmFsIG9mZnNldCBpbiBzeW5jIGxvb3AgKGluIHNlYykgKG5vdCBwcm9wYWdhdGVkIHRvXG4gICAgLy8gYWxyZWFkeSBjcmVhdGVkIGF1ZGlvIHN0cmVhbXMgd2hlbiBtb2RpZmllZClcbiAgICB0aGlzLnN5bmNTdGFydFRpbWUgPSAwO1xuXG4gICAgLy8gY29uZmlndXJlIG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIG1vbml0b3JJbnRlcnZhbDogMSwgLy8gaW4gc2Vjb25kc1xuICAgICAgcmVxdWlyZWRBZHZhbmNlVGhyZXNob2xkOiAxMCwgLy8gaW4gc2Vjb25kc1xuICAgICAgYXNzZXRzRG9tYWluOiBudWxsLFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG5cbiAgICB0aGlzLnN5bmNTZXJ2aWNlID0gdGhpcy5yZXF1aXJlKCdzeW5jJyk7XG5cbiAgICB0aGlzLl9vbkFja25vd2xlZGdlUmVzcG9uc2UgPSB0aGlzLl9vbkFja25vd2xlZGdlUmVzcG9uc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIC8vIHNlbmQgcmVxdWVzdCBmb3IgaW5mb3Mgb24gXCJzdHJlYW1hYmxlXCIgYXVkaW8gZmlsZXNcbiAgICB0aGlzLnJlY2VpdmUoJ2Fja25vd2xlZ2RlJywgdGhpcy5fb25BY2tub3dsZWRnZVJlc3BvbnNlKTtcbiAgICB0aGlzLnJlY2VpdmUoJ3N5bmNTdGFydFRpbWUnLCB2YWx1ZSA9PiB0aGlzLnN5bmNTdGFydFRpbWUgPSB2YWx1ZSk7XG4gICAgdGhpcy5zZW5kKCdyZXF1ZXN0Jyk7XG5cbiAgICAvLyBAdG9kbyAtIHNob3VsZCByZWNlaXZlIGEgc3luYyBzdGFydCB0aW1lIGZyb20gc2VydmVyXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGJ1ZmZlckluZm9zIC0gaW5mbyBvbiBhdWRpbyBmaWxlcyB0aGF0IGNhbiBiZSBzdHJlYW1lZFxuICAgKi9cbiAgX29uQWNrbm93bGVkZ2VSZXNwb25zZShidWZmZXJJbmZvcykge1xuICAgIGZvciAobGV0IGlkIGluIGJ1ZmZlckluZm9zKSB7XG4gICAgICBidWZmZXJJbmZvc1tpZF0uZm9yRWFjaChjaHVuayA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXNzZXRzRG9tYWluICE9PSBudWxsKVxuICAgICAgICAgIGNodW5rLnVybCA9IHRoaXMub3B0aW9ucy5hc3NldHNEb21haW4gKyAnLycgKyBjaHVuay5uYW1lO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgY2h1bmsudXJsID0gY2h1bmsubmFtZTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmJ1ZmZlckluZm9zLnNldChpZCwgYnVmZmVySW5mb3NbaWRdKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgbmV3IGF1ZGlvIHN0cmVhbSBub2RlLlxuICAgKi9cbiAgZ2V0QXVkaW9TdHJlYW0oKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5zeW5jU3RhcnRUaW1lLCB0aGlzLnN5bmNTZXJ2aWNlLmdldFN5bmNUaW1lKCkpO1xuICAgIHJldHVybiBuZXcgQXVkaW9TdHJlYW0oXG4gICAgICB0aGlzLmJ1ZmZlckluZm9zLFxuICAgICAgdGhpcy5zeW5jU2VydmljZSxcbiAgICAgIHRoaXMub3B0aW9ucy5tb25pdG9ySW50ZXJ2YWwsXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZWRBZHZhbmNlVGhyZXNob2xkLFxuICAgICAgdGhpcy5zeW5jU3RhcnRUaW1lXG4gICAgKTtcbiAgfVxuXG4gIGdldFN0cmVhbUVuZ2luZSh1cmwpIHtcbiAgICBjb25zdCBlbmdpbmUgPSBuZXcgU3RyZWFtRW5naW5lKHtcblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVuZ2luZTtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGF1ZGlvIHN0cmVhbSBub2RlLCBiZWhhdmluZyBhcyB3b3VsZCBhIG1lZGlhRWxlbWVudFNvdXJjZSBub2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBidWZmZXJJbmZvcyAtIE1hcCBvZiBzdHJlYW1hYmxlIGJ1ZmZlciBjaHVua3MgaW5mb3MuXG4gKiBAcGFyYW0ge09iamVjdH0gc3luY1NlcnZpY2UgLSBTb3VuZHdvcmtzIHN5bmMgc2VydmljZSwgdXNlZCBmb3Igc3luYyBtb2RlLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vbml0b3JJbnRlcnZhbCAtIFNlZSBBdWRpb1N0cmVhbU1hbmFnZXIncy5cbiAqIEBwYXJhbSB7TnVtYmVyfSByZXF1aXJlZEFkdmFuY2VUaHJlc2hvbGQgLSBTZWUgQXVkaW9TdHJlYW1NYW5hZ2VyJ3MuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BdWRpb1N0cmVhbU1hbmFnZXJcbiAqL1xuY2xhc3MgQXVkaW9TdHJlYW0ge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW50aWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yKGJ1ZmZlckluZm9zLCBzeW5jU2VydmljZSwgbW9uaXRvckludGVydmFsLCByZXF1aXJlZEFkdmFuY2VUaHJlc2hvbGQsIHN5bmNTdGFydFRpbWUpIHtcbiAgICAvLyBhcmd1bWVudHNcbiAgICB0aGlzLmJ1ZmZlckluZm9zID0gYnVmZmVySW5mb3M7XG4gICAgdGhpcy5zeW5jU2VydmljZSA9IHN5bmNTZXJ2aWNlO1xuICAgIHRoaXMubW9uaXRvckludGVydmFsID0gbW9uaXRvckludGVydmFsICogMTAwMDsgLy8gaW4gbXNcbiAgICB0aGlzLnJlcXVpcmVkQWR2YW5jZVRocmVzaG9sZCA9IHJlcXVpcmVkQWR2YW5jZVRocmVzaG9sZDtcbiAgICB0aGlzLnN5bmNTdGFydFRpbWUgPSBzeW5jU3RhcnRUaW1lO1xuXG4gICAgLy8gbG9jYWwgYXR0ci5cbiAgICB0aGlzLl9zeW5jID0gZmFsc2U7XG4gICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuX3BlcmlvZGljID0gZmFsc2U7XG4gICAgdGhpcy5fbWV0YURhdGEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdXJsID0gbnVsbDtcblxuICAgIHRoaXMub3V0cHV0ID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcblxuICAgIC8vIHN0cmVhbSBtb25pdG9yaW5nXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9xdWV1ZUVuZFRpbWUgPSAwO1xuICAgIHRoaXMuX3NyY01hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9zdG9wUmVxdWlyZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX3Jlc2V0KCk7XG5cbiAgICB0aGlzLl9yZXF1ZXN0Q2h1bmtzID0gdGhpcy5fcmVxdWVzdENodW5rcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uZW5kZWQgPSB0aGlzLl9vbmVuZGVkLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdCAvIHJlc2V0IGxvY2FsIGF0dHJpYnV0ZXMgKGF0IHN0cmVhbSBjcmVhdGlvbiBhbmQgc3RvcCgpICkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzZXQoKSB7XG4gICAgdGhpcy5fZmlyc3RDaHVua05ldHdvcmtMYXRlbmN5T2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2N1cnJlbnRDaHVua0luZGV4ID0gLTE7XG4gICAgdGhpcy5fZmlyc3RQYWNrZXRTdGF0ZSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIHVybCBvZiBhdWRpbyBmaWxlIHRvIHN0cmVhbSwgc2VuZCBtZXRhIGRhdGEgcmVxdWVzdCB0byBzZXJ2ZXIgY29uY2VybmluZyB0aGlzIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBSZXF1ZXN0ZWQgZmlsZSBuYW1lLCB3aXRob3V0IGV4dGVuc2lvblxuICAgKi9cbiAgc2V0IHVybChmaWxlbmFtZSkge1xuICAgIGlmICh0aGlzLmlzUGxheWluZykge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTklOR10gLSBDYW5ub3Qgc2V0IHVybCB3aGlsZSBwbGF5aW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgdXJsIGNvcnJlc3BvbmRzIHRvIGEgc3RyZWFtYWJsZSBmaWxlXG4gICAgaWYgKHRoaXMuYnVmZmVySW5mb3MuZ2V0KGZpbGVuYW1lKSlcbiAgICAgIHRoaXMuX3VybCA9IGZpbGVuYW1lO1xuICAgIGVsc2VcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtFUlJPUl0gLSAke2ZpbGVuYW1lfSB1cmwgbm90IGluICR7dGhpcy5idWZmZXJJbmZvc30gXFxuICMjIyB1cmwgZGlzY2FyZGVkYCk7XG4gIH1cblxuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLl91cmw7XG4gIH1cblxuICAvKipcbiAgICogU2V0L0dldCBzeW5jaHJvbml6ZWQgbW9kZSBzdGF0dXMuIGluIG5vbiBzeW5jLiBtb2RlLCB0aGUgc3RyZWFtIGF1ZGlvXG4gICAqIHdpbGwgc3RhcnQgd2hlbmV2ZXIgdGhlIGZpcnN0IGF1ZGlvIGJ1ZmZlciBpcyBkb3dubG9hZGVkLiBpbiBzeW5jLiBtb2RlLFxuICAgKiB0aGUgc3RyZWFtIGF1ZGlvIHdpbGwgc3RhcnQgKGFnYWluIHdoYW4gdGhlIGF1ZGlvIGJ1ZmZlciBpcyBkb3dubG9hZGVkKVxuICAgKiB3aXRoIGFuIG9mZnNldCBpbiB0aGUgYnVmZmVyLCBhcyBpZiBpdCBzdGFydGVkIHBsYXlpbmcgZXhhY3RseSB3aGVuIHRoZVxuICAgKiBzdGFydCgpIGNvbW1hbmQgd2FzIGlzc3VlZC5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sfSB2YWwgLSBFbmFibGUgLyBkaXNhYmxlIHN5bmNcbiAgICovXG4gIHNldCBzeW5jKHZhbCkge1xuICAgIGlmICh0aGlzLmlzUGxheWluZykge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTklOR10gLSBDYW5ub3Qgc2V0IHN5bmMgd2hpbGUgcGxheWluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N5bmMgPSB2YWw7XG4gIH1cblxuICBnZXQgc3luYygpIHtcbiAgICByZXR1cm4gdGhpcy5fc3luYztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQvR2V0IGxvb3AgbW9kZS4gb25lbmRlZCgpIG1ldGhvZCBub3QgY2FsbGVkIGlmIGxvb3AgZW5hYmxlZC5cbiAgICogQHBhcmFtIHtCb29sfSB2YWwgLSBlbmFibGUgLyBkaXNhYmxlIHN5bmNcbiAgICovXG4gIHNldCBsb29wKHZhbCkge1xuICAgIGlmICh0aGlzLmlzUGxheWluZykge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTklOR10gLSBDYW5ub3Qgc2V0IGxvb3Agd2hpbGUgcGxheWluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xvb3AgPSB2YWw7XG4gIH1cblxuICBnZXQgbG9vcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQvR2V0IHBlcmlvZGljIG1vZGUuIHdlIGRvbid0IHdhbnQgdGhlIHN0cmVhbSB0byBiZSBzeW5jaHJvbml6ZWQgdG9cbiAgICogYSBjb21tb24gb3JpZ2luLCBidXQgaGF2ZSB0aGVtIGFsaWduZWQgb24gYSBncmlkLiBha2EsIHdlIGRvbid0IHdhbid0IHRvXG4gICAqIGNvbXBlbnNhdGUgZm9yIHRoZSBsb2FkaW5nIHRpbWUsIHdoZW4gc3RhcnRpbmcgd2l0aCBhbiBvZmZzZXQuXG4gICAqIEBwYXJhbSB7Qm9vbH0gdmFsIC0gZW5hYmxlIC8gZGlzYWJsZSBwZXJpb2RpY1xuICAgKi9cbiAgc2V0IHBlcmlvZGljKHZhbCkge1xuICAgIGlmICh0aGlzLmlzUGxheWluZykge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTklOR10gLSBDYW5ub3Qgc2V0IGxvb3Agd2hpbGUgcGxheWluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3BlcmlvZGljID0gdmFsO1xuICB9XG5cbiAgZ2V0IHBlcmlvZGljKCkge1xuICAgIHJldHVybiB0aGlzLl9wZXJpb2RpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHRvdGFsIGR1cmF0aW9uIChpbiBzZWNzKSBvZiB0aGUgYXVkaW8gZmlsZSBjdXJyZW50bHkgc3RyZWFtZWQuXG4gICAqL1xuICBnZXQgZHVyYXRpb24oKSB7XG4gICAgY29uc3QgYnVmZmVySW5mbyA9IHRoaXMuYnVmZmVySW5mb3MuZ2V0KHRoaXMuX3VybCk7XG4gICAgY29uc3QgbGFzdENodW5rID0gYnVmZmVySW5mb1tidWZmZXJJbmZvLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gbGFzdENodW5rLnN0YXJ0ICsgbGFzdENodW5rLmR1cmF0aW9uO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0IHRoZSBzdHJlYW0gdG8gYW4gYXVkaW8gbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtBdWRpb05vZGV9IG5vZGUgLSBBdWRpbyBub2RlIHRvIGNvbm5lY3QgdG8uXG4gICAqL1xuICBjb25uZWN0KG5vZGUpIHtcbiAgICB0aGlzLm91dHB1dC5jb25uZWN0KG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCBjYWxsZWQgd2hlbiBzdHJlYW0gZmluaXNoZWQgcGxheWluZyBvbiBpdHMgb3duICh3b24ndCBmaXJlIGlmIGxvb3BcbiAgICogZW5hYmxlZCkuXG4gICAqL1xuICBvbmVuZGVkKCkge31cblxuICAvKipcbiAgICogTWV0aG9kIGNhbGxlZCB3aGVuIHN0cmVhbSBkcm9wcyBhIHBhY2tldCAoYXJyaXZlZCB0b28gbGF0ZSkuXG4gICAqL1xuICBvbmRyb3AoKSB7XG4gICAgY29uc29sZS53YXJuKCdhdWRpb3N0cmVhbTogdG9vIGxvbmcgbG9hZGluZywgZGlzY2FyZGluZyBidWZmZXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgY2FsbGVkIHdoZW4gc3RyZWFtIHJlY2VpdmVkIGEgcGFja2V0IGxhdGUsIGJ1dCBub3QgdG9vIG11Y2ggdG8gZHJvcFxuICAgKiBpdCAoZ2FwIGluIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgLSBkZWxheSB0aW1lLlxuICAgKi9cbiAgb25sYXRlKHRpbWUpIHt9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHN0cmVhbWluZyBhdWRpbyBzb3VyY2UuXG4gICAqIEB3YXJuaW5nIC0gb2Zmc2V0IGRvZXNuJ3Qgc2VlbSB0byBtYWtlIHNlbnMgd2hlbiBub3QgbG9vcCBhbmQgbm90IHBlcmlvZGljXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgLSB0aW1lIGluIGJ1ZmZlciBmcm9tIHdoaWNoIHRvIHN0YXJ0IChpbiBzZWMpXG4gICAqL1xuICBzdGFydChvZmZzZXQgPSAwKSB7XG4gICAgaWYgKHRoaXMuaXNQbGF5aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tXQVJOSU5HXSAtIHN0YXJ0KCkgZGlzY2FyZGVkLCBtdXN0IHN0b3AgZmlyc3QnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiB3ZSBkaXNwb3NlIG9mIHZhbGlkIHVybCB0byBleGVjdXRlIHN0YXJ0XG4gICAgaWYgKHRoaXMuX3VybCA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTklOR10gLSBzdGFydCgpIGRpc2NhcmRlZCwgbXVzdCBkZWZpbmUgdmFsaWQgdXJsIGZpcnN0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UgY29uc2lkZXIgdGhlIHN0cmVhbSBzdGFydGVkIG5vd1xuICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGJ1ZmZlckluZm8gPSB0aGlzLmJ1ZmZlckluZm9zLmdldCh0aGlzLl91cmwpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5kdXJhdGlvbjtcblxuICAgIGlmICh0aGlzLnN5bmMpIHtcbiAgICAgIGNvbnN0IHN5bmNUaW1lID0gdGhpcy5zeW5jU2VydmljZS5nZXRTeW5jVGltZSgpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdGhpcy5zeW5jU3RhcnRUaW1lO1xuICAgICAgb2Zmc2V0ID0gc3luY1RpbWUgLSBzdGFydFRpbWUgKyBvZmZzZXQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubG9vcClcbiAgICAgIG9mZnNldCA9IG9mZnNldCAlIGR1cmF0aW9uO1xuXG4gICAgLy8gdGhpcyBsb29rcyBjb2hlcmVudCBmb3IgYWxsIGNvbWJpbmF0aW9ucyBvZiBgbG9vcGAgYW5kIGBzeW5jYFxuICAgIC8vIGNvbnNvbGUubG9nKCdvZmZzZXQnLCBvZmZzZXQpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcblxuICAgIGlmIChvZmZzZXQgPj0gZHVyYXRpb24pIHtcbiAgICAgIGNvbnNvbGUud2FybihgW1dBUk5JTkddIC0gc3RhcnQoKSBkaXNjYXJkZWQsIHJlcXVlc3RlZCBvZmZzZXRcbiAgICAgICAgKCR7b2Zmc2V0fSBzZWMpIGxhcmdlciB0aGFuIGZpbGUgZHVyYXRpb24gKCR7ZHVyYXRpb259IHNlYylgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBmaW5kIGluZGV4IG9mIHRoZSBjaHVuayBjb3JyZXNwb25kaW5nIHRvIGdpdmVuIG9mZnNldFxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IG9mZnNldEluRmlyc3RDaHVuayA9IDA7XG4gICAgLy8gY29uc29sZS5sb2coYnVmZmVySW5mbywgaW5kZXgsIGJ1ZmZlckluZm9baW5kZXhdKTtcblxuICAgIHdoaWxlICh0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCA9PT0gLTEgJiYgaW5kZXggPCBidWZmZXJJbmZvLmxlbmd0aCkge1xuICAgICAgY29uc3QgY2h1bmtJbmZvcyA9IGJ1ZmZlckluZm9baW5kZXhdO1xuICAgICAgY29uc3Qgc3RhcnQgPSBjaHVua0luZm9zLnN0YXJ0O1xuICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBjaHVua0luZm9zLmR1cmF0aW9uO1xuXG4gICAgICBpZiAob2Zmc2V0ID49IHN0YXJ0ICYmIG9mZnNldCA8IGVuZCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCA9IGluZGV4O1xuICAgICAgICBvZmZzZXRJbkZpcnN0Q2h1bmsgPSBvZmZzZXQgLSBzdGFydDtcbiAgICAgIH1cblxuICAgICAgaW5kZXggKz0gMTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgbmVnYXRpdmUgb2Zmc2V0LCBwaWNrIGZpcnN0IGNodW5rLiBUaGlzIGNhbiBiZSB1c2VmdWxsIHRvIHN0YXJ0XG4gICAgLy8gc3luY2VkIHN0cmVhbSB3aGlsZSBnaXZlIHRoZW0gc29tZSBkZWxheSB0byBwcmVsb2FkIHRoZSBmaXJzdCBjaHVua1xuICAgIGlmICh0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCA9PT0gLTEgJiYgb2Zmc2V0IDwgMClcbiAgICAgIHRoaXMuX2N1cnJlbnRDaHVua0luZGV4ID0gMDtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdBdWRpb1N0cmVhbS5zdGFydCgpJywgdGhpcy5fdXJsLCB0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCk7XG4gICAgdGhpcy5fc3RvcFJlcXVpcmVkID0gZmFsc2U7XG4gICAgdGhpcy5fcXVldWVFbmRUaW1lID0gdGhpcy5zeW5jU2VydmljZS5nZXRTeW5jVGltZSgpIC0gb2Zmc2V0SW5GaXJzdENodW5rO1xuXG4gICAgLy8gQGltcG9ydGFudCAtIG5ldmVyIGNoYW5nZSB0aGUgb3JkZXIgb2YgdGhlc2UgMiBjYWxsc1xuICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl9yZXF1ZXN0Q2h1bmtzLCB0aGlzLm1vbml0b3JJbnRlcnZhbCk7XG4gICAgdGhpcy5fcmVxdWVzdENodW5rcygpO1xuICB9XG5cbiAgX29uZW5kZWQoKSB7XG4gICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm9uZW5kZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBhdWRpbyBzdHJlYW0uIE1pbWljcyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgc3RvcCgpIG1ldGhvZC4gQSBzdG9wcGVkXG4gICAqIGF1ZGlvIHN0cmVhbSBjYW4gYmUgc3RhcnRlZCAobm8gbmVlZCB0byBjcmVhdGUgYSBuZXcgb25lIGFzIHJlcXVpcmVkIHdoZW5cbiAgICogdXNpbmcgYW4gQXVkaW9CdWZmZXJTb3VyY2VOb2RlKS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCAtIG9mZnNldCB0aW1lIChpbiBzZWMpIGZyb20gbm93IGF0IHdoaWNoXG4gICAqICB0aGUgYXVkaW8gc3RyZWFtIHNob3VsZCBzdG9wIHBsYXlpbmcuXG4gICAqL1xuICBzdG9wKG9mZnNldCA9IDApIHtcbiAgICBpZiAoIXRoaXMuaXNQbGF5aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tXQVJOSU5HXSAtIHN0b3AgZGlzY2FyZGVkLCBub3Qgc3RhcnRlZCBvciBhbHJlYWR5IGVuZGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2ludGVydmFsSWQgIT09IHVuZGVmaW5lZClcbiAgICAgIHRoaXMuX2NsZWFyUmVxdWVzdENodW5rcygpO1xuXG5cbiAgICB0aGlzLl9zdG9wUmVxdWlyZWQgPSB0cnVlOyAvLyBhdm9pZCBwbGF5aW5nIGJ1ZmZlciB0aGF0IGFyZSBjdXJyZW50bHkgbG9hZGluZ1xuICAgIHRoaXMuX3Jlc2V0KCk7XG5cbiAgICBjb25zdCBub3cgPSB0aGlzLnN5bmNTZXJ2aWNlLmdldFN5bmNUaW1lKCk7XG4gICAgY29uc3QgYXVkaW9UaW1lID0gYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zcmNNYXAuc2l6ZTtcbiAgICBsZXQgY291bnRlciA9IDA7XG5cbiAgICB0aGlzLl9zcmNNYXAuZm9yRWFjaCgoc3JjLCBzdGFydFRpbWUpID0+IHtcbiAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgIHNyYy5vbmVuZGVkID0gbnVsbDtcblxuICAgICAgLy8gcGljayBhIHNvdXJjZSBhcmJpdHJhcmlseSB0byB0cmlnZ2VyIHRoZSBgb25lbmRlZGAgZXZlbnQgcHJvcGVybHlcbiAgICAgIGlmIChjb3VudGVyID09PSBzaXplKVxuICAgICAgICBzcmMub25lbmRlZCA9IHRoaXMuX29uZW5kZWQ7XG5cbiAgICAgIGlmIChzdGFydFRpbWUgPCAobm93ICsgb2Zmc2V0KSB8fMKgc3JjLm9uZW5kZWQgIT09IG51bGwpXG4gICAgICAgIHNyYy5zdG9wKGF1ZGlvVGltZSArIG9mZnNldCk7XG4gICAgICBlbHNlXG4gICAgICAgIHNyYy5zdG9wKGF1ZGlvVGltZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zcmNNYXAuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCBcImxvY2FsIGJ1ZmZlciB0aW1lXCIgZm9yIHRoZSBhdWRpbyBzdHJlYW0sXG4gICAqIHJlcXVlc3QgbmV3IGJ1ZmZlciBjaHVua3Mgb3RoZXJ3aXNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlcXVlc3RDaHVua3MoKSB7XG4gICAgY29uc3QgYnVmZmVySW5mbyA9IHRoaXMuYnVmZmVySW5mb3MuZ2V0KHRoaXMuX3VybCk7XG4gICAgY29uc3Qgbm93ID0gdGhpcy5zeW5jU2VydmljZS5nZXRTeW5jVGltZSgpO1xuXG4gICAgLy8gaGF2ZSB0byBkZWFsIHByb3Blcmx5IHdpdGhcbiAgICB3aGlsZSAodGhpcy5fcXVldWVFbmRUaW1lIC0gbm93IDw9IHRoaXMucmVxdWlyZWRBZHZhbmNlVGhyZXNob2xkKSB7XG4gICAgICAvLyBpbiBub24gc3luYyBtb2RlLCB3ZSB3YW50IHRoZSBzdGFydCB0aW1lIHRvIGJlIGRlbGF5ZWQgd2hlbiB0aGUgZmlyc3RcbiAgICAgIC8vIGJ1ZmZlciBpcyBhY3R1YWxseSByZWNlaXZlZCwgc28gd2UgbG9hZCBpdCBiZWZvcmUgcmVxdWVzdGluZyBuZXh0IG9uZXNcbiAgICAgIGlmICh0aGlzLl9maXJzdFBhY2tldFN0YXRlID09PSAxICYmICF0aGlzLl9zeW5jKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNvbnN0IGNodW5rSW5mb3MgPSBidWZmZXJJbmZvW3RoaXMuX2N1cnJlbnRDaHVua0luZGV4XTtcbiAgICAgIGNvbnN0IGNodW5rU3RhcnRUaW1lID0gdGhpcy5fcXVldWVFbmRUaW1lIC0gY2h1bmtJbmZvcy5vdmVybGFwU3RhcnQ7XG4gICAgICBjb25zdCB1cmwgPSBjaHVua0luZm9zLnVybDtcblxuICAgICAgLy8gZmxhZyB0aGF0IGZpcnN0IHBhY2tldCBoYXMgYmVlbiByZXF1aXJlZCBhbmQgdGhhdCB3ZSBtdXN0IGF3YWl0IGZvciBpdHNcbiAgICAgIC8vIGFycml2YWwgaW4gdW5zeW5jIG1vZGUgYmVmb3JlIGFza2luZyBmb3IgbW9yZSwgYXMgdGhlIG5ldHdvcmsgZGVsYXlcbiAgICAgIC8vIHdpbGwgZGVmaW5lIHRoZSBgdHJ1ZWAgc3RhcnQgdGltZVxuICAgICAgaWYgKHRoaXMuX2ZpcnN0UGFja2V0U3RhdGUgPT09IDAgJiYgIXRoaXMuX3N5bmMpXG4gICAgICAgIHRoaXMuX2ZpcnN0UGFja2V0U3RhdGUgPSAxO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZygnY3VycmVudENodW5rSW5kZXgnLCB0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygndGltZUF0UXVldWVFbmQnLCB0aGlzLl9xdWV1ZUVuZFRpbWUpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ2NodW5rU3RhcnRUaW1lJywgY2h1bmtTdGFydFRpbWUpO1xuXG4gICAgICBjb25zdCBjdXJyZW50Q2h1bmtJbmRleCA9IHRoaXMuX2N1cnJlbnRDaHVua0luZGV4O1xuXG4gICAgICB0aGlzLl9jdXJyZW50Q2h1bmtJbmRleCArPSAxO1xuICAgICAgdGhpcy5fcXVldWVFbmRUaW1lICs9IGNodW5rSW5mb3MuZHVyYXRpb247XG5cbiAgICAgIGxldCBpc0xhc3RDaHVuayA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5fY3VycmVudENodW5rSW5kZXggPT09IGJ1ZmZlckluZm8ubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb29wKSB7XG4gICAgICAgICAgdGhpcy5fY3VycmVudENodW5rSW5kZXggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGhhcyB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb25jZSBvdXRzaWRlIHRoZSBsb29wLCBpdCBtaWdodCBhcHBlbmRcbiAgICAgICAgICAvLyB0aGF0IHdlIGZpbmlzaCB0aGUgd2hvbGUgbG9hZGluZyB3aXRob3V0IGFjdHVhbGx5IGhhdmluZyBhblxuICAgICAgICAgIC8vIGludGVydmFsSWQsIG1heWJlIGhhbmRsZSB0aGlzIG1vcmUgcHJvcGVybHkgd2l0aCByZWNjdXJzaXZlXG4gICAgICAgICAgLy8gYHNldFRpbWVvdXRgc1xuICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkKVxuICAgICAgICAgICAgdGhpcy5fY2xlYXJSZXF1ZXN0Q2h1bmtzKCk7XG4gICAgICAgICAgLy8gYnV0IHJlc2V0IGxhdGVyIGFzIHRoZSBsYXN0IGNodW5rIHN0aWxsIG5lZWRzIHRoZSBjdXJyZW50IG9mZnNldHNcbiAgICAgICAgICBpc0xhc3RDaHVuayA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gbG9hZCBhbmQgYWRkIGJ1ZmZlciB0byBxdWV1ZVxuICAgICAgbG9hZEF1ZGlvQnVmZmVyKHVybCkudGhlbigoYnVmZmVyKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9zdG9wUmVxdWlyZWQpXG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIG1hcmsgdGhhdCBmaXJzdCBwYWNrZXQgYXJyaXZlZCBhbmQgdGhhdCB3ZSBjYW4gYXNrIGZvciBtb3JlXG4gICAgICAgIGlmICh0aGlzLl9maXJzdFBhY2tldFN0YXRlID09PSAxICYmICF0aGlzLl9zeW5jKVxuICAgICAgICAgIHRoaXMuX2ZpcnN0UGFja2V0U3RhdGUgPSAyO1xuXG4gICAgICAgIGNvbnN0IHsgb3ZlcmxhcFN0YXJ0LCBvdmVybGFwRW5kIH0gPSBjaHVua0luZm9zO1xuICAgICAgICB0aGlzLl9hZGRCdWZmZXJUb1F1ZXVlKGJ1ZmZlciwgY2h1bmtTdGFydFRpbWUsIG92ZXJsYXBTdGFydCwgb3ZlcmxhcEVuZCwgaXNMYXN0Q2h1bmspO1xuXG4gICAgICAgIGlmIChpc0xhc3RDaHVuaylcbiAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc0xhc3RDaHVuaylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbG9va2luZyBmb3IgbmV3IGNodW5rc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NsZWFyUmVxdWVzdENodW5rcygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgQXVkaW9TdHJlYW0uX2NsZWFyUmVxdWVzdENodW5rcygpICR7dGhpcy5fdXJsfSAtIGNsZWFySW50ZXJ2YWxgLCB0aGlzLl9pbnRlcnZhbElkKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsSWQpO1xuICAgIHRoaXMuX2ludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGF1ZGlvIGJ1ZmZlciB0byBzdHJlYW0gcXVldWUuXG4gICAqXG4gICAqIEBwYXJhbSB7QXVkaW9CdWZmZXJ9IGJ1ZmZlciAtIEF1ZGlvIGJ1ZmZlciB0byBhZGQgdG8gcGxheWluZyBxdWV1ZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VGltZSAtIFRpbWUgYXQgd2hpY2ggYXVkaW8gYnVmZmVyIHBsYXlpbmcgaXMgZHVlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3ZlcmxhcFN0YXJ0IC0gRHVyYXRpb24gKGluIHNlYykgb2YgdGhlIGFkZGl0aW9uYWwgYXVkaW9cbiAgICogIGNvbnRlbnQgYWRkZWQgYnkgdGhlIG5vZGUtYXVkaW8tc2xpY2VyIChvbiBzZXJ2ZXIgc2lkZSkgYXQgYXVkaW8gYnVmZmVyJ3NcbiAgICogIGhlYWQgKHVzZWQgaW4gZmFkZS1pbiBtZWNoYW5pc20gdG8gYXZvaWQgcGVyY2VpdmluZyBwb3RlbnRpYWwgLm1wM1xuICAgKiAgZW5jb2RpbmcgYXJ0aWZhY3RzIGludHJvZHVjZWQgd2hlbiBidWZmZXIgc3RhcnRzIHdpdGggbm9uLXplcm8gdmFsdWUpXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvdmVybGFwRW5kIC0gRHVyYXRpb24gKGluIHNlYykgb2YgdGhlIGFkZGl0aW9uYWwgYXVkaW9cbiAgICogIGNvbnRlbnQgYWRkZWQgYXQgYXVkaW8gYnVmZmVyJ3MgdGFpbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hZGRCdWZmZXJUb1F1ZXVlKGJ1ZmZlciwgc3RhcnRUaW1lLCBvdmVybGFwU3RhcnQsIG92ZXJsYXBFbmQsIGlzTGFzdENodW5rKSB7XG4gICAgLy8gaGFyZC1jb2RlIG92ZXJsYXAgZmFkZS1pbiBhbmQgb3V0IGluIGJ1ZmZlclxuICAgIGNvbnN0IG51bVNhbXBsZXNGYWRlSW4gPSBNYXRoLmZsb29yKG92ZXJsYXBTdGFydCAqIGJ1ZmZlci5zYW1wbGVSYXRlKTtcbiAgICBjb25zdCBudW1TYW1wbGVzRmFkZU91dCA9IE1hdGguZmxvb3Iob3ZlcmxhcEVuZCAqIGJ1ZmZlci5zYW1wbGVSYXRlKTtcbiAgICAvLyBsb29wIG92ZXIgYXVkaW8gY2hhbm5lbHNcbiAgICBmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBjaGFubmVsKyspIHtcbiAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpO1xuXG4gICAgICAvLyBmYWRlIGluXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNhbXBsZXNGYWRlSW47IGkrKykge1xuICAgICAgICBjb25zdCBnYWluID0gaSAvIChudW1TYW1wbGVzRmFkZUluIC0gMSk7XG4gICAgICAgIGNoYW5uZWxEYXRhW2ldID0gY2hhbm5lbERhdGFbaV0gKiBnYWluO1xuICAgICAgfVxuXG4gICAgICAvLyBmYWRlIG91dFxuICAgICAgZm9yIChsZXQgaSA9IGNoYW5uZWxEYXRhLmxlbmd0aCAtIG51bVNhbXBsZXNGYWRlT3V0OyBpIDwgY2hhbm5lbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZ2FpbiA9IChjaGFubmVsRGF0YS5sZW5ndGggLSBpIC0gMSkgLyAobnVtU2FtcGxlc0ZhZGVPdXQgLSAxKTtcbiAgICAgICAgY2hhbm5lbERhdGFbaV0gPSBjaGFubmVsRGF0YVtpXSAqIGdhaW47XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBjb25zdCBzeW5jVGltZSA9IHRoaXMuc3luY1NlcnZpY2UuZ2V0U3luY1RpbWUoKTtcbiAgICBjb25zdCBub3cgPSBhdWRpb0NvbnRleHQuY3VycmVudFRpbWU7XG4gICAgbGV0IG9mZnNldCA9IHN0YXJ0VGltZSAtIHN5bmNUaW1lO1xuXG4gICAgLy8gLSBpbiBgbm9uIHN5bmNgIHNjZW5hcmlvLCB3ZSB3YW50IHRvIHRha2UgaW4gYWNjb3VudCB0aGUgbGF0ZW5jeSBpbmR1Y2VkXG4gICAgLy8gYnkgdGhlIGxvYWRpbmcgb2YgdGhlIGZpcnN0IGNodW5rLiBUaGlzIGxhdGVuY3kgbXVzdCB0aGVuIGJlIGFwcGxpZWRcbiAgICAvLyB0byBhbGwgc3Vic2VxdWVudCBjaHVua3MuXG4gICAgLy8gLSBpbiBgc3luY2Agc2NlbmFyaW9zLCB3ZSBqdXN0IGxldCB0aGUgbG9naWNhbCBzdGFydCB0aW1lIGFuZCBjb21wdXRlZFxuICAgIC8vIG9mZnNldCBkbyB0aGVpciBqb2IuLi5cbiAgICAvLyAtIGluIGBwZXJpb2RpY2Agc2NlbmFyaW9zIHdlIGRvbid0IHdhbnQgdG8gY29tcGVuc2F0ZSBmb3IgdGhlIGxvYWRpbmcgdGltZVxuICAgIGlmICghdGhpcy5fc3luYyAmJiAhdGhpcy5fcGVyaW9kaWMpIHtcbiAgICAgIC8vXG4gICAgICBpZiAodGhpcy5fZmlyc3RDaHVua05ldHdvcmtMYXRlbmN5T2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fZmlyc3RDaHVua05ldHdvcmtMYXRlbmN5T2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBvZmZzZXQgLT0gdGhpcy5fZmlyc3RDaHVua05ldHdvcmtMYXRlbmN5T2Zmc2V0O1xuICAgIH1cblxuICAgIC8vIGlmIGNvbXB1dGVkIG9mZnNldCBpcyBzbWFsbGVyIHRoYW4gZHVyYXRpb25cbiAgICBpZiAoLW9mZnNldCA8PSBidWZmZXIuZHVyYXRpb24pIHtcbiAgICAgIC8vIGNyZWF0ZSBhdWRpbyBzb3VyY2VcbiAgICAgIGNvbnN0IHNyYyA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgIHNyYy5jb25uZWN0KHRoaXMub3V0cHV0KTtcbiAgICAgIHNyYy5idWZmZXIgPSBidWZmZXI7XG5cbiAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgIHNyYy5zdGFydChub3csIC1vZmZzZXQpO1xuICAgICAgICAvLyB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBzdGFydFxuICAgICAgICB0aGlzLm9ubGF0ZSgtb2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNyYy5zdGFydChub3cgKyBvZmZzZXQsIDApO1xuICAgICAgfVxuXG5cbiAgICAgIC8vIGtlZXAgYW5kIGNsZWFuIHJlZmVyZW5jZSB0byBzb3VyY2VcbiAgICAgIHRoaXMuX3NyY01hcC5zZXQoc3RhcnRUaW1lLCBzcmMpO1xuXG4gICAgICBzcmMub25lbmRlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc3JjTWFwLmRlbGV0ZShzdGFydFRpbWUpO1xuXG4gICAgICAgIGlmIChpc0xhc3RDaHVuaylcbiAgICAgICAgICB0aGlzLl9vbmVuZGVkKCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uZHJvcCgpO1xuICAgIH1cbiAgfVxuXG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIEF1ZGlvU3RyZWFtTWFuYWdlcik7XG5leHBvcnQgZGVmYXVsdCBBdWRpb1N0cmVhbU1hbmFnZXI7XG4iXX0=","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/typeof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js","path":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/path-browserify/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MetricScheduler.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MetricScheduler.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _wavesAudio = require('waves-audio');\n\nvar audio = _interopRequireWildcard(_wavesAudio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar audioScheduler = audio.getScheduler();\n\nvar SERVICE_ID = 'service:metric-scheduler';\n\nvar EPSILON = 1e-12;\n\nvar SyncSchedulerHook = function (_audio$TimeEngine) {\n  (0, _inherits3.default)(SyncSchedulerHook, _audio$TimeEngine);\n\n  function SyncSchedulerHook(syncScheduler, metricScheduler) {\n    (0, _classCallCheck3.default)(this, SyncSchedulerHook);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SyncSchedulerHook.__proto__ || (0, _getPrototypeOf2.default)(SyncSchedulerHook)).call(this));\n\n    _this.nextPosition = Infinity;\n    _this.nextTime = Infinity;\n\n    _this.syncScheduler = syncScheduler;\n    _this.metricScheduler = metricScheduler;\n\n    syncScheduler.add(_this, Infinity); // add hook to sync (master) scheduler\n    return _this;\n  }\n\n  (0, _createClass3.default)(SyncSchedulerHook, [{\n    key: 'advanceTime',\n    value: function advanceTime(syncTime) {\n      var metricScheduler = this.metricScheduler;\n      var nextPosition = metricScheduler._advancePosition(syncTime, this.nextPosition, metricScheduler._metricSpeed);\n      var nextTime = metricScheduler.getSyncTimeAtMetricPosition(nextPosition);\n\n      this.nextPosition = nextPosition;\n      this.nextTime = nextTime;\n\n      return nextTime;\n    }\n  }, {\n    key: 'reschedule',\n    value: function reschedule() {\n      var metricScheduler = this.metricScheduler;\n      var nextPosition = metricScheduler._engineQueue.time;\n      var syncTime = metricScheduler.getSyncTimeAtMetricPosition(nextPosition);\n\n      if (syncTime !== this.nextTime) {\n        this.nextPosition = nextPosition;\n        this.nextTime = syncTime;\n\n        this.resetTime(syncTime);\n      }\n    }\n  }]);\n  return SyncSchedulerHook;\n}(audio.TimeEngine);\n\nvar SyncEventEngine = function (_audio$TimeEngine2) {\n  (0, _inherits3.default)(SyncEventEngine, _audio$TimeEngine2);\n\n  function SyncEventEngine(syncScheduler, metricScheduler) {\n    (0, _classCallCheck3.default)(this, SyncEventEngine);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (SyncEventEngine.__proto__ || (0, _getPrototypeOf2.default)(SyncEventEngine)).call(this));\n\n    _this2.syncScheduler = syncScheduler;\n    _this2.metricScheduler = metricScheduler;\n\n    _this2.syncTime = undefined;\n    _this2.metricPosition = undefined;\n    _this2.tempo = undefined;\n    _this2.tempoUnit = undefined;\n    _this2.event = undefined;\n\n    syncScheduler.add(_this2, Infinity);\n    return _this2;\n  }\n\n  (0, _createClass3.default)(SyncEventEngine, [{\n    key: 'advanceTime',\n    value: function advanceTime(syncTime) {\n      this.metricScheduler._sync(this.syncTime, this.metricPosition, this.tempo, this.tempoUnit, this.event);\n      return Infinity;\n    }\n  }, {\n    key: 'set',\n    value: function set(syncTime, metricPosition, tempo, tempoUnit, event) {\n      this.syncTime = syncTime;\n      this.metricPosition = metricPosition;\n      this.tempo = tempo;\n      this.tempoUnit = tempoUnit;\n      this.event = event;\n\n      this.resetTime(syncTime);\n    }\n  }, {\n    key: 'reset',\n    value: function reset(syncTime, metricPosition, tempo, tempoUnit, event) {\n      this.syncTime = undefined;\n      this.metricPosition = undefined;\n      this.tempo = undefined;\n      this.tempoUnit = undefined;\n      this.event = undefined;\n\n      this.resetTime(Infinity);\n    }\n  }]);\n  return SyncEventEngine;\n}(audio.TimeEngine);\n\nvar BeatEngine = function (_audio$TimeEngine3) {\n  (0, _inherits3.default)(BeatEngine, _audio$TimeEngine3);\n\n  function BeatEngine(metro) {\n    (0, _classCallCheck3.default)(this, BeatEngine);\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (BeatEngine.__proto__ || (0, _getPrototypeOf2.default)(BeatEngine)).call(this));\n\n    _this3.metro = metro;\n    audioScheduler.add(_this3, Infinity);\n    return _this3;\n  }\n\n  // generate next beat\n\n\n  (0, _createClass3.default)(BeatEngine, [{\n    key: 'advanceTime',\n    value: function advanceTime(audioTime) {\n      var metro = this.metro;\n\n      var cont = metro.callback(metro.measureCount, metro.beatCount);\n      metro.beatCount++;\n\n      if (cont === undefined || cont === true) {\n        if (metro.beatCount >= metro.numBeats) return Infinity;\n\n        return audioTime + metro.beatPeriod;\n      }\n\n      metro.resetPosition(Infinity);\n      return Infinity;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.metro = null;\n\n      if (this.master) this.master.remove(this);\n    }\n  }]);\n  return BeatEngine;\n}(audio.TimeEngine);\n\nvar MetronomeEngine = function (_audio$TimeEngine4) {\n  (0, _inherits3.default)(MetronomeEngine, _audio$TimeEngine4);\n\n  function MetronomeEngine(startPosition, numBeats, beatLength, startOnBeat, callback) {\n    (0, _classCallCheck3.default)(this, MetronomeEngine);\n\n    var _this4 = (0, _possibleConstructorReturn3.default)(this, (MetronomeEngine.__proto__ || (0, _getPrototypeOf2.default)(MetronomeEngine)).call(this));\n\n    _this4.startPosition = startPosition;\n    _this4.numBeats = numBeats;\n    _this4.beatLength = beatLength;\n    _this4.startOnBeat = startOnBeat;\n    _this4.callback = callback;\n\n    _this4.measureLength = numBeats * beatLength;\n    _this4.beatPeriod = 0;\n    _this4.measureCount = 0;\n    _this4.beatCount = 0;\n\n    if (numBeats > 1) _this4.beatEngine = new BeatEngine(_this4);\n    return _this4;\n  }\n\n  // return position of next measure\n\n\n  (0, _createClass3.default)(MetronomeEngine, [{\n    key: 'syncSpeed',\n    value: function syncSpeed(syncTime, metricPosition, metricSpeed) {\n      if (metricSpeed <= 0 && this.beatEngine) this.beatEngine.resetTime(Infinity);\n    }\n\n    // return position of next measure\n\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(syncTime, metricPosition, metricSpeed) {\n      var startPosition = this.startPosition;\n\n      if (this.beatEngine) this.beatEngine.resetTime(Infinity);\n\n      // since we are anyway a little in advance, make sure that we don't skip\n      // the start point due to rounding errors\n      metricPosition -= EPSILON;\n\n      this.beatPeriod = this.beatLength / metricSpeed;\n      this.beatCount = 0;\n\n      if (metricPosition >= startPosition) {\n        var relativePosition = metricPosition - startPosition;\n        var floatMeasures = relativePosition / this.measureLength;\n        var measureCount = Math.floor(floatMeasures);\n        var measurePhase = floatMeasures - measureCount;\n\n        if (this.beatEngine && this.startOnBeat) {\n          var floatBeats = this.numBeats * measurePhase;\n          var nextBeatCount = Math.ceil(floatBeats) % this.numBeats;\n\n          this.beatCount = nextBeatCount; // next beat\n\n          if (nextBeatCount !== 0) {\n            var audioTime = audioScheduler.currentTime;\n            var nextBeatDelay = (nextBeatCount - floatBeats) * this.beatPeriod;\n            this.beatEngine.resetTime(audioTime + nextBeatDelay);\n          }\n        }\n\n        if (measurePhase > 0) measureCount++;\n\n        this.measureCount = measureCount - 1;\n\n        return startPosition + measureCount * this.measureLength;\n      }\n\n      this.measureCount = -1;\n      return startPosition;\n    }\n\n    // generate next measure\n\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(syncTime, metricPosition, metricSpeed) {\n      var audioTime = audioScheduler.currentTime;\n\n      this.measureCount++;\n\n      // whether metronome continues (default is true)\n      var cont = this.callback(this.measureCount, 0);\n\n      this.beatCount = 1;\n\n      if (cont === undefined || cont === true) {\n        if (this.beatEngine) this.beatEngine.resetTime(audioTime + this.beatPeriod);\n\n        return metricPosition + this.measureLength;\n      }\n\n      if (this.beatEngine) this.beatEngine.resetTime(Infinity);\n\n      return Infinity;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      if (this.beatEngine) this.beatEngine.destroy();\n\n      if (this.master) this.master.remove(this);\n    }\n  }]);\n  return MetronomeEngine;\n}(audio.TimeEngine);\n\nvar MetricScheduler = function (_Service) {\n  (0, _inherits3.default)(MetricScheduler, _Service);\n\n  function MetricScheduler() {\n    (0, _classCallCheck3.default)(this, MetricScheduler);\n\n    var _this5 = (0, _possibleConstructorReturn3.default)(this, (MetricScheduler.__proto__ || (0, _getPrototypeOf2.default)(MetricScheduler)).call(this, SERVICE_ID, true));\n\n    _this5._syncScheduler = _this5.require('sync-scheduler');\n\n    _this5._engineQueue = new audio.PriorityQueue();\n    _this5._engineSet = new _set2.default();\n    _this5._metronomeEngineMap = new _map2.default();\n\n    _this5._tempo = 60; // tempo in beats per minute (BPM)\n    _this5._tempoUnit = 0.25; // tempo unit expressed in fractions of a whole note\n    _this5._metricSpeed = 0.25; // whole notes per second\n\n    _this5._syncTime = 0;\n    _this5._metricPosition = 0;\n\n    _this5._syncSchedulerHook = null;\n    _this5._syncEventEngine = null;\n\n    _this5._listeners = new _map2.default();\n    _this5._callingEventListeners = false;\n\n    // const defaults = {};\n    // this.configure(defaults);\n\n    _this5._onInit = _this5._onInit.bind(_this5);\n    _this5._onSync = _this5._onSync.bind(_this5);\n    _this5._onClear = _this5._onClear.bind(_this5);\n    return _this5;\n  }\n\n  (0, _createClass3.default)(MetricScheduler, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(MetricScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(MetricScheduler.prototype), 'start', this).call(this);\n\n      this._syncSchedulerHook = new SyncSchedulerHook(this._syncScheduler, this);\n      this._syncEventEngine = new SyncEventEngine(this._syncScheduler, this);\n\n      this.send('request');\n      this.receive('init', this._onInit);\n      this.receive('clear', this._onClear);\n      this.receive('sync', this._onSync);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(MetricScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(MetricScheduler.prototype), 'stop', this).call(this);\n    }\n  }, {\n    key: '_callEventListeners',\n    value: function _callEventListeners(event) {\n      var listeners = this._listeners.get(event);\n\n      if (listeners) {\n        this._callingEventListeners = true;\n\n        var data = {\n          syncTime: this._syncTime,\n          metricPosition: this._metricPosition,\n          tempo: this._tempo,\n          tempoUnit: this._tempoUnit\n        };\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = (0, _getIterator3.default)(listeners), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var callback = _step.value;\n\n            callback(event, data);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        this._callingEventListeners = false;\n      }\n    }\n  }, {\n    key: '_rescheduleMetricEngines',\n    value: function _rescheduleMetricEngines() {\n      var syncTime = this.syncTime;\n      var metricPosition = this.getMetricPositionAtSyncTime(syncTime);\n\n      this._engineQueue.clear();\n\n      if (this._metricSpeed > 0) {\n        // position engines\n        var metricSpeed = this._metricSpeed;\n        var queue = this._engineQueue;\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = (0, _getIterator3.default)(this._engineSet), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var engine = _step2.value;\n\n            var nextEnginePosition = engine.syncPosition(syncTime, metricPosition, metricSpeed);\n            queue.insert(engine, nextEnginePosition);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      } else {\n        // stop engines\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = (0, _getIterator3.default)(this._engineSet), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _engine = _step3.value;\n\n            if (_engine.syncSpeed) _engine.syncSpeed(syncTime, metricPosition, 0);\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      }\n\n      this._syncSchedulerHook.reschedule();\n    }\n  }, {\n    key: '_clearEngines',\n    value: function _clearEngines() {\n      this._engineQueue.clear();\n      this._engineSet.clear();\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = (0, _getIterator3.default)(this._metronomeEngineMap), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = (0, _slicedToArray3.default)(_step4.value, 2),\n              key = _step4$value[0],\n              engine = _step4$value[1];\n\n          engine.destroy();\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      this._metronomeEngineMap.clear();\n\n      this._syncSchedulerHook.reschedule();\n    }\n  }, {\n    key: '_advancePosition',\n    value: function _advancePosition(syncTime, metricPosition, metricSpeed) {\n      var engine = this._engineQueue.head;\n      var nextEnginePosition = engine.advancePosition(syncTime, metricPosition, metricSpeed);\n\n      if (nextEnginePosition === undefined) this._engineSet.delete(engine);\n\n      return this._engineQueue.move(engine, nextEnginePosition);\n    }\n  }, {\n    key: '_sync',\n    value: function _sync(syncTime, metricPosition, tempo, tempoUnit, event) {\n      this._syncTime = syncTime;\n      this._metricPosition = metricPosition;\n\n      this._tempo = tempo;\n      this._tempoUnit = tempoUnit;\n      this._metricSpeed = tempo * tempoUnit / 60;\n\n      if (event) this._callEventListeners(event);\n\n      this._rescheduleMetricEngines();\n    }\n  }, {\n    key: '_clearSyncEvent',\n    value: function _clearSyncEvent() {\n      this._syncEventEngine.reset();\n    }\n  }, {\n    key: '_setSyncEvent',\n    value: function _setSyncEvent(syncTime, metricPosition, tempo, tempoUnit, event) {\n      this._clearSyncEvent();\n\n      if (syncTime > this.syncTime) this._syncEventEngine.set(syncTime, metricPosition, tempo, tempoUnit, event);else this._sync(syncTime, metricPosition, tempo, tempoUnit, event);\n    }\n  }, {\n    key: '_onInit',\n    value: function _onInit(syncTime, metricPosition, tempo, tempoUnit) {\n      this._sync(syncTime, metricPosition, tempo, tempoUnit);\n      this.ready();\n    }\n  }, {\n    key: '_onClear',\n    value: function _onClear() {\n      this._clearSyncEvent();\n      this._clearEngines();\n    }\n  }, {\n    key: '_onSync',\n    value: function _onSync(syncTime, metricPosition, tempo, tempoUnit, event) {\n      this._setSyncEvent(syncTime, metricPosition, tempo, tempoUnit, event);\n    }\n\n    /**\n     * Current audio time.\n     * @type {Number}\n     */\n\n  }, {\n    key: 'getMetricPositionAtAudioTime',\n\n\n    /**\n     * Get metric position corrsponding to a given audio time (regarding the current tempo).\n     * @param  {Number} time - time\n     * @return {Number} - metric position\n     */\n    value: function getMetricPositionAtAudioTime(audioTime) {\n      if (this._tempo > 0) {\n        var syncTime = this._syncScheduler.getSyncTimeAtAudioTime(audioTime);\n        return this._metricPosition + (syncTime - this._syncTime) * this._metricSpeed;\n      }\n\n      return this._metricPosition;\n    }\n\n    /**\n     * Get metric position corrsponding to a given sync time (regarding the current tempo).\n     * @param  {Number} time - time\n     * @return {Number} - metric position\n     */\n\n  }, {\n    key: 'getMetricPositionAtSyncTime',\n    value: function getMetricPositionAtSyncTime(syncTime) {\n      if (this._tempo > 0) return this._metricPosition + (syncTime - this._syncTime) * this._metricSpeed;\n\n      return this._metricPosition;\n    }\n\n    /**\n     * Get sync time corresponding to a given metric position (regarding the current tempo).\n     * @param  {Number} position - metric position\n     * @return {Number} - sync time\n     */\n\n  }, {\n    key: 'getSyncTimeAtMetricPosition',\n    value: function getSyncTimeAtMetricPosition(metricPosition) {\n      var metricSpeed = this._metricSpeed;\n\n      if (metricPosition < Infinity && metricSpeed > 0) return this._syncTime + (metricPosition - this._metricPosition) / metricSpeed;\n\n      return Infinity;\n    }\n\n    /**\n     * Get audio time corresponding to a given metric position (regarding the current tempo).\n     * @param  {Number} position - metric position\n     * @return {Number} - audio time\n     */\n\n  }, {\n    key: 'getAudioTimeAtMetricPosition',\n    value: function getAudioTimeAtMetricPosition(metricPosition) {\n      var metricSpeed = this._metricSpeed;\n\n      if (metricPosition < Infinity && metricSpeed > 0) {\n        var syncTime = this._syncTime + (metricPosition - this._metricPosition) / metricSpeed;\n        return this._syncScheduler.getAudioTimeAtSyncTime(syncTime);\n      }\n\n      return Infinity;\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(event, callback) {\n      var listeners = this._listeners.get(event);\n\n      if (!listeners) {\n        listeners = new _set2.default();\n        this._listeners.set(event, listeners);\n      }\n\n      listeners.add(callback);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(callback) {\n      var listeners = this._listeners.get(event);\n\n      if (listeners) listeners.remove(callback);\n    }\n\n    /**\n     * Call a function at a given metric position.\n     *\n     * @param {Function} fun - Function to be deferred.\n     * @param {Number} metricPosition - The metric position at which the function should be executed.\n     * @param {Boolean} [lookahead=false] - Defines whether the function is called\n     *  anticipated (e.g. for audio events) or precisely at the given time (default).\n     */\n\n  }, {\n    key: 'addEvent',\n    value: function addEvent(fun, metricPosition) {\n      var lookahead = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var schedulerService = this;\n      var engine = {\n        timeout: null,\n        syncSpeed: function syncSpeed(time, position, speed) {\n          if (speed === 0) clearTimeout(this.timeout);\n        },\n        syncPosition: function syncPosition(time, position, speed) {\n          clearTimeout(this.timeout);\n\n          if (metricPosition >= position) return metricPosition;\n\n          return Infinity;\n        },\n        advancePosition: function advancePosition(time, position, speed) {\n          var delta = schedulerService.deltaTime;\n\n          if (delta > 0) this.timeout = setTimeout(fun, 1000 * delta, position); // bridge scheduler lookahead with timeout\n          else fun(position);\n\n          return Infinity;\n        }\n      };\n\n      this.add(engine, metricPosition); // add without checks\n    }\n  }, {\n    key: 'add',\n    value: function add(engine) {\n      var startPosition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.metricPosition;\n\n      this._engineSet.add(engine);\n\n      var metricPosition = Math.max(startPosition, this.metricPosition);\n\n      // schedule engine\n      if (!this._callingEventListeners && this._metricSpeed > 0) {\n        var syncTime = this.syncTime;\n        var nextEnginePosition = engine.syncPosition(syncTime, metricPosition, this._metricSpeed);\n\n        this._engineQueue.insert(engine, nextEnginePosition);\n        this._syncSchedulerHook.reschedule();\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove(engine) {\n      var syncTime = this.syncTime;\n      var metricPosition = this.getMetricPositionAtSyncTime(syncTime);\n\n      // stop engine\n      if (engine.syncSpeed) engine.syncSpeed(syncTime, metricPosition, 0);\n\n      if (this._engineSet.delete(engine) && !this._callingEventListeners && this._metricSpeed > 0) {\n        this._engineQueue.remove(engine);\n        this._syncSchedulerHook.reschedule();\n      }\n    }\n\n    /**\n     * Add a periodic callback starting at a given metric position.\n     * @param {Function} callback - callback function (cycle, beat)\n     * @param {Integer} numBeats - number of beats (time signature numerator)\n     * @param {Number} metricDiv - metric division of whole note (time signature denominator)\n     * @param {Number} tempoScale - linear tempo scale factor (in respect to master tempo)\n     * @param {Integer} startPosition - metric start position of the beat\n     */\n\n  }, {\n    key: 'addMetronome',\n    value: function addMetronome(callback) {\n      var numBeats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n      var metricDiv = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4;\n      var tempoScale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n      var startPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var startOnBeat = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n      var beatLength = 1 / (metricDiv * tempoScale);\n      var engine = new MetronomeEngine(startPosition, numBeats, beatLength, startOnBeat, callback);\n\n      this._metronomeEngineMap.set(callback, engine);\n      this.add(engine, startPosition);\n    }\n\n    /**\n     * Remove periodic callback.\n     * @param {Function} callback callback function\n     */\n\n  }, {\n    key: 'removeMetronome',\n    value: function removeMetronome(callback /*, endPosition */) {\n      var engine = this._metronomeEngineMap.get(callback);\n\n      if (engine) {\n        this._metronomeEngineMap.delete(callback);\n        this.remove(engine);\n      }\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return audioScheduler.currentTime;\n    }\n  }, {\n    key: 'syncTime',\n    get: function get() {\n      return this._syncScheduler.syncTime;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this._syncScheduler.syncTime;\n    }\n  }, {\n    key: 'metricPosition',\n    get: function get() {\n      if (this._tempo > 0) return this._metricPosition + (this._syncScheduler.syncTime - this._syncTime) * this._metricSpeed;\n\n      return this._metricPosition;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.metricPosition;\n    }\n\n    /**\n     * Difference between the audio scheduler's logical audio time and the `currentTime`\n     * of the audio context.\n     */\n\n  }, {\n    key: 'deltaTime',\n    get: function get() {\n      return audioScheduler.currentTime - audio.audioContext.currentTime;\n    }\n\n    /**\n     * Current tempo.\n     * @return {Number} - Tempo in BPM.\n     */\n\n  }, {\n    key: 'tempo',\n    get: function get() {\n      return this._tempo;\n    }\n\n    /**\n     * Current tempo unit.\n     * @return {Number} - Tempo unit in respect to whole note.\n     */\n\n  }, {\n    key: 'tempoUnit',\n    get: function get() {\n      return this._tempoUnit;\n    }\n  }]);\n  return MetricScheduler;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, MetricScheduler);\n\nexports.default = MetricScheduler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1ldHJpY1NjaGVkdWxlci5qcyJdLCJuYW1lcyI6WyJhdWRpbyIsImF1ZGlvU2NoZWR1bGVyIiwiZ2V0U2NoZWR1bGVyIiwiU0VSVklDRV9JRCIsIkVQU0lMT04iLCJTeW5jU2NoZWR1bGVySG9vayIsInN5bmNTY2hlZHVsZXIiLCJtZXRyaWNTY2hlZHVsZXIiLCJuZXh0UG9zaXRpb24iLCJJbmZpbml0eSIsIm5leHRUaW1lIiwiYWRkIiwic3luY1RpbWUiLCJfYWR2YW5jZVBvc2l0aW9uIiwiX21ldHJpY1NwZWVkIiwiZ2V0U3luY1RpbWVBdE1ldHJpY1Bvc2l0aW9uIiwiX2VuZ2luZVF1ZXVlIiwidGltZSIsInJlc2V0VGltZSIsIlRpbWVFbmdpbmUiLCJTeW5jRXZlbnRFbmdpbmUiLCJ1bmRlZmluZWQiLCJtZXRyaWNQb3NpdGlvbiIsInRlbXBvIiwidGVtcG9Vbml0IiwiZXZlbnQiLCJfc3luYyIsIkJlYXRFbmdpbmUiLCJtZXRybyIsImF1ZGlvVGltZSIsImNvbnQiLCJjYWxsYmFjayIsIm1lYXN1cmVDb3VudCIsImJlYXRDb3VudCIsIm51bUJlYXRzIiwiYmVhdFBlcmlvZCIsInJlc2V0UG9zaXRpb24iLCJtYXN0ZXIiLCJyZW1vdmUiLCJNZXRyb25vbWVFbmdpbmUiLCJzdGFydFBvc2l0aW9uIiwiYmVhdExlbmd0aCIsInN0YXJ0T25CZWF0IiwibWVhc3VyZUxlbmd0aCIsImJlYXRFbmdpbmUiLCJtZXRyaWNTcGVlZCIsInJlbGF0aXZlUG9zaXRpb24iLCJmbG9hdE1lYXN1cmVzIiwiTWF0aCIsImZsb29yIiwibWVhc3VyZVBoYXNlIiwiZmxvYXRCZWF0cyIsIm5leHRCZWF0Q291bnQiLCJjZWlsIiwiY3VycmVudFRpbWUiLCJuZXh0QmVhdERlbGF5IiwiZGVzdHJveSIsIk1ldHJpY1NjaGVkdWxlciIsIl9zeW5jU2NoZWR1bGVyIiwicmVxdWlyZSIsIlByaW9yaXR5UXVldWUiLCJfZW5naW5lU2V0IiwiX21ldHJvbm9tZUVuZ2luZU1hcCIsIl90ZW1wbyIsIl90ZW1wb1VuaXQiLCJfc3luY1RpbWUiLCJfbWV0cmljUG9zaXRpb24iLCJfc3luY1NjaGVkdWxlckhvb2siLCJfc3luY0V2ZW50RW5naW5lIiwiX2xpc3RlbmVycyIsIl9jYWxsaW5nRXZlbnRMaXN0ZW5lcnMiLCJfb25Jbml0IiwiYmluZCIsIl9vblN5bmMiLCJfb25DbGVhciIsInNlbmQiLCJyZWNlaXZlIiwibGlzdGVuZXJzIiwiZ2V0IiwiZGF0YSIsImdldE1ldHJpY1Bvc2l0aW9uQXRTeW5jVGltZSIsImNsZWFyIiwicXVldWUiLCJlbmdpbmUiLCJuZXh0RW5naW5lUG9zaXRpb24iLCJzeW5jUG9zaXRpb24iLCJpbnNlcnQiLCJzeW5jU3BlZWQiLCJyZXNjaGVkdWxlIiwia2V5IiwiaGVhZCIsImFkdmFuY2VQb3NpdGlvbiIsImRlbGV0ZSIsIm1vdmUiLCJfY2FsbEV2ZW50TGlzdGVuZXJzIiwiX3Jlc2NoZWR1bGVNZXRyaWNFbmdpbmVzIiwicmVzZXQiLCJfY2xlYXJTeW5jRXZlbnQiLCJzZXQiLCJyZWFkeSIsIl9jbGVhckVuZ2luZXMiLCJfc2V0U3luY0V2ZW50IiwiZ2V0U3luY1RpbWVBdEF1ZGlvVGltZSIsImdldEF1ZGlvVGltZUF0U3luY1RpbWUiLCJmdW4iLCJsb29rYWhlYWQiLCJzY2hlZHVsZXJTZXJ2aWNlIiwidGltZW91dCIsInBvc2l0aW9uIiwic3BlZWQiLCJjbGVhclRpbWVvdXQiLCJkZWx0YSIsImRlbHRhVGltZSIsInNldFRpbWVvdXQiLCJtYXgiLCJtZXRyaWNEaXYiLCJ0ZW1wb1NjYWxlIiwiYXVkaW9Db250ZXh0IiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7O0lBQVlBLEs7Ozs7OztBQUNaLElBQU1DLGlCQUFpQkQsTUFBTUUsWUFBTixFQUF2Qjs7QUFFQSxJQUFNQyxhQUFhLDBCQUFu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QUwsQ0FBWTZDLE1BQVo7QUFDRDtBQUNGOzs7d0JBeE5lO0FBQ2QsYUFBT2xGLGVBQWVxRCxXQUF0QjtBQUNEOzs7d0JBRWM7QUFDYixhQUFPLEtBQUtJLGNBQUwsQ0FBb0I5QyxRQUEzQjtBQUNEOzs7d0JBRWlCO0FBQ2hCLGFBQU8sS0FBSzhDLGNBQUwsQ0FBb0I5QyxRQUEzQjtBQUNEOzs7d0JBRW9CO0FBQ25CLFVBQUksS0FBS21ELE1BQUwsR0FBYyxDQUFsQixFQUNFLE9BQU8sS0FBS0csZUFBTCxHQUF1QixDQUFDLEtBQUtSLGNBQUwsQ0FBb0I5QyxRQUFwQixHQUErQixLQUFLcUQsU0FBckMsSUFBa0QsS0FBS25ELFlBQXJGOztBQUVGLGFBQU8sS0FBS29ELGVBQVo7QUFDRDs7O3dCQUVxQjtBQUNwQixhQUFPLEtBQUs1QyxjQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7d0JBSWdCO0FBQ2QsYUFBT3JCLGVBQWVxRCxXQUFmLEdBQTZCdEQsTUFBTXFILFlBQU4sQ0FBbUIvRCxXQUF2RDtBQUNEOztBQUVEOzs7Ozs7O3dCQUlZO0FBQ1YsYUFBTyxLQUFLUyxNQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7d0JBSWdCO0FBQ2QsYUFBTyxLQUFLQyxVQUFaO0FBQ0Q7OztFQTlNMkJzRCxpQjs7QUE0WDlCQyx5QkFBZUMsUUFBZixDQUF3QnJILFVBQXhCLEVBQW9Dc0QsZUFBcEM7O2tCQUVlQSxlIiwiZmlsZSI6Ik1ldHJpY1NjaGVkdWxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG5jb25zdCBhdWRpb1NjaGVkdWxlciA9IGF1ZGlvLmdldFNjaGVkdWxlcigpO1xuXG5jb25zdCBTRVJWSUNFX0lEID0gJ3NlcnZpY2U6bWV0cmljLXNjaGVkdWxlcic7XG5cbmNvbnN0IEVQU0lMT04gPSAxZS0xMjtcblxuY2xhc3MgU3luY1NjaGVkdWxlckhvb2sgZXh0ZW5kcyBhdWRpby5UaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Ioc3luY1NjaGVkdWxlciwgbWV0cmljU2NoZWR1bGVyKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubmV4dFBvc2l0aW9uID0gSW5maW5pdHk7XG4gICAgdGhpcy5uZXh0VGltZSA9IEluZmluaXR5O1xuXG4gICAgdGhpcy5zeW5jU2NoZWR1bGVyID0gc3luY1NjaGVkdWxlcjtcbiAgICB0aGlzLm1ldHJpY1NjaGVkdWxlciA9IG1ldHJpY1NjaGVkdWxlcjtcblxuICAgIHN5bmNTY2hlZHVsZXIuYWRkKHRoaXMsIEluZmluaXR5KTsgLy8gYWRkIGhvb2sgdG8gc3luYyAobWFzdGVyKSBzY2hlZHVsZXJcbiAgfVxuXG4gIGFkdmFuY2VUaW1lKHN5bmNUaW1lKSB7XG4gICAgY29uc3QgbWV0cmljU2NoZWR1bGVyID0gdGhpcy5tZXRyaWNTY2hlZHVsZXI7XG4gICAgY29uc3QgbmV4dFBvc2l0aW9uID0gbWV0cmljU2NoZWR1bGVyLl9hZHZhbmNlUG9zaXRpb24oc3luY1RpbWUsIHRoaXMubmV4dFBvc2l0aW9uLCBtZXRyaWNTY2hlZHVsZXIuX21ldHJpY1NwZWVkKTtcbiAgICBjb25zdCBuZXh0VGltZSA9IG1ldHJpY1NjaGVkdWxlci5nZXRTeW5jVGltZUF0TWV0cmljUG9zaXRpb24obmV4dFBvc2l0aW9uKTtcblxuICAgIHRoaXMubmV4dFBvc2l0aW9uID0gbmV4dFBvc2l0aW9uO1xuICAgIHRoaXMubmV4dFRpbWUgPSBuZXh0VGltZTtcblxuICAgIHJldHVybiBuZXh0VGltZTtcbiAgfVxuXG4gIHJlc2NoZWR1bGUoKSB7XG4gICAgY29uc3QgbWV0cmljU2NoZWR1bGVyID0gdGhpcy5tZXRyaWNTY2hlZHVsZXI7XG4gICAgY29uc3QgbmV4dFBvc2l0aW9uID0gbWV0cmljU2NoZWR1bGVyLl9lbmdpbmVRdWV1ZS50aW1lO1xuICAgIGNvbnN0IHN5bmNUaW1lID0gbWV0cmljU2NoZWR1bGVyLmdldFN5bmNUaW1lQXRNZXRyaWNQb3NpdGlvbihuZXh0UG9zaXRpb24pO1xuXG4gICAgaWYgKHN5bmNUaW1lICE9PSB0aGlzLm5leHRUaW1lKSB7XG4gICAgICB0aGlzLm5leHRQb3NpdGlvbiA9IG5leHRQb3NpdGlvbjtcbiAgICAgIHRoaXMubmV4dFRpbWUgPSBzeW5jVGltZTtcblxuICAgICAgdGhpcy5yZXNldFRpbWUoc3luY1RpbWUpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBTeW5jRXZlbnRFbmdpbmUgZXh0ZW5kcyBhdWRpby5UaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Ioc3luY1NjaGVkdWxlciwgbWV0cmljU2NoZWR1bGVyKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc3luY1NjaGVkdWxlciA9IHN5bmNTY2hlZHVsZXI7XG4gICAgdGhpcy5tZXRyaWNTY2hlZHVsZXIgPSBtZXRyaWNTY2hlZHVsZXI7XG5cbiAgICB0aGlzLnN5bmNUaW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWV0cmljUG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50ZW1wbyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRlbXBvVW5pdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmV2ZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgc3luY1NjaGVkdWxlci5hZGQodGhpcywgSW5maW5pdHkpO1xuICB9XG5cbiAgYWR2YW5jZVRpbWUoc3luY1RpbWUpIHtcbiAgICB0aGlzLm1ldHJpY1NjaGVkdWxlci5fc3luYyh0aGlzLnN5bmNUaW1lLCB0aGlzLm1ldHJpY1Bvc2l0aW9uLCB0aGlzLnRlbXBvLCB0aGlzLnRlbXBvVW5pdCwgdGhpcy5ldmVudCk7XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG5cbiAgc2V0KHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgdGVtcG8sIHRlbXBvVW5pdCwgZXZlbnQpIHtcbiAgICB0aGlzLnN5bmNUaW1lID0gc3luY1RpbWU7XG4gICAgdGhpcy5tZXRyaWNQb3NpdGlvbiA9IG1ldHJpY1Bvc2l0aW9uO1xuICAgIHRoaXMudGVtcG8gPSB0ZW1wbztcbiAgICB0aGlzLnRlbXBvVW5pdCA9IHRlbXBvVW5pdDtcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG5cbiAgICB0aGlzLnJlc2V0VGltZShzeW5jVGltZSk7XG4gIH1cblxuICByZXNldChzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIHRlbXBvLCB0ZW1wb1VuaXQsIGV2ZW50KSB7XG4gICAgdGhpcy5zeW5jVGltZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1ldHJpY1Bvc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudGVtcG8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50ZW1wb1VuaXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ldmVudCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMucmVzZXRUaW1lKEluZmluaXR5KTtcbiAgfVxufVxuXG5jbGFzcyBCZWF0RW5naW5lIGV4dGVuZHMgYXVkaW8uVGltZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKG1ldHJvKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubWV0cm8gPSBtZXRybztcbiAgICBhdWRpb1NjaGVkdWxlci5hZGQodGhpcywgSW5maW5pdHkpO1xuICB9XG5cbiAgLy8gZ2VuZXJhdGUgbmV4dCBiZWF0XG4gIGFkdmFuY2VUaW1lKGF1ZGlvVGltZSkge1xuICAgIGNvbnN0IG1ldHJvID0gdGhpcy5tZXRybztcblxuICAgIGNvbnN0IGNvbnQgPSBtZXRyby5jYWxsYmFjayhtZXRyby5tZWFzdXJlQ291bnQsIG1ldHJvLmJlYXRDb3VudCk7XG4gICAgbWV0cm8uYmVhdENvdW50Kys7XG5cbiAgICBpZiAoY29udCA9PT0gdW5kZWZpbmVkIHx8IGNvbnQgPT09IHRydWUpIHtcbiAgICAgIGlmIChtZXRyby5iZWF0Q291bnQgPj0gbWV0cm8ubnVtQmVhdHMpXG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcblxuICAgICAgcmV0dXJuIGF1ZGlvVGltZSArIG1ldHJvLmJlYXRQZXJpb2Q7XG4gICAgfVxuXG4gICAgbWV0cm8ucmVzZXRQb3NpdGlvbihJbmZpbml0eSk7XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1ldHJvID0gbnVsbDtcblxuICAgIGlmICh0aGlzLm1hc3RlcilcbiAgICAgIHRoaXMubWFzdGVyLnJlbW92ZSh0aGlzKTtcbiAgfVxufVxuXG5jbGFzcyBNZXRyb25vbWVFbmdpbmUgZXh0ZW5kcyBhdWRpby5UaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Ioc3RhcnRQb3NpdGlvbiwgbnVtQmVhdHMsIGJlYXRMZW5ndGgsIHN0YXJ0T25CZWF0LCBjYWxsYmFjaykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgIHRoaXMubnVtQmVhdHMgPSBudW1CZWF0cztcbiAgICB0aGlzLmJlYXRMZW5ndGggPSBiZWF0TGVuZ3RoO1xuICAgIHRoaXMuc3RhcnRPbkJlYXQgPSBzdGFydE9uQmVhdDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICB0aGlzLm1lYXN1cmVMZW5ndGggPSBudW1CZWF0cyAqIGJlYXRMZW5ndGg7XG4gICAgdGhpcy5iZWF0UGVyaW9kID0gMDtcbiAgICB0aGlzLm1lYXN1cmVDb3VudCA9IDA7XG4gICAgdGhpcy5iZWF0Q291bnQgPSAwO1xuXG4gICAgaWYgKG51bUJlYXRzID4gMSlcbiAgICAgIHRoaXMuYmVhdEVuZ2luZSA9IG5ldyBCZWF0RW5naW5lKHRoaXMpO1xuICB9XG5cbiAgLy8gcmV0dXJuIHBvc2l0aW9uIG9mIG5leHQgbWVhc3VyZVxuICBzeW5jU3BlZWQoc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCBtZXRyaWNTcGVlZCkge1xuICAgIGlmIChtZXRyaWNTcGVlZCA8PSAwICYmIHRoaXMuYmVhdEVuZ2luZSlcbiAgICAgIHRoaXMuYmVhdEVuZ2luZS5yZXNldFRpbWUoSW5maW5pdHkpO1xuICB9XG5cbiAgLy8gcmV0dXJuIHBvc2l0aW9uIG9mIG5leHQgbWVhc3VyZVxuICBzeW5jUG9zaXRpb24oc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCBtZXRyaWNTcGVlZCkge1xuICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG5cbiAgICBpZiAodGhpcy5iZWF0RW5naW5lKVxuICAgICAgdGhpcy5iZWF0RW5naW5lLnJlc2V0VGltZShJbmZpbml0eSk7XG5cbiAgICAvLyBzaW5jZSB3ZSBhcmUgYW55d2F5IGEgbGl0dGxlIGluIGFkdmFuY2UsIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IHNraXBcbiAgICAvLyB0aGUgc3RhcnQgcG9pbnQgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgIG1ldHJpY1Bvc2l0aW9uIC09IEVQU0lMT047XG5cbiAgICB0aGlzLmJlYXRQZXJpb2QgPSB0aGlzLmJlYXRMZW5ndGggLyBtZXRyaWNTcGVlZDtcbiAgICB0aGlzLmJlYXRDb3VudCA9IDA7XG5cbiAgICBpZiAobWV0cmljUG9zaXRpb24gPj0gc3RhcnRQb3NpdGlvbikge1xuICAgICAgY29uc3QgcmVsYXRpdmVQb3NpdGlvbiA9IG1ldHJpY1Bvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGZsb2F0TWVhc3VyZXMgPSByZWxhdGl2ZVBvc2l0aW9uIC8gdGhpcy5tZWFzdXJlTGVuZ3RoO1xuICAgICAgbGV0IG1lYXN1cmVDb3VudCA9IE1hdGguZmxvb3IoZmxvYXRNZWFzdXJlcyk7XG4gICAgICBjb25zdCBtZWFzdXJlUGhhc2UgPSBmbG9hdE1lYXN1cmVzIC0gbWVhc3VyZUNvdW50O1xuXG4gICAgICBpZiAodGhpcy5iZWF0RW5naW5lICYmIHRoaXMuc3RhcnRPbkJlYXQpIHtcbiAgICAgICAgY29uc3QgZmxvYXRCZWF0cyA9IHRoaXMubnVtQmVhdHMgKiBtZWFzdXJlUGhhc2U7XG4gICAgICAgIGNvbnN0IG5leHRCZWF0Q291bnQgPSBNYXRoLmNlaWwoZmxvYXRCZWF0cykgJSB0aGlzLm51bUJlYXRzO1xuXG4gICAgICAgIHRoaXMuYmVhdENvdW50ID0gbmV4dEJlYXRDb3VudDsgLy8gbmV4dCBiZWF0XG5cbiAgICAgICAgaWYgKG5leHRCZWF0Q291bnQgIT09IDApIHtcbiAgICAgICAgICBjb25zdCBhdWRpb1RpbWUgPSBhdWRpb1NjaGVkdWxlci5jdXJyZW50VGltZTtcbiAgICAgICAgICBjb25zdCBuZXh0QmVhdERlbGF5ID0gKG5leHRCZWF0Q291bnQgLSBmbG9hdEJlYXRzKSAqIHRoaXMuYmVhdFBlcmlvZDtcbiAgICAgICAgICB0aGlzLmJlYXRFbmdpbmUucmVzZXRUaW1lKGF1ZGlvVGltZSArIG5leHRCZWF0RGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWFzdXJlUGhhc2UgPiAwKVxuICAgICAgICBtZWFzdXJlQ291bnQrKztcblxuICAgICAgdGhpcy5tZWFzdXJlQ291bnQgPSBtZWFzdXJlQ291bnQgLSAxO1xuXG4gICAgICByZXR1cm4gc3RhcnRQb3NpdGlvbiArIG1lYXN1cmVDb3VudCAqIHRoaXMubWVhc3VyZUxlbmd0aDtcbiAgICB9XG5cbiAgICB0aGlzLm1lYXN1cmVDb3VudCA9IC0xO1xuICAgIHJldHVybiBzdGFydFBvc2l0aW9uO1xuICB9XG5cbiAgLy8gZ2VuZXJhdGUgbmV4dCBtZWFzdXJlXG4gIGFkdmFuY2VQb3NpdGlvbihzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIG1ldHJpY1NwZWVkKSB7XG4gICAgY29uc3QgYXVkaW9UaW1lID0gYXVkaW9TY2hlZHVsZXIuY3VycmVudFRpbWU7XG5cbiAgICB0aGlzLm1lYXN1cmVDb3VudCsrO1xuXG4gICAgLy8gd2hldGhlciBtZXRyb25vbWUgY29udGludWVzIChkZWZhdWx0IGlzIHRydWUpXG4gICAgY29uc3QgY29udCA9IHRoaXMuY2FsbGJhY2sodGhpcy5tZWFzdXJlQ291bnQsIDApO1xuXG4gICAgdGhpcy5iZWF0Q291bnQgPSAxO1xuXG4gICAgaWYgKGNvbnQgPT09IHVuZGVmaW5lZCB8fCBjb250ID09PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5iZWF0RW5naW5lKVxuICAgICAgICB0aGlzLmJlYXRFbmdpbmUucmVzZXRUaW1lKGF1ZGlvVGltZSArIHRoaXMuYmVhdFBlcmlvZCk7XG5cbiAgICAgIHJldHVybiBtZXRyaWNQb3NpdGlvbiArIHRoaXMubWVhc3VyZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5iZWF0RW5naW5lKVxuICAgICAgdGhpcy5iZWF0RW5naW5lLnJlc2V0VGltZShJbmZpbml0eSk7XG5cbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmJlYXRFbmdpbmUpXG4gICAgICB0aGlzLmJlYXRFbmdpbmUuZGVzdHJveSgpO1xuXG4gICAgaWYgKHRoaXMubWFzdGVyKVxuICAgICAgdGhpcy5tYXN0ZXIucmVtb3ZlKHRoaXMpO1xuICB9XG59XG5cbmNsYXNzIE1ldHJpY1NjaGVkdWxlciBleHRlbmRzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCB0cnVlKTtcblxuICAgIHRoaXMuX3N5bmNTY2hlZHVsZXIgPSB0aGlzLnJlcXVpcmUoJ3N5bmMtc2NoZWR1bGVyJyk7XG5cbiAgICB0aGlzLl9lbmdpbmVRdWV1ZSA9IG5ldyBhdWRpby5Qcmlvcml0eVF1ZXVlKCk7XG4gICAgdGhpcy5fZW5naW5lU2V0ID0gbmV3IFNldCgpO1xuICAgIHRoaXMuX21ldHJvbm9tZUVuZ2luZU1hcCA9IG5ldyBNYXAoKTtcblxuICAgIHRoaXMuX3RlbXBvID0gNjA7IC8vIHRlbXBvIGluIGJlYXRzIHBlciBtaW51dGUgKEJQTSlcbiAgICB0aGlzLl90ZW1wb1VuaXQgPSAwLjI1OyAvLyB0ZW1wbyB1bml0IGV4cHJlc3NlZCBpbiBmcmFjdGlvbnMgb2YgYSB3aG9sZSBub3RlXG4gICAgdGhpcy5fbWV0cmljU3BlZWQgPSAwLjI1OyAvLyB3aG9sZSBub3RlcyBwZXIgc2Vjb25kXG5cbiAgICB0aGlzLl9zeW5jVGltZSA9IDA7XG4gICAgdGhpcy5fbWV0cmljUG9zaXRpb24gPSAwO1xuXG4gICAgdGhpcy5fc3luY1NjaGVkdWxlckhvb2sgPSBudWxsO1xuICAgIHRoaXMuX3N5bmNFdmVudEVuZ2luZSA9IG51bGw7XG5cbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fY2FsbGluZ0V2ZW50TGlzdGVuZXJzID0gZmFsc2U7XG5cbiAgICAvLyBjb25zdCBkZWZhdWx0cyA9IHt9O1xuICAgIC8vIHRoaXMuY29uZmlndXJlKGRlZmF1bHRzKTtcblxuICAgIHRoaXMuX29uSW5pdCA9IHRoaXMuX29uSW5pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU3luYyA9IHRoaXMuX29uU3luYy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xlYXIgPSB0aGlzLl9vbkNsZWFyLmJpbmQodGhpcyk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgdGhpcy5fc3luY1NjaGVkdWxlckhvb2sgPSBuZXcgU3luY1NjaGVkdWxlckhvb2sodGhpcy5fc3luY1NjaGVkdWxlciwgdGhpcyk7XG4gICAgdGhpcy5fc3luY0V2ZW50RW5naW5lID0gbmV3IFN5bmNFdmVudEVuZ2luZSh0aGlzLl9zeW5jU2NoZWR1bGVyLCB0aGlzKTtcblxuICAgIHRoaXMuc2VuZCgncmVxdWVzdCcpO1xuICAgIHRoaXMucmVjZWl2ZSgnaW5pdCcsIHRoaXMuX29uSW5pdCk7XG4gICAgdGhpcy5yZWNlaXZlKCdjbGVhcicsIHRoaXMuX29uQ2xlYXIpO1xuICAgIHRoaXMucmVjZWl2ZSgnc3luYycsIHRoaXMuX29uU3luYyk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHN1cGVyLnN0b3AoKTtcbiAgfVxuXG4gIF9jYWxsRXZlbnRMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50KTtcblxuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2NhbGxpbmdFdmVudExpc3RlbmVycyA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIHN5bmNUaW1lOiB0aGlzLl9zeW5jVGltZSxcbiAgICAgICAgbWV0cmljUG9zaXRpb246IHRoaXMuX21ldHJpY1Bvc2l0aW9uLFxuICAgICAgICB0ZW1wbzogdGhpcy5fdGVtcG8sXG4gICAgICAgIHRlbXBvVW5pdDogdGhpcy5fdGVtcG9Vbml0LFxuICAgICAgfTtcblxuICAgICAgZm9yIChsZXQgY2FsbGJhY2sgb2YgbGlzdGVuZXJzKVxuICAgICAgICBjYWxsYmFjayhldmVudCwgZGF0YSk7XG5cbiAgICAgIHRoaXMuX2NhbGxpbmdFdmVudExpc3RlbmVycyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9yZXNjaGVkdWxlTWV0cmljRW5naW5lcygpIHtcbiAgICBjb25zdCBzeW5jVGltZSA9IHRoaXMuc3luY1RpbWU7XG4gICAgY29uc3QgbWV0cmljUG9zaXRpb24gPSB0aGlzLmdldE1ldHJpY1Bvc2l0aW9uQXRTeW5jVGltZShzeW5jVGltZSk7XG5cbiAgICB0aGlzLl9lbmdpbmVRdWV1ZS5jbGVhcigpO1xuXG4gICAgaWYgKHRoaXMuX21ldHJpY1NwZWVkID4gMCkge1xuICAgICAgLy8gcG9zaXRpb24gZW5naW5lc1xuICAgICAgY29uc3QgbWV0cmljU3BlZWQgPSB0aGlzLl9tZXRyaWNTcGVlZDtcbiAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fZW5naW5lUXVldWU7XG5cbiAgICAgIGZvciAobGV0IGVuZ2luZSBvZiB0aGlzLl9lbmdpbmVTZXQpIHtcbiAgICAgICAgY29uc3QgbmV4dEVuZ2luZVBvc2l0aW9uID0gZW5naW5lLnN5bmNQb3NpdGlvbihzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIG1ldHJpY1NwZWVkKTtcbiAgICAgICAgcXVldWUuaW5zZXJ0KGVuZ2luZSwgbmV4dEVuZ2luZVBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9wqBcbiAgICBlbHNlIHtcbiAgICAgIC8vIHN0b3AgZW5naW5lc1xuICAgICAgZm9yIChsZXQgZW5naW5lIG9mIHRoaXMuX2VuZ2luZVNldCkge1xuICAgICAgICBpZiAoZW5naW5lLnN5bmNTcGVlZClcbiAgICAgICAgICBlbmdpbmUuc3luY1NwZWVkKHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc3luY1NjaGVkdWxlckhvb2sucmVzY2hlZHVsZSgpO1xuICB9XG5cbiAgX2NsZWFyRW5naW5lcygpIHtcbiAgICB0aGlzLl9lbmdpbmVRdWV1ZS5jbGVhcigpO1xuICAgIHRoaXMuX2VuZ2luZVNldC5jbGVhcigpO1xuXG4gICAgZm9yIChsZXQgW2tleSwgZW5naW5lXSBvZiB0aGlzLl9tZXRyb25vbWVFbmdpbmVNYXApXG4gICAgICBlbmdpbmUuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5fbWV0cm9ub21lRW5naW5lTWFwLmNsZWFyKCk7XG5cbiAgICB0aGlzLl9zeW5jU2NoZWR1bGVySG9vay5yZXNjaGVkdWxlKCk7XG4gIH1cblxuICBfYWR2YW5jZVBvc2l0aW9uKHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgbWV0cmljU3BlZWQpIHtcbiAgICBjb25zdCBlbmdpbmUgPSB0aGlzLl9lbmdpbmVRdWV1ZS5oZWFkO1xuICAgIGNvbnN0IG5leHRFbmdpbmVQb3NpdGlvbiA9IGVuZ2luZS5hZHZhbmNlUG9zaXRpb24oc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCBtZXRyaWNTcGVlZCk7XG5cbiAgICBpZiAobmV4dEVuZ2luZVBvc2l0aW9uID09PSB1bmRlZmluZWQpXG4gICAgICB0aGlzLl9lbmdpbmVTZXQuZGVsZXRlKGVuZ2luZSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZW5naW5lUXVldWUubW92ZShlbmdpbmUsIG5leHRFbmdpbmVQb3NpdGlvbik7XG4gIH1cblxuICBfc3luYyhzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIHRlbXBvLCB0ZW1wb1VuaXQsIGV2ZW50KSB7XG4gICAgdGhpcy5fc3luY1RpbWUgPSBzeW5jVGltZTtcbiAgICB0aGlzLl9tZXRyaWNQb3NpdGlvbiA9IG1ldHJpY1Bvc2l0aW9uO1xuXG4gICAgdGhpcy5fdGVtcG8gPSB0ZW1wbztcbiAgICB0aGlzLl90ZW1wb1VuaXQgPSB0ZW1wb1VuaXQ7XG4gICAgdGhpcy5fbWV0cmljU3BlZWQgPSB0ZW1wbyAqIHRlbXBvVW5pdCAvIDYwO1xuXG4gICAgaWYgKGV2ZW50KVxuICAgICAgdGhpcy5fY2FsbEV2ZW50TGlzdGVuZXJzKGV2ZW50KTtcblxuICAgIHRoaXMuX3Jlc2NoZWR1bGVNZXRyaWNFbmdpbmVzKCk7XG4gIH1cblxuICBfY2xlYXJTeW5jRXZlbnQoKSB7XG4gICAgdGhpcy5fc3luY0V2ZW50RW5naW5lLnJlc2V0KCk7XG4gIH1cblxuICBfc2V0U3luY0V2ZW50KHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgdGVtcG8sIHRlbXBvVW5pdCwgZXZlbnQpIHtcbiAgICB0aGlzLl9jbGVhclN5bmNFdmVudCgpO1xuXG4gICAgaWYgKHN5bmNUaW1lID4gdGhpcy5zeW5jVGltZSlcbiAgICAgIHRoaXMuX3N5bmNFdmVudEVuZ2luZS5zZXQoc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCB0ZW1wbywgdGVtcG9Vbml0LCBldmVudCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fc3luYyhzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIHRlbXBvLCB0ZW1wb1VuaXQsIGV2ZW50KTtcbiAgfVxuXG4gIF9vbkluaXQoc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCB0ZW1wbywgdGVtcG9Vbml0KSB7XG4gICAgdGhpcy5fc3luYyhzeW5jVGltZSwgbWV0cmljUG9zaXRpb24sIHRlbXBvLCB0ZW1wb1VuaXQpO1xuICAgIHRoaXMucmVhZHkoKTtcbiAgfVxuXG4gIF9vbkNsZWFyKCkge1xuICAgIHRoaXMuX2NsZWFyU3luY0V2ZW50KCk7XG4gICAgdGhpcy5fY2xlYXJFbmdpbmVzKCk7XG4gIH1cblxuICBfb25TeW5jKHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgdGVtcG8sIHRlbXBvVW5pdCwgZXZlbnQpIHtcbiAgICB0aGlzLl9zZXRTeW5jRXZlbnQoc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCB0ZW1wbywgdGVtcG9Vbml0LCBldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCBhdWRpbyB0aW1lLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IGF1ZGlvVGltZSgpIHtcbiAgICByZXR1cm4gYXVkaW9TY2hlZHVsZXIuY3VycmVudFRpbWU7XG4gIH1cblxuICBnZXQgc3luY1RpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNTY2hlZHVsZXIuc3luY1RpbWU7XG4gIH1cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNTY2hlZHVsZXIuc3luY1RpbWU7XG4gIH1cblxuICBnZXQgbWV0cmljUG9zaXRpb24oKSB7XG4gICAgaWYgKHRoaXMuX3RlbXBvID4gMClcbiAgICAgIHJldHVybiB0aGlzLl9tZXRyaWNQb3NpdGlvbiArICh0aGlzLl9zeW5jU2NoZWR1bGVyLnN5bmNUaW1lIC0gdGhpcy5fc3luY1RpbWUpICogdGhpcy5fbWV0cmljU3BlZWQ7XG5cbiAgICByZXR1cm4gdGhpcy5fbWV0cmljUG9zaXRpb247XG4gIH1cblxuICBnZXQgY3VycmVudFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1ldHJpY1Bvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgYXVkaW8gc2NoZWR1bGVyJ3MgbG9naWNhbCBhdWRpbyB0aW1lIGFuZCB0aGUgYGN1cnJlbnRUaW1lYFxuICAgKiBvZiB0aGUgYXVkaW8gY29udGV4dC5cbiAgICovXG4gIGdldCBkZWx0YVRpbWUoKSB7XG4gICAgcmV0dXJuIGF1ZGlvU2NoZWR1bGVyLmN1cnJlbnRUaW1lIC0gYXVkaW8uYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgdGVtcG8uXG4gICAqIEByZXR1cm4ge051bWJlcn0gLSBUZW1wbyBpbiBCUE0uXG4gICAqL1xuICBnZXQgdGVtcG8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RlbXBvO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgdGVtcG8gdW5pdC5cbiAgICogQHJldHVybiB7TnVtYmVyfSAtIFRlbXBvIHVuaXQgaW4gcmVzcGVjdCB0byB3aG9sZSBub3RlLlxuICAgKi9cbiAgZ2V0IHRlbXBvVW5pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGVtcG9Vbml0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtZXRyaWMgcG9zaXRpb24gY29ycnNwb25kaW5nIHRvIGEgZ2l2ZW4gYXVkaW8gdGltZSAocmVnYXJkaW5nIHRoZSBjdXJyZW50IHRlbXBvKS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB0aW1lIC0gdGltZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gbWV0cmljIHBvc2l0aW9uXG4gICAqL1xuICBnZXRNZXRyaWNQb3NpdGlvbkF0QXVkaW9UaW1lKGF1ZGlvVGltZSkge1xuICAgIGlmICh0aGlzLl90ZW1wbyA+IDApIHtcbiAgICAgIGNvbnN0IHN5bmNUaW1lID0gdGhpcy5fc3luY1NjaGVkdWxlci5nZXRTeW5jVGltZUF0QXVkaW9UaW1lKGF1ZGlvVGltZSk7XG4gICAgICByZXR1cm4gdGhpcy5fbWV0cmljUG9zaXRpb24gKyAoc3luY1RpbWUgLSB0aGlzLl9zeW5jVGltZSkgKiB0aGlzLl9tZXRyaWNTcGVlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fbWV0cmljUG9zaXRpb247XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1ldHJpYyBwb3NpdGlvbiBjb3Jyc3BvbmRpbmcgdG8gYSBnaXZlbiBzeW5jIHRpbWUgKHJlZ2FyZGluZyB0aGUgY3VycmVudCB0ZW1wbykuXG4gICAqIEBwYXJhbSAge051bWJlcn0gdGltZSAtIHRpbWVcbiAgICogQHJldHVybiB7TnVtYmVyfSAtIG1ldHJpYyBwb3NpdGlvblxuICAgKi9cbiAgZ2V0TWV0cmljUG9zaXRpb25BdFN5bmNUaW1lKHN5bmNUaW1lKSB7XG4gICAgaWYgKHRoaXMuX3RlbXBvID4gMClcbiAgICAgIHJldHVybiB0aGlzLl9tZXRyaWNQb3NpdGlvbiArIChzeW5jVGltZSAtIHRoaXMuX3N5bmNUaW1lKSAqIHRoaXMuX21ldHJpY1NwZWVkO1xuXG4gICAgcmV0dXJuIHRoaXMuX21ldHJpY1Bvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzeW5jIHRpbWUgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIG1ldHJpYyBwb3NpdGlvbiAocmVnYXJkaW5nIHRoZSBjdXJyZW50IHRlbXBvKS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwb3NpdGlvbiAtIG1ldHJpYyBwb3NpdGlvblxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gc3luYyB0aW1lXG4gICAqL1xuICBnZXRTeW5jVGltZUF0TWV0cmljUG9zaXRpb24obWV0cmljUG9zaXRpb24pIHtcbiAgICBjb25zdCBtZXRyaWNTcGVlZCA9IHRoaXMuX21ldHJpY1NwZWVkO1xuXG4gICAgaWYgKG1ldHJpY1Bvc2l0aW9uIDwgSW5maW5pdHkgJiYgbWV0cmljU3BlZWQgPiAwKVxuICAgICAgcmV0dXJuIHRoaXMuX3N5bmNUaW1lICsgKG1ldHJpY1Bvc2l0aW9uIC0gdGhpcy5fbWV0cmljUG9zaXRpb24pIC8gbWV0cmljU3BlZWQ7XG5cbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGF1ZGlvIHRpbWUgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIG1ldHJpYyBwb3NpdGlvbiAocmVnYXJkaW5nIHRoZSBjdXJyZW50IHRlbXBvKS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwb3NpdGlvbiAtIG1ldHJpYyBwb3NpdGlvblxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gYXVkaW8gdGltZVxuICAgKi9cbiAgZ2V0QXVkaW9UaW1lQXRNZXRyaWNQb3NpdGlvbihtZXRyaWNQb3NpdGlvbikge1xuICAgIGNvbnN0IG1ldHJpY1NwZWVkID0gdGhpcy5fbWV0cmljU3BlZWQ7XG5cbiAgICBpZiAobWV0cmljUG9zaXRpb24gPCBJbmZpbml0eSAmJiBtZXRyaWNTcGVlZCA+IDApIHtcbiAgICAgIGNvbnN0IHN5bmNUaW1lID0gdGhpcy5fc3luY1RpbWUgKyAobWV0cmljUG9zaXRpb24gLSB0aGlzLl9tZXRyaWNQb3NpdGlvbikgLyBtZXRyaWNTcGVlZDtcbiAgICAgIHJldHVybiB0aGlzLl9zeW5jU2NoZWR1bGVyLmdldEF1ZGlvVGltZUF0U3luY1RpbWUoc3luY1RpbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBJbmZpbml0eTtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZXZlbnQpO1xuXG4gICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZXZlbnQsIGxpc3RlbmVycyk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZXZlbnQpO1xuXG4gICAgaWYgKGxpc3RlbmVycylcbiAgICAgIGxpc3RlbmVycy5yZW1vdmUoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiBhdCBhIGdpdmVuIG1ldHJpYyBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuIC0gRnVuY3Rpb24gdG8gYmUgZGVmZXJyZWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtZXRyaWNQb3NpdGlvbiAtIFRoZSBtZXRyaWMgcG9zaXRpb24gYXQgd2hpY2ggdGhlIGZ1bmN0aW9uIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbbG9va2FoZWFkPWZhbHNlXSAtIERlZmluZXMgd2hldGhlciB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAqICBhbnRpY2lwYXRlZCAoZS5nLiBmb3IgYXVkaW8gZXZlbnRzKSBvciBwcmVjaXNlbHkgYXQgdGhlIGdpdmVuIHRpbWUgKGRlZmF1bHQpLlxuICAgKi9cbiAgYWRkRXZlbnQoZnVuLCBtZXRyaWNQb3NpdGlvbiwgbG9va2FoZWFkID0gZmFsc2UpIHtcbiAgICBjb25zdCBzY2hlZHVsZXJTZXJ2aWNlID0gdGhpcztcbiAgICBjb25zdCBlbmdpbmUgPSB7XG4gICAgICB0aW1lb3V0OiBudWxsLFxuICAgICAgc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgICAgICBpZiAoc3BlZWQgPT09IDApXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICB9LFxuICAgICAgc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblxuICAgICAgICBpZiAobWV0cmljUG9zaXRpb24gPj0gcG9zaXRpb24pXG4gICAgICAgICAgcmV0dXJuIG1ldHJpY1Bvc2l0aW9uO1xuXG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgIH0sXG4gICAgICBhZHZhbmNlUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gc2NoZWR1bGVyU2VydmljZS5kZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKGRlbHRhID4gMClcbiAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1biwgMTAwMCAqIGRlbHRhLCBwb3NpdGlvbik7IC8vIGJyaWRnZSBzY2hlZHVsZXIgbG9va2FoZWFkIHdpdGggdGltZW91dFxuICAgICAgICBlbHNlXG4gICAgICAgICAgZnVuKHBvc2l0aW9uKTtcblxuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLmFkZChlbmdpbmUsIG1ldHJpY1Bvc2l0aW9uKTsgLy8gYWRkIHdpdGhvdXQgY2hlY2tzXG4gIH1cblxuICBhZGQoZW5naW5lLCBzdGFydFBvc2l0aW9uID0gdGhpcy5tZXRyaWNQb3NpdGlvbikge1xuICAgIHRoaXMuX2VuZ2luZVNldC5hZGQoZW5naW5lKTtcblxuICAgIGNvbnN0IG1ldHJpY1Bvc2l0aW9uID0gTWF0aC5tYXgoc3RhcnRQb3NpdGlvbiwgdGhpcy5tZXRyaWNQb3NpdGlvbik7XG5cbiAgICAvLyBzY2hlZHVsZSBlbmdpbmVcbiAgICBpZiAoIXRoaXMuX2NhbGxpbmdFdmVudExpc3RlbmVycyAmJiB0aGlzLl9tZXRyaWNTcGVlZCA+IDApIHtcbiAgICAgIGNvbnN0IHN5bmNUaW1lID0gdGhpcy5zeW5jVGltZTtcbiAgICAgIGNvbnN0IG5leHRFbmdpbmVQb3NpdGlvbiA9IGVuZ2luZS5zeW5jUG9zaXRpb24oc3luY1RpbWUsIG1ldHJpY1Bvc2l0aW9uLCB0aGlzLl9tZXRyaWNTcGVlZCk7XG5cbiAgICAgIHRoaXMuX2VuZ2luZVF1ZXVlLmluc2VydChlbmdpbmUsIG5leHRFbmdpbmVQb3NpdGlvbik7XG4gICAgICB0aGlzLl9zeW5jU2NoZWR1bGVySG9vay5yZXNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKGVuZ2luZSkge1xuICAgIGNvbnN0IHN5bmNUaW1lID0gdGhpcy5zeW5jVGltZTtcbiAgICBjb25zdCBtZXRyaWNQb3NpdGlvbiA9IHRoaXMuZ2V0TWV0cmljUG9zaXRpb25BdFN5bmNUaW1lKHN5bmNUaW1lKTtcblxuICAgIC8vIHN0b3AgZW5naW5lXG4gICAgaWYgKGVuZ2luZS5zeW5jU3BlZWQpXG4gICAgICBlbmdpbmUuc3luY1NwZWVkKHN5bmNUaW1lLCBtZXRyaWNQb3NpdGlvbiwgMCk7XG5cbiAgICBpZiAodGhpcy5fZW5naW5lU2V0LmRlbGV0ZShlbmdpbmUpICYmICF0aGlzLl9jYWxsaW5nRXZlbnRMaXN0ZW5lcnMgJiYgdGhpcy5fbWV0cmljU3BlZWQgPiAwKSB7XG4gICAgICB0aGlzLl9lbmdpbmVRdWV1ZS5yZW1vdmUoZW5naW5lKTtcbiAgICAgIHRoaXMuX3N5bmNTY2hlZHVsZXJIb29rLnJlc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcGVyaW9kaWMgY2FsbGJhY2sgc3RhcnRpbmcgYXQgYSBnaXZlbiBtZXRyaWMgcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgZnVuY3Rpb24gKGN5Y2xlLCBiZWF0KVxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IG51bUJlYXRzIC0gbnVtYmVyIG9mIGJlYXRzICh0aW1lIHNpZ25hdHVyZSBudW1lcmF0b3IpXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtZXRyaWNEaXYgLSBtZXRyaWMgZGl2aXNpb24gb2Ygd2hvbGUgbm90ZSAodGltZSBzaWduYXR1cmUgZGVub21pbmF0b3IpXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0ZW1wb1NjYWxlIC0gbGluZWFyIHRlbXBvIHNjYWxlIGZhY3RvciAoaW4gcmVzcGVjdCB0byBtYXN0ZXIgdGVtcG8pXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gc3RhcnRQb3NpdGlvbiAtIG1ldHJpYyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgYmVhdFxuICAgKi9cbiAgYWRkTWV0cm9ub21lKGNhbGxiYWNrLCBudW1CZWF0cyA9IDQsIG1ldHJpY0RpdiA9IDQsIHRlbXBvU2NhbGUgPSAxLCBzdGFydFBvc2l0aW9uID0gMCwgc3RhcnRPbkJlYXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGJlYXRMZW5ndGggPSAxIC8gKG1ldHJpY0RpdiAqIHRlbXBvU2NhbGUpO1xuICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBNZXRyb25vbWVFbmdpbmUoc3RhcnRQb3NpdGlvbiwgbnVtQmVhdHMsIGJlYXRMZW5ndGgsIHN0YXJ0T25CZWF0LCBjYWxsYmFjayk7XG5cbiAgICB0aGlzLl9tZXRyb25vbWVFbmdpbmVNYXAuc2V0KGNhbGxiYWNrLCBlbmdpbmUpO1xuICAgIHRoaXMuYWRkKGVuZ2luZSwgc3RhcnRQb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHBlcmlvZGljIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgcmVtb3ZlTWV0cm9ub21lKGNhbGxiYWNrIC8qLCBlbmRQb3NpdGlvbiAqLyApIHtcbiAgICBjb25zdCBlbmdpbmUgPSB0aGlzLl9tZXRyb25vbWVFbmdpbmVNYXAuZ2V0KGNhbGxiYWNrKTtcblxuICAgIGlmIChlbmdpbmUpIHtcbiAgICAgIHRoaXMuX21ldHJvbm9tZUVuZ2luZU1hcC5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgdGhpcy5yZW1vdmUoZW5naW5lKTtcbiAgICB9XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgTWV0cmljU2NoZWR1bGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgTWV0cmljU2NoZWR1bGVyO1xuIl19","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/helpers/slicedToArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/slicedToArray.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/nosleep.js/dist/NoSleep.min.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/nosleep.js/dist/NoSleep.min.js","source":"/*! NoSleep.min.js v0.7.0 - git.io/vfn01 - Rich Tibbett - MIT license */\n!function(A,B){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=B():\"function\"==typeof define&&define.amd?define([],B):\"object\"==typeof exports?exports.NoSleep=B():A.NoSleep=B()}(this,function(){return function(A){function B(e){if(Q[e])return Q[e].exports;var o=Q[e]={i:e,l:!1,exports:{}};return A[e].call(o.exports,o,o.exports,B),o.l=!0,o.exports}var Q={};return B.m=A,B.c=Q,B.d=function(A,Q,e){B.o(A,Q)||Object.defineProperty(A,Q,{configurable:!1,enumerable:!0,get:e})},B.n=function(A){var Q=A&&A.__esModule?function(){return A.default}:function(){return A};return B.d(Q,\"a\",Q),Q},B.o=function(A,B){return Object.prototype.hasOwnProperty.call(A,B)},B.p=\"\",B(B.s=0)}([function(A,B,Q){\"use strict\";function e(A,B){if(!(A instanceof B))throw new TypeError(\"Cannot call a class as a function\")}var o=function(){function A(A,B){for(var Q=0;Q<B.length;Q++){var e=B[Q];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(A,e.key,e)}}return function(B,Q,e){return Q&&A(B.prototype,Q),e&&A(B,e),B}}(),t=Q(1),n=\"undefined\"!=typeof navigator&&parseFloat((\"\"+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,\"\"])[1]).replace(\"undefined\",\"3_2\").replace(\"_\",\".\").replace(\"_\",\"\"))<10&&!window.MSStream,E=function(){function A(){e(this,A),n?this.noSleepTimer=null:(this.noSleepVideo=document.createElement(\"video\"),this.noSleepVideo.setAttribute(\"playsinline\",\"\"),this.noSleepVideo.setAttribute(\"src\",t),this.noSleepVideo.addEventListener(\"timeupdate\",function(A){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return o(A,[{key:\"enable\",value:function(){n?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href=\"/\",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:\"disable\",value:function(){n?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),A}();A.exports=E},function(A,B,Q){\"use strict\";A.exports=\"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQAD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\"}])});","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/screenfull/dist/screenfull.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/screenfull/dist/screenfull.js","source":"/*!\n* screenfull\n* v3.3.3 - 2018-09-04\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/ Version\\/5\\.1(?:\\.\\d+)? Safari\\//.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed ? Element.ALLOW_KEYBOARD_INPUT : {});\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/mobile-detect/mobile-detect.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/mobile-detect/mobile-detect.js","source":"// THIS FILE IS GENERATED - DO NOT EDIT!\n/*!mobile-detect v1.4.5 2021-03-13*/\n/*global module:false, define:false*/\n/*jshint latedef:false*/\n/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/\n(function (define, undefined) {\ndefine(function () {\n    'use strict';\n\n    var impl = {};\n\n    impl.mobileDetectRules = {\n    \"phones\": {\n        \"iPhone\": \"\\\\biPhone\\\\b|\\\\biPod\\\\b\",\n        \"BlackBerry\": \"BlackBerry|\\\\bBB10\\\\b|rim[0-9]+|\\\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\\\b-[0-9]+\",\n        \"Pixel\": \"; \\\\bPixel\\\\b\",\n        \"HTC\": \"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\\\bEVO\\\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel\",\n        \"Nexus\": \"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6\",\n        \"Dell\": \"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\\\b001DL\\\\b|\\\\b101DL\\\\b|\\\\bGS01\\\\b\",\n        \"Motorola\": \"Motorola|DROIDX|DROID BIONIC|\\\\bDroid\\\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\\\bMoto E\\\\b|XT1068|XT1092|XT1052\",\n        \"Samsung\": \"\\\\bSamsung\\\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F\",\n        \"LG\": \"\\\\bLG\\\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710\",\n        \"Sony\": \"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332\",\n        \"Asus\": \"Asus.*Galaxy|PadFone.*Mobile\",\n        \"Xiaomi\": \"^(?!.*\\\\bx11\\\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G\",\n        \"NokiaLumia\": \"Lumia [0-9]{3,4}\",\n        \"Micromax\": \"Micromax.*\\\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\\\b\",\n        \"Palm\": \"PalmSource|Palm\",\n        \"Vertu\": \"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature\",\n        \"Pantech\": \"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790\",\n        \"Fly\": \"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250\",\n        \"Wiko\": \"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM\",\n        \"iMobile\": \"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)\",\n        \"SimValley\": \"\\\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\\\b\",\n        \"Wolfgang\": \"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q\",\n        \"Alcatel\": \"Alcatel\",\n        \"Nintendo\": \"Nintendo (3DS|Switch)\",\n        \"Amoi\": \"Amoi\",\n        \"INQ\": \"INQ\",\n        \"OnePlus\": \"ONEPLUS\",\n        \"GenericPhone\": \"Tapatalk|PDA;|SAGEM|\\\\bmmp\\\\b|pocket|\\\\bpsp\\\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\\\bwap\\\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser\"\n    },\n    \"tablets\": {\n        \"iPad\": \"iPad|iPad.*Mobile\",\n        \"NexusTablet\": \"Android.*Nexus[\\\\s]+(7|9|10)\",\n        \"GoogleTablet\": \"Android.*Pixel C\",\n        \"SamsungTablet\": \"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860\",\n        \"Kindle\": \"Kindle|Silk.*Accelerated|Android.*\\\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\\\b|Android.*Silk\\/[0-9.]+ like Chrome\\/[0-9.]+ (?!Mobile)\",\n        \"SurfaceTablet\": \"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)\",\n        \"HPTablet\": \"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10\",\n        \"AsusTablet\": \"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\\\bK00F\\\\b|\\\\bK00C\\\\b|\\\\bK00E\\\\b|\\\\bK00L\\\\b|TX201LA|ME176C|ME102A|\\\\bM80TA\\\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\\\bME70C\\\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\\\bP027\\\\b|\\\\bP024\\\\b|\\\\bP00C\\\\b\",\n        \"BlackBerryTablet\": \"PlayBook|RIM Tablet\",\n        \"HTCtablet\": \"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410\",\n        \"MotorolaTablet\": \"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617\",\n        \"NookTablet\": \"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2\",\n        \"AcerTablet\": \"Android.*; \\\\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\\\b|W3-810|\\\\bA3-A10\\\\b|\\\\bA3-A11\\\\b|\\\\bA3-A20\\\\b|\\\\bA3-A30|A3-A40\",\n        \"ToshibaTablet\": \"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO\",\n        \"LGTablet\": \"\\\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\\\b\",\n        \"FujitsuTablet\": \"Android.*\\\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\\\b\",\n        \"PrestigioTablet\": \"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002\",\n        \"LenovoTablet\": \"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L\",\n        \"DellTablet\": \"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7\",\n        \"YarvikTablet\": \"Android.*\\\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\\\b\",\n        \"MedionTablet\": \"Android.*\\\\bOYO\\\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB\",\n        \"ArnovaTablet\": \"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2\",\n        \"IntensoTablet\": \"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004\",\n        \"IRUTablet\": \"M702pro\",\n        \"MegafonTablet\": \"MegaFon V9|\\\\bZTE V9\\\\b|Android.*\\\\bMT7A\\\\b\",\n        \"EbodaTablet\": \"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)\",\n        \"AllViewTablet\": \"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)\",\n        \"ArchosTablet\": \"\\\\b(101G9|80G9|A101IT)\\\\b|Qilive 97R|Archos5|\\\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\\\b\",\n        \"AinolTablet\": \"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark\",\n        \"NokiaLumiaTablet\": \"Lumia 2520\",\n        \"SonyTablet\": \"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712\",\n        \"PhilipsTablet\": \"\\\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\\\b\",\n        \"CubeTablet\": \"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT\",\n        \"CobyTablet\": \"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010\",\n        \"MIDTablet\": \"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10\",\n        \"MSITablet\": \"MSI \\\\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\\\b\",\n        \"SMiTTablet\": \"Android.*(\\\\bMID\\\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)\",\n        \"RockChipTablet\": \"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A\",\n        \"FlyTablet\": \"IQ310|Fly Vision\",\n        \"bqTablet\": \"Android.*(bq)?.*\\\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\\\b|Maxwell.*Lite|Maxwell.*Plus\",\n        \"HuaweiTablet\": \"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19\",\n        \"NecTablet\": \"\\\\bN-06D|\\\\bN-08D\",\n        \"PantechTablet\": \"Pantech.*P4100\",\n        \"BronchoTablet\": \"Broncho.*(N701|N708|N802|a710)\",\n        \"VersusTablet\": \"TOUCHPAD.*[78910]|\\\\bTOUCHTAB\\\\b\",\n        \"ZyncTablet\": \"z1000|Z99 2G|z930|z990|z909|Z919|z900\",\n        \"PositivoTablet\": \"TB07STA|TB10STA|TB07FTA|TB10FTA\",\n        \"NabiTablet\": \"Android.*\\\\bNabi\",\n        \"KoboTablet\": \"Kobo Touch|\\\\bK080\\\\b|\\\\bVox\\\\b Build|\\\\bArc\\\\b Build\",\n        \"DanewTablet\": \"DSlide.*\\\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\\\b\",\n        \"TexetTablet\": \"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE\",\n        \"PlaystationTablet\": \"Playstation.*(Portable|Vita)\",\n        \"TrekstorTablet\": \"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab\",\n        \"PyleAudioTablet\": \"\\\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\\\b\",\n        \"AdvanTablet\": \"Android.* \\\\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\\\b \",\n        \"DanyTechTablet\": \"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1\",\n        \"GalapadTablet\": \"Android [0-9.]+; [a-z-]+; \\\\bG1\\\\b\",\n        \"MicromaxTablet\": \"Funbook|Micromax.*\\\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\\\b\",\n        \"KarbonnTablet\": \"Android.*\\\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\\\b\",\n        \"AllFineTablet\": \"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide\",\n        \"PROSCANTablet\": \"\\\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\\\b\",\n        \"YONESTablet\": \"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026\",\n        \"ChangJiaTablet\": \"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503\",\n        \"GUTablet\": \"TX-A1301|TX-M9002|Q702|kf026\",\n        \"PointOfViewTablet\": \"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10\",\n        \"OvermaxTablet\": \"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027\",\n        \"HCLTablet\": \"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync\",\n        \"DPSTablet\": \"DPS Dream 9|DPS Dual 7\",\n        \"VistureTablet\": \"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10\",\n        \"CrestaTablet\": \"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989\",\n        \"MediatekTablet\": \"\\\\bMT8125|MT8389|MT8135|MT8377\\\\b\",\n        \"ConcordeTablet\": \"Concorde([ ]+)?Tab|ConCorde ReadMan\",\n        \"GoCleverTablet\": \"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042\",\n        \"ModecomTablet\": \"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003\",\n        \"VoninoTablet\": \"\\\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\\\bQ8\\\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\\\b\",\n        \"ECSTablet\": \"V07OT2|TM105A|S10OT1|TR10CS1\",\n        \"StorexTablet\": \"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab\",\n        \"VodafoneTablet\": \"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400\",\n        \"EssentielBTablet\": \"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2\",\n        \"RossMoorTablet\": \"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711\",\n        \"iMobileTablet\": \"i-mobile i-note\",\n        \"TolinoTablet\": \"tolino tab [0-9.]+|tolino shine\",\n        \"AudioSonicTablet\": \"\\\\bC-22Q|T7-QC|T-17B|T-17P\\\\b\",\n        \"AMPETablet\": \"Android.* A78 \",\n        \"SkkTablet\": \"Android.* (SKYPAD|PHOENIX|CYCLOPS)\",\n        \"TecnoTablet\": \"TECNO P9|TECNO DP8D\",\n        \"JXDTablet\": \"Android.* \\\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\\\b\",\n        \"iJoyTablet\": \"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)\",\n        \"FX2Tablet\": \"FX2 PAD7|FX2 PAD10\",\n        \"XoroTablet\": \"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151\",\n        \"ViewsonicTablet\": \"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a\",\n        \"VerizonTablet\": \"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1\",\n        \"OdysTablet\": \"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\\\bXELIO\\\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10\",\n        \"CaptivaTablet\": \"CAPTIVA PAD\",\n        \"IconbitTablet\": \"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S\",\n        \"TeclastTablet\": \"T98 4G|\\\\bP80\\\\b|\\\\bX90HD\\\\b|X98 Air|X98 Air 3G|\\\\bX89\\\\b|P80 3G|\\\\bX80h\\\\b|P98 Air|\\\\bX89HD\\\\b|P98 3G|\\\\bP90HD\\\\b|P89 3G|X98 3G|\\\\bP70h\\\\b|P79HD 3G|G18d 3G|\\\\bP79HD\\\\b|\\\\bP89s\\\\b|\\\\bA88\\\\b|\\\\bP10HD\\\\b|\\\\bP19HD\\\\b|G18 3G|\\\\bP78HD\\\\b|\\\\bA78\\\\b|\\\\bP75\\\\b|G17s 3G|G17h 3G|\\\\bP85t\\\\b|\\\\bP90\\\\b|\\\\bP11\\\\b|\\\\bP98t\\\\b|\\\\bP98HD\\\\b|\\\\bG18d\\\\b|\\\\bP85s\\\\b|\\\\bP11HD\\\\b|\\\\bP88s\\\\b|\\\\bA80HD\\\\b|\\\\bA80se\\\\b|\\\\bA10h\\\\b|\\\\bP89\\\\b|\\\\bP78s\\\\b|\\\\bG18\\\\b|\\\\bP85\\\\b|\\\\bA70h\\\\b|\\\\bA70\\\\b|\\\\bG17\\\\b|\\\\bP18\\\\b|\\\\bA80s\\\\b|\\\\bA11s\\\\b|\\\\bP88HD\\\\b|\\\\bA80h\\\\b|\\\\bP76s\\\\b|\\\\bP76h\\\\b|\\\\bP98\\\\b|\\\\bA10HD\\\\b|\\\\bP78\\\\b|\\\\bP88\\\\b|\\\\bA11\\\\b|\\\\bA10t\\\\b|\\\\bP76a\\\\b|\\\\bP76t\\\\b|\\\\bP76e\\\\b|\\\\bP85HD\\\\b|\\\\bP85a\\\\b|\\\\bP86\\\\b|\\\\bP75HD\\\\b|\\\\bP76v\\\\b|\\\\bA12\\\\b|\\\\bP75a\\\\b|\\\\bA15\\\\b|\\\\bP76Ti\\\\b|\\\\bP81HD\\\\b|\\\\bA10\\\\b|\\\\bT760VE\\\\b|\\\\bT720HD\\\\b|\\\\bP76\\\\b|\\\\bP73\\\\b|\\\\bP71\\\\b|\\\\bP72\\\\b|\\\\bT720SE\\\\b|\\\\bC520Ti\\\\b|\\\\bT760\\\\b|\\\\bT720VE\\\\b|T720-3GE|T720-WiFi\",\n        \"OndaTablet\": \"\\\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\\\b[\\\\s]+|V10 \\\\b4G\\\\b\",\n        \"JaytechTablet\": \"TPC-PA762\",\n        \"BlaupunktTablet\": \"Endeavour 800NG|Endeavour 1010\",\n        \"DigmaTablet\": \"\\\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\\\b\",\n        \"EvolioTablet\": \"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\\\bEvotab\\\\b|\\\\bNeura\\\\b\",\n        \"LavaTablet\": \"QPAD E704|\\\\bIvoryS\\\\b|E-TAB IVORY|\\\\bE-TAB\\\\b\",\n        \"AocTablet\": \"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712\",\n        \"MpmanTablet\": \"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\\\bMPG7\\\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010\",\n        \"CelkonTablet\": \"CT695|CT888|CT[\\\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\\\bCT-1\\\\b\",\n        \"WolderTablet\": \"miTab \\\\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\\\b\",\n        \"MediacomTablet\": \"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA\",\n        \"MiTablet\": \"\\\\bMI PAD\\\\b|\\\\bHM NOTE 1W\\\\b\",\n        \"NibiruTablet\": \"Nibiru M1|Nibiru Jupiter One\",\n        \"NexoTablet\": \"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI\",\n        \"LeaderTablet\": \"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100\",\n        \"UbislateTablet\": \"UbiSlate[\\\\s]?7C\",\n        \"PocketBookTablet\": \"Pocketbook\",\n        \"KocasoTablet\": \"\\\\b(TB-1207)\\\\b\",\n        \"HisenseTablet\": \"\\\\b(F5281|E2371)\\\\b\",\n        \"Hudl\": \"Hudl HT7S3|Hudl 2\",\n        \"TelstraTablet\": \"T-Hub2\",\n        \"GenericTablet\": \"Android.*\\\\b97D\\\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\\\bA7EB\\\\b|CatNova8|A1_07|CT704|CT1002|\\\\bM721\\\\b|rk30sdk|\\\\bEVOTAB\\\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\\\bM6pro\\\\b|CT1020W|arc 10HD|\\\\bTP750\\\\b|\\\\bQTAQZ3\\\\b|WVT101|TM1088|KT107\"\n    },\n    \"oss\": {\n        \"AndroidOS\": \"Android\",\n        \"BlackBerryOS\": \"blackberry|\\\\bBB10\\\\b|rim tablet os\",\n        \"PalmOS\": \"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino\",\n        \"SymbianOS\": \"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\\\bS60\\\\b\",\n        \"WindowsMobileOS\": \"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;\",\n        \"WindowsPhoneOS\": \"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;\",\n        \"iOS\": \"\\\\biPhone.*Mobile|\\\\biPod|\\\\biPad|AppleCoreMedia\",\n        \"iPadOS\": \"CPU OS 13\",\n        \"SailfishOS\": \"Sailfish\",\n        \"MeeGoOS\": \"MeeGo\",\n        \"MaemoOS\": \"Maemo\",\n        \"JavaOS\": \"J2ME\\/|\\\\bMIDP\\\\b|\\\\bCLDC\\\\b\",\n        \"webOS\": \"webOS|hpwOS\",\n        \"badaOS\": \"\\\\bBada\\\\b\",\n        \"BREWOS\": \"BREW\"\n    },\n    \"uas\": {\n        \"Chrome\": \"\\\\bCrMo\\\\b|CriOS|Android.*Chrome\\/[.0-9]* (Mobile)?\",\n        \"Dolfin\": \"\\\\bDolfin\\\\b\",\n        \"Opera\": \"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR\\/[0-9.]+$|Coast\\/[0-9.]+\",\n        \"Skyfire\": \"Skyfire\",\n        \"Edge\": \"\\\\bEdgiOS\\\\b|Mobile Safari\\/[.0-9]* Edge\",\n        \"IE\": \"IEMobile|MSIEMobile\",\n        \"Firefox\": \"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS\",\n        \"Bolt\": \"bolt\",\n        \"TeaShark\": \"teashark\",\n        \"Blazer\": \"Blazer\",\n        \"Safari\": \"Version((?!\\\\bEdgiOS\\\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari\",\n        \"WeChat\": \"\\\\bMicroMessenger\\\\b\",\n        \"UCBrowser\": \"UC.*Browser|UCWEB\",\n        \"baiduboxapp\": \"baiduboxapp\",\n        \"baidubrowser\": \"baidubrowser\",\n        \"DiigoBrowser\": \"DiigoBrowser\",\n        \"Mercury\": \"\\\\bMercury\\\\b\",\n        \"ObigoBrowser\": \"Obigo\",\n        \"NetFront\": \"NF-Browser\",\n        \"GenericBrowser\": \"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger\",\n        \"PaleMoon\": \"Android.*PaleMoon|Mobile.*PaleMoon\"\n    },\n    \"props\": {\n        \"Mobile\": \"Mobile\\/[VER]\",\n        \"Build\": \"Build\\/[VER]\",\n        \"Version\": \"Version\\/[VER]\",\n        \"VendorID\": \"VendorID\\/[VER]\",\n        \"iPad\": \"iPad.*CPU[a-z ]+[VER]\",\n        \"iPhone\": \"iPhone.*CPU[a-z ]+[VER]\",\n        \"iPod\": \"iPod.*CPU[a-z ]+[VER]\",\n        \"Kindle\": \"Kindle\\/[VER]\",\n        \"Chrome\": [\n            \"Chrome\\/[VER]\",\n            \"CriOS\\/[VER]\",\n            \"CrMo\\/[VER]\"\n        ],\n        \"Coast\": [\n            \"Coast\\/[VER]\"\n        ],\n        \"Dolfin\": \"Dolfin\\/[VER]\",\n        \"Firefox\": [\n            \"Firefox\\/[VER]\",\n            \"FxiOS\\/[VER]\"\n        ],\n        \"Fennec\": \"Fennec\\/[VER]\",\n        \"Edge\": \"Edge\\/[VER]\",\n        \"IE\": [\n            \"IEMobile\\/[VER];\",\n            \"IEMobile [VER]\",\n            \"MSIE [VER];\",\n            \"Trident\\/[0-9.]+;.*rv:[VER]\"\n        ],\n        \"NetFront\": \"NetFront\\/[VER]\",\n        \"NokiaBrowser\": \"NokiaBrowser\\/[VER]\",\n        \"Opera\": [\n            \" OPR\\/[VER]\",\n            \"Opera Mini\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"Opera Mini\": \"Opera Mini\\/[VER]\",\n        \"Opera Mobi\": \"Version\\/[VER]\",\n        \"UCBrowser\": [\n            \"UCWEB[VER]\",\n            \"UC.*Browser\\/[VER]\"\n        ],\n        \"MQQBrowser\": \"MQQBrowser\\/[VER]\",\n        \"MicroMessenger\": \"MicroMessenger\\/[VER]\",\n        \"baiduboxapp\": \"baiduboxapp\\/[VER]\",\n        \"baidubrowser\": \"baidubrowser\\/[VER]\",\n        \"SamsungBrowser\": \"SamsungBrowser\\/[VER]\",\n        \"Iron\": \"Iron\\/[VER]\",\n        \"Safari\": [\n            \"Version\\/[VER]\",\n            \"Safari\\/[VER]\"\n        ],\n        \"Skyfire\": \"Skyfire\\/[VER]\",\n        \"Tizen\": \"Tizen\\/[VER]\",\n        \"Webkit\": \"webkit[ \\/][VER]\",\n        \"PaleMoon\": \"PaleMoon\\/[VER]\",\n        \"SailfishBrowser\": \"SailfishBrowser\\/[VER]\",\n        \"Gecko\": \"Gecko\\/[VER]\",\n        \"Trident\": \"Trident\\/[VER]\",\n        \"Presto\": \"Presto\\/[VER]\",\n        \"Goanna\": \"Goanna\\/[VER]\",\n        \"iOS\": \" \\\\bi?OS\\\\b [VER][ ;]{1}\",\n        \"Android\": \"Android [VER]\",\n        \"Sailfish\": \"Sailfish [VER]\",\n        \"BlackBerry\": [\n            \"BlackBerry[\\\\w]+\\/[VER]\",\n            \"BlackBerry.*Version\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"BREW\": \"BREW [VER]\",\n        \"Java\": \"Java\\/[VER]\",\n        \"Windows Phone OS\": [\n            \"Windows Phone OS [VER]\",\n            \"Windows Phone [VER]\"\n        ],\n        \"Windows Phone\": \"Windows Phone [VER]\",\n        \"Windows CE\": \"Windows CE\\/[VER]\",\n        \"Windows NT\": \"Windows NT [VER]\",\n        \"Symbian\": [\n            \"SymbianOS\\/[VER]\",\n            \"Symbian\\/[VER]\"\n        ],\n        \"webOS\": [\n            \"webOS\\/[VER]\",\n            \"hpwOS\\/[VER];\"\n        ]\n    },\n    \"utils\": {\n        \"Bot\": \"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot\",\n        \"MobileBot\": \"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker\\/M1A1-R2D2\",\n        \"DesktopMode\": \"WPDesktop\",\n        \"TV\": \"SonyDTV|HbbTV\",\n        \"WebKit\": \"(webkit)[ \\/]([\\\\w.]+)\",\n        \"Console\": \"\\\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\\\b\",\n        \"Watch\": \"SM-V700\"\n    }\n};\n\n    // following patterns come from http://detectmobilebrowsers.com/\n    impl.detectMobileBrowsers = {\n        fullPattern: /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,\n        shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,\n        tabletPattern: /android|ipad|playbook|silk/i\n    };\n\n    var hasOwnProp = Object.prototype.hasOwnProperty,\n        isArray;\n\n    impl.FALLBACK_PHONE = 'UnknownPhone';\n    impl.FALLBACK_TABLET = 'UnknownTablet';\n    impl.FALLBACK_MOBILE = 'UnknownMobile';\n\n    isArray = ('isArray' in Array) ?\n        Array.isArray : function (value) { return Object.prototype.toString.call(value) === '[object Array]'; };\n\n    function equalIC(a, b) {\n        return a != null && b != null && a.toLowerCase() === b.toLowerCase();\n    }\n\n    function containsIC(array, value) {\n        var valueLC, i, len = array.length;\n        if (!len || !value) {\n            return false;\n        }\n        valueLC = value.toLowerCase();\n        for (i = 0; i < len; ++i) {\n            if (valueLC === array[i].toLowerCase()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function convertPropsToRegExp(object) {\n        for (var key in object) {\n            if (hasOwnProp.call(object, key)) {\n                object[key] = new RegExp(object[key], 'i');\n            }\n        }\n    }\n\n    function prepareUserAgent(userAgent) {\n        return (userAgent || '').substr(0, 500); // mitigate vulnerable to ReDoS\n    }\n\n    (function init() {\n        var key, values, value, i, len, verPos, mobileDetectRules = impl.mobileDetectRules;\n        for (key in mobileDetectRules.props) {\n            if (hasOwnProp.call(mobileDetectRules.props, key)) {\n                values = mobileDetectRules.props[key];\n                if (!isArray(values)) {\n                    values = [values];\n                }\n                len = values.length;\n                for (i = 0; i < len; ++i) {\n                    value = values[i];\n                    verPos = value.indexOf('[VER]');\n                    if (verPos >= 0) {\n                        value = value.substring(0, verPos) + '([\\\\w._\\\\+]+)' + value.substring(verPos + 5);\n                    }\n                    values[i] = new RegExp(value, 'i');\n                }\n                mobileDetectRules.props[key] = values;\n            }\n        }\n        convertPropsToRegExp(mobileDetectRules.oss);\n        convertPropsToRegExp(mobileDetectRules.phones);\n        convertPropsToRegExp(mobileDetectRules.tablets);\n        convertPropsToRegExp(mobileDetectRules.uas);\n        convertPropsToRegExp(mobileDetectRules.utils);\n\n        // copy some patterns to oss0 which are tested first (see issue#15)\n        mobileDetectRules.oss0 = {\n            WindowsPhoneOS: mobileDetectRules.oss.WindowsPhoneOS,\n            WindowsMobileOS: mobileDetectRules.oss.WindowsMobileOS\n        };\n    }());\n\n    /**\n     * Test userAgent string against a set of rules and find the first matched key.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {String|null} the matched key if found, otherwise <tt>null</tt>\n     * @private\n     */\n    impl.findMatch = function(rules, userAgent) {\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    return key;\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Test userAgent string against a set of rules and return an array of matched keys.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {Array} an array of matched keys, may be empty when there is no match, but not <tt>null</tt>\n     * @private\n     */\n    impl.findMatches = function(rules, userAgent) {\n        var result = [];\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    result.push(key);\n                }\n            }\n        }\n        return result;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {String} version or <tt>null</tt> if version not found\n     * @private\n     */\n    impl.getVersionStr = function (propertyName, userAgent) {\n        var props = impl.mobileDetectRules.props, patterns, i, len, match;\n        if (hasOwnProp.call(props, propertyName)) {\n            patterns = props[propertyName];\n            len = patterns.length;\n            for (i = 0; i < len; ++i) {\n                match = patterns[i].exec(userAgent);\n                if (match !== null) {\n                    return match[1];\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {Number} version or <tt>NaN</tt> if version not found\n     * @private\n     */\n    impl.getVersion = function (propertyName, userAgent) {\n        var version = impl.getVersionStr(propertyName, userAgent);\n        return version ? impl.prepareVersionNo(version) : NaN;\n    };\n\n    /**\n     * Prepare the version number.\n     *\n     * @param {String} version\n     * @return {Number} the version number as a floating number\n     * @private\n     */\n    impl.prepareVersionNo = function (version) {\n        var numbers;\n\n        numbers = version.split(/[a-z._ \\/\\-]/i);\n        if (numbers.length === 1) {\n            version = numbers[0];\n        }\n        if (numbers.length > 1) {\n            version = numbers[0] + '.';\n            numbers.shift();\n            version += numbers.join('');\n        }\n        return Number(version);\n    };\n\n    impl.isMobileFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.fullPattern.test(userAgent) ||\n            impl.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4));\n    };\n\n    impl.isTabletFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.tabletPattern.test(userAgent);\n    };\n\n    impl.prepareDetectionCache = function (cache, userAgent, maxPhoneWidth) {\n        if (cache.mobile !== undefined) {\n            return;\n        }\n        var phone, tablet, phoneSized;\n\n        // first check for stronger tablet rules, then phone (see issue#5)\n        tablet = impl.findMatch(impl.mobileDetectRules.tablets, userAgent);\n        if (tablet) {\n            cache.mobile = cache.tablet = tablet;\n            cache.phone = null;\n            return; // unambiguously identified as tablet\n        }\n\n        phone = impl.findMatch(impl.mobileDetectRules.phones, userAgent);\n        if (phone) {\n            cache.mobile = cache.phone = phone;\n            cache.tablet = null;\n            return; // unambiguously identified as phone\n        }\n\n        // our rules haven't found a match -> try more general fallback rules\n        if (impl.isMobileFallback(userAgent)) {\n            phoneSized = MobileDetect.isPhoneSized(maxPhoneWidth);\n            if (phoneSized === undefined) {\n                cache.mobile = impl.FALLBACK_MOBILE;\n                cache.tablet = cache.phone = null;\n            } else if (phoneSized) {\n                cache.mobile = cache.phone = impl.FALLBACK_PHONE;\n                cache.tablet = null;\n            } else {\n                cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n                cache.phone = null;\n            }\n        } else if (impl.isTabletFallback(userAgent)) {\n            cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n            cache.phone = null;\n        } else {\n            // not mobile at all!\n            cache.mobile = cache.tablet = cache.phone = null;\n        }\n    };\n\n    // t is a reference to a MobileDetect instance\n    impl.mobileGrade = function (t) {\n        // impl note:\n        // To keep in sync w/ Mobile_Detect.php easily, the following code is tightly aligned to the PHP version.\n        // When changes are made in Mobile_Detect.php, copy this method and replace:\n        //     $this-> / t.\n        //     self::MOBILE_GRADE_(.) / '$1'\n        //     , self::VERSION_TYPE_FLOAT / (nothing)\n        //     isIOS() / os('iOS')\n        //     [reg] / (nothing)   <-- jsdelivr complaining about unescaped unicode character U+00AE\n        var $isMobile = t.mobile() !== null;\n\n        if (\n            // Apple iOS 3.2-5.1 - Tested on the original iPad (4.3 / 5.0), iPad 2 (4.3), iPad 3 (5.1), original iPhone (3.1), iPhone 3 (3.2), 3GS (4.3), 4 (4.3 / 5.0), and 4S (5.1)\n            t.os('iOS') && t.version('iPad')>=4.3 ||\n            t.os('iOS') && t.version('iPhone')>=3.1 ||\n            t.os('iOS') && t.version('iPod')>=3.1 ||\n\n            // Android 2.1-2.3 - Tested on the HTC Incredible (2.2), original Droid (2.2), HTC Aria (2.1), Google Nexus S (2.3). Functional on 1.5 & 1.6 but performance may be sluggish, tested on Google G1 (1.5)\n            // Android 3.1 (Honeycomb)  - Tested on the Samsung Galaxy Tab 10.1 and Motorola XOOM\n            // Android 4.0 (ICS)  - Tested on a Galaxy Nexus. Note: transition performance can be poor on upgraded devices\n            // Android 4.1 (Jelly Bean)  - Tested on a Galaxy Nexus and Galaxy 7\n            ( t.version('Android')>2.1 && t.is('Webkit') ) ||\n\n            // Windows Phone 7-7.5 - Tested on the HTC Surround (7.0) HTC Trophy (7.5), LG-E900 (7.5), Nokia Lumia 800\n            t.version('Windows Phone OS')>=7.0 ||\n\n            // Blackberry 7 - Tested on BlackBerry Torch 9810\n            // Blackberry 6.0 - Tested on the Torch 9800 and Style 9670\n            t.is('BlackBerry') && t.version('BlackBerry')>=6.0 ||\n            // Blackberry Playbook (1.0-2.0) - Tested on PlayBook\n            t.match('Playbook.*Tablet') ||\n\n            // Palm WebOS (1.4-2.0) - Tested on the Palm Pixi (1.4), Pre (1.4), Pre 2 (2.0)\n            ( t.version('webOS')>=1.4 && t.match('Palm|Pre|Pixi') ) ||\n            // Palm WebOS 3.0  - Tested on HP TouchPad\n            t.match('hp.*TouchPad') ||\n\n            // Firefox Mobile (12 Beta) - Tested on Android 2.3 device\n            ( t.is('Firefox') && t.version('Firefox')>=12 ) ||\n\n            // Chrome for Android - Tested on Android 4.0, 4.1 device\n            ( t.is('Chrome') && t.is('AndroidOS') && t.version('Android')>=4.0 ) ||\n\n            // Skyfire 4.1 - Tested on Android 2.3 device\n            ( t.is('Skyfire') && t.version('Skyfire')>=4.1 && t.is('AndroidOS') && t.version('Android')>=2.3 ) ||\n\n            // Opera Mobile 11.5-12: Tested on Android 2.3\n            ( t.is('Opera') && t.version('Opera Mobi')>11 && t.is('AndroidOS') ) ||\n\n            // Meego 1.2 - Tested on Nokia 950 and N9\n            t.is('MeeGoOS') ||\n\n            // Tizen (pre-release) - Tested on early hardware\n            t.is('Tizen') ||\n\n            // Samsung Bada 2.0 - Tested on a Samsung Wave 3, Dolphin browser\n            // @todo: more tests here!\n            t.is('Dolfin') && t.version('Bada')>=2.0 ||\n\n            // UC Browser - Tested on Android 2.3 device\n            ( (t.is('UC Browser') || t.is('Dolfin')) && t.version('Android')>=2.3 ) ||\n\n            // Kindle 3 and Fire  - Tested on the built-in WebKit browser for each\n            ( t.match('Kindle Fire') ||\n                t.is('Kindle') && t.version('Kindle')>=3.0 ) ||\n\n            // Nook Color 1.4.1 - Tested on original Nook Color, not Nook Tablet\n            t.is('AndroidOS') && t.is('NookTablet') ||\n\n            // Chrome Desktop 11-21 - Tested on OS X 10.7 and Windows 7\n            t.version('Chrome')>=11 && !$isMobile ||\n\n            // Safari Desktop 4-5 - Tested on OS X 10.7 and Windows 7\n            t.version('Safari')>=5.0 && !$isMobile ||\n\n            // Firefox Desktop 4-13 - Tested on OS X 10.7 and Windows 7\n            t.version('Firefox')>=4.0 && !$isMobile ||\n\n            // Internet Explorer 7-9 - Tested on Windows XP, Vista and 7\n            t.version('MSIE')>=7.0 && !$isMobile ||\n\n            // Opera Desktop 10-12 - Tested on OS X 10.7 and Windows 7\n            // @reference: http://my.opera.com/community/openweb/idopera/\n            t.version('Opera')>=10 && !$isMobile\n\n            ){\n            return 'A';\n        }\n\n        if (\n            t.os('iOS') && t.version('iPad')<4.3 ||\n            t.os('iOS') && t.version('iPhone')<3.1 ||\n            t.os('iOS') && t.version('iPod')<3.1 ||\n\n            // Blackberry 5.0: Tested on the Storm 2 9550, Bold 9770\n            t.is('Blackberry') && t.version('BlackBerry')>=5 && t.version('BlackBerry')<6 ||\n\n            //Opera Mini (5.0-6.5) - Tested on iOS 3.2/4.3 and Android 2.3\n            ( t.version('Opera Mini')>=5.0 && t.version('Opera Mini')<=6.5 &&\n                (t.version('Android')>=2.3 || t.is('iOS')) ) ||\n\n            // Nokia Symbian^3 - Tested on Nokia N8 (Symbian^3), C7 (Symbian^3), also works on N97 (Symbian^1)\n            t.match('NokiaN8|NokiaC7|N97.*Series60|Symbian/3') ||\n\n            // @todo: report this (tested on Nokia N71)\n            t.version('Opera Mobi')>=11 && t.is('SymbianOS')\n            ){\n            return 'B';\n        }\n\n        if (\n        // Blackberry 4.x - Tested on the Curve 8330\n            t.version('BlackBerry')<5.0 ||\n            // Windows Mobile - Tested on the HTC Leo (WinMo 5.2)\n            t.match('MSIEMobile|Windows CE.*Mobile') || t.version('Windows Mobile')<=5.2\n\n            ){\n            return 'C';\n        }\n\n        //All older smartphone platforms and featurephones - Any device that doesn't support media queries\n        //will receive the basic, C grade experience.\n        return 'C';\n    };\n\n    impl.detectOS = function (ua) {\n        return impl.findMatch(impl.mobileDetectRules.oss0, ua) ||\n            impl.findMatch(impl.mobileDetectRules.oss, ua);\n    };\n\n    impl.getDeviceSmallerSide = function () {\n        return window.screen.width < window.screen.height ?\n            window.screen.width :\n            window.screen.height;\n    };\n\n    /**\n     * Constructor for MobileDetect object.\n     * <br>\n     * Such an object will keep a reference to the given user-agent string and cache most of the detect queries.<br>\n     * <div style=\"background-color: #d9edf7; border: 1px solid #bce8f1; color: #3a87ad; padding: 14px; border-radius: 2px; margin-top: 20px\">\n     *     <strong>Find information how to download and install:</strong>\n     *     <a href=\"https://github.com/hgoebl/mobile-detect.js/\">github.com/hgoebl/mobile-detect.js/</a>\n     * </div>\n     *\n     * @example <pre>\n     *     var md = new MobileDetect(window.navigator.userAgent);\n     *     if (md.mobile()) {\n     *         location.href = (md.mobileGrade() === 'A') ? '/mobile/' : '/lynx/';\n     *     }\n     * </pre>\n     *\n     * @param {string} userAgent typically taken from window.navigator.userAgent or http_header['User-Agent']\n     * @param {number} [maxPhoneWidth=600] <strong>only for browsers</strong> specify a value for the maximum\n     *        width of smallest device side (in logical \"CSS\" pixels) until a device detected as mobile will be handled\n     *        as phone.\n     *        This is only used in cases where the device cannot be classified as phone or tablet.<br>\n     *        See <a href=\"http://developer.android.com/guide/practices/screens_support.html\">Declaring Tablet Layouts\n     *        for Android</a>.<br>\n     *        If you provide a value < 0, then this \"fuzzy\" check is disabled.\n     * @constructor\n     * @global\n     */\n    function MobileDetect(userAgent, maxPhoneWidth) {\n        this.ua = prepareUserAgent(userAgent);\n        this._cache = {};\n        //600dp is typical 7\" tablet minimum width\n        this.maxPhoneWidth = maxPhoneWidth || 600;\n    }\n\n    MobileDetect.prototype = {\n        constructor: MobileDetect,\n\n        /**\n         * Returns the detected phone or tablet type or <tt>null</tt> if it is not a mobile device.\n         * <br>\n         * For a list of possible return values see {@link MobileDetect#phone} and {@link MobileDetect#tablet}.<br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code>, <code>UnknownTablet</code> or\n         * <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>UnknownMobile</code> here.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key for the phone family or tablet family, e.g. \"Nexus\".\n         * @function MobileDetect#mobile\n         */\n        mobile: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.mobile;\n        },\n\n        /**\n         * Returns the detected phone type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPhone, BlackBerry, Pixel, HTC, Nexus, Dell, Motorola, Samsung, LG, Sony, Asus,\n         * Xiaomi, NokiaLumia, Micromax, Palm, Vertu, Pantech, Fly, Wiko, iMobile,\n         * SimValley, Wolfgang, Alcatel, Nintendo, Amoi, INQ, OnePlus, GenericPhone</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the phone family or producer, e.g. \"iPhone\"\n         * @function MobileDetect#phone\n         */\n        phone: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.phone;\n        },\n\n        /**\n         * Returns the detected tablet type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPad, NexusTablet, GoogleTablet, SamsungTablet, Kindle, SurfaceTablet,\n         * HPTablet, AsusTablet, BlackBerryTablet, HTCtablet, MotorolaTablet, NookTablet,\n         * AcerTablet, ToshibaTablet, LGTablet, FujitsuTablet, PrestigioTablet,\n         * LenovoTablet, DellTablet, YarvikTablet, MedionTablet, ArnovaTablet,\n         * IntensoTablet, IRUTablet, MegafonTablet, EbodaTablet, AllViewTablet,\n         * ArchosTablet, AinolTablet, NokiaLumiaTablet, SonyTablet, PhilipsTablet,\n         * CubeTablet, CobyTablet, MIDTablet, MSITablet, SMiTTablet, RockChipTablet,\n         * FlyTablet, bqTablet, HuaweiTablet, NecTablet, PantechTablet, BronchoTablet,\n         * VersusTablet, ZyncTablet, PositivoTablet, NabiTablet, KoboTablet, DanewTablet,\n         * TexetTablet, PlaystationTablet, TrekstorTablet, PyleAudioTablet, AdvanTablet,\n         * DanyTechTablet, GalapadTablet, MicromaxTablet, KarbonnTablet, AllFineTablet,\n         * PROSCANTablet, YONESTablet, ChangJiaTablet, GUTablet, PointOfViewTablet,\n         * OvermaxTablet, HCLTablet, DPSTablet, VistureTablet, CrestaTablet,\n         * MediatekTablet, ConcordeTablet, GoCleverTablet, ModecomTablet, VoninoTablet,\n         * ECSTablet, StorexTablet, VodafoneTablet, EssentielBTablet, RossMoorTablet,\n         * iMobileTablet, TolinoTablet, AudioSonicTablet, AMPETablet, SkkTablet,\n         * TecnoTablet, JXDTablet, iJoyTablet, FX2Tablet, XoroTablet, ViewsonicTablet,\n         * VerizonTablet, OdysTablet, CaptivaTablet, IconbitTablet, TeclastTablet,\n         * OndaTablet, JaytechTablet, BlaupunktTablet, DigmaTablet, EvolioTablet,\n         * LavaTablet, AocTablet, MpmanTablet, CelkonTablet, WolderTablet, MediacomTablet,\n         * MiTablet, NibiruTablet, NexoTablet, LeaderTablet, UbislateTablet,\n         * PocketBookTablet, KocasoTablet, HisenseTablet, Hudl, TelstraTablet,\n         * GenericTablet</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownTablet</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the tablet family or producer, e.g. \"SamsungTablet\"\n         * @function MobileDetect#tablet\n         */\n        tablet: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.tablet;\n        },\n\n        /**\n         * Returns the (first) detected user-agent string or <tt>null</tt>.\n         * <br>\n         * The returned user-agent is one of following keys:<br>\n         * <br><tt>Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark, Blazer,\n         * Safari, WeChat, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser, Mercury,\n         * ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {String} the key for the detected user-agent or <tt>null</tt>\n         * @function MobileDetect#userAgent\n         */\n        userAgent: function () {\n            if (this._cache.userAgent === undefined) {\n                this._cache.userAgent = impl.findMatch(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgent;\n        },\n\n        /**\n         * Returns all detected user-agent strings.\n         * <br>\n         * The array is empty or contains one or more of following keys:<br>\n         * <br><tt>Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark, Blazer,\n         * Safari, WeChat, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser, Mercury,\n         * ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {Array} the array of detected user-agent keys or <tt>[]</tt>\n         * @function MobileDetect#userAgents\n         */\n        userAgents: function () {\n            if (this._cache.userAgents === undefined) {\n                this._cache.userAgents = impl.findMatches(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgents;\n        },\n\n        /**\n         * Returns the detected operating system string or <tt>null</tt>.\n         * <br>\n         * The operating system is one of following keys:<br>\n         * <br><tt>AndroidOS, BlackBerryOS, PalmOS, SymbianOS, WindowsMobileOS, WindowsPhoneOS,\n         * iOS, iPadOS, SailfishOS, MeeGoOS, MaemoOS, JavaOS, webOS, badaOS, BREWOS</tt><br>\n         *\n         * @returns {String} the key for the detected operating system.\n         * @function MobileDetect#os\n         */\n        os: function () {\n            if (this._cache.os === undefined) {\n                this._cache.os = impl.detectOS(this.ua);\n            }\n            return this._cache.os;\n        },\n\n        /**\n         * Get the version (as Number) of the given property in the User-Agent.\n         * <br>\n         * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UCBrowser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * SamsungBrowser, Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon,\n         * SailfishBrowser, Gecko, Trident, Presto, Goanna, iOS, Android, Sailfish,\n         * BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows CE, Windows\n         * NT, Symbian, webOS</tt><br>\n         *\n         * @returns {Number} the version as float or <tt>NaN</tt> if User-Agent doesn't contain this version.\n         *          Be careful when comparing this value with '==' operator!\n         * @function MobileDetect#version\n         */\n        version: function (key) {\n            return impl.getVersion(key, this.ua);\n        },\n\n        /**\n         * Get the version (as String) of the given property in the User-Agent.\n         * <br>\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UCBrowser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * SamsungBrowser, Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon,\n         * SailfishBrowser, Gecko, Trident, Presto, Goanna, iOS, Android, Sailfish,\n         * BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows CE, Windows\n         * NT, Symbian, webOS</tt><br>\n         *\n         * @returns {String} the \"raw\" version as String or <tt>null</tt> if User-Agent doesn't contain this version.\n         *\n         * @function MobileDetect#versionStr\n         */\n        versionStr: function (key) {\n            return impl.getVersionStr(key, this.ua);\n        },\n\n        /**\n         * Global test key against userAgent, os, phone, tablet and some other properties of userAgent string.\n         *\n         * @param {String} key the key (case-insensitive) of a userAgent, an operating system, phone or\n         *        tablet family.<br>\n         *        For a complete list of possible values, see {@link MobileDetect#userAgent},\n         *        {@link MobileDetect#os}, {@link MobileDetect#phone}, {@link MobileDetect#tablet}.<br>\n         *        Additionally you have following keys:<br>\n         * <br><tt>Bot, MobileBot, DesktopMode, TV, WebKit, Console, Watch</tt><br>\n         *\n         * @returns {boolean} <tt>true</tt> when the given key is one of the defined keys of userAgent, os, phone,\n         *                    tablet or one of the listed additional keys, otherwise <tt>false</tt>\n         * @function MobileDetect#is\n         */\n        is: function (key) {\n            return containsIC(this.userAgents(), key) ||\n                   equalIC(key, this.os()) ||\n                   equalIC(key, this.phone()) ||\n                   equalIC(key, this.tablet()) ||\n                   containsIC(impl.findMatches(impl.mobileDetectRules.utils, this.ua), key);\n        },\n\n        /**\n         * Do a quick test against navigator::userAgent.\n         *\n         * @param {String|RegExp} pattern the pattern, either as String or RegExp\n         *                        (a string will be converted to a case-insensitive RegExp).\n         * @returns {boolean} <tt>true</tt> when the pattern matches, otherwise <tt>false</tt>\n         * @function MobileDetect#match\n         */\n        match: function (pattern) {\n            if (!(pattern instanceof RegExp)) {\n                pattern = new RegExp(pattern, 'i');\n            }\n            return pattern.test(this.ua);\n        },\n\n        /**\n         * Checks whether the mobile device can be considered as phone regarding <code>screen.width</code>.\n         * <br>\n         * Obviously this method makes sense in browser environments only (not for Node.js)!\n         * @param {number} [maxPhoneWidth] the maximum logical pixels (aka. CSS-pixels) to be considered as phone.<br>\n         *        The argument is optional and if not present or falsy, the value of the constructor is taken.\n         * @returns {boolean|undefined} <code>undefined</code> if screen size wasn't detectable, else <code>true</code>\n         *          when screen.width is less or equal to maxPhoneWidth, otherwise <code>false</code>.<br>\n         *          Will always return <code>undefined</code> server-side.\n         */\n        isPhoneSized: function (maxPhoneWidth) {\n            return MobileDetect.isPhoneSized(maxPhoneWidth || this.maxPhoneWidth);\n        },\n\n        /**\n         * Returns the mobile grade ('A', 'B', 'C').\n         *\n         * @returns {String} one of the mobile grades ('A', 'B', 'C').\n         * @function MobileDetect#mobileGrade\n         */\n        mobileGrade: function () {\n            if (this._cache.grade === undefined) {\n                this._cache.grade = impl.mobileGrade(this);\n            }\n            return this._cache.grade;\n        }\n    };\n\n    // environment-dependent\n    if (typeof window !== 'undefined' && window.screen) {\n        MobileDetect.isPhoneSized = function (maxPhoneWidth) {\n            return maxPhoneWidth < 0 ? undefined : impl.getDeviceSmallerSide() <= maxPhoneWidth;\n        };\n    } else {\n        MobileDetect.isPhoneSized = function () {};\n    }\n\n    // should not be replaced by a completely new object - just overwrite existing methods\n    MobileDetect._impl = impl;\n    \n    MobileDetect.version = '1.4.5 2021-03-13';\n\n    return MobileDetect;\n}); // end of call of define()\n})((function (undefined) {\n    if (typeof module !== 'undefined' && module.exports) {\n        return function (factory) { module.exports = factory(); };\n    } else if (typeof define === 'function' && define.amd) {\n        return define;\n    } else if (typeof window !== 'undefined') {\n        return function (factory) { window.MobileDetect = factory(); };\n    } else {\n        // please file a bug if you get this error!\n        throw new Error('unknown environment');\n    }\n})());","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.try.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.try.js","source":"'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_perform":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_perform.js","./_new-promise-capability":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","source":"// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js","source":"module.exports = {};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","source":"module.exports = true;\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","source":"module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js","source":"module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_perform.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_perform.js","source":"module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js","source":"module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/EventEmitter.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/EventEmitter.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require(\"babel-runtime/core-js/set\");\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Lightweight EventEmitter mimicing node EventEmitter's API.\n */\nvar EventEmitter = function () {\n  function EventEmitter() {\n    (0, _classCallCheck3.default)(this, EventEmitter);\n\n    /**\n     * Events\n     * @name _events\n     * @type {Map<String, Set>}\n     * @instanceof Process\n     * @private\n     */\n    this._events = new _map2.default();\n  }\n\n  /**\n   * Add a callback to a named event\n   * @param {String} channel - Name of the event.\n   * @param {Function} callback - Callback executed when the event is emitted.\n   */\n\n\n  (0, _createClass3.default)(EventEmitter, [{\n    key: \"addListener\",\n    value: function addListener(channel, callback) {\n      if (!this._events.has(channel)) this._events.set(channel, new _set2.default());\n\n      var stack = this._events.get(channel);\n      stack.add(callback);\n    }\n\n    /**\n     * Remove a callback from a named event\n     * @param {String} channel - Name of the event.\n     * @param {Function} callback - Callback to remove.\n     */\n\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(channel, callback) {\n      var stack = this._events.get(channel);\n\n      if (stack) stack.delete(callback);\n    }\n\n    /**\n     * Emit a named event\n     * @param {String} channel - Name of the event.\n     * @param {...Mixed} args - Arguments to pass to the callback.\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(channel) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var stack = this._events.get(channel);\n\n      if (stack) stack.forEach(function (callback) {\n        return callback.apply(undefined, args);\n      });\n    }\n  }]);\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50RW1pdHRlci5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwiY2hhbm5lbCIsImNhbGxiYWNrIiwiaGFzIiwic2V0Iiwic3RhY2siLCJnZXQiLCJhZGQiLCJkZWxldGUiLCJhcmdzIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztJQUdNQSxZO0FBQ0osMEJBQWM7QUFBQTs7QUFDWjs7Ozs7OztBQU9BLFNBQUtDLE9BQUwsR0FBZSxtQkFBZjtBQUNEOztBQUVEOzs7Ozs7Ozs7Z0NBS1lDLE8sRUFBU0MsUSxFQUFVO0FBQzdCLFVBQUksQ0FBQyxLQUFLRixPQUFMLENBQWFHLEdBQWIsQ0FBaUJGLE9BQWpCLENBQUwsRUFDRSxLQUFLRCxPQUFMLENBQWFJLEdBQWIsQ0FBaUJILE9BQWpCLEVBQTBCLG1CQUExQjs7QUFFRixVQUFNSSxRQUFRLEtBQUtMLE9BQUwsQ0FBYU0sR0FBYixDQUFpQkwsT0FBakIsQ0FBZDtBQUNBSSxZQUFNRSxHQUFOLENBQVVMLFFBQVY7QUFDRDs7QUFFRDs7Ozs7Ozs7bUNBS2VELE8sRUFBU0MsUSxFQUFVO0FBQ2hDLFVBQU1HLFFBQVEsS0FBS0wsT0FBTCxDQUFhTSxHQUFiLENBQWlCTCxPQUFqQixDQUFkOztBQUVBLFVBQUlJLEtBQUosRUFDRUEsTUFBTUcsTUFBTixDQUFhTixRQUFiO0FBQ0g7O0FBRUQ7Ozs7Ozs7O3lCQUtLRCxPLEVBQWtCO0FBQUEsd0NBQU5RLElBQU07QUFBTkEsWUFBTTtBQUFBOztBQUNyQixVQUFNSixRQUFRLEtBQUtMLE9BQUwsQ0FBYU0sR0FBYixDQUFpQkwsT0FBakIsQ0FBZDs7QUFFQSxVQUFJSSxLQUFKLEVBQ0VBLE1BQU1LLE9BQU4sQ0FBYyxVQUFDUixRQUFEO0FBQUEsZUFBY0EsMEJBQVlPLElBQVosQ0FBZDtBQUFBLE9BQWQ7QUFDSDs7Ozs7a0JBR1lWLFkiLCJmaWxlIjoiRXZlbnRFbWl0dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWdodHdlaWdodCBFdmVudEVtaXR0ZXIgbWltaWNpbmcgbm9kZSBFdmVudEVtaXR0ZXIncyBBUEkuXG4gKi9cbmNsYXNzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIEV2ZW50c1xuICAgICAqIEBuYW1lIF9ldmVudHNcbiAgICAgKiBAdHlwZSB7TWFwPFN0cmluZywgU2V0Pn1cbiAgICAgKiBAaW5zdGFuY2VvZiBQcm9jZXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY2FsbGJhY2sgdG8gYSBuYW1lZCBldmVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIE5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjaGFubmVsLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmhhcyhjaGFubmVsKSlcbiAgICAgIHRoaXMuX2V2ZW50cy5zZXQoY2hhbm5lbCwgbmV3IFNldCgpKTtcblxuICAgIGNvbnN0IHN0YWNrID0gdGhpcy5fZXZlbnRzLmdldChjaGFubmVsKTtcbiAgICBzdGFjay5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gYSBuYW1lZCBldmVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIE5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGNoYW5uZWwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc3RhY2sgPSB0aGlzLl9ldmVudHMuZ2V0KGNoYW5uZWwpO1xuXG4gICAgaWYgKHN0YWNrKVxuICAgICAgc3RhY2suZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGEgbmFtZWQgZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNoYW5uZWwgLSBOYW1lIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHsuLi5NaXhlZH0gYXJncyAtIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIGVtaXQoY2hhbm5lbCwgLi4uYXJncykge1xuICAgIGNvbnN0IHN0YWNrID0gdGhpcy5fZXZlbnRzLmdldChjaGFubmVsKTtcblxuICAgIGlmIChzdGFjaylcbiAgICAgIHN0YWNrLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayguLi5hcmdzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRFbWl0dGVyO1xuIl19","deps":{"babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _set = require(\"babel-runtime/core-js/set\");\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n *\n */\nvar Signal = function () {\n  function Signal() {\n    (0, _classCallCheck3.default)(this, Signal);\n\n    this._state = false;\n    this._observers = new _set2.default();\n  }\n\n  (0, _createClass3.default)(Signal, [{\n    key: \"set\",\n    value: function set(value) {\n      if (value !== this._state) {\n        this._state = value;\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = (0, _getIterator3.default)(this._observers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var observer = _step.value;\n\n            observer(value);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"addObserver\",\n    value: function addObserver(observer) {\n      this._observers.add(observer);\n    }\n  }, {\n    key: \"removeObserver\",\n    value: function removeObserver(observer) {\n      this._observers.delete(observer);\n    }\n  }]);\n  return Signal;\n}();\n\nexports.default = Signal;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpZ25hbC5qcyJdLCJuYW1lcyI6WyJTaWduYWwiLCJfc3RhdGUiLCJfb2JzZXJ2ZXJzIiwidmFsdWUiLCJvYnNlcnZlciIsImFkZCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7SUFJTUEsTTtBQUNKLG9CQUFjO0FBQUE7O0FBQ1osU0FBS0MsTUFBTCxHQUFjLEtBQWQ7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLG1CQUFsQjtBQUNEOzs7O3dCQUVHQyxLLEVBQU87QUFDVCxVQUFJQSxVQUFVLEtBQUtGLE1BQW5CLEVBQTJCO0FBQ3pCLGFBQUtBLE1BQUwsR0FBY0UsS0FBZDs7QUFEeUI7QUFBQTtBQUFBOztBQUFBO0FBR3pCLDBEQUFxQixLQUFLRCxVQUExQjtBQUFBLGdCQUFTRSxRQUFUOztBQUNFQSxxQkFBU0QsS0FBVDtBQURGO0FBSHlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLMUI7QUFDRjs7OzBCQUVLO0FBQ0osYUFBTyxLQUFLRixNQUFaO0FBQ0Q7OztnQ0FFV0csUSxFQUFVO0FBQ3BCLFdBQUtGLFVBQUwsQ0FBZ0JHLEdBQWhCLENBQW9CRCxRQUFwQjtBQUNEOzs7bUNBRWNBLFEsRUFBVTtBQUN2QixXQUFLRixVQUFMLENBQWdCSSxNQUFoQixDQUF1QkYsUUFBdkI7QUFDRDs7Ozs7a0JBR1lKLE0iLCJmaWxlIjoiU2lnbmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICpcbiAqL1xuY2xhc3MgU2lnbmFsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBmYWxzZTtcbiAgICB0aGlzLl9vYnNlcnZlcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBzZXQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHRoaXMuX3N0YXRlKSB7XG4gICAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xuXG4gICAgICBmb3IgKGxldCBvYnNlcnZlciBvZiB0aGlzLl9vYnNlcnZlcnMpXG4gICAgICAgIG9ic2VydmVyKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9XG5cbiAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICB0aGlzLl9vYnNlcnZlcnMuYWRkKG9ic2VydmVyKTtcbiAgfVxuXG4gIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgdGhpcy5fb2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lnbmFsO1xuIl19","deps":{"babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Process.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Process.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventEmitter2 = require('../../utils/EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _Signal = require('../../utils/Signal');\n\nvar _Signal2 = _interopRequireDefault(_Signal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * A process defines the simpliest unit of the framework.\n * It is defined by a signal `active` and 2 methods: `start` and `stop`.\n *\n * @memberof module:soundworks/client\n */\nvar Process = function (_EventEmitter) {\n  (0, _inherits3.default)(Process, _EventEmitter);\n\n  function Process(id) {\n    (0, _classCallCheck3.default)(this, Process);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Process.__proto__ || (0, _getPrototypeOf2.default)(Process)).call(this));\n\n    if (id === undefined) throw new Error('Undefined id for process ' + _this.constructor.name);\n\n    /**\n     * Name of the process.\n     * @name id\n     * @type {String}\n     * @instanceof Process\n     */\n    _this.id = id;\n\n    /**\n     * Signals defining the process state.\n     * @name signal\n     * @type {Object}\n     * @instanceof Process\n     */\n    _this.signals = {};\n    _this.signals.active = new _Signal2.default();\n    return _this;\n  }\n\n  /**\n   * Start the process.\n   */\n\n\n  (0, _createClass3.default)(Process, [{\n    key: 'start',\n    value: function start() {\n      this.signals.active.set(true);\n    }\n\n    /**\n     * Stop the process.\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.signals.active.set(false);\n    }\n  }]);\n  return Process;\n}(_EventEmitter3.default);\n\nexports.default = Process;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2Nlc3MuanMiXSwibmFtZXMiOlsiUHJvY2VzcyIsImlkIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJzaWduYWxzIiwiYWN0aXZlIiwiU2lnbmFsIiwic2V0IiwiRXZlbnRFbWl0dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7SUFNTUEsTzs7O0FBQ0osbUJBQVlDLEVBQVosRUFBZ0I7QUFBQTs7QUFBQTs7QUFHZCxRQUFJQSxPQUFPQyxTQUFYLEVBQ0UsTUFBTSxJQUFJQyxLQUFKLCtCQUFzQyxNQUFLQyxXQUFMLENBQWlCQyxJQUF2RCxDQUFOOztBQUVGOzs7Ozs7QUFNQSxVQUFLSixFQUFMLEdBQVVBLEVBQVY7O0FBRUE7Ozs7OztBQU1BLFVBQUtLLE9BQUwsR0FBZSxFQUFmO0FBQ0EsVUFBS0EsT0FBTCxDQUFhQyxNQUFiLEdBQXNCLElBQUlDLGdCQUFKLEVBQXRCO0FBckJjO0FBc0JmOztBQUVEOzs7Ozs7OzRCQUdRO0FBQ04sV0FBS0YsT0FBTCxDQUFhQyxNQUFiLENBQW9CRSxHQUFwQixDQUF3QixJQUF4QjtBQUNEOztBQUVEOzs7Ozs7MkJBR087QUFDTCxXQUFLSCxPQUFMLENBQWFDLE1BQWIsQ0FBb0JFLEdBQXBCLENBQXdCLEtBQXhCO0FBQ0Q7OztFQXJDbUJDLHNCOztrQkF3Q1BWLE8iLCJmaWxlIjoiUHJvY2Vzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi4vLi4vdXRpbHMvRXZlbnRFbWl0dGVyJztcbmltcG9ydCBTaWduYWwgZnJvbSAnLi4vLi4vdXRpbHMvU2lnbmFsJztcblxuLyoqXG4gKiBBIHByb2Nlc3MgZGVmaW5lcyB0aGUgc2ltcGxpZXN0IHVuaXQgb2YgdGhlIGZyYW1ld29yay5cbiAqIEl0IGlzIGRlZmluZWQgYnkgYSBzaWduYWwgYGFjdGl2ZWAgYW5kIDIgbWV0aG9kczogYHN0YXJ0YCBhbmQgYHN0b3BgLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqL1xuY2xhc3MgUHJvY2VzcyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmRlZmluZWQgaWQgZm9yIHByb2Nlc3MgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBwcm9jZXNzLlxuICAgICAqIEBuYW1lIGlkXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAaW5zdGFuY2VvZiBQcm9jZXNzXG4gICAgICovXG4gICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgLyoqXG4gICAgICogU2lnbmFscyBkZWZpbmluZyB0aGUgcHJvY2VzcyBzdGF0ZS5cbiAgICAgKiBAbmFtZSBzaWduYWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBpbnN0YW5jZW9mIFByb2Nlc3NcbiAgICAgKi9cbiAgICB0aGlzLnNpZ25hbHMgPSB7fTtcbiAgICB0aGlzLnNpZ25hbHMuYWN0aXZlID0gbmV3IFNpZ25hbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBwcm9jZXNzLlxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zaWduYWxzLmFjdGl2ZS5zZXQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCB0aGUgcHJvY2Vzcy5cbiAgICovXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5zaWduYWxzLmFjdGl2ZS5zZXQoZmFsc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2Nlc3M7XG4iXX0=","deps":{"../../utils/Signal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../utils/EventEmitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/EventEmitter.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/SignalAll.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/SignalAll.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Signal2 = require('./Signal');\n\nvar _Signal3 = _interopRequireDefault(_Signal2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Compound signal that is `true` when all signals it depends on are `true`.\n * Dependencies are added through the `add` method.\n * @private\n */\nvar SignalAll = function (_Signal) {\n  (0, _inherits3.default)(SignalAll, _Signal);\n\n  function SignalAll() {\n    (0, _classCallCheck3.default)(this, SignalAll);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SignalAll.__proto__ || (0, _getPrototypeOf2.default)(SignalAll)).call(this));\n\n    _this._dependencies = new _set2.default();\n    return _this;\n  }\n\n  (0, _createClass3.default)(SignalAll, [{\n    key: 'add',\n    value: function add(signal) {\n      var _this2 = this;\n\n      this._dependencies.add(signal);\n\n      signal.addObserver(function () {\n        var value = true;\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = (0, _getIterator3.default)(_this2._dependencies), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _signal = _step.value;\n\n            value = value && _signal.get();\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        (0, _get3.default)(SignalAll.prototype.__proto__ || (0, _getPrototypeOf2.default)(SignalAll.prototype), 'set', _this2).call(_this2, value);\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(value) {/* noop */}\n  }, {\n    key: 'length',\n    get: function get() {\n      return this._dependencies.size;\n    }\n  }]);\n  return SignalAll;\n}(_Signal3.default);\n\nexports.default = SignalAll;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpZ25hbEFsbC5qcyJdLCJuYW1lcyI6WyJTaWduYWxBbGwiLCJfZGVwZW5kZW5jaWVzIiwic2lnbmFsIiwiYWRkIiwiYWRkT2JzZXJ2ZXIiLCJ2YWx1ZSIsImdldCIsInNpemUiLCJTaWduYWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBOzs7OztJQUtNQSxTOzs7QUFDSix1QkFBYztBQUFBOztBQUFBOztBQUVaLFVBQUtDLGFBQUwsR0FBcUIsbUJBQXJCO0FBRlk7QUFHYjs7Ozt3QkFNR0MsTSxFQUFRO0FBQUE7O0FBQ1YsV0FBS0QsYUFBTCxDQUFtQkUsR0FBbkIsQ0FBdUJELE1BQXZCOztBQUVBQSxhQUFPRSxXQUFQLENBQW1CLFlBQU07QUFDdkIsWUFBSUMsUUFBUSxJQUFaOztBQUR1QjtBQUFBO0FBQUE7O0FBQUE7QUFHdkIsMERBQW1CLE9BQUtKLGFBQXhCO0FBQUEsZ0JBQVNDLE9BQVQ7O0FBQ0VHLG9CQUFRQSxTQUFTSCxRQUFPSSxHQUFQLEVBQWpCO0FBREY7QUFIdUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNdkIsNElBQVVELEtBQVY7QUFDRCxPQVBEO0FBUUQ7Ozt3QkFFR0EsSyxFQUFPLENBQUUsVUFBWTs7O3dCQWpCWjtBQUNYLGFBQU8sS0FBS0osYUFBTCxDQUFtQk0sSUFBMUI7QUFDRDs7O0VBUnFCQyxnQjs7a0JBMEJUUixTIiwiZmlsZSI6IlNpZ25hbEFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWduYWwgZnJvbSAnLi9TaWduYWwnO1xuXG4vKipcbiAqIENvbXBvdW5kIHNpZ25hbCB0aGF0IGlzIGB0cnVlYCB3aGVuIGFsbCBzaWduYWxzIGl0IGRlcGVuZHMgb24gYXJlIGB0cnVlYC5cbiAqIERlcGVuZGVuY2llcyBhcmUgYWRkZWQgdGhyb3VnaCB0aGUgYGFkZGAgbWV0aG9kLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU2lnbmFsQWxsIGV4dGVuZHMgU2lnbmFsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kZXBlbmRlbmNpZXMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9kZXBlbmRlbmNpZXMuc2l6ZTtcbiAgfVxuXG4gIGFkZChzaWduYWwpIHtcbiAgICB0aGlzLl9kZXBlbmRlbmNpZXMuYWRkKHNpZ25hbCk7XG5cbiAgICBzaWduYWwuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gdHJ1ZTtcblxuICAgICAgZm9yIChsZXQgc2lnbmFsIG9mIHRoaXMuX2RlcGVuZGVuY2llcylcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiBzaWduYWwuZ2V0KCk7XG5cbiAgICAgIHN1cGVyLnNldCh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXQodmFsdWUpIHsgLyogbm9vcCAqLyB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25hbEFsbDtcbiJdfQ==","deps":{"./Signal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toArray.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toArray.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);\n};","deps":{"../core-js/array/from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/array/from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","deps":{"../core-js/array/from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/array/from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/GranularEngine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/GranularEngine.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _AudioTimeEngine2 = require('../core/AudioTimeEngine');\n\nvar _AudioTimeEngine3 = _interopRequireDefault(_AudioTimeEngine2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined) return opt;\n\n  return def;\n}\n\n/**\n * Granular synthesis TimeEngine implementing the scheduled interface.\n * The grain position (grain onset or center time in the audio buffer) is\n * optionally determined by the engine's currentPosition attribute.\n *\n * Example that shows a `GranularEngine` (with a few parameter controls) driven\n * by a `Scheduler` and a `PlayControl`:\n * {@link https://rawgit.com/wavesjs/waves-audio/master/examples/granular-engine/index.html}\n *\n * @extends AudioTimeEngine\n * @example\n * import * as audio from 'waves-audio';\n * const scheduler = audio.getScheduler();\n * const granularEngine = new audio.GranularEngine();\n *\n * scheduler.add(granularEngine);\n *\n *\n * @param {Object} options={} - Parameters\n * @param {AudioBuffer} [options.buffer=null] - Audio buffer\n * @param {Number} [options.periodAbs=0.01] - Absolute grain period in sec\n * @param {Number} [options.periodRel=0] - Grain period relative to absolute\n *  duration\n * @param {Number} [options.periodVar=0] - Amout of random grain period\n *  variation relative to grain period\n * @param {Number} [options.periodMin=0.001] - Minimum grain period\n * @param {Number} [options.position=0] - Grain position (onset time in audio\n *  buffer) in sec\n * @param {Number} [options.positionVar=0.003] - Amout of random grain position\n *  variation in sec\n * @param {Number} [options.durationAbs=0.1] - Absolute grain duration in sec\n * @param {Number} [options.durationRel=0] - Grain duration relative to grain\n *  period (overlap)\n * @param {Number} [options.attackAbs=0] - Absolute attack time in sec\n * @param {Number} [options.attackRel=0.5] - Attack time relative to grain duration\n * @param {String} [options.attackShape='lin'] - Shape of attack\n * @param {Number} [options.releaseAbs=0] - Absolute release time in sec\n * @param {Number} [options.releaseRel=0.5] - Release time relative to grain duration\n * @param {Number} [options.releaseShape='lin'] - Shape of release\n * @param {String} [options.expRampOffset=0.0001] - Offset (start/end value)\n *  for exponential attack/release\n * @param {Number} [options.resampling=0] - Grain resampling in cent\n * @param {Number} [options.resamplingVar=0] - Amout of random resampling variation in cent\n * @param {Number} [options.gain=1] - Linear gain factor\n * @param {Boolean} [options.centered=true] - Whether the grain position refers\n *  to the center of the grain (or the beginning)\n * @param {Boolean} [options.cyclic=false] - Whether the audio buffer and grain\n *  position are considered as cyclic\n * @param {Number} [options.wrapAroundExtension=0] - Portion at the end of the\n *  audio buffer that has been copied from the beginning to assure cyclic behavior\n */\n\nvar GranularEngine = function (_AudioTimeEngine) {\n  (0, _inherits3.default)(GranularEngine, _AudioTimeEngine);\n\n  function GranularEngine() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, GranularEngine);\n\n    /**\n     * Audio buffer\n     *\n     * @type {AudioBuffer}\n     * @name buffer\n     * @default null\n     * @memberof GranularEngine\n     * @instance\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (GranularEngine.__proto__ || (0, _getPrototypeOf2.default)(GranularEngine)).call(this, options.audioContext));\n\n    _this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute grain period in sec\n     *\n     * @type {Number}\n     * @name periodAbs\n     * @default 0.01\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.periodAbs = optOrDef(options.periodAbs, 0.01);\n\n    /**\n     * Grain period relative to absolute duration\n     *\n     * @type {Number}\n     * @name periodRel\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.periodRel = optOrDef(options.periodRel, 0);\n\n    /**\n     * Amout of random grain period variation relative to grain period\n     *\n     * @type {Number}\n     * @name periodVar\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Minimum grain period\n     *\n     * @type {Number}\n     * @name periodMin\n     * @default 0.001\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.periodMin = optOrDef(options.periodMin, 0.001);\n\n    /**\n     * Grain position (onset time in audio buffer) in sec\n     *\n     * @type {Number}\n     * @name position\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.position = optOrDef(options.position, 0);\n\n    /**\n     * Amout of random grain position variation in sec\n     *\n     * @type {Number}\n     * @name positionVar\n     * @default 0.003\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.positionVar = optOrDef(options.positionVar, 0.003);\n\n    /**\n     * Absolute grain duration in sec\n     *\n     * @type {Number}\n     * @name durationAbs\n     * @default 0.1\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.durationAbs = optOrDef(options.durationAbs, 0.1); // absolute grain duration\n\n    /**\n     * Grain duration relative to grain period (overlap)\n     *\n     * @type {Number}\n     * @name durationRel\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.durationRel = optOrDef(options.durationRel, 0);\n\n    /**\n     * Absolute attack time in sec\n     *\n     * @type {Number}\n     * @name attackAbs\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.attackAbs = optOrDef(options.attackAbs, 0);\n\n    /**\n     * Attack time relative to grain duration\n     *\n     * @type {Number}\n     * @name attackRel\n     * @default 0.5\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.attackRel = optOrDef(options.attackRel, 0.5);\n\n    /**\n     * Shape of attack ('lin' for linear ramp, 'exp' for exponential ramp)\n     *\n     * @type {String}\n     * @name attackShape\n     * @default 'lin'\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.attackShape = optOrDef(options.attackShape, 'lin');\n\n    /**\n     * Absolute release time in sec\n     *\n     * @type {Number}\n     * @name releaseAbs\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.releaseAbs = optOrDef(options.releaseAbs, 0);\n\n    /**\n     * Release time relative to grain duration\n     *\n     * @type {Number}\n     * @name releaseRel\n     * @default 0.5\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.releaseRel = optOrDef(options.releaseRel, 0.5);\n\n    /**\n     * Shape of release ('lin' for linear ramp, 'exp' for exponential ramp)\n     *\n     * @type {String}\n     * @name releaseShape\n     * @default 'lin'\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.releaseShape = optOrDef(options.releaseShape, 'lin');\n\n    /**\n     * Offset (start/end value) for exponential attack/release\n     *\n     * @type {Number}\n     * @name expRampOffset\n     * @default 0.0001\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.expRampOffset = optOrDef(options.expRampOffset, 0.0001);\n\n    /**\n     * Grain resampling in cent\n     *\n     * @type {Number}\n     * @name resampling\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     *\n     * @type {Number}\n     * @name resamplingVar\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     *\n     * @type {Number}\n     * @name gain\n     * @default 1\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Whether the grain position refers to the center of the grain (or the beginning)\n     *\n     * @type {Boolean}\n     * @name centered\n     * @default true\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.centered = optOrDef(options.centered, true);\n\n    /**\n     * Whether the audio buffer and grain position are considered as cyclic\n     *\n     * @type {Boolean}\n     * @name cyclic\n     * @default false\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.cyclic = optOrDef(options.cyclic, false);\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the\n     * beginning to assure cyclic behavior\n     *\n     * @type {Number}\n     * @name wrapAroundExtension\n     * @default 0\n     * @memberof GranularEngine\n     * @instance\n     */\n    _this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    _this.outputNode = _this.audioContext.createGain();\n    return _this;\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   *\n   * @type {Number}\n   * @name bufferDuration\n   * @memberof GranularEngine\n   * @instance\n   * @readonly\n   */\n\n\n  (0, _createClass3.default)(GranularEngine, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      time = Math.max(time, this.audioContext.currentTime);\n      return time + this.trigger(time);\n    }\n\n    /**\n     * Trigger a grain. This function can be called at any time (whether the\n     * engine is scheduled or not) to generate a single grain according to the\n     * current grain parameters.\n     *\n     * @param {Number} time - grain synthesis audio time\n     * @return {Number} - period to next grain\n     */\n\n  }, {\n    key: 'trigger',\n    value: function trigger(time) {\n      var audioContext = this.audioContext;\n      var grainTime = time || audioContext.currentTime;\n      var grainPeriod = this.periodAbs;\n      var grainPosition = this.currentPosition;\n      var grainDuration = this.durationAbs;\n\n      if (this.buffer) {\n        var resamplingRate = 1.0;\n\n        // calculate resampling\n        if (this.resampling !== 0 || this.resamplingVar > 0) {\n          var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n          resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n        }\n\n        grainPeriod += this.periodRel * grainDuration;\n        grainDuration += this.durationRel * grainPeriod;\n\n        // grain period randon variation\n        if (this.periodVar > 0.0) grainPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * grainPeriod;\n\n        // center grain\n        if (this.centered) grainPosition -= 0.5 * grainDuration;\n\n        // randomize grain position\n        if (this.positionVar > 0) grainPosition += (2.0 * Math.random() - 1) * this.positionVar;\n\n        var bufferDuration = this.bufferDuration;\n\n        // wrap or clip grain position and duration into buffer duration\n        if (grainPosition < 0 || grainPosition >= bufferDuration) {\n          if (this.cyclic) {\n            var cycles = grainPosition / bufferDuration;\n            grainPosition = (cycles - Math.floor(cycles)) * bufferDuration;\n\n            if (grainPosition + grainDuration > this.buffer.duration) grainDuration = this.buffer.duration - grainPosition;\n          } else {\n            if (grainPosition < 0) {\n              grainTime -= grainPosition;\n              grainDuration += grainPosition;\n              grainPosition = 0;\n            }\n\n            if (grainPosition + grainDuration > bufferDuration) grainDuration = bufferDuration - grainPosition;\n          }\n        }\n\n        // make grain\n        if (this.gain > 0 && grainDuration >= 0.001) {\n          // make grain envelope\n          var envelope = audioContext.createGain();\n          var attack = this.attackAbs + this.attackRel * grainDuration;\n          var release = this.releaseAbs + this.releaseRel * grainDuration;\n\n          if (attack + release > grainDuration) {\n            var factor = grainDuration / (attack + release);\n            attack *= factor;\n            release *= factor;\n          }\n\n          var attackEndTime = grainTime + attack;\n          var grainEndTime = grainTime + grainDuration / resamplingRate;\n          var releaseStartTime = grainEndTime - release;\n\n          envelope.gain.value = 0;\n\n          if (this.attackShape === 'lin') {\n            envelope.gain.setValueAtTime(0.0, grainTime);\n            envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n          } else {\n            envelope.gain.setValueAtTime(this.expRampOffset, grainTime);\n            envelope.gain.exponentialRampToValueAtTime(this.gain, attackEndTime);\n          }\n\n          if (releaseStartTime > attackEndTime) envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n          if (this.releaseShape === 'lin') {\n            envelope.gain.linearRampToValueAtTime(0.0, grainEndTime);\n          } else {\n            envelope.gain.exponentialRampToValueAtTime(this.expRampOffset, grainEndTime);\n          }\n\n          envelope.connect(this.outputNode);\n\n          // make source\n          var source = audioContext.createBufferSource();\n\n          source.buffer = this.buffer;\n          source.playbackRate.value = resamplingRate;\n          source.connect(envelope);\n\n          source.start(grainTime, grainPosition);\n          source.stop(grainEndTime);\n        }\n      }\n\n      return Math.max(this.periodMin, grainPeriod);\n    }\n  }, {\n    key: 'bufferDuration',\n    get: function get() {\n      if (this.buffer) {\n        var bufferDuration = this.buffer.duration;\n\n        if (this.wrapAroundExtension) bufferDuration -= this.wrapAroundExtension;\n\n        return bufferDuration;\n      }\n\n      return 0;\n    }\n\n    /**\n     * Current position\n     *\n     * @type {Number}\n     * @name currentPosition\n     * @memberof GranularEngine\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      var master = this.master;\n\n      if (master && master.currentPosition !== undefined) return master.currentPosition;\n\n      return this.position;\n    }\n  }]);\n  return GranularEngine;\n}(_AudioTimeEngine3.default);\n\nexports.default = GranularEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdyYW51bGFyRW5naW5lLmpzIl0sIm5hbWVzIjpbIm9wdE9yRGVmIiwib3B0IiwiZGVmIiwidW5kZWZpbmVkIiwiR3JhbnVsYXJFbmdpbmUiLCJvcHRpb25zIiwiYXVkaW9Db250ZXh0IiwiYnVmZmVyIiwicGVyaW9kQWJzIiwicGVyaW9kUmVsIiwicGVyaW9kVmFyIiwicGVyaW9kTWluIiwicG9zaXRpb24iLCJwb3NpdGlvblZhciIsImR1cmF0aW9uQWJzIiwiZHVyYXRpb25SZWwiLCJhdHRhY2tBYnMiLCJhdHRhY2tSZWwiLCJhdHRhY2tTaGFwZSIsInJlbGVhc2VBYnMiLCJyZWxlYXNlUmVsIiwicmVsZWFzZVNoYXBlIiwiZXhwUmFtcE9mZnNldCIsInJlc2FtcGxpbmciLCJyZXNhbXBsaW5nVmFyIiwiZ2FpbiIsImNlbnRlcmVkIiwiY3ljbGljIiwid3JhcEFyb3VuZEV4dGVuc2lvbiIsIm91dHB1dE5vZGUiLCJjcmVhdGVHYWluIiwidGltZSIsIk1hdGgiLCJtYXgiLCJjdXJyZW50VGltZSIsInRyaWdnZXIiLCJncmFpblRpbWUiLCJncmFpblBlcmlvZCIsImdyYWluUG9zaXRpb24iLCJjdXJyZW50UG9zaXRpb24iLCJncmFpbkR1cmF0aW9uIiwicmVzYW1wbGluZ1JhdGUiLCJyYW5kb21SZXNhbXBsaW5nIiwicmFuZG9tIiwicG93IiwiYnVmZmVyRHVyYXRpb24iLCJjeWNsZXMiLCJmbG9vciIsImR1cmF0aW9uIiwiZW52ZWxvcGUiLCJhdHRhY2siLCJyZWxlYXNlIiwiZmFjdG9yIiwiYXR0YWNrRW5kVGltZSIsImdyYWluRW5kVGltZSIsInJlbGVhc2VTdGFydFRpbWUiLCJ2YWx1ZSIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwiY29ubmVjdCIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsInBsYXliYWNrUmF0ZSIsInN0YXJ0Iiwic3RvcCIsIm1h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VCxDQUFjaUMsdUJBQWQsQ0FBc0MsR0FBdEMsRUFBMkNKLFlBQTNDO0FBQ0QsV0FGRCxNQUVPO0FBQ0xMLHFCQUFTeEIsSUFBVCxDQUFja0MsNEJBQWQsQ0FBMkMsS0FBS3JDLGFBQWhELEVBQStEZ0MsWUFBL0Q7QUFDRDs7QUFFREwsbUJBQVNXLE9BQVQsQ0FBaUIsS0FBSy9CLFVBQXRCOztBQUVBO0FBQ0EsY0FBSWdDLFNBQVN2RCxhQUFhd0Qsa0JBQWIsRUFBYjs7QUFFQUQsaUJBQU90RCxNQUFQLEdBQWdCLEtBQUtBLE1BQXJCO0FBQ0FzRCxpQkFBT0UsWUFBUCxDQUFvQlAsS0FBcEIsR0FBNEJmLGNBQTVCO0FBQ0FvQixpQkFBT0QsT0FBUCxDQUFlWCxRQUFmOztBQUVBWSxpQkFBT0csS0FBUCxDQUFhNUIsU0FBYixFQUF3QkUsYUFBeEI7QUFDQXVCLGlCQUFPSSxJQUFQLENBQVlYLFlBQVo7QUFDRDtBQUNGOztBQUVELGFBQU90QixLQUFLQyxHQUFMLENBQVMsS0FBS3RCLFNBQWQsRUFBeUIwQixXQUF6QixDQUFQO0FBQ0Q7Ozt3QkFwSm9CO0FBQ25CLFVBQUksS0FBSzlCLE1BQVQsRUFBaUI7QUFDZixZQUFJc0MsaUJBQWlCLEtBQUt0QyxNQUFMLENBQVl5QyxRQUFqQzs7QUFFQSxZQUFJLEtBQUtwQixtQkFBVCxFQUNFaUIsa0JBQWtCLEtBQUtqQixtQkFBdkI7O0FBRUYsZUFBT2lCLGNBQVA7QUFDRDs7QUFFRCxhQUFPLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7O3dCQVNzQjtBQUNwQixVQUFJcUIsU0FBUyxLQUFLQSxNQUFsQjs7QUFFQSxVQUFJQSxVQUFVQSxPQUFPM0IsZUFBUCxLQUEyQnBDLFNBQXpDLEVBQ0UsT0FBTytELE9BQU8zQixlQUFkOztBQUVGLGFBQU8sS0FBSzNCLFFBQVo7QUFDRDs7O0VBaFMwQnVELHlCOztrQkEwWmQvRCxjIiwiZmlsZSI6IkdyYW51bGFyRW5naW5lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1ZGlvVGltZUVuZ2luZSBmcm9tICcuLi9jb3JlL0F1ZGlvVGltZUVuZ2luZSc7XG5cbmZ1bmN0aW9uIG9wdE9yRGVmKG9wdCwgZGVmKSB7XG4gIGlmIChvcHQgIT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gb3B0O1xuXG4gIHJldHVybiBkZWY7XG59XG5cblxuLyoqXG4gKiBHcmFudWxhciBzeW50aGVzaXMgVGltZUVuZ2luZSBpbXBsZW1lbnRpbmcgdGhlIHNjaGVkdWxlZCBpbnRlcmZhY2UuXG4gKiBUaGUgZ3JhaW4gcG9zaXRpb24gKGdyYWluIG9uc2V0IG9yIGNlbnRlciB0aW1lIGluIHRoZSBhdWRpbyBidWZmZXIpIGlzXG4gKiBvcHRpb25hbGx5IGRldGVybWluZWQgYnkgdGhlIGVuZ2luZSdzIGN1cnJlbnRQb3NpdGlvbiBhdHRyaWJ1dGUuXG4gKlxuICogRXhhbXBsZSB0aGF0IHNob3dzIGEgYEdyYW51bGFyRW5naW5lYCAod2l0aCBhIGZldyBwYXJhbWV0ZXIgY29udHJvbHMpIGRyaXZlblxuICogYnkgYSBgU2NoZWR1bGVyYCBhbmQgYSBgUGxheUNvbnRyb2xgOlxuICoge0BsaW5rIGh0dHBzOi8vcmF3Z2l0LmNvbS93YXZlc2pzL3dhdmVzLWF1ZGlvL21hc3Rlci9leGFtcGxlcy9ncmFudWxhci1lbmdpbmUvaW5kZXguaHRtbH1cbiAqXG4gKiBAZXh0ZW5kcyBBdWRpb1RpbWVFbmdpbmVcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKiBjb25zdCBzY2hlZHVsZXIgPSBhdWRpby5nZXRTY2hlZHVsZXIoKTtcbiAqIGNvbnN0IGdyYW51bGFyRW5naW5lID0gbmV3IGF1ZGlvLkdyYW51bGFyRW5naW5lKCk7XG4gKlxuICogc2NoZWR1bGVyLmFkZChncmFudWxhckVuZ2luZSk7XG4gKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zPXt9IC0gUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBdWRpb0J1ZmZlcn0gW29wdGlvbnMuYnVmZmVyPW51bGxdIC0gQXVkaW8gYnVmZmVyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGVyaW9kQWJzPTAuMDFdIC0gQWJzb2x1dGUgZ3JhaW4gcGVyaW9kIGluIHNlY1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBlcmlvZFJlbD0wXSAtIEdyYWluIHBlcmlvZCByZWxhdGl2ZSB0byBhYnNvbHV0ZVxuICogIGR1cmF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGVyaW9kVmFyPTBdIC0gQW1vdXQgb2YgcmFuZG9tIGdyYWluIHBlcmlvZFxuICogIHZhcmlhdGlvbiByZWxhdGl2ZSB0byBncmFpbiBwZXJpb2RcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wZXJpb2RNaW49MC4wMDFdIC0gTWluaW11bSBncmFpbiBwZXJpb2RcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wb3NpdGlvbj0wXSAtIEdyYWluIHBvc2l0aW9uIChvbnNldCB0aW1lIGluIGF1ZGlvXG4gKiAgYnVmZmVyKSBpbiBzZWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wb3NpdGlvblZhcj0wLjAwM10gLSBBbW91dCBvZiByYW5kb20gZ3JhaW4gcG9zaXRpb25cbiAqICB2YXJpYXRpb24gaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZHVyYXRpb25BYnM9MC4xXSAtIEFic29sdXRlIGdyYWluIGR1cmF0aW9uIGluIHNlY1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uUmVsPTBdIC0gR3JhaW4gZHVyYXRpb24gcmVsYXRpdmUgdG8gZ3JhaW5cbiAqICBwZXJpb2QgKG92ZXJsYXApXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYXR0YWNrQWJzPTBdIC0gQWJzb2x1dGUgYXR0YWNrIHRpbWUgaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYXR0YWNrUmVsPTAuNV0gLSBBdHRhY2sgdGltZSByZWxhdGl2ZSB0byBncmFpbiBkdXJhdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmF0dGFja1NoYXBlPSdsaW4nXSAtIFNoYXBlIG9mIGF0dGFja1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlbGVhc2VBYnM9MF0gLSBBYnNvbHV0ZSByZWxlYXNlIHRpbWUgaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVsZWFzZVJlbD0wLjVdIC0gUmVsZWFzZSB0aW1lIHJlbGF0aXZlIHRvIGdyYWluIGR1cmF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVsZWFzZVNoYXBlPSdsaW4nXSAtIFNoYXBlIG9mIHJlbGVhc2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5leHBSYW1wT2Zmc2V0PTAuMDAwMV0gLSBPZmZzZXQgKHN0YXJ0L2VuZCB2YWx1ZSlcbiAqICBmb3IgZXhwb25lbnRpYWwgYXR0YWNrL3JlbGVhc2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXNhbXBsaW5nPTBdIC0gR3JhaW4gcmVzYW1wbGluZyBpbiBjZW50XG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVzYW1wbGluZ1Zhcj0wXSAtIEFtb3V0IG9mIHJhbmRvbSByZXNhbXBsaW5nIHZhcmlhdGlvbiBpbiBjZW50XG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZ2Fpbj0xXSAtIExpbmVhciBnYWluIGZhY3RvclxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jZW50ZXJlZD10cnVlXSAtIFdoZXRoZXIgdGhlIGdyYWluIHBvc2l0aW9uIHJlZmVyc1xuICogIHRvIHRoZSBjZW50ZXIgb2YgdGhlIGdyYWluIChvciB0aGUgYmVnaW5uaW5nKVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jeWNsaWM9ZmFsc2VdIC0gV2hldGhlciB0aGUgYXVkaW8gYnVmZmVyIGFuZCBncmFpblxuICogIHBvc2l0aW9uIGFyZSBjb25zaWRlcmVkIGFzIGN5Y2xpY1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndyYXBBcm91bmRFeHRlbnNpb249MF0gLSBQb3J0aW9uIGF0IHRoZSBlbmQgb2YgdGhlXG4gKiAgYXVkaW8gYnVmZmVyIHRoYXQgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIGJlZ2lubmluZyB0byBhc3N1cmUgY3ljbGljIGJlaGF2aW9yXG4gKi9cbmNsYXNzIEdyYW51bGFyRW5naW5lIGV4dGVuZHMgQXVkaW9UaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucy5hdWRpb0NvbnRleHQpO1xuXG4gICAgLyoqXG4gICAgICogQXVkaW8gYnVmZmVyXG4gICAgICpcbiAgICAgKiBAdHlwZSB7QXVkaW9CdWZmZXJ9XG4gICAgICogQG5hbWUgYnVmZmVyXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gb3B0T3JEZWYob3B0aW9ucy5idWZmZXIsIG51bGwpO1xuXG4gICAgLyoqXG4gICAgICogQWJzb2x1dGUgZ3JhaW4gcGVyaW9kIGluIHNlY1xuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbmFtZSBwZXJpb2RBYnNcbiAgICAgKiBAZGVmYXVsdCAwLjAxXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5wZXJpb2RBYnMgPSBvcHRPckRlZihvcHRpb25zLnBlcmlvZEFicywgMC4wMSk7XG5cbiAgICAvKipcbiAgICAgKiBHcmFpbiBwZXJpb2QgcmVsYXRpdmUgdG8gYWJzb2x1dGUgZHVyYXRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgcGVyaW9kUmVsXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucGVyaW9kUmVsID0gb3B0T3JEZWYob3B0aW9ucy5wZXJpb2RSZWwsIDApO1xuXG4gICAgLyoqXG4gICAgICogQW1vdXQgb2YgcmFuZG9tIGdyYWluIHBlcmlvZCB2YXJpYXRpb24gcmVsYXRpdmUgdG8gZ3JhaW4gcGVyaW9kXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHBlcmlvZFZhclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnBlcmlvZFZhciA9IG9wdE9yRGVmKG9wdGlvbnMucGVyaW9kVmFyLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gZ3JhaW4gcGVyaW9kXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHBlcmlvZE1pblxuICAgICAqIEBkZWZhdWx0IDAuMDAxXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5wZXJpb2RNaW4gPSBvcHRPckRlZihvcHRpb25zLnBlcmlvZE1pbiwgMC4wMDEpO1xuXG4gICAgLyoqXG4gICAgICogR3JhaW4gcG9zaXRpb24gKG9uc2V0IHRpbWUgaW4gYXVkaW8gYnVmZmVyKSBpbiBzZWNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgcG9zaXRpb25cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IG9wdE9yRGVmKG9wdGlvbnMucG9zaXRpb24sIDApO1xuXG4gICAgLyoqXG4gICAgICogQW1vdXQgb2YgcmFuZG9tIGdyYWluIHBvc2l0aW9uIHZhcmlhdGlvbiBpbiBzZWNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgcG9zaXRpb25WYXJcbiAgICAgKiBAZGVmYXVsdCAwLjAwM1xuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb25WYXIgPSBvcHRPckRlZihvcHRpb25zLnBvc2l0aW9uVmFyLCAwLjAwMyk7XG5cbiAgICAvKipcbiAgICAgKiBBYnNvbHV0ZSBncmFpbiBkdXJhdGlvbiBpbiBzZWNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgZHVyYXRpb25BYnNcbiAgICAgKiBAZGVmYXVsdCAwLjFcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uQWJzID0gb3B0T3JEZWYob3B0aW9ucy5kdXJhdGlvbkFicywgMC4xKTsgLy8gYWJzb2x1dGUgZ3JhaW4gZHVyYXRpb25cblxuICAgIC8qKlxuICAgICAqIEdyYWluIGR1cmF0aW9uIHJlbGF0aXZlIHRvIGdyYWluIHBlcmlvZCAob3ZlcmxhcClcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgZHVyYXRpb25SZWxcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvblJlbCA9IG9wdE9yRGVmKG9wdGlvbnMuZHVyYXRpb25SZWwsIDApO1xuXG4gICAgLyoqXG4gICAgICogQWJzb2x1dGUgYXR0YWNrIHRpbWUgaW4gc2VjXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIGF0dGFja0Fic1xuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmF0dGFja0FicyA9IG9wdE9yRGVmKG9wdGlvbnMuYXR0YWNrQWJzLCAwKTtcblxuICAgIC8qKlxuICAgICAqIEF0dGFjayB0aW1lIHJlbGF0aXZlIHRvIGdyYWluIGR1cmF0aW9uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIGF0dGFja1JlbFxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuYXR0YWNrUmVsID0gb3B0T3JEZWYob3B0aW9ucy5hdHRhY2tSZWwsIDAuNSk7XG5cbiAgICAvKipcbiAgICAgKiBTaGFwZSBvZiBhdHRhY2sgKCdsaW4nIGZvciBsaW5lYXIgcmFtcCwgJ2V4cCcgZm9yIGV4cG9uZW50aWFsIHJhbXApXG4gICAgICpcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBuYW1lIGF0dGFja1NoYXBlXG4gICAgICogQGRlZmF1bHQgJ2xpbidcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmF0dGFja1NoYXBlID0gb3B0T3JEZWYob3B0aW9ucy5hdHRhY2tTaGFwZSwgJ2xpbicpO1xuXG4gICAgLyoqXG4gICAgICogQWJzb2x1dGUgcmVsZWFzZSB0aW1lIGluIHNlY1xuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbmFtZSByZWxlYXNlQWJzXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucmVsZWFzZUFicyA9IG9wdE9yRGVmKG9wdGlvbnMucmVsZWFzZUFicywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRpbWUgcmVsYXRpdmUgdG8gZ3JhaW4gZHVyYXRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgcmVsZWFzZVJlbFxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucmVsZWFzZVJlbCA9IG9wdE9yRGVmKG9wdGlvbnMucmVsZWFzZVJlbCwgMC41KTtcblxuICAgIC8qKlxuICAgICAqIFNoYXBlIG9mIHJlbGVhc2UgKCdsaW4nIGZvciBsaW5lYXIgcmFtcCwgJ2V4cCcgZm9yIGV4cG9uZW50aWFsIHJhbXApXG4gICAgICpcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBuYW1lIHJlbGVhc2VTaGFwZVxuICAgICAqIEBkZWZhdWx0ICdsaW4nXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5yZWxlYXNlU2hhcGUgPSBvcHRPckRlZihvcHRpb25zLnJlbGVhc2VTaGFwZSwgJ2xpbicpO1xuXG4gICAgLyoqXG4gICAgICogT2Zmc2V0IChzdGFydC9lbmQgdmFsdWUpIGZvciBleHBvbmVudGlhbCBhdHRhY2svcmVsZWFzZVxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbmFtZSBleHBSYW1wT2Zmc2V0XG4gICAgICogQGRlZmF1bHQgMC4wMDAxXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5leHBSYW1wT2Zmc2V0ID0gb3B0T3JEZWYob3B0aW9ucy5leHBSYW1wT2Zmc2V0LCAwLjAwMDEpO1xuXG4gICAgLyoqXG4gICAgICogR3JhaW4gcmVzYW1wbGluZyBpbiBjZW50XG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHJlc2FtcGxpbmdcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5yZXNhbXBsaW5nID0gb3B0T3JEZWYob3B0aW9ucy5yZXNhbXBsaW5nLCAwKTtcblxuICAgIC8qKlxuICAgICAqIEFtb3V0IG9mIHJhbmRvbSByZXNhbXBsaW5nIHZhcmlhdGlvbiBpbiBjZW50XG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHJlc2FtcGxpbmdWYXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5yZXNhbXBsaW5nVmFyID0gb3B0T3JEZWYob3B0aW9ucy5yZXNhbXBsaW5nVmFyLCAwKTtcblxuICAgIC8qKlxuICAgICAqIExpbmVhciBnYWluIGZhY3RvclxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbmFtZSBnYWluXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBtZW1iZXJvZiBHcmFudWxhckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZ2FpbiA9IG9wdE9yRGVmKG9wdGlvbnMuZ2FpbiwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBncmFpbiBwb3NpdGlvbiByZWZlcnMgdG8gdGhlIGNlbnRlciBvZiB0aGUgZ3JhaW4gKG9yIHRoZSBiZWdpbm5pbmcpXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbmFtZSBjZW50ZXJlZFxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmNlbnRlcmVkID0gb3B0T3JEZWYob3B0aW9ucy5jZW50ZXJlZCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBhdWRpbyBidWZmZXIgYW5kIGdyYWluIHBvc2l0aW9uIGFyZSBjb25zaWRlcmVkIGFzIGN5Y2xpY1xuICAgICAqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG5hbWUgY3ljbGljXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmN5Y2xpYyA9IG9wdE9yRGVmKG9wdGlvbnMuY3ljbGljLCBmYWxzZSk7XG5cbiAgICAvKipcbiAgICAgKiBQb3J0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGF1ZGlvIGJ1ZmZlciB0aGF0IGhhcyBiZWVuIGNvcGllZCBmcm9tIHRoZVxuICAgICAqIGJlZ2lubmluZyB0byBhc3N1cmUgY3ljbGljIGJlaGF2aW9yXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHdyYXBBcm91bmRFeHRlbnNpb25cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy53cmFwQXJvdW5kRXh0ZW5zaW9uID0gb3B0T3JEZWYob3B0aW9ucy53cmFwQXJvdW5kRXh0ZW5zaW9uLCAwKTtcblxuICAgIHRoaXMub3V0cHV0Tm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYnVmZmVyIGR1cmF0aW9uIChleGNsdWRpbmcgd3JhcEFyb3VuZEV4dGVuc2lvbilcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgYnVmZmVyRHVyYXRpb25cbiAgICogQG1lbWJlcm9mIEdyYW51bGFyRW5naW5lXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBidWZmZXJEdXJhdGlvbigpIHtcbiAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgIHZhciBidWZmZXJEdXJhdGlvbiA9IHRoaXMuYnVmZmVyLmR1cmF0aW9uO1xuXG4gICAgICBpZiAodGhpcy53cmFwQXJvdW5kRXh0ZW5zaW9uKVxuICAgICAgICBidWZmZXJEdXJhdGlvbiAtPSB0aGlzLndyYXBBcm91bmRFeHRlbnNpb247XG5cbiAgICAgIHJldHVybiBidWZmZXJEdXJhdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXJyZW50IHBvc2l0aW9uXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBuYW1lIGN1cnJlbnRQb3NpdGlvblxuICAgKiBAbWVtYmVyb2YgR3JhbnVsYXJFbmdpbmVcbiAgICogQGluc3RhbmNlXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRQb3NpdGlvbigpIHtcbiAgICB2YXIgbWFzdGVyID0gdGhpcy5tYXN0ZXI7XG5cbiAgICBpZiAobWFzdGVyICYmIG1hc3Rlci5jdXJyZW50UG9zaXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiBtYXN0ZXIuY3VycmVudFBvc2l0aW9uO1xuXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gIH1cblxuICBhZHZhbmNlVGltZSh0aW1lKSB7XG4gICAgdGltZSA9IE1hdGgubWF4KHRpbWUsIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICByZXR1cm4gdGltZSArIHRoaXMudHJpZ2dlcih0aW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGEgZ3JhaW4uIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBhdCBhbnkgdGltZSAod2hldGhlciB0aGVcbiAgICogZW5naW5lIGlzIHNjaGVkdWxlZCBvciBub3QpIHRvIGdlbmVyYXRlIGEgc2luZ2xlIGdyYWluIGFjY29yZGluZyB0byB0aGVcbiAgICogY3VycmVudCBncmFpbiBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSAtIGdyYWluIHN5bnRoZXNpcyBhdWRpbyB0aW1lXG4gICAqIEByZXR1cm4ge051bWJlcn0gLSBwZXJpb2QgdG8gbmV4dCBncmFpblxuICAgKi9cbiAgdHJpZ2dlcih0aW1lKSB7XG4gICAgdmFyIGF1ZGlvQ29udGV4dCA9IHRoaXMuYXVkaW9Db250ZXh0O1xuICAgIHZhciBncmFpblRpbWUgPSB0aW1lIHx8IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICB2YXIgZ3JhaW5QZXJpb2QgPSB0aGlzLnBlcmlvZEFicztcbiAgICB2YXIgZ3JhaW5Qb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uO1xuICAgIHZhciBncmFpbkR1cmF0aW9uID0gdGhpcy5kdXJhdGlvbkFicztcblxuICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgdmFyIHJlc2FtcGxpbmdSYXRlID0gMS4wO1xuXG4gICAgICAvLyBjYWxjdWxhdGUgcmVzYW1wbGluZ1xuICAgICAgaWYgKHRoaXMucmVzYW1wbGluZyAhPT0gMCB8fCB0aGlzLnJlc2FtcGxpbmdWYXIgPiAwKSB7XG4gICAgICAgIHZhciByYW5kb21SZXNhbXBsaW5nID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMi4wICogdGhpcy5yZXNhbXBsaW5nVmFyO1xuICAgICAgICByZXNhbXBsaW5nUmF0ZSA9IE1hdGgucG93KDIuMCwgKHRoaXMucmVzYW1wbGluZyArIHJhbmRvbVJlc2FtcGxpbmcpIC8gMTIwMC4wKTtcbiAgICAgIH1cblxuICAgICAgZ3JhaW5QZXJpb2QgKz0gdGhpcy5wZXJpb2RSZWwgKiBncmFpbkR1cmF0aW9uO1xuICAgICAgZ3JhaW5EdXJhdGlvbiArPSB0aGlzLmR1cmF0aW9uUmVsICogZ3JhaW5QZXJpb2Q7XG5cbiAgICAgIC8vIGdyYWluIHBlcmlvZCByYW5kb24gdmFyaWF0aW9uXG4gICAgICBpZiAodGhpcy5wZXJpb2RWYXIgPiAwLjApXG4gICAgICAgIGdyYWluUGVyaW9kICs9IDIuMCAqIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHRoaXMucGVyaW9kVmFyICogZ3JhaW5QZXJpb2Q7XG5cbiAgICAgIC8vIGNlbnRlciBncmFpblxuICAgICAgaWYgKHRoaXMuY2VudGVyZWQpXG4gICAgICAgIGdyYWluUG9zaXRpb24gLT0gMC41ICogZ3JhaW5EdXJhdGlvbjtcblxuICAgICAgLy8gcmFuZG9taXplIGdyYWluIHBvc2l0aW9uXG4gICAgICBpZiAodGhpcy5wb3NpdGlvblZhciA+IDApXG4gICAgICAgIGdyYWluUG9zaXRpb24gKz0gKDIuMCAqIE1hdGgucmFuZG9tKCkgLSAxKSAqIHRoaXMucG9zaXRpb25WYXI7XG5cbiAgICAgIHZhciBidWZmZXJEdXJhdGlvbiA9IHRoaXMuYnVmZmVyRHVyYXRpb247XG5cbiAgICAgIC8vIHdyYXAgb3IgY2xpcCBncmFpbiBwb3NpdGlvbiBhbmQgZHVyYXRpb24gaW50byBidWZmZXIgZHVyYXRpb25cbiAgICAgIGlmIChncmFpblBvc2l0aW9uIDwgMCB8fCBncmFpblBvc2l0aW9uID49IGJ1ZmZlckR1cmF0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmN5Y2xpYykge1xuICAgICAgICAgIHZhciBjeWNsZXMgPSBncmFpblBvc2l0aW9uIC8gYnVmZmVyRHVyYXRpb247XG4gICAgICAgICAgZ3JhaW5Qb3NpdGlvbiA9IChjeWNsZXMgLSBNYXRoLmZsb29yKGN5Y2xlcykpICogYnVmZmVyRHVyYXRpb247XG5cbiAgICAgICAgICBpZiAoZ3JhaW5Qb3NpdGlvbiArIGdyYWluRHVyYXRpb24gPiB0aGlzLmJ1ZmZlci5kdXJhdGlvbilcbiAgICAgICAgICAgIGdyYWluRHVyYXRpb24gPSB0aGlzLmJ1ZmZlci5kdXJhdGlvbiAtIGdyYWluUG9zaXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGdyYWluUG9zaXRpb24gPCAwKSB7XG4gICAgICAgICAgICBncmFpblRpbWUgLT0gZ3JhaW5Qb3NpdGlvbjtcbiAgICAgICAgICAgIGdyYWluRHVyYXRpb24gKz0gZ3JhaW5Qb3NpdGlvbjtcbiAgICAgICAgICAgIGdyYWluUG9zaXRpb24gPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChncmFpblBvc2l0aW9uICsgZ3JhaW5EdXJhdGlvbiA+IGJ1ZmZlckR1cmF0aW9uKVxuICAgICAgICAgICAgZ3JhaW5EdXJhdGlvbiA9IGJ1ZmZlckR1cmF0aW9uIC0gZ3JhaW5Qb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBtYWtlIGdyYWluXG4gICAgICBpZiAodGhpcy5nYWluID4gMCAmJiBncmFpbkR1cmF0aW9uID49IDAuMDAxKSB7XG4gICAgICAgIC8vIG1ha2UgZ3JhaW4gZW52ZWxvcGVcbiAgICAgICAgdmFyIGVudmVsb3BlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgdmFyIGF0dGFjayA9IHRoaXMuYXR0YWNrQWJzICsgdGhpcy5hdHRhY2tSZWwgKiBncmFpbkR1cmF0aW9uO1xuICAgICAgICB2YXIgcmVsZWFzZSA9IHRoaXMucmVsZWFzZUFicyArIHRoaXMucmVsZWFzZVJlbCAqIGdyYWluRHVyYXRpb247XG5cbiAgICAgICAgaWYgKGF0dGFjayArIHJlbGVhc2UgPiBncmFpbkR1cmF0aW9uKSB7XG4gICAgICAgICAgdmFyIGZhY3RvciA9IGdyYWluRHVyYXRpb24gLyAoYXR0YWNrICsgcmVsZWFzZSk7XG4gICAgICAgICAgYXR0YWNrICo9IGZhY3RvcjtcbiAgICAgICAgICByZWxlYXNlICo9IGZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhdHRhY2tFbmRUaW1lID0gZ3JhaW5UaW1lICsgYXR0YWNrO1xuICAgICAgICB2YXIgZ3JhaW5FbmRUaW1lID0gZ3JhaW5UaW1lICsgZ3JhaW5EdXJhdGlvbiAvIHJlc2FtcGxpbmdSYXRlO1xuICAgICAgICB2YXIgcmVsZWFzZVN0YXJ0VGltZSA9IGdyYWluRW5kVGltZSAtIHJlbGVhc2U7XG5cbiAgICAgICAgZW52ZWxvcGUuZ2Fpbi52YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYXR0YWNrU2hhcGUgPT09ICdsaW4nKSB7XG4gICAgICAgICAgZW52ZWxvcGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjAsIGdyYWluVGltZSk7XG4gICAgICAgICAgZW52ZWxvcGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLmdhaW4sIGF0dGFja0VuZFRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVudmVsb3BlLmdhaW4uc2V0VmFsdWVBdFRpbWUodGhpcy5leHBSYW1wT2Zmc2V0LCBncmFpblRpbWUpO1xuICAgICAgICAgIGVudmVsb3BlLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLmdhaW4sIGF0dGFja0VuZFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbGVhc2VTdGFydFRpbWUgPiBhdHRhY2tFbmRUaW1lKVxuICAgICAgICAgIGVudmVsb3BlLmdhaW4uc2V0VmFsdWVBdFRpbWUodGhpcy5nYWluLCByZWxlYXNlU3RhcnRUaW1lKTtcblxuICAgICAgICBpZiAodGhpcy5yZWxlYXNlU2hhcGUgPT09ICdsaW4nKSB7XG4gICAgICAgICAgZW52ZWxvcGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLjAsIGdyYWluRW5kVGltZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW52ZWxvcGUuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHRoaXMuZXhwUmFtcE9mZnNldCwgZ3JhaW5FbmRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudmVsb3BlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKTtcblxuICAgICAgICAvLyBtYWtlIHNvdXJjZVxuICAgICAgICB2YXIgc291cmNlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuXG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZSA9IHJlc2FtcGxpbmdSYXRlO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChlbnZlbG9wZSk7XG5cbiAgICAgICAgc291cmNlLnN0YXJ0KGdyYWluVGltZSwgZ3JhaW5Qb3NpdGlvbik7XG4gICAgICAgIHNvdXJjZS5zdG9wKGdyYWluRW5kVGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMucGVyaW9kTWluLCBncmFpblBlcmlvZCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JhbnVsYXJFbmdpbmU7XG4iXX0=","deps":{"../core/AudioTimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/PlayerEngine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/PlayerEngine.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _AudioTimeEngine2 = require('../core/AudioTimeEngine');\n\nvar _AudioTimeEngine3 = _interopRequireDefault(_AudioTimeEngine2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined) return opt;\n\n  return def;\n}\n\n/**\n * Used with a buffer to serve audio files.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/player-engine/index.html}\n *\n * @extends AudioTimeEngine\n * @example\n * import * as audio from 'waves-audio';\n * const playerEngine = audio.PlayerEngine();\n * const playControl = new audio.PlayControl(playerEngine);\n *\n * playControl.start();\n *\n * @param {Object} [options={}] - Default options\n * @param {Number} [options.buffer=1] - Audio buffer\n * @param {Number} [options.fadeTime=0.005] - Fade time for chaining segments\n * @param {Number} [options.cyclic=false] - Loop mode\n * @param {Number} [options.gain=1] - Gain\n */\n\nvar PlayerEngine = function (_AudioTimeEngine) {\n  (0, _inherits3.default)(PlayerEngine, _AudioTimeEngine);\n\n  function PlayerEngine() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, PlayerEngine);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (PlayerEngine.__proto__ || (0, _getPrototypeOf2.default)(PlayerEngine)).call(this, options.audioContext));\n\n    _this.transport = null; // set when added to transporter\n\n    /**\n     * Audio buffer\n     *\n     * @type {AudioBuffer}\n     * @name buffer\n     * @memberof PlayerEngine\n     * @instance\n     * @default null\n     */\n    _this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Fade time for chaining segments (e.g. in start, stop, and seek)\n     *\n     * @type {Number}\n     * @name fadeTime\n     * @memberof PlayerEngine\n     * @instance\n     * @default 0.005\n     */\n    _this.fadeTime = optOrDef(options.fadeTime, 0.005);\n\n    _this.__time = 0;\n    _this.__position = 0;\n    _this.__speed = 0;\n\n    _this.__bufferSource = null;\n    _this.__envNode = null;\n\n    _this.__gainNode = _this.audioContext.createGain();\n    _this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    _this.__cyclic = optOrDef(options.cyclic, false);\n\n    _this.outputNode = _this.__gainNode;\n    return _this;\n  }\n\n  (0, _createClass3.default)(PlayerEngine, [{\n    key: '__start',\n    value: function __start(time, position, speed) {\n      var audioContext = this.audioContext;\n\n      if (this.buffer) {\n        var bufferDuration = this.buffer.duration;\n\n        if (this.__cyclic && (position < 0 || position >= bufferDuration)) {\n          var phase = position / bufferDuration;\n          position = (phase - Math.floor(phase)) * bufferDuration;\n        }\n\n        if (position >= 0 && position < bufferDuration && speed > 0) {\n          this.__envNode = audioContext.createGain();\n          this.__envNode.gain.setValueAtTime(0, time);\n          this.__envNode.gain.linearRampToValueAtTime(1, time + this.fadeTime);\n          this.__envNode.connect(this.__gainNode);\n\n          this.__bufferSource = audioContext.createBufferSource();\n          this.__bufferSource.buffer = this.buffer;\n          this.__bufferSource.playbackRate.value = speed;\n          this.__bufferSource.loop = this.__cyclic;\n          this.__bufferSource.loopStart = 0;\n          this.__bufferSource.loopEnd = bufferDuration;\n          this.__bufferSource.start(time, position);\n          this.__bufferSource.connect(this.__envNode);\n        }\n      }\n    }\n  }, {\n    key: '__halt',\n    value: function __halt(time) {\n      if (this.__bufferSource) {\n        this.__envNode.gain.cancelScheduledValues(time);\n        this.__envNode.gain.setValueAtTime(this.__envNode.gain.value, time);\n        this.__envNode.gain.linearRampToValueAtTime(0, time + this.fadeTime);\n        this.__bufferSource.stop(time + this.fadeTime);\n\n        this.__bufferSource = null;\n        this.__envNode = null;\n      }\n    }\n\n    // TimeEngine method (speed-controlled interface)\n\n  }, {\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed) {\n      var seek = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var lastSpeed = this.__speed;\n\n      if (speed !== lastSpeed || seek) {\n        if (seek || lastSpeed * speed < 0) {\n          this.__halt(time);\n          this.__start(time, position, speed);\n        } else if (lastSpeed === 0 || seek) {\n          this.__start(time, position, speed);\n        } else if (speed === 0) {\n          this.__halt(time);\n        } else if (this.__bufferSource) {\n          this.__bufferSource.playbackRate.setValueAtTime(speed, time);\n        }\n\n        this.__speed = speed;\n      }\n    }\n\n    /**\n     * Set whether the audio buffer is considered as cyclic\n     * @type {Bool}\n     * @name cyclic\n     * @memberof PlayerEngine\n     * @instance\n     */\n\n  }, {\n    key: 'cyclic',\n    set: function set(cyclic) {\n      if (cyclic !== this.__cyclic) {\n        var time = this.currentTime;\n        var position = this.currentosition;\n\n        this.__halt(time);\n        this.__cyclic = cyclic;\n\n        if (this.__speed !== 0) this.__start(time, position, this.__speed);\n      }\n    },\n    get: function get() {\n      return this.__cyclic;\n    }\n\n    /**\n     * Linear gain factor\n     * @type {Number}\n     * @name gain\n     * @memberof PlayerEngine\n     * @instance\n     */\n\n  }, {\n    key: 'gain',\n    set: function set(value) {\n      var time = this.currentTime;\n      this.__gainNode.gain.cancelScheduledValues(time);\n      this.__gainNode.gain.setValueAtTime(this.__gainNode.gain.value, time);\n      this.__gainNode.gain.linearRampToValueAtTime(0, time + this.fadeTime);\n    },\n    get: function get() {\n      return this.__gainNode.gain.value;\n    }\n\n    /**\n     * Get buffer duration\n     * @type {Number}\n     * @name bufferDuration\n     * @memberof PlayerEngine\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'bufferDuration',\n    get: function get() {\n      if (this.buffer) return this.buffer.duration;\n\n      return 0;\n    }\n  }]);\n  return PlayerEngine;\n}(_AudioTimeEngine3.default);\n\nexports.default = PlayerEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllckVuZ2luZS5qcyJdLCJuYW1lcyI6WyJvcHRPckRlZiIsIm9wdCIsImRlZiIsInVuZGVmaW5lZCIsIlBsYXllckVuZ2luZSIsIm9wdGlvbnMiLCJhdWRpb0NvbnRleHQiLCJ0cmFuc3BvcnQiLCJidWZmZXIiLCJmYWRlVGltZSIsIl9fdGltZSIsIl9fcG9zaXRpb24iLCJfX3NwZWVkIiwiX19idWZmZXJTb3VyY2UiLCJfX2Vudk5vZGUiLCJfX2dhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJ2YWx1ZSIsIl9fY3ljbGljIiwiY3ljbGljIiwib3V0cHV0Tm9kZSIsInRpbWUiLCJwb3NpdGlvbiIsInNwZWVkIiwiYnVmZmVyRHVyYXRpb24iLCJkdXJhdGlvbiIsInBoYXNlIiwiTWF0aCIsImZsb29yIiwic2V0VmFsdWVBdFRpbWUiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsImNvbm5lY3QiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJwbGF5YmFja1JhdGUiLCJsb29wIiwibG9vcFN0YXJ0IiwibG9vcEVuZCIsInN0YXJ0IiwiY2FuY2VsU2NoZWR1bGVkVmFsdWVzIiwic3RvcCIsInNlZWsiLCJsYXN0U3BlZWQiLCJfX2hhbHQiLCJfX3N0YXJ0IiwiY3VycmVudFRpbWUiLCJjdXJyZW50b3NpdGlvbiIsIkF1ZGlvVGltZUVuZ2luZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsU0FBU0EsUUFBVCxDQUFrQkMsR0FBbEIsRUFBdUJDLEdBQXZCLEVBQTRCO0FBQzFCLE1BQUdELFFBQVFFLFNBQVgsRUFDRSxPQUFPRixHQUFQOztBQUVGLFNBQU9DLEdBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFtQk1FLFk7OztBQUNKLDBCQUEwQjtBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBOztBQUFBLGtKQUNsQkEsUUFBUUMsWUFEVTs7QUFHeEIsVUFBS0MsU0FBTCxHQUFp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Q0EsYUFBS0gsUUFBTCxHQUFnQkMsTUFBaEI7O0FBRUEsWUFBSSxLQUFLUixPQUFMLEtBQWlCLENBQXJCLEVBQ0UsS0FBS2dDLE9BQUwsQ0FBYXRCLElBQWIsRUFBbUJDLFFBQW5CLEVBQTZCLEtBQUtYLE9BQWxDO0FBQ0g7QUFDRixLO3dCQUVZO0FBQ1gsYUFBTyxLQUFLTyxRQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7c0JBT1NELEssRUFBTztBQUNkLFVBQUlJLE9BQU8sS0FBS3VCLFdBQWhCO0FBQ0EsV0FBSzlCLFVBQUwsQ0FBZ0JFLElBQWhCLENBQXFCc0IscUJBQXJCLENBQTJDakIsSUFBM0M7QUFDQSxXQUFLUCxVQUFMLENBQWdCRSxJQUFoQixDQUFxQmEsY0FBckIsQ0FBb0MsS0FBS2YsVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUJDLEtBQXpELEVBQWdFSSxJQUFoRTtBQUNBLFdBQUtQLFVBQUwsQ0FBZ0JFLElBQWhCLENBQXFCYyx1QkFBckIsQ0FBNkMsQ0FBN0MsRUFBZ0RULE9BQU8sS0FBS2IsUUFBNUQ7QUFDRCxLO3dCQUVVO0FBQ1QsYUFBTyxLQUFLTSxVQUFMLENBQWdCRSxJQUFoQixDQUFxQkMsS0FBNUI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7d0JBUXFCO0FBQ25CLFVBQUcsS0FBS1YsTUFBUixFQUNFLE9BQU8sS0FBS0EsTUFBTCxDQUFZa0IsUUFBbkI7O0FBRUYsYUFBTyxDQUFQO0FBQ0Q7OztFQS9Kd0JxQix5Qjs7a0JBa0taM0MsWSIsImZpbGUiOiJQbGF5ZXJFbmdpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXVkaW9UaW1lRW5naW5lIGZyb20gJy4uL2NvcmUvQXVkaW9UaW1lRW5naW5lJztcblxuZnVuY3Rpb24gb3B0T3JEZWYob3B0LCBkZWYpIHtcbiAgaWYob3B0ICE9PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIG9wdDtcblxuICByZXR1cm4gZGVmO1xufVxuXG4vKipcbiAqIFVzZWQgd2l0aCBhIGJ1ZmZlciB0byBzZXJ2ZSBhdWRpbyBmaWxlcy5cbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtYXVkaW8vbWFzdGVyL2V4YW1wbGVzL3BsYXllci1lbmdpbmUvaW5kZXguaHRtbH1cbiAqXG4gKiBAZXh0ZW5kcyBBdWRpb1RpbWVFbmdpbmVcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKiBjb25zdCBwbGF5ZXJFbmdpbmUgPSBhdWRpby5QbGF5ZXJFbmdpbmUoKTtcbiAqIGNvbnN0IHBsYXlDb250cm9sID0gbmV3IGF1ZGlvLlBsYXlDb250cm9sKHBsYXllckVuZ2luZSk7XG4gKlxuICogcGxheUNvbnRyb2wuc3RhcnQoKTtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gRGVmYXVsdCBvcHRpb25zXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYnVmZmVyPTFdIC0gQXVkaW8gYnVmZmVyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZmFkZVRpbWU9MC4wMDVdIC0gRmFkZSB0aW1lIGZvciBjaGFpbmluZyBzZWdtZW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmN5Y2xpYz1mYWxzZV0gLSBMb29wIG1vZGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5nYWluPTFdIC0gR2FpblxuICovXG5jbGFzcyBQbGF5ZXJFbmdpbmUgZXh0ZW5kcyBBdWRpb1RpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zLmF1ZGlvQ29udGV4dCk7XG5cbiAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7IC8vIHNldCB3aGVuIGFkZGVkIHRvIHRyYW5zcG9ydGVyXG5cbiAgICAvKipcbiAgICAgKiBBdWRpbyBidWZmZXJcbiAgICAgKlxuICAgICAqIEB0eXBlIHtBdWRpb0J1ZmZlcn1cbiAgICAgKiBAbmFtZSBidWZmZXJcbiAgICAgKiBAbWVtYmVyb2YgUGxheWVyRW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gb3B0T3JEZWYob3B0aW9ucy5idWZmZXIsIG51bGwpO1xuXG4gICAgLyoqXG4gICAgICogRmFkZSB0aW1lIGZvciBjaGFpbmluZyBzZWdtZW50cyAoZS5nLiBpbiBzdGFydCwgc3RvcCwgYW5kIHNlZWspXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIGZhZGVUaW1lXG4gICAgICogQG1lbWJlcm9mIFBsYXllckVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBkZWZhdWx0IDAuMDA1XG4gICAgICovXG4gICAgdGhpcy5mYWRlVGltZSA9IG9wdE9yRGVmKG9wdGlvbnMuZmFkZVRpbWUsIDAuMDA1KTtcblxuICAgIHRoaXMuX190aW1lID0gMDtcbiAgICB0aGlzLl9fcG9zaXRpb24gPSAwO1xuICAgIHRoaXMuX19zcGVlZCA9IDA7XG5cbiAgICB0aGlzLl9fYnVmZmVyU291cmNlID0gbnVsbDtcbiAgICB0aGlzLl9fZW52Tm9kZSA9IG51bGw7XG5cbiAgICB0aGlzLl9fZ2Fpbk5vZGUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5fX2dhaW5Ob2RlLmdhaW4udmFsdWUgPSBvcHRPckRlZihvcHRpb25zLmdhaW4sIDEpO1xuXG4gICAgdGhpcy5fX2N5Y2xpYyA9IG9wdE9yRGVmKG9wdGlvbnMuY3ljbGljLCBmYWxzZSk7XG5cbiAgICB0aGlzLm91dHB1dE5vZGUgPSB0aGlzLl9fZ2Fpbk5vZGU7XG4gIH1cblxuICBfX3N0YXJ0KHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIHZhciBhdWRpb0NvbnRleHQgPSB0aGlzLmF1ZGlvQ29udGV4dDtcblxuICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgdmFyIGJ1ZmZlckR1cmF0aW9uID0gdGhpcy5idWZmZXIuZHVyYXRpb247XG5cbiAgICAgIGlmICh0aGlzLl9fY3ljbGljICYmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gYnVmZmVyRHVyYXRpb24pKSB7XG4gICAgICAgIHZhciBwaGFzZSA9IHBvc2l0aW9uIC8gYnVmZmVyRHVyYXRpb247XG4gICAgICAgIHBvc2l0aW9uID0gKHBoYXNlIC0gTWF0aC5mbG9vcihwaGFzZSkpICogYnVmZmVyRHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3NpdGlvbiA+PSAwICYmIHBvc2l0aW9uIDwgYnVmZmVyRHVyYXRpb24gJiYgc3BlZWQgPiAwKSB7XG4gICAgICAgIHRoaXMuX19lbnZOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgdGhpcy5fX2Vudk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCB0aW1lKTtcbiAgICAgICAgdGhpcy5fX2Vudk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxLCB0aW1lICsgdGhpcy5mYWRlVGltZSk7XG4gICAgICAgIHRoaXMuX19lbnZOb2RlLmNvbm5lY3QodGhpcy5fX2dhaW5Ob2RlKTtcblxuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZSA9IHNwZWVkO1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLmxvb3AgPSB0aGlzLl9fY3ljbGljO1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX19idWZmZXJTb3VyY2UubG9vcEVuZCA9IGJ1ZmZlckR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLnN0YXJ0KHRpbWUsIHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5fX2J1ZmZlclNvdXJjZS5jb25uZWN0KHRoaXMuX19lbnZOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfX2hhbHQodGltZSkge1xuICAgIGlmICh0aGlzLl9fYnVmZmVyU291cmNlKSB7XG4gICAgICB0aGlzLl9fZW52Tm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyh0aW1lKTtcbiAgICAgIHRoaXMuX19lbnZOb2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodGhpcy5fX2Vudk5vZGUuZ2Fpbi52YWx1ZSwgdGltZSk7XG4gICAgICB0aGlzLl9fZW52Tm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHRpbWUgKyB0aGlzLmZhZGVUaW1lKTtcbiAgICAgIHRoaXMuX19idWZmZXJTb3VyY2Uuc3RvcCh0aW1lICsgdGhpcy5mYWRlVGltZSk7XG5cbiAgICAgIHRoaXMuX19idWZmZXJTb3VyY2UgPSBudWxsO1xuICAgICAgdGhpcy5fX2Vudk5vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRpbWVFbmdpbmUgbWV0aG9kIChzcGVlZC1jb250cm9sbGVkIGludGVyZmFjZSlcbiAgc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCwgc2VlayA9IGZhbHNlKSB7XG4gICAgdmFyIGxhc3RTcGVlZCA9IHRoaXMuX19zcGVlZDtcblxuICAgIGlmIChzcGVlZCAhPT0gbGFzdFNwZWVkIHx8IHNlZWspIHtcbiAgICAgIGlmIChzZWVrIHx8IGxhc3RTcGVlZCAqIHNwZWVkIDwgMCkge1xuICAgICAgICB0aGlzLl9faGFsdCh0aW1lKTtcbiAgICAgICAgdGhpcy5fX3N0YXJ0KHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICB9IGVsc2UgaWYgKGxhc3RTcGVlZCA9PT0gMCB8fCBzZWVrKSB7XG4gICAgICAgIHRoaXMuX19zdGFydCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQpO1xuICAgICAgfSBlbHNlIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9faGFsdCh0aW1lKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fX2J1ZmZlclNvdXJjZSkge1xuICAgICAgICB0aGlzLl9fYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzcGVlZCwgdGltZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX19zcGVlZCA9IHNwZWVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgYXVkaW8gYnVmZmVyIGlzIGNvbnNpZGVyZWQgYXMgY3ljbGljXG4gICAqIEB0eXBlIHtCb29sfVxuICAgKiBAbmFtZSBjeWNsaWNcbiAgICogQG1lbWJlcm9mIFBsYXllckVuZ2luZVxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHNldCBjeWNsaWMoY3ljbGljKSB7XG4gICAgaWYgKGN5Y2xpYyAhPT0gdGhpcy5fX2N5Y2xpYykge1xuICAgICAgdmFyIHRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5jdXJyZW50b3NpdGlvbjtcblxuICAgICAgdGhpcy5fX2hhbHQodGltZSk7XG4gICAgICB0aGlzLl9fY3ljbGljID0gY3ljbGljO1xuXG4gICAgICBpZiAodGhpcy5fX3NwZWVkICE9PSAwKVxuICAgICAgICB0aGlzLl9fc3RhcnQodGltZSwgcG9zaXRpb24sIHRoaXMuX19zcGVlZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGN5Y2xpYygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2N5Y2xpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBMaW5lYXIgZ2FpbiBmYWN0b3JcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgZ2FpblxuICAgKiBAbWVtYmVyb2YgUGxheWVyRW5naW5lXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgc2V0IGdhaW4odmFsdWUpIHtcbiAgICB2YXIgdGltZSA9IHRoaXMuY3VycmVudFRpbWU7XG4gICAgdGhpcy5fX2dhaW5Ob2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRpbWUpO1xuICAgIHRoaXMuX19nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHRoaXMuX19nYWluTm9kZS5nYWluLnZhbHVlLCB0aW1lKTtcbiAgICB0aGlzLl9fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCB0aW1lICsgdGhpcy5mYWRlVGltZSk7XG4gIH1cblxuICBnZXQgZ2FpbigpIHtcbiAgICByZXR1cm4gdGhpcy5fX2dhaW5Ob2RlLmdhaW4udmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGJ1ZmZlciBkdXJhdGlvblxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbmFtZSBidWZmZXJEdXJhdGlvblxuICAgKiBAbWVtYmVyb2YgUGxheWVyRW5naW5lXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBidWZmZXJEdXJhdGlvbigpIHtcbiAgICBpZih0aGlzLmJ1ZmZlcilcbiAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5kdXJhdGlvbjtcblxuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllckVuZ2luZTtcbiJdfQ==","deps":{"../core/AudioTimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/json/stringify.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/json/stringify.js","source":"var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/json/stringify.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/json/stringify.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","deps":{"core-js/library/fn/json/stringify":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/json/stringify.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/Metronome.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/Metronome.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _AudioTimeEngine2 = require('../core/AudioTimeEngine');\n\nvar _AudioTimeEngine3 = _interopRequireDefault(_AudioTimeEngine2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined) return opt;\n\n  return def;\n}\n\n/**\n * Metronome audio engine. It extends Time Engine as a transported interface.\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/metronome/index.html}\n *\n * @extends AudioTimeEngine\n * @example\n * import * as audio from 'waves-audio';\n * const scheduler = audio.getScheduler();\n * const metronome = new audio.Metronome({period: 0.333});\n *\n * scheduler.add(metronome);\n *\n * @param {Object} [options={}] - Default options\n * @param {Number} [options.period=1] - Metronome period\n * @param {Number} [options.clickFreq=600] - Metronome click frequency\n * @param {Number} [options.clickAttack=0.002] - Metronome click attack time\n * @param {Number} [options.clickRelease=0.098] - Metronome click release time\n * @param {Number} [options.gain=1] - Gain\n */\n\nvar Metronome = function (_AudioTimeEngine) {\n  (0, _inherits3.default)(Metronome, _AudioTimeEngine);\n\n  function Metronome() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, Metronome);\n\n    /**\n     * Metronome period\n     * @type {Number}\n     * @private\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Metronome.__proto__ || (0, _getPrototypeOf2.default)(Metronome)).call(this, options.audioContext));\n\n    _this.__period = optOrDef(options.period, 1);\n\n    /**\n     * Metronome click frequency\n     *\n     * @type {Number}\n     * @memberof Metronome\n     * @name clickFreq\n     * @instance\n     */\n    _this.clickFreq = optOrDef(options.clickFreq, 600);\n\n    /**\n     * Metronome click attack time\n     *\n     * @type {Number}\n     * @memberof Metronome\n     * @name clickAttack\n     * @instance\n     */\n    _this.clickAttack = optOrDef(options.clickAttack, 0.002);\n\n    /**\n     * Metronome click release time\n     *\n     * @type {Number}\n     * @memberof Metronome\n     * @name clickRelease\n     * @instance\n     */\n    _this.clickRelease = optOrDef(options.clickRelease, 0.098);\n\n    _this.__lastTime = 0;\n    _this.__phase = 0;\n\n    _this.__gainNode = _this.audioContext.createGain();\n    _this.__gainNode.gain.value = optOrDef(options.gain, 1);\n\n    _this.outputNode = _this.__gainNode;\n    return _this;\n  }\n\n  // TimeEngine method (scheduled interface)\n\n\n  (0, _createClass3.default)(Metronome, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      this.trigger(time);\n      this.__lastTime = time;\n      return time + this.__period;\n    }\n\n    // TimeEngine method (transported interface)\n\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(time, position, speed) {\n      if (this.__period > 0) {\n        var nextPosition = (Math.floor(position / this.__period) + this.__phase) * this.__period;\n\n        if (speed > 0 && nextPosition < position) nextPosition += this.__period;else if (speed < 0 && nextPosition > position) nextPosition -= this.__period;\n\n        return nextPosition;\n      }\n\n      return Infinity * speed;\n    }\n\n    // TimeEngine method (transported interface)\n\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(time, position, speed) {\n      this.trigger(time);\n\n      if (speed < 0) return position - this.__period;\n\n      return position + this.__period;\n    }\n\n    /**\n     * Trigger metronome click\n     * @param {Number} time metronome click synthesis audio time\n     */\n\n  }, {\n    key: 'trigger',\n    value: function trigger(time) {\n      var audioContext = this.audioContext;\n      var clickAttack = this.clickAttack;\n      var clickRelease = this.clickRelease;\n\n      var env = audioContext.createGain();\n      env.gain.value = 0.0;\n      env.gain.setValueAtTime(0, time);\n      env.gain.linearRampToValueAtTime(1.0, time + clickAttack);\n      env.gain.exponentialRampToValueAtTime(0.0000001, time + clickAttack + clickRelease);\n      env.gain.setValueAtTime(0, time);\n      env.connect(this.outputNode);\n\n      var osc = audioContext.createOscillator();\n      osc.frequency.value = this.clickFreq;\n      osc.start(time);\n      osc.stop(time + clickAttack + clickRelease);\n      osc.connect(env);\n    }\n\n    /**\n     * linear gain factor\n     *\n     * @type {Number}\n     * @name gain\n     * @memberof Metronome\n     * @instance\n     */\n\n  }, {\n    key: 'gain',\n    set: function set(value) {\n      this.__gainNode.gain.value = value;\n    },\n    get: function get() {\n      return this.__gainNode.gain.value;\n    }\n\n    /**\n     * metronome period\n     *\n     * @type {Number}\n     * @name period\n     * @memberof Metronome\n     * @instance\n     */\n\n  }, {\n    key: 'period',\n    set: function set(period) {\n      this.__period = period;\n\n      var master = this.master;\n\n      if (master) {\n        if (master.resetEngineTime) master.resetEngineTime(this, this.__lastTime + period);else if (master.resetEnginePosition) master.resetEnginePosition(this);\n      }\n    },\n    get: function get() {\n      return this.__period;\n    }\n\n    /**\n     * Set phase parameter (available only when 'transported'), should be\n     * between [0, 1[\n     *\n     * @type {Number}\n     * @name phase\n     * @memberof Metronome\n     * @instance\n     */\n\n  }, {\n    key: 'phase',\n    set: function set(phase) {\n      this.__phase = phase - Math.floor(phase);\n\n      var master = this.master;\n\n      if (master && master.resetEnginePosition !== undefined) master.resetEnginePosition(this);\n    },\n    get: function get() {\n      return this.__phase;\n    }\n  }]);\n  return Metronome;\n}(_AudioTimeEngine3.default);\n\nexports.default = Metronome;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1ldHJvbm9tZS5qcyJdLCJuYW1lcyI6WyJvcHRPckRlZiIsIm9wdCIsImRlZiIsInVuZGVmaW5lZCIsIk1ldHJvbm9tZSIsIm9wdGlvbnMiLCJhdWRpb0NvbnRleHQiLCJfX3BlcmlvZCIsInBlcmlvZCIsImNsaWNrRnJlcSIsImNsaWNrQXR0YWNrIiwiY2xpY2tSZWxlYXNlIiwiX19sYXN0VGltZSIsIl9fcGhhc2UiLCJfX2dhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJ2YWx1ZSIsIm91dHB1dE5vZGUiLCJ0aW1lIiwidHJpZ2dlciIsInBvc2l0aW9uIiwic3BlZWQiLCJuZXh0UG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJJbmZpbml0eSIsImVudiIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwiY29ubmVjdCIsIm9zYyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJmcmVxdWVuY3kiLCJzdGFydCIsInN0b3AiLCJtYXN0ZXIiLCJyZXNldEVuZ2luZVRpbWUiLCJyZXNldEVuZ2luZVBvc2l0aW9uIiwicGhhc2UiLCJBdWRpb1RpbWVFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLFNBQVNBLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtBQUMxQixNQUFHRCxRQUFRRSxTQUFYLEVBQ0UsT0FBT0YsR0FBUDs7QUFFRixTQUFPQyxHQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbUJNRSxTOzs7QUFDSix1QkFBMEI7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7QUFBQTs7QUFHeEI7Ozs7O0FBSHdCLDRJQUNsQkEsUUFBUUMsWUFEVTs7QUFReEIsVUFBS0MsUUFBTCxHQUFnQlAsU0FBU0ssUUFBUUcsTUFBakIsRUFBeUIsQ0FBekIsQ0FBaEI7O0FBRUE7Ozs7Ozs7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QixHQUE2QkEsS0FBN0I7QUFDRCxLO3dCQUVVO0FBQ1QsYUFBTyxLQUFLSCxVQUFMLENBQWdCRSxJQUFoQixDQUFxQkMsS0FBNUI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7c0JBUVdULE0sRUFBUTtBQUNqQixXQUFLRCxRQUFMLEdBQWdCQyxNQUFoQjs7QUFFQSxVQUFNNkIsU0FBUyxLQUFLQSxNQUFwQjs7QUFFQSxVQUFJQSxNQUFKLEVBQVk7QUFDVixZQUFJQSxPQUFPQyxlQUFYLEVBQ0VELE9BQU9DLGVBQVAsQ0FBdUIsSUFBdkIsRUFBNkIsS0FBSzFCLFVBQUwsR0FBa0JKLE1BQS9DLEVBREYsS0FFSyxJQUFJNkIsT0FBT0UsbUJBQVgsRUFDSEYsT0FBT0UsbUJBQVAsQ0FBMkIsSUFBM0I7QUFDSDtBQUNGLEs7d0JBRVk7QUFDWCxhQUFPLEtBQUtoQyxRQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OztzQkFTVWlDLEssRUFBTztBQUNmLFdBQUszQixPQUFMLEdBQWUyQixRQUFRaEIsS0FBS0MsS0FBTCxDQUFXZSxLQUFYLENBQXZCOztBQUVBLFVBQU1ILFNBQVMsS0FBS0EsTUFBcEI7O0FBRUEsVUFBSUEsVUFBVUEsT0FBT0UsbUJBQVAsS0FBK0JwQyxTQUE3QyxFQUNFa0MsT0FBT0UsbUJBQVAsQ0FBMkIsSUFBM0I7QUFDSCxLO3dCQUVXO0FBQ1YsYUFBTyxLQUFLMUIsT0FBWjtBQUNEOzs7RUF4S3FCNEIseUI7O2tCQTJLVHJDLFMiLCJmaWxlIjoiTWV0cm9ub21lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1ZGlvVGltZUVuZ2luZSBmcm9tICcuLi9jb3JlL0F1ZGlvVGltZUVuZ2luZSc7XG5cbmZ1bmN0aW9uIG9wdE9yRGVmKG9wdCwgZGVmKSB7XG4gIGlmKG9wdCAhPT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBvcHQ7XG5cbiAgcmV0dXJuIGRlZjtcbn1cblxuLyoqXG4gKiBNZXRyb25vbWUgYXVkaW8gZW5naW5lLiBJdCBleHRlbmRzIFRpbWUgRW5naW5lIGFzIGEgdHJhbnNwb3J0ZWQgaW50ZXJmYWNlLlxuICogW2V4YW1wbGVde0BsaW5rIGh0dHBzOi8vcmF3Z2l0LmNvbS93YXZlc2pzL3dhdmVzLWF1ZGlvL21hc3Rlci9leGFtcGxlcy9tZXRyb25vbWUvaW5kZXguaHRtbH1cbiAqXG4gKiBAZXh0ZW5kcyBBdWRpb1RpbWVFbmdpbmVcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKiBjb25zdCBzY2hlZHVsZXIgPSBhdWRpby5nZXRTY2hlZHVsZXIoKTtcbiAqIGNvbnN0IG1ldHJvbm9tZSA9IG5ldyBhdWRpby5NZXRyb25vbWUoe3BlcmlvZDogMC4zMzN9KTtcbiAqXG4gKiBzY2hlZHVsZXIuYWRkKG1ldHJvbm9tZSk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIERlZmF1bHQgb3B0aW9uc1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBlcmlvZD0xXSAtIE1ldHJvbm9tZSBwZXJpb2RcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jbGlja0ZyZXE9NjAwXSAtIE1ldHJvbm9tZSBjbGljayBmcmVxdWVuY3lcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jbGlja0F0dGFjaz0wLjAwMl0gLSBNZXRyb25vbWUgY2xpY2sgYXR0YWNrIHRpbWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jbGlja1JlbGVhc2U9MC4wOThdIC0gTWV0cm9ub21lIGNsaWNrIHJlbGVhc2UgdGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmdhaW49MV0gLSBHYWluXG4gKi9cbmNsYXNzIE1ldHJvbm9tZSBleHRlbmRzIEF1ZGlvVGltZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMuYXVkaW9Db250ZXh0KTtcblxuICAgIC8qKlxuICAgICAqIE1ldHJvbm9tZSBwZXJpb2RcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fX3BlcmlvZCA9IG9wdE9yRGVmKG9wdGlvbnMucGVyaW9kLCAxKTtcblxuICAgIC8qKlxuICAgICAqIE1ldHJvbm9tZSBjbGljayBmcmVxdWVuY3lcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIE1ldHJvbm9tZVxuICAgICAqIEBuYW1lIGNsaWNrRnJlcVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuY2xpY2tGcmVxID0gb3B0T3JEZWYob3B0aW9ucy5jbGlja0ZyZXEsIDYwMCk7XG5cbiAgICAvKipcbiAgICAgKiBNZXRyb25vbWUgY2xpY2sgYXR0YWNrIHRpbWVcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIE1ldHJvbm9tZVxuICAgICAqIEBuYW1lIGNsaWNrQXR0YWNrXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5jbGlja0F0dGFjayA9IG9wdE9yRGVmKG9wdGlvbnMuY2xpY2tBdHRhY2ssIDAuMDAyKTtcblxuICAgIC8qKlxuICAgICAqIE1ldHJvbm9tZSBjbGljayByZWxlYXNlIHRpbWVcbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIE1ldHJvbm9tZVxuICAgICAqIEBuYW1lIGNsaWNrUmVsZWFzZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuY2xpY2tSZWxlYXNlID0gb3B0T3JEZWYob3B0aW9ucy5jbGlja1JlbGVhc2UsIDAuMDk4KTtcblxuICAgIHRoaXMuX19sYXN0VGltZSA9IDA7XG4gICAgdGhpcy5fX3BoYXNlID0gMDtcblxuICAgIHRoaXMuX19nYWluTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICB0aGlzLl9fZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IG9wdE9yRGVmKG9wdGlvbnMuZ2FpbiwgMSk7XG5cbiAgICB0aGlzLm91dHB1dE5vZGUgPSB0aGlzLl9fZ2Fpbk5vZGU7XG4gIH1cblxuICAvLyBUaW1lRW5naW5lIG1ldGhvZCAoc2NoZWR1bGVkIGludGVyZmFjZSlcbiAgYWR2YW5jZVRpbWUodGltZSkge1xuICAgIHRoaXMudHJpZ2dlcih0aW1lKTtcbiAgICB0aGlzLl9fbGFzdFRpbWUgPSB0aW1lO1xuICAgIHJldHVybiB0aW1lICsgdGhpcy5fX3BlcmlvZDtcbiAgfVxuXG4gIC8vIFRpbWVFbmdpbmUgbWV0aG9kICh0cmFuc3BvcnRlZCBpbnRlcmZhY2UpXG4gIHN5bmNQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICBpZiAodGhpcy5fX3BlcmlvZCA+IDApIHtcbiAgICAgIHZhciBuZXh0UG9zaXRpb24gPSAoTWF0aC5mbG9vcihwb3NpdGlvbiAvIHRoaXMuX19wZXJpb2QpICsgdGhpcy5fX3BoYXNlKSAqIHRoaXMuX19wZXJpb2Q7XG5cbiAgICAgIGlmIChzcGVlZCA+IDAgJiYgbmV4dFBvc2l0aW9uIDwgcG9zaXRpb24pXG4gICAgICAgIG5leHRQb3NpdGlvbiArPSB0aGlzLl9fcGVyaW9kO1xuICAgICAgZWxzZSBpZiAoc3BlZWQgPCAwICYmIG5leHRQb3NpdGlvbiA+IHBvc2l0aW9uKVxuICAgICAgICBuZXh0UG9zaXRpb24gLT0gdGhpcy5fX3BlcmlvZDtcblxuICAgICAgcmV0dXJuIG5leHRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gSW5maW5pdHkgKiBzcGVlZDtcbiAgfVxuXG4gIC8vIFRpbWVFbmdpbmUgbWV0aG9kICh0cmFuc3BvcnRlZCBpbnRlcmZhY2UpXG4gIGFkdmFuY2VQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICB0aGlzLnRyaWdnZXIodGltZSk7XG5cbiAgICBpZiAoc3BlZWQgPCAwKVxuICAgICAgcmV0dXJuIHBvc2l0aW9uIC0gdGhpcy5fX3BlcmlvZDtcblxuICAgIHJldHVybiBwb3NpdGlvbiArIHRoaXMuX19wZXJpb2Q7XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBtZXRyb25vbWUgY2xpY2tcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgbWV0cm9ub21lIGNsaWNrIHN5bnRoZXNpcyBhdWRpbyB0aW1lXG4gICAqL1xuICB0cmlnZ2VyKHRpbWUpIHtcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLmF1ZGlvQ29udGV4dDtcbiAgICBjb25zdCBjbGlja0F0dGFjayA9IHRoaXMuY2xpY2tBdHRhY2s7XG4gICAgY29uc3QgY2xpY2tSZWxlYXNlID0gdGhpcy5jbGlja1JlbGVhc2U7XG5cbiAgICBjb25zdCBlbnYgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIGVudi5nYWluLnZhbHVlID0gMC4wO1xuICAgIGVudi5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHRpbWUpO1xuICAgIGVudi5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEuMCwgdGltZSArIGNsaWNrQXR0YWNrKTtcbiAgICBlbnYuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKDAuMDAwMDAwMSwgdGltZSArIGNsaWNrQXR0YWNrICsgY2xpY2tSZWxlYXNlKTtcbiAgICBlbnYuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCB0aW1lKTtcbiAgICBlbnYuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpO1xuXG4gICAgY29uc3Qgb3NjID0gYXVkaW9Db250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICBvc2MuZnJlcXVlbmN5LnZhbHVlID0gdGhpcy5jbGlja0ZyZXE7XG4gICAgb3NjLnN0YXJ0KHRpbWUpO1xuICAgIG9zYy5zdG9wKHRpbWUgKyBjbGlja0F0dGFjayArIGNsaWNrUmVsZWFzZSk7XG4gICAgb3NjLmNvbm5lY3QoZW52KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBsaW5lYXIgZ2FpbiBmYWN0b3JcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgZ2FpblxuICAgKiBAbWVtYmVyb2YgTWV0cm9ub21lXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgc2V0IGdhaW4odmFsdWUpIHtcbiAgICB0aGlzLl9fZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGdhaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX19nYWluTm9kZS5nYWluLnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIG1ldHJvbm9tZSBwZXJpb2RcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgcGVyaW9kXG4gICAqIEBtZW1iZXJvZiBNZXRyb25vbWVcbiAgICogQGluc3RhbmNlXG4gICAqL1xuICBzZXQgcGVyaW9kKHBlcmlvZCkge1xuICAgIHRoaXMuX19wZXJpb2QgPSBwZXJpb2Q7XG5cbiAgICBjb25zdCBtYXN0ZXIgPSB0aGlzLm1hc3RlcjtcblxuICAgIGlmIChtYXN0ZXIpIHtcbiAgICAgIGlmIChtYXN0ZXIucmVzZXRFbmdpbmVUaW1lKVxuICAgICAgICBtYXN0ZXIucmVzZXRFbmdpbmVUaW1lKHRoaXMsIHRoaXMuX19sYXN0VGltZSArIHBlcmlvZCk7XG4gICAgICBlbHNlIGlmIChtYXN0ZXIucmVzZXRFbmdpbmVQb3NpdGlvbilcbiAgICAgICAgbWFzdGVyLnJlc2V0RW5naW5lUG9zaXRpb24odGhpcyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHBlcmlvZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3BlcmlvZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGhhc2UgcGFyYW1ldGVyIChhdmFpbGFibGUgb25seSB3aGVuICd0cmFuc3BvcnRlZCcpLCBzaG91bGQgYmVcbiAgICogYmV0d2VlbiBbMCwgMVtcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgcGhhc2VcbiAgICogQG1lbWJlcm9mIE1ldHJvbm9tZVxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHNldCBwaGFzZShwaGFzZSkge1xuICAgIHRoaXMuX19waGFzZSA9IHBoYXNlIC0gTWF0aC5mbG9vcihwaGFzZSk7XG5cbiAgICBjb25zdCBtYXN0ZXIgPSB0aGlzLm1hc3RlcjtcblxuICAgIGlmIChtYXN0ZXIgJiYgbWFzdGVyLnJlc2V0RW5naW5lUG9zaXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgIG1hc3Rlci5yZXNldEVuZ2luZVBvc2l0aW9uKHRoaXMpO1xuICB9XG5cbiAgZ2V0IHBoYXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9fcGhhc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWV0cm9ub21lO1xuIl19","deps":{"../core/AudioTimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/SegmentEngine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/SegmentEngine.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _AudioTimeEngine2 = require('../core/AudioTimeEngine');\n\nvar _AudioTimeEngine3 = _interopRequireDefault(_AudioTimeEngine2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction optOrDef(opt, def) {\n  if (opt !== undefined) return opt;\n\n  return def;\n}\n\nfunction getCurrentOrPreviousIndex(sortedArray, value) {\n  var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value < firstVal) index = -1;else if (value >= lastVal) index = size - 1;else {\n      if (index < 0 || index >= size) index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] > value) {\n        index--;\n      }while (sortedArray[index + 1] <= value) {\n        index++;\n      }\n    }\n  }\n\n  return index;\n}\n\nfunction getCurrentOrNextIndex(sortedArray, value) {\n  var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n\n  var size = sortedArray.length;\n\n  if (size > 0) {\n    var firstVal = sortedArray[0];\n    var lastVal = sortedArray[size - 1];\n\n    if (value <= firstVal) index = 0;else if (value >= lastVal) index = size;else {\n      if (index < 0 || index >= size) index = Math.floor((size - 1) * (value - firstVal) / (lastVal - firstVal));\n\n      while (sortedArray[index] < value) {\n        index++;\n      }while (sortedArray[index - 1] >= value) {\n        index--;\n      }\n    }\n  }\n\n  return index;\n}\n\n/**\n * Used with a buffer to serve audio files via granular synthesis.\n *\n * The engine implements the \"scheduled\" and \"transported\" interfaces.\n * When \"scheduled\", the engine  generates segments more or less periodically\n * (controlled by the periodAbs, periodRel, and perioVar attributes).\n * When \"transported\", the engine generates segments at the position of their onset time.\n *\n * Example that shows a `SegmentEngine` with a few parameter controls running in a `Scheduler`.\n * {@link https://rawgit.com/wavesjs/waves-audio/master/examples/segment-engine/index.html}\n *\n * @extends AudioTimeEngine\n * @example\n * import * as audio from 'waves-audio';\n * const scheduler = audio.getScheduler();\n * const segmentEngine = new audio.SegmentEngine();\n *\n * scheduler.add(segmentEngine);\n *\n * @param {Object} [options={}] - Default options\n * @param {AudioBuffer} [options.buffer=null] - Audio buffer\n * @param {Number} [options.periodAbs=0] - Absolute segment period in sec\n * @param {Number} [options.periodRel=1] - Segment period relative to inter-segment distance\n * @param {Number} [options.periodVar=0] - Amout of random segment period variation relative\n *  to segment period\n * @param {Number} [options.periodMin=0.001] - Minimum segment period\n * @param {Number} [options.positionArray=[0.0]] - Array of segment positions (onset times\n *  in audio buffer) in sec\n * @param {Number} [options.positionVar=0] - Amout of random segment position variation in sec\n * @param {Number} [options.durationArray=[0.0]] - Array of segment durations in sec\n * @param {Number} [options.durationAbs=0] - Absolute segment duration in sec\n * @param {Number} [options.durationRel=1] - Segment duration relative to given segment\n *  duration or inter-segment distance\n * @param {Array} [options.offsetArray=[0.0]] - Array of segment offsets in sec\n * @param {Number} [options.offsetAbs=-0.005] - Absolute segment offset in sec\n * @param {Number} [options.offsetRel=0] - Segment offset relative to segment duration\n * @param {Number} [options.delay=0.005] - Time by which all segments are delayed (especially\n *  to realize segment offsets)\n * @param {Number} [options.attackAbs=0.005] - Absolute attack time in sec\n * @param {Number} [options.attackRel=0] - Attack time relative to segment duration\n * @param {Number} [options.releaseAbs=0.005] - Absolute release time in sec\n * @param {Number} [options.releaseRel=0] - Release time relative to segment duration\n * @param {Number} [options.resampling=0] - Segment resampling in cent\n * @param {Number} [options.resamplingVar=0] - Amout of random resampling variation in cent\n * @param {Number} [options.gain=1] - Linear gain factor\n * @param {Number} [options.abortTime=0.005] - fade-out time when aborted\n * @param {Number} [options.segmentIndex=0] - Index of the segment to synthesize (i.e. of\n *  this.positionArray/durationArray/offsetArray)\n * @param {Bool} [options.cyclic=false] - Whether the audio buffer and segment indices are\n *  considered as cyclic\n * @param {Number} [options.wrapAroundExtension=0] - Portion at the end of the audio buffer\n *  that has been copied from the beginning to assure cyclic behavior\n */\n\nvar SegmentEngine = function (_AudioTimeEngine) {\n  (0, _inherits3.default)(SegmentEngine, _AudioTimeEngine);\n\n  function SegmentEngine() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, SegmentEngine);\n\n    /**\n     * Audio buffer\n     * @name buffer\n     * @type {AudioBuffer}\n     * @default null\n     * @memberof SegmentEngine\n     * @instance\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SegmentEngine.__proto__ || (0, _getPrototypeOf2.default)(SegmentEngine)).call(this, options.audioContext));\n\n    _this.buffer = optOrDef(options.buffer, null);\n\n    /**\n     * Absolute segment period in sec\n     * @name periodAbs\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.periodAbs = optOrDef(options.periodAbs, 0);\n\n    /**\n     * Segment period relative to inter-segment distance\n     * @name periodRel\n     * @type {Number}\n     * @default 1\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.periodRel = optOrDef(options.periodRel, 1);\n\n    /**\n     * Amout of random segment period variation relative to segment period\n     * @name periodVar\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.periodVar = optOrDef(options.periodVar, 0);\n\n    /**\n     * Minimum segment period\n     * @name periodMin\n     * @type {Number}\n     * @default 0.001\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.periodMin = optOrDef(options.periodMin, 0.001);\n\n    /**\n     * Array of segment positions (onset times in audio buffer) in sec\n     * @name positionArray\n     * @type {Number}\n     * @default [0.0]\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.positionArray = optOrDef(options.positionArray, [0.0]);\n\n    /**\n     * Amout of random segment position variation in sec\n     * @name positionVar\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.positionVar = optOrDef(options.positionVar, 0);\n\n    /**\n     * Array of segment durations in sec\n     * @name durationArray\n     * @type {Number}\n     * @default [0.0]\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.durationArray = optOrDef(options.durationArray, [0.0]);\n\n    /**\n     * Absolute segment duration in sec\n     * @name durationAbs\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.durationAbs = optOrDef(options.durationAbs, 0);\n\n    /**\n     * Segment duration relative to given segment duration or inter-segment distance\n     * @name durationRel\n     * @type {Number}\n     * @default 1\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.durationRel = optOrDef(options.durationRel, 1);\n\n    /**\n     * Array of segment offsets in sec\n     *\n     * offset > 0: the segment's reference position is after the given segment position\n     * offset < 0: the given segment position is the segment's reference position\n     * and the duration has to be corrected by the offset\n     *\n     * @name offsetArray\n     * @type {Array}\n     * @default [0.0]\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.offsetArray = optOrDef(options.offsetArray, [0.0]);\n\n    /**\n     * Absolute segment offset in sec\n     * @name offsetAbs\n     * @type {Number}\n     * @default -0.005\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.offsetAbs = optOrDef(options.offsetAbs, -0.005);\n\n    /**\n     * Segment offset relative to segment duration\n     * @name offsetRel\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.offsetRel = optOrDef(options.offsetRel, 0);\n\n    /**\n     * Time by which all segments are delayed (especially to realize segment offsets)\n     * @name delay\n     * @type {Number}\n     * @default 0.005\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.delay = optOrDef(options.delay, 0.005);\n\n    /**\n     * Absolute attack time in sec\n     * @name attackAbs\n     * @type {Number}\n     * @default 0.005\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.attackAbs = optOrDef(options.attackAbs, 0.005);\n\n    /**\n     * Attack time relative to segment duration\n     * @name attackRel\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.attackRel = optOrDef(options.attackRel, 0);\n\n    /**\n     * Absolute release time in sec\n     * @name releaseAbs\n     * @type {Number}\n     * @default 0.005\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.releaseAbs = optOrDef(options.releaseAbs, 0.005);\n\n    /**\n     * Release time relative to segment duration\n     * @name releaseRel\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.releaseRel = optOrDef(options.releaseRel, 0);\n\n    /**\n     * Segment resampling in cent\n     * @name resampling\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.resampling = optOrDef(options.resampling, 0);\n\n    /**\n     * Amout of random resampling variation in cent\n     * @name resamplingVar\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.resamplingVar = optOrDef(options.resamplingVar, 0);\n\n    /**\n     * Linear gain factor\n     * @name gain\n     * @type {Number}\n     * @default 1\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.gain = optOrDef(options.gain, 1);\n\n    /**\n     * Index of the segment to synthesize (i.e. of this.positionArray/durationArray/offsetArray)\n     * @name segmentIndex\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.segmentIndex = optOrDef(options.segmentIndex, 0);\n\n    /**\n     * Whether the audio buffer and segment indices are considered as cyclic\n     * @name cyclic\n     * @type {Bool}\n     * @default false\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.cyclic = optOrDef(options.cyclic, false);\n    _this.__cyclicOffset = 0;\n\n    /**\n     * Whether the last segment is aborted when triggering the next\n     * @name monophonic\n     * @type {Number}\n     * @default false\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.monophonic = optOrDef(options.monophonic, false);\n    _this.__currentSrc = null;\n    _this.__currentEnv = null;\n    _this.__releaseStartTime = 0;\n    _this.__currentGain = 0;\n    _this.__currentEndTime = 0;\n\n    /**\n     * Fade-out time (when aborted)\n     * @name abortTime\n     * @type {Number}\n     * @default 0.005\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.abortTime = optOrDef(options.abortTime, 0.005);\n\n    /**\n     * Portion at the end of the audio buffer that has been copied from the beginning to assure cyclic behavior\n     * @name wrapAroundExtension\n     * @type {Number}\n     * @default 0\n     * @memberof SegmentEngine\n     * @instance\n     */\n    _this.wrapAroundExtension = optOrDef(options.wrapAroundExtension, 0);\n\n    _this.outputNode = _this.audioContext.createGain();\n    return _this;\n  }\n\n  /**\n   * Get buffer duration (excluding wrapAroundExtension)\n   *\n   * @type {Number}\n   * @default 0\n   * @memberof SegmentEngine\n   * @instance\n   */\n\n\n  (0, _createClass3.default)(SegmentEngine, [{\n    key: 'advanceTime',\n\n\n    // TimeEngine method (transported interface)\n    value: function advanceTime(time) {\n      time = Math.max(time, this.audioContext.currentTime);\n      return time + this.trigger(time);\n    }\n\n    // TimeEngine method (transported interface)\n\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(time, position, speed) {\n      var index = this.segmentIndex;\n      var cyclicOffset = 0;\n      var bufferDuration = this.bufferDuration;\n\n      if (this.cyclic) {\n        var cycles = position / bufferDuration;\n\n        cyclicOffset = Math.floor(cycles) * bufferDuration;\n        position -= cyclicOffset;\n      }\n\n      if (speed > 0) {\n        index = getCurrentOrNextIndex(this.positionArray, position);\n\n        if (index >= this.positionArray.length) {\n          index = 0;\n          cyclicOffset += bufferDuration;\n\n          if (!this.cyclic) return Infinity;\n        }\n      } else if (speed < 0) {\n        index = getCurrentOrPreviousIndex(this.positionArray, position);\n\n        if (index < 0) {\n          index = this.positionArray.length - 1;\n          cyclicOffset -= bufferDuration;\n\n          if (!this.cyclic) return -Infinity;\n        }\n      } else {\n        return Infinity;\n      }\n\n      this.segmentIndex = index;\n      this.__cyclicOffset = cyclicOffset;\n\n      return cyclicOffset + this.positionArray[index];\n    }\n\n    // TimeEngine method (transported interface)\n\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(time, position, speed) {\n      var index = this.segmentIndex;\n      var cyclicOffset = this.__cyclicOffset;\n\n      this.trigger(time);\n\n      if (speed > 0) {\n        index++;\n\n        if (index >= this.positionArray.length) {\n          index = 0;\n          cyclicOffset += this.bufferDuration;\n\n          if (!this.cyclic) return Infinity;\n        }\n      } else {\n        index--;\n\n        if (index < 0) {\n          index = this.positionArray.length - 1;\n          cyclicOffset -= this.bufferDuration;\n\n          if (!this.cyclic) return -Infinity;\n        }\n      }\n\n      this.segmentIndex = index;\n      this.__cyclicOffset = cyclicOffset;\n\n      return cyclicOffset + this.positionArray[index];\n    }\n\n    /**\n     * Trigger a segment.\n     * This function can be called at any time (whether the engine is scheduled/transported or not)\n     * to generate a single segment according to the current segment parameters.\n     *\n     * @param {Number} time segment synthesis audio time\n     * @return {Number} period to next segment\n     */\n\n  }, {\n    key: 'trigger',\n    value: function trigger(time) {\n      var audioContext = this.audioContext;\n      var segmentTime = (time || audioContext.currentTime) + this.delay;\n      var segmentPeriod = this.periodAbs;\n      var segmentIndex = this.segmentIndex;\n\n      if (this.buffer) {\n        var segmentPosition = 0.0;\n        var segmentDuration = 0.0;\n        var segmentOffset = 0.0;\n        var resamplingRate = 1.0;\n        var bufferDuration = this.bufferDuration;\n\n        if (this.cyclic) segmentIndex = segmentIndex % this.positionArray.length;else segmentIndex = Math.max(0, Math.min(segmentIndex, this.positionArray.length - 1));\n\n        if (this.positionArray) segmentPosition = this.positionArray[segmentIndex] || 0;\n\n        if (this.durationArray) segmentDuration = this.durationArray[segmentIndex] || 0;\n\n        if (this.offsetArray) segmentOffset = this.offsetArray[segmentIndex] || 0;\n\n        // calculate resampling\n        if (this.resampling !== 0 || this.resamplingVar > 0) {\n          var randomResampling = (Math.random() - 0.5) * 2.0 * this.resamplingVar;\n          resamplingRate = Math.pow(2.0, (this.resampling + randomResampling) / 1200.0);\n        }\n\n        // calculate inter-segment distance\n        if (segmentDuration === 0 || this.periodRel > 0) {\n          var nextSegmentIndex = segmentIndex + 1;\n          var nextPosition, nextOffset;\n\n          if (nextSegmentIndex === this.positionArray.length) {\n            if (this.cyclic) {\n              nextPosition = this.positionArray[0] + bufferDuration;\n              nextOffset = this.offsetArray[0];\n            } else {\n              nextPosition = bufferDuration;\n              nextOffset = 0;\n            }\n          } else {\n            nextPosition = this.positionArray[nextSegmentIndex];\n            nextOffset = this.offsetArray[nextSegmentIndex];\n          }\n\n          var interSegmentDistance = nextPosition - segmentPosition;\n\n          // correct inter-segment distance by offsets\n          //   offset > 0: the segment's reference position is after the given segment position\n          if (segmentOffset > 0) interSegmentDistance -= segmentOffset;\n\n          if (nextOffset > 0) interSegmentDistance += nextOffset;\n\n          if (interSegmentDistance < 0) interSegmentDistance = 0;\n\n          // use inter-segment distance instead of segment duration\n          if (segmentDuration === 0) segmentDuration = interSegmentDistance;\n\n          // calculate period relative to inter marker distance\n          segmentPeriod += this.periodRel * interSegmentDistance;\n        }\n\n        // add relative and absolute segment duration\n        segmentDuration *= this.durationRel;\n        segmentDuration += this.durationAbs;\n\n        // add relative and absolute segment offset\n        segmentOffset *= this.offsetRel;\n        segmentOffset += this.offsetAbs;\n\n        // apply segment offset\n        //   offset > 0: the segment's reference position is after the given segment position\n        //   offset < 0: the given segment position is the segment's reference position and the duration has to be corrected by the offset\n        if (segmentOffset < 0) {\n          segmentDuration -= segmentOffset;\n          segmentPosition += segmentOffset;\n          segmentTime += segmentOffset / resamplingRate;\n        } else {\n          segmentTime -= segmentOffset / resamplingRate;\n        }\n\n        // randomize segment position\n        if (this.positionVar > 0) segmentPosition += 2.0 * (Math.random() - 0.5) * this.positionVar;\n\n        // shorten duration of segments over the edges of the buffer\n        if (segmentPosition < 0) {\n          //segmentTime -= grainPosition; hm, not sure if we want to do this\n          segmentDuration += segmentPosition;\n          segmentPosition = 0;\n        }\n\n        if (segmentPosition + segmentDuration > this.buffer.duration) segmentDuration = this.buffer.duration - segmentPosition;\n\n        segmentDuration /= resamplingRate;\n\n        if (this.monophonic) this.abort(segmentTime);\n\n        // make segment\n        if (this.gain > 0 && segmentDuration > 0) {\n          // make segment envelope\n          var envelope = audioContext.createGain();\n          var attack = this.attackAbs + this.attackRel * segmentDuration;\n          var release = this.releaseAbs + this.releaseRel * segmentDuration;\n\n          if (attack + release > segmentDuration) {\n            var factor = segmentDuration / (attack + release);\n            attack *= factor;\n            release *= factor;\n          }\n\n          var attackEndTime = segmentTime + attack;\n          var segmentEndTime = segmentTime + segmentDuration;\n          var releaseStartTime = segmentEndTime - release;\n\n          envelope.gain.value = 0;\n          envelope.gain.setValueAtTime(0.0, segmentTime);\n          envelope.gain.linearRampToValueAtTime(this.gain, attackEndTime);\n\n          if (releaseStartTime > attackEndTime) envelope.gain.setValueAtTime(this.gain, releaseStartTime);\n\n          envelope.gain.linearRampToValueAtTime(0.0, segmentEndTime);\n          envelope.connect(this.outputNode);\n\n          this.__currentEnv = envelope;\n\n          // make source\n          var source = audioContext.createBufferSource();\n\n          source.buffer = this.buffer;\n          source.playbackRate.value = resamplingRate;\n          source.connect(envelope);\n\n          source.start(segmentTime, segmentPosition);\n          source.stop(segmentTime + segmentDuration);\n\n          this.__currentSrc = source;\n          this.__releaseStartTime = releaseStartTime;\n          this.__currentGain = this.gain;\n          this.__currentEndTime = segmentEndTime;\n        }\n      }\n\n      // segment period randon variation\n      if (this.periodVar > 0.0) segmentPeriod += 2.0 * (Math.random() - 0.5) * this.periodVar * segmentPeriod;\n\n      return Math.max(this.periodMin, segmentPeriod);\n    }\n\n    /**\n     * Abort the current segment at given time, fade out duration\n     *\n     * @param {Number} time - abort time\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort(time) {\n      var audioContext = this.audioContext;\n      var endTime = this.__currentEndTime;\n      var abortTime = time || audioContext.currentTime;\n\n      if (abortTime < endTime) {\n        var segmentEndTime = Math.min(abortTime + this.abortTime, endTime);\n        var envelope = this.__currentEnv;\n        var currentGainValue = this.__currentGain;\n\n        if (abortTime > this.__releaseStartTime) {\n          var releaseStart = this.__releaseStartTime;\n          currentGainValue *= (abortTime - releaseStart) / (endTime - releaseStart);\n        }\n\n        envelope.gain.cancelScheduledValues(abortTime);\n        envelope.gain.setValueAtTime(currentGainValue, abortTime);\n        envelope.gain.linearRampToValueAtTime(0, segmentEndTime);\n\n        this.__currentSrc = null;\n        this.__currentEnv = null;\n        this.__releaseStartTime = 0;\n        this.__currentGain = 0;\n        this.__currentEndTime = 0;\n      }\n    }\n  }, {\n    key: 'bufferDuration',\n    get: function get() {\n      if (this.buffer) {\n        var bufferDuration = this.buffer.duration;\n\n        if (this.wrapAroundExtension) bufferDuration -= this.wrapAroundExtension;\n\n        return bufferDuration;\n      }\n\n      return 0;\n    }\n  }]);\n  return SegmentEngine;\n}(_AudioTimeEngine3.default);\n\nexports.default = SegmentEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlZ21lbnRFbmdpbmUuanMiXSwibmFtZXMiOlsib3B0T3JEZWYiLCJvcHQiLCJkZWYiLCJ1bmRlZmluZWQiLCJnZXRDdXJyZW50T3JQcmV2aW91c0luZGV4Iiwic29ydGVkQXJyYXkiLCJ2YWx1ZSIsImluZGV4Iiwic2l6ZSIsImxlbmd0aCIsImZpcnN0VmFsIiwibGFzdFZhbCIsIk1hdGgiLCJmbG9vciIsImdldEN1cnJlbnRPck5leHRJbmRleCIsIlNlZ21lbnRFbmdpbmUiLCJvcHRpb25zIiwiYXVkaW9Db250ZXh0IiwiYnVmZmVyIiwicGVyaW9kQWJzIiwicGVyaW9kUmVsIiwicGVyaW9kVmFyIiwicGVyaW9kTWluIiwicG9zaXRpb25BcnJheSIsInBvc2l0aW9uVmFyIiwiZHVyYXRpb25BcnJheSIsImR1cmF0aW9uQWJzIiwiZHVyYXRpb25SZWwiLCJvZmZzZXRBcnJheSIsIm9mZnNldEFicyIsIm9mZnNldFJlbCIsImRlbGF5IiwiYXR0YWNrQWJzIiwiYXR0YWNrUmVsIiwicmVsZWFzZUFicyIsInJlbGVhc2VSZWwiLCJyZXNhbXBsaW5nIiwicmVzYW1wbGluZ1ZhciIsImdhaW4iLCJzZWdtZW50SW5kZXgiLCJjeWNsaWMiLCJfX2N5Y2xpY09mZnNldCIsIm1vbm9waG9uaWMiLCJfX2N1cnJlbnRTcmMiLCJfX2N1cnJlbnRFbnYiLCJfX3JlbGVhc2VTdGFydFRpbWUiLCJfX2N1cnJlbnRHYWluIiwiX19jdXJyZW50RW5kVGltZSIsImFib3J0VGltZSIsIndyYXBBcm91bmRFeHRlbnNpb24iLCJvdXRwdXROb2RlIiwiY3JlYXRlR2FpbiIsInRpbWUiLCJtYXgiLCJjdXJyZW50VGltZSIsInRyaWdnZXIiLCJwb3NpdGlvbiIsInNwZWVkIiwiY3ljbGljT2Zmc2V0IiwiYnVmZmVyRHVyYXRpb24iLCJjeWNsZXMiLCJJbmZpbml0eSIsInNlZ21lbnRUaW1lIiwic2VnbWVudFBlcmlvZCIsInNlZ21lbnRQb3NpdGlvbiIsInNlZ21lbnREdXJhdGlvbiIsInNlZ21lbnRPZmZzZXQiLCJyZXNhbXBsaW5nUmF0ZSIsIm1pbiIsInJhbmRvbVJlc2FtcGxpbmciLCJyYW5kb20iLCJwb3ciLCJuZXh0U2VnbWVudEluZGV4IiwibmV4dFBvc2l0aW9uIiwibmV4dE9mZnNldCIsImludGVyU2VnbWVudERpc3RhbmNlIiwiZHVyYXRpb24iLCJhYm9ydCIsImVudmVsb3BlIiwiYXR0YWNrIiwicmVsZWFzZSIsImZhY3RvciIsImF0dGFja0VuZFRpbWUiLCJzZWdtZW50RW5kVGltZSIsInJlbGVhc2VTdGFydFRpbWUiLCJzZXRWYWx1ZUF0VGltZSIsImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lIiwiY29ubmVjdCIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsInBsYXliYWNrUmF0ZSIsInN0YXJ0Iiwic3RvcCIsImVuZFRpbWUiLCJjdXJyZW50R2FpblZhbHVlIiwicmVsZWFzZVN0YXJ0IiwiY2FuY2VsU2NoZWR1bGVkVmFsdWVzIiwiQXVkaW9UaW1lRW5naW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxTQUFTQSxRQUFULENBQWtCQyxHQUFsQixFQUF1QkMsR0FBdkIsRUFBNEI7QUFDMUIsTUFBSUQsUUFBUUUsU0FBWixFQUNFLE9BQU9GLEdBQVA7O0FBRUYsU0FBT0MsR0FBUDtBQUNEOztBQUVELFNBQVNFLHlCQUFULENBQW1DQyxXQUFuQyxFQUFnREMsS0FBaEQsRUFBbUU7QUFBQSxNQUFaQyxLQUFZLHVFQUFKLENBQUMsQ0FBRzs7QUFDakUsTUFBSUMsT0FBT0gsWUFBWUksTUFBdkI7O0FBRUEsTUFBSUQsT0FBTyxDQUFYLEVBQWM7QUFDWixRQUFJRSxXQUFXTCxZQUFZLENBQVosQ0FBZjtBQUNBLFFBQUlNLFVBQVVOLFlBQVlHLE9BQU8sQ0FBbkIsQ0FBZDs7QUFFQSxRQUFJRixRQUFRSSxRQUFaLEVBQ0VILFFBQVEsQ0FBQyxDQUFULENBREYsS0FFSyxJQUFJRCxTQUFTSyxPQUFiLEVBQ0hKLFFB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QWlELDhCQUFvQixDQUFDOUMsWUFBWStDLFlBQWIsS0FBOEJGLFVBQVVFLFlBQXhDLENBQXBCO0FBQ0Q7O0FBRURqQixpQkFBU3hDLElBQVQsQ0FBYzBELHFCQUFkLENBQW9DaEQsU0FBcEM7QUFDQThCLGlCQUFTeEMsSUFBVCxDQUFjK0MsY0FBZCxDQUE2QlMsZ0JBQTdCLEVBQStDOUMsU0FBL0M7QUFDQThCLGlCQUFTeEMsSUFBVCxDQUFjZ0QsdUJBQWQsQ0FBc0MsQ0FBdEMsRUFBeUNILGNBQXpDOztBQUVBLGFBQUt4QyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsYUFBS0MsWUFBTCxHQUFvQixJQUFwQjtBQUNBLGFBQUtDLGtCQUFMLEdBQTBCLENBQTFCO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixDQUFyQjtBQUNBLGFBQUtDLGdCQUFMLEdBQXdCLENBQXhCO0FBQ0Q7QUFDRjs7O3dCQTFTb0I7QUFDbkIsVUFBSSxLQUFLN0IsTUFBVCxFQUFpQjtBQUNmLFlBQUl5QyxpQkFBaUIsS0FBS3pDLE1BQUwsQ0FBWTBELFFBQWpDOztBQUVBLFlBQUksS0FBSzNCLG1CQUFULEVBQ0VVLGtCQUFrQixLQUFLVixtQkFBdkI7O0FBRUYsZUFBT1UsY0FBUDtBQUNEOztBQUVELGFBQU8sQ0FBUDtBQUNEOzs7RUF6U3lCc0MseUI7O2tCQTJrQmJsRixhIiwiZmlsZSI6IlNlZ21lbnRFbmdpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXVkaW9UaW1lRW5naW5lIGZyb20gJy4uL2NvcmUvQXVkaW9UaW1lRW5naW5lJztcblxuZnVuY3Rpb24gb3B0T3JEZWYob3B0LCBkZWYpIHtcbiAgaWYgKG9wdCAhPT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBvcHQ7XG5cbiAgcmV0dXJuIGRlZjtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudE9yUHJldmlvdXNJbmRleChzb3J0ZWRBcnJheSwgdmFsdWUsIGluZGV4ID0gLTEpIHtcbiAgdmFyIHNpemUgPSBzb3J0ZWRBcnJheS5sZW5ndGg7XG5cbiAgaWYgKHNpemUgPiAwKSB7XG4gICAgdmFyIGZpcnN0VmFsID0gc29ydGVkQXJyYXlbMF07XG4gICAgdmFyIGxhc3RWYWwgPSBzb3J0ZWRBcnJheVtzaXplIC0gMV07XG5cbiAgICBpZiAodmFsdWUgPCBmaXJzdFZhbClcbiAgICAgIGluZGV4ID0gLTE7XG4gICAgZWxzZSBpZiAodmFsdWUgPj0gbGFzdFZhbClcbiAgICAgIGluZGV4ID0gc2l6ZSAtIDE7XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHNpemUpXG4gICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoc2l6ZSAtIDEpICogKHZhbHVlIC0gZmlyc3RWYWwpIC8gKGxhc3RWYWwgLSBmaXJzdFZhbCkpO1xuXG4gICAgICB3aGlsZSAoc29ydGVkQXJyYXlbaW5kZXhdID4gdmFsdWUpXG4gICAgICAgIGluZGV4LS07XG5cbiAgICAgIHdoaWxlIChzb3J0ZWRBcnJheVtpbmRleCArIDFdIDw9IHZhbHVlKVxuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudE9yTmV4dEluZGV4KHNvcnRlZEFycmF5LCB2YWx1ZSwgaW5kZXggPSAtMSkge1xuICB2YXIgc2l6ZSA9IHNvcnRlZEFycmF5Lmxlbmd0aDtcblxuICBpZiAoc2l6ZSA+IDApIHtcbiAgICB2YXIgZmlyc3RWYWwgPSBzb3J0ZWRBcnJheVswXTtcbiAgICB2YXIgbGFzdFZhbCA9IHNvcnRlZEFycmF5W3NpemUgLSAxXTtcblxuICAgIGlmICh2YWx1ZSA8PSBmaXJzdFZhbClcbiAgICAgIGluZGV4ID0gMDtcbiAgICBlbHNlIGlmICh2YWx1ZSA+PSBsYXN0VmFsKVxuICAgICAgaW5kZXggPSBzaXplO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzaXplKVxuICAgICAgICBpbmRleCA9IE1hdGguZmxvb3IoKHNpemUgLSAxKSAqICh2YWx1ZSAtIGZpcnN0VmFsKSAvIChsYXN0VmFsIC0gZmlyc3RWYWwpKTtcblxuICAgICAgd2hpbGUgKHNvcnRlZEFycmF5W2luZGV4XSA8IHZhbHVlKVxuICAgICAgICBpbmRleCsrO1xuXG4gICAgICB3aGlsZSAoc29ydGVkQXJyYXlbaW5kZXggLSAxXSA+PSB2YWx1ZSlcbiAgICAgICAgaW5kZXgtLTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59XG5cbi8qKlxuICogVXNlZCB3aXRoIGEgYnVmZmVyIHRvIHNlcnZlIGF1ZGlvIGZpbGVzIHZpYSBncmFudWxhciBzeW50aGVzaXMuXG4gKlxuICogVGhlIGVuZ2luZSBpbXBsZW1lbnRzIHRoZSBcInNjaGVkdWxlZFwiIGFuZCBcInRyYW5zcG9ydGVkXCIgaW50ZXJmYWNlcy5cbiAqIFdoZW4gXCJzY2hlZHVsZWRcIiwgdGhlIGVuZ2luZSAgZ2VuZXJhdGVzIHNlZ21lbnRzIG1vcmUgb3IgbGVzc8KgcGVyaW9kaWNhbGx5XG4gKiAoY29udHJvbGxlZCBieSB0aGUgcGVyaW9kQWJzLCBwZXJpb2RSZWwsIGFuZCBwZXJpb1ZhciBhdHRyaWJ1dGVzKS5cbiAqIFdoZW4gXCJ0cmFuc3BvcnRlZFwiLCB0aGUgZW5naW5lIGdlbmVyYXRlcyBzZWdtZW50cyBhdCB0aGUgcG9zaXRpb24gb2YgdGhlaXIgb25zZXQgdGltZS5cbiAqXG4gKiBFeGFtcGxlIHRoYXQgc2hvd3MgYSBgU2VnbWVudEVuZ2luZWAgd2l0aCBhIGZldyBwYXJhbWV0ZXIgY29udHJvbHMgcnVubmluZyBpbiBhIGBTY2hlZHVsZXJgLlxuICoge0BsaW5rIGh0dHBzOi8vcmF3Z2l0LmNvbS93YXZlc2pzL3dhdmVzLWF1ZGlvL21hc3Rlci9leGFtcGxlcy9zZWdtZW50LWVuZ2luZS9pbmRleC5odG1sfVxuICpcbiAqIEBleHRlbmRzIEF1ZGlvVGltZUVuZ2luZVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGF1ZGlvIGZyb20gJ3dhdmVzLWF1ZGlvJztcbiAqIGNvbnN0IHNjaGVkdWxlciA9IGF1ZGlvLmdldFNjaGVkdWxlcigpO1xuICogY29uc3Qgc2VnbWVudEVuZ2luZSA9IG5ldyBhdWRpby5TZWdtZW50RW5naW5lKCk7XG4gKlxuICogc2NoZWR1bGVyLmFkZChzZWdtZW50RW5naW5lKTtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gRGVmYXVsdCBvcHRpb25zXG4gKiBAcGFyYW0ge0F1ZGlvQnVmZmVyfSBbb3B0aW9ucy5idWZmZXI9bnVsbF0gLSBBdWRpbyBidWZmZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wZXJpb2RBYnM9MF0gLSBBYnNvbHV0ZSBzZWdtZW50IHBlcmlvZCBpbiBzZWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wZXJpb2RSZWw9MV0gLSBTZWdtZW50IHBlcmlvZCByZWxhdGl2ZSB0byBpbnRlci1zZWdtZW50IGRpc3RhbmNlXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGVyaW9kVmFyPTBdIC0gQW1vdXQgb2YgcmFuZG9tIHNlZ21lbnQgcGVyaW9kIHZhcmlhdGlvbiByZWxhdGl2ZVxuICogIHRvIHNlZ21lbnQgcGVyaW9kXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGVyaW9kTWluPTAuMDAxXSAtIE1pbmltdW0gc2VnbWVudCBwZXJpb2RcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wb3NpdGlvbkFycmF5PVswLjBdXSAtIEFycmF5IG9mIHNlZ21lbnQgcG9zaXRpb25zIChvbnNldCB0aW1lc1xuICogIGluIGF1ZGlvIGJ1ZmZlcikgaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucG9zaXRpb25WYXI9MF0gLSBBbW91dCBvZiByYW5kb20gc2VnbWVudCBwb3NpdGlvbiB2YXJpYXRpb24gaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZHVyYXRpb25BcnJheT1bMC4wXV0gLSBBcnJheSBvZiBzZWdtZW50IGR1cmF0aW9ucyBpbiBzZWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbkFicz0wXSAtIEFic29sdXRlIHNlZ21lbnQgZHVyYXRpb24gaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZHVyYXRpb25SZWw9MV0gLSBTZWdtZW50IGR1cmF0aW9uIHJlbGF0aXZlIHRvIGdpdmVuIHNlZ21lbnRcbiAqICBkdXJhdGlvbiBvciBpbnRlci1zZWdtZW50IGRpc3RhbmNlXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5vZmZzZXRBcnJheT1bMC4wXV0gLSBBcnJheSBvZiBzZWdtZW50IG9mZnNldHMgaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0QWJzPS0wLjAwNV0gLSBBYnNvbHV0ZSBzZWdtZW50IG9mZnNldCBpbiBzZWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRSZWw9MF0gLSBTZWdtZW50IG9mZnNldCByZWxhdGl2ZSB0byBzZWdtZW50IGR1cmF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGVsYXk9MC4wMDVdIC0gVGltZSBieSB3aGljaCBhbGwgc2VnbWVudHMgYXJlIGRlbGF5ZWQgKGVzcGVjaWFsbHlcbiAqICB0byByZWFsaXplIHNlZ21lbnQgb2Zmc2V0cylcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hdHRhY2tBYnM9MC4wMDVdIC0gQWJzb2x1dGUgYXR0YWNrIHRpbWUgaW4gc2VjXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYXR0YWNrUmVsPTBdIC0gQXR0YWNrIHRpbWUgcmVsYXRpdmUgdG8gc2VnbWVudCBkdXJhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlbGVhc2VBYnM9MC4wMDVdIC0gQWJzb2x1dGUgcmVsZWFzZSB0aW1lIGluIHNlY1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlbGVhc2VSZWw9MF0gLSBSZWxlYXNlIHRpbWUgcmVsYXRpdmUgdG8gc2VnbWVudCBkdXJhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlc2FtcGxpbmc9MF0gLSBTZWdtZW50IHJlc2FtcGxpbmcgaW4gY2VudFxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlc2FtcGxpbmdWYXI9MF0gLSBBbW91dCBvZiByYW5kb20gcmVzYW1wbGluZyB2YXJpYXRpb24gaW4gY2VudFxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmdhaW49MV0gLSBMaW5lYXIgZ2FpbiBmYWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hYm9ydFRpbWU9MC4wMDVdIC0gZmFkZS1vdXQgdGltZSB3aGVuIGFib3J0ZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zZWdtZW50SW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgc2VnbWVudCB0byBzeW50aGVzaXplIChpLmUuIG9mXG4gKiAgdGhpcy5wb3NpdGlvbkFycmF5L2R1cmF0aW9uQXJyYXkvb2Zmc2V0QXJyYXkpXG4gKiBAcGFyYW0ge0Jvb2x9IFtvcHRpb25zLmN5Y2xpYz1mYWxzZV0gLSBXaGV0aGVyIHRoZSBhdWRpbyBidWZmZXIgYW5kIHNlZ21lbnQgaW5kaWNlcyBhcmVcbiAqICBjb25zaWRlcmVkIGFzIGN5Y2xpY1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndyYXBBcm91bmRFeHRlbnNpb249MF0gLSBQb3J0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGF1ZGlvIGJ1ZmZlclxuICogIHRoYXQgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIGJlZ2lubmluZyB0byBhc3N1cmUgY3ljbGljIGJlaGF2aW9yXG4gKi9cbmNsYXNzIFNlZ21lbnRFbmdpbmUgZXh0ZW5kcyBBdWRpb1RpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zLmF1ZGlvQ29udGV4dCk7XG5cbiAgICAvKipcbiAgICAgKiBBdWRpbyBidWZmZXJcbiAgICAgKiBAbmFtZSBidWZmZXJcbiAgICAgKiBAdHlwZSB7QXVkaW9CdWZmZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBvcHRPckRlZihvcHRpb25zLmJ1ZmZlciwgbnVsbCk7XG5cbiAgICAvKipcbiAgICAgKiBBYnNvbHV0ZSBzZWdtZW50IHBlcmlvZCBpbiBzZWNcbiAgICAgKiBAbmFtZSBwZXJpb2RBYnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucGVyaW9kQWJzID0gb3B0T3JEZWYob3B0aW9ucy5wZXJpb2RBYnMsIDApO1xuXG4gICAgLyoqXG4gICAgICogU2VnbWVudCBwZXJpb2QgcmVsYXRpdmUgdG8gaW50ZXItc2VnbWVudCBkaXN0YW5jZVxuICAgICAqIEBuYW1lIHBlcmlvZFJlbFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5wZXJpb2RSZWwgPSBvcHRPckRlZihvcHRpb25zLnBlcmlvZFJlbCwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBBbW91dCBvZiByYW5kb20gc2VnbWVudCBwZXJpb2QgdmFyaWF0aW9uIHJlbGF0aXZlIHRvIHNlZ21lbnQgcGVyaW9kXG4gICAgICogQG5hbWUgcGVyaW9kVmFyXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnBlcmlvZFZhciA9IG9wdE9yRGVmKG9wdGlvbnMucGVyaW9kVmFyLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gc2VnbWVudCBwZXJpb2RcbiAgICAgKiBAbmFtZSBwZXJpb2RNaW5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuMDAxXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnBlcmlvZE1pbiA9IG9wdE9yRGVmKG9wdGlvbnMucGVyaW9kTWluLCAwLjAwMSk7XG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBzZWdtZW50IHBvc2l0aW9ucyAob25zZXQgdGltZXMgaW4gYXVkaW8gYnVmZmVyKSBpbiBzZWNcbiAgICAgKiBAbmFtZSBwb3NpdGlvbkFycmF5XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBbMC4wXVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbkFycmF5ID0gb3B0T3JEZWYob3B0aW9ucy5wb3NpdGlvbkFycmF5LCBbMC4wXSk7XG5cbiAgICAvKipcbiAgICAgKiBBbW91dCBvZiByYW5kb20gc2VnbWVudCBwb3NpdGlvbiB2YXJpYXRpb24gaW4gc2VjXG4gICAgICogQG5hbWUgcG9zaXRpb25WYXJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb25WYXIgPSBvcHRPckRlZihvcHRpb25zLnBvc2l0aW9uVmFyLCAwKTtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHNlZ21lbnQgZHVyYXRpb25zIGluIHNlY1xuICAgICAqIEBuYW1lIGR1cmF0aW9uQXJyYXlcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFswLjBdXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uQXJyYXkgPSBvcHRPckRlZihvcHRpb25zLmR1cmF0aW9uQXJyYXksIFswLjBdKTtcblxuICAgIC8qKlxuICAgICAqIEFic29sdXRlIHNlZ21lbnQgZHVyYXRpb24gaW4gc2VjXG4gICAgICogQG5hbWUgZHVyYXRpb25BYnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25BYnMgPSBvcHRPckRlZihvcHRpb25zLmR1cmF0aW9uQWJzLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFNlZ21lbnQgZHVyYXRpb24gcmVsYXRpdmUgdG8gZ2l2ZW4gc2VnbWVudCBkdXJhdGlvbiBvciBpbnRlci1zZWdtZW50IGRpc3RhbmNlXG4gICAgICogQG5hbWUgZHVyYXRpb25SZWxcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25SZWwgPSBvcHRPckRlZihvcHRpb25zLmR1cmF0aW9uUmVsLCAxKTtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHNlZ21lbnQgb2Zmc2V0cyBpbiBzZWNcbiAgICAgKlxuICAgICAqIG9mZnNldCA+IDA6IHRoZSBzZWdtZW50J3MgcmVmZXJlbmNlIHBvc2l0aW9uIGlzIGFmdGVyIHRoZSBnaXZlbiBzZWdtZW50IHBvc2l0aW9uXG4gICAgICogb2Zmc2V0IDwgMDogdGhlIGdpdmVuIHNlZ21lbnQgcG9zaXRpb24gaXMgdGhlIHNlZ21lbnQncyByZWZlcmVuY2UgcG9zaXRpb25cbiAgICAgKiBhbmQgdGhlIGR1cmF0aW9uIGhhcyB0byBiZSBjb3JyZWN0ZWQgYnkgdGhlIG9mZnNldFxuICAgICAqXG4gICAgICogQG5hbWUgb2Zmc2V0QXJyYXlcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQGRlZmF1bHQgWzAuMF1cbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0QXJyYXkgPSBvcHRPckRlZihvcHRpb25zLm9mZnNldEFycmF5LCBbMC4wXSk7XG5cbiAgICAvKipcbiAgICAgKiBBYnNvbHV0ZSBzZWdtZW50IG9mZnNldCBpbiBzZWNcbiAgICAgKiBAbmFtZSBvZmZzZXRBYnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IC0wLjAwNVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRBYnMgPSBvcHRPckRlZihvcHRpb25zLm9mZnNldEFicywgLTAuMDA1KTtcblxuICAgIC8qKlxuICAgICAqIFNlZ21lbnQgb2Zmc2V0IHJlbGF0aXZlIHRvIHNlZ21lbnQgZHVyYXRpb25cbiAgICAgKiBAbmFtZSBvZmZzZXRSZWxcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0UmVsID0gb3B0T3JEZWYob3B0aW9ucy5vZmZzZXRSZWwsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGltZSBieSB3aGljaCBhbGwgc2VnbWVudHMgYXJlIGRlbGF5ZWQgKGVzcGVjaWFsbHkgdG8gcmVhbGl6ZSBzZWdtZW50IG9mZnNldHMpXG4gICAgICogQG5hbWUgZGVsYXlcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuMDA1XG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmRlbGF5ID0gb3B0T3JEZWYob3B0aW9ucy5kZWxheSwgMC4wMDUpO1xuXG4gICAgLyoqXG4gICAgICogQWJzb2x1dGUgYXR0YWNrIHRpbWUgaW4gc2VjXG4gICAgICogQG5hbWUgYXR0YWNrQWJzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjAwNVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5hdHRhY2tBYnMgPSBvcHRPckRlZihvcHRpb25zLmF0dGFja0FicywgMC4wMDUpO1xuXG4gICAgLyoqXG4gICAgICogQXR0YWNrIHRpbWUgcmVsYXRpdmUgdG8gc2VnbWVudCBkdXJhdGlvblxuICAgICAqIEBuYW1lIGF0dGFja1JlbFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5hdHRhY2tSZWwgPSBvcHRPckRlZihvcHRpb25zLmF0dGFja1JlbCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBBYnNvbHV0ZSByZWxlYXNlIHRpbWUgaW4gc2VjXG4gICAgICogQG5hbWUgcmVsZWFzZUFic1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC4wMDVcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucmVsZWFzZUFicyA9IG9wdE9yRGVmKG9wdGlvbnMucmVsZWFzZUFicywgMC4wMDUpO1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aW1lIHJlbGF0aXZlIHRvIHNlZ21lbnQgZHVyYXRpb25cbiAgICAgKiBAbmFtZSByZWxlYXNlUmVsXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnJlbGVhc2VSZWwgPSBvcHRPckRlZihvcHRpb25zLnJlbGVhc2VSZWwsIDApO1xuXG4gICAgLyoqXG4gICAgICogU2VnbWVudCByZXNhbXBsaW5nIGluIGNlbnRcbiAgICAgKiBAbmFtZSByZXNhbXBsaW5nXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnJlc2FtcGxpbmcgPSBvcHRPckRlZihvcHRpb25zLnJlc2FtcGxpbmcsIDApO1xuXG4gICAgLyoqXG4gICAgICogQW1vdXQgb2YgcmFuZG9tIHJlc2FtcGxpbmcgdmFyaWF0aW9uIGluIGNlbnRcbiAgICAgKiBAbmFtZSByZXNhbXBsaW5nVmFyXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnJlc2FtcGxpbmdWYXIgPSBvcHRPckRlZihvcHRpb25zLnJlc2FtcGxpbmdWYXIsIDApO1xuXG4gICAgLyoqXG4gICAgICogTGluZWFyIGdhaW4gZmFjdG9yXG4gICAgICogQG5hbWUgZ2FpblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5nYWluID0gb3B0T3JEZWYob3B0aW9ucy5nYWluLCAxKTtcblxuICAgIC8qKlxuICAgICAqIEluZGV4IG9mIHRoZSBzZWdtZW50IHRvIHN5bnRoZXNpemUgKGkuZS4gb2YgdGhpcy5wb3NpdGlvbkFycmF5L2R1cmF0aW9uQXJyYXkvb2Zmc2V0QXJyYXkpXG4gICAgICogQG5hbWUgc2VnbWVudEluZGV4XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnNlZ21lbnRJbmRleCA9IG9wdE9yRGVmKG9wdGlvbnMuc2VnbWVudEluZGV4LCAwKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGF1ZGlvIGJ1ZmZlciBhbmQgc2VnbWVudCBpbmRpY2VzIGFyZSBjb25zaWRlcmVkIGFzIGN5Y2xpY1xuICAgICAqIEBuYW1lIGN5Y2xpY1xuICAgICAqIEB0eXBlIHtCb29sfVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICogQG1lbWJlcm9mIFNlZ21lbnRFbmdpbmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLmN5Y2xpYyA9IG9wdE9yRGVmKG9wdGlvbnMuY3ljbGljLCBmYWxzZSk7XG4gICAgdGhpcy5fX2N5Y2xpY09mZnNldCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBsYXN0IHNlZ21lbnQgaXMgYWJvcnRlZCB3aGVuIHRyaWdnZXJpbmcgdGhlIG5leHRcbiAgICAgKiBAbmFtZSBtb25vcGhvbmljXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy5tb25vcGhvbmljID0gb3B0T3JEZWYob3B0aW9ucy5tb25vcGhvbmljLCBmYWxzZSk7XG4gICAgdGhpcy5fX2N1cnJlbnRTcmMgPSBudWxsO1xuICAgIHRoaXMuX19jdXJyZW50RW52ID0gbnVsbDtcbiAgICB0aGlzLl9fcmVsZWFzZVN0YXJ0VGltZSA9IDA7XG4gICAgdGhpcy5fX2N1cnJlbnRHYWluID0gMDtcbiAgICB0aGlzLl9fY3VycmVudEVuZFRpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRmFkZS1vdXQgdGltZSAod2hlbiBhYm9ydGVkKVxuICAgICAqIEBuYW1lIGFib3J0VGltZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC4wMDVcbiAgICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMuYWJvcnRUaW1lID0gb3B0T3JEZWYob3B0aW9ucy5hYm9ydFRpbWUsIDAuMDA1KTtcblxuICAgIC8qKlxuICAgICAqIFBvcnRpb24gYXQgdGhlIGVuZCBvZiB0aGUgYXVkaW8gYnVmZmVyIHRoYXQgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIGJlZ2lubmluZyB0byBhc3N1cmUgY3ljbGljIGJlaGF2aW9yXG4gICAgICogQG5hbWUgd3JhcEFyb3VuZEV4dGVuc2lvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqIEBtZW1iZXJvZiBTZWdtZW50RW5naW5lXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgdGhpcy53cmFwQXJvdW5kRXh0ZW5zaW9uID0gb3B0T3JEZWYob3B0aW9ucy53cmFwQXJvdW5kRXh0ZW5zaW9uLCAwKTtcblxuICAgIHRoaXMub3V0cHV0Tm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYnVmZmVyIGR1cmF0aW9uIChleGNsdWRpbmcgd3JhcEFyb3VuZEV4dGVuc2lvbilcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGRlZmF1bHQgMFxuICAgKiBAbWVtYmVyb2YgU2VnbWVudEVuZ2luZVxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIGdldCBidWZmZXJEdXJhdGlvbigpIHtcbiAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgIHZhciBidWZmZXJEdXJhdGlvbiA9IHRoaXMuYnVmZmVyLmR1cmF0aW9uO1xuXG4gICAgICBpZiAodGhpcy53cmFwQXJvdW5kRXh0ZW5zaW9uKVxuICAgICAgICBidWZmZXJEdXJhdGlvbiAtPSB0aGlzLndyYXBBcm91bmRFeHRlbnNpb247XG5cbiAgICAgIHJldHVybiBidWZmZXJEdXJhdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIFRpbWVFbmdpbmUgbWV0aG9kICh0cmFuc3BvcnRlZCBpbnRlcmZhY2UpXG4gIGFkdmFuY2VUaW1lKHRpbWUpIHtcbiAgICB0aW1lID0gTWF0aC5tYXgodGltZSwgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUpO1xuICAgIHJldHVybiB0aW1lICsgdGhpcy50cmlnZ2VyKHRpbWUpO1xuICB9XG5cbiAgLy8gVGltZUVuZ2luZSBtZXRob2QgKHRyYW5zcG9ydGVkIGludGVyZmFjZSlcbiAgc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuc2VnbWVudEluZGV4O1xuICAgIHZhciBjeWNsaWNPZmZzZXQgPSAwO1xuICAgIHZhciBidWZmZXJEdXJhdGlvbiA9IHRoaXMuYnVmZmVyRHVyYXRpb247XG5cbiAgICBpZiAodGhpcy5jeWNsaWMpIHtcbiAgICAgIHZhciBjeWNsZXMgPSBwb3NpdGlvbiAvIGJ1ZmZlckR1cmF0aW9uO1xuXG4gICAgICBjeWNsaWNPZmZzZXQgPSBNYXRoLmZsb29yKGN5Y2xlcykgKiBidWZmZXJEdXJhdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IGN5Y2xpY09mZnNldDtcbiAgICB9XG5cbiAgICBpZiAoc3BlZWQgPiAwKSB7XG4gICAgICBpbmRleCA9IGdldEN1cnJlbnRPck5leHRJbmRleCh0aGlzLnBvc2l0aW9uQXJyYXksIHBvc2l0aW9uKTtcblxuICAgICAgaWYgKGluZGV4ID49IHRoaXMucG9zaXRpb25BcnJheS5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICBjeWNsaWNPZmZzZXQgKz0gYnVmZmVyRHVyYXRpb247XG5cbiAgICAgICAgaWYgKCF0aGlzLmN5Y2xpYylcbiAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzcGVlZCA8IDApIHtcbiAgICAgIGluZGV4ID0gZ2V0Q3VycmVudE9yUHJldmlvdXNJbmRleCh0aGlzLnBvc2l0aW9uQXJyYXksIHBvc2l0aW9uKTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IHRoaXMucG9zaXRpb25BcnJheS5sZW5ndGggLSAxO1xuICAgICAgICBjeWNsaWNPZmZzZXQgLT0gYnVmZmVyRHVyYXRpb247XG5cbiAgICAgICAgaWYgKCF0aGlzLmN5Y2xpYylcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWdtZW50SW5kZXggPSBpbmRleDtcbiAgICB0aGlzLl9fY3ljbGljT2Zmc2V0ID0gY3ljbGljT2Zmc2V0O1xuXG4gICAgcmV0dXJuIGN5Y2xpY09mZnNldCArIHRoaXMucG9zaXRpb25BcnJheVtpbmRleF07XG4gIH1cblxuICAvLyBUaW1lRW5naW5lIG1ldGhvZCAodHJhbnNwb3J0ZWQgaW50ZXJmYWNlKVxuICBhZHZhbmNlUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5zZWdtZW50SW5kZXg7XG4gICAgdmFyIGN5Y2xpY09mZnNldCA9IHRoaXMuX19jeWNsaWNPZmZzZXQ7XG5cbiAgICB0aGlzLnRyaWdnZXIodGltZSk7XG5cbiAgICBpZiAoc3BlZWQgPiAwKSB7XG4gICAgICBpbmRleCsrO1xuXG4gICAgICBpZiAoaW5kZXggPj0gdGhpcy5wb3NpdGlvbkFycmF5Lmxlbmd0aCkge1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIGN5Y2xpY09mZnNldCArPSB0aGlzLmJ1ZmZlckR1cmF0aW9uO1xuXG4gICAgICAgIGlmICghdGhpcy5jeWNsaWMpXG4gICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmRleC0tO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gdGhpcy5wb3NpdGlvbkFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICAgIGN5Y2xpY09mZnNldCAtPSB0aGlzLmJ1ZmZlckR1cmF0aW9uO1xuXG4gICAgICAgIGlmICghdGhpcy5jeWNsaWMpXG4gICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNlZ21lbnRJbmRleCA9IGluZGV4O1xuICAgIHRoaXMuX19jeWNsaWNPZmZzZXQgPSBjeWNsaWNPZmZzZXQ7XG5cbiAgICByZXR1cm4gY3ljbGljT2Zmc2V0ICsgdGhpcy5wb3NpdGlvbkFycmF5W2luZGV4XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGEgc2VnbWVudC5cbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGF0IGFueSB0aW1lICh3aGV0aGVyIHRoZSBlbmdpbmUgaXMgc2NoZWR1bGVkL3RyYW5zcG9ydGVkIG9yIG5vdClcbiAgICogdG8gZ2VuZXJhdGUgYSBzaW5nbGUgc2VnbWVudCBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgc2VnbWVudCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSBzZWdtZW50IHN5bnRoZXNpcyBhdWRpbyB0aW1lXG4gICAqIEByZXR1cm4ge051bWJlcn0gcGVyaW9kIHRvIG5leHQgc2VnbWVudFxuICAgKi9cbiAgdHJpZ2dlcih0aW1lKSB7XG4gICAgdmFyIGF1ZGlvQ29udGV4dCA9IHRoaXMuYXVkaW9Db250ZXh0O1xuICAgIHZhciBzZWdtZW50VGltZSA9ICh0aW1lIHx8IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSkgKyB0aGlzLmRlbGF5O1xuICAgIHZhciBzZWdtZW50UGVyaW9kID0gdGhpcy5wZXJpb2RBYnM7XG4gICAgdmFyIHNlZ21lbnRJbmRleCA9IHRoaXMuc2VnbWVudEluZGV4O1xuXG4gICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICB2YXIgc2VnbWVudFBvc2l0aW9uID0gMC4wO1xuICAgICAgdmFyIHNlZ21lbnREdXJhdGlvbiA9IDAuMDtcbiAgICAgIHZhciBzZWdtZW50T2Zmc2V0ID0gMC4wO1xuICAgICAgdmFyIHJlc2FtcGxpbmdSYXRlID0gMS4wO1xuICAgICAgdmFyIGJ1ZmZlckR1cmF0aW9uID0gdGhpcy5idWZmZXJEdXJhdGlvbjtcblxuICAgICAgaWYgKHRoaXMuY3ljbGljKVxuICAgICAgICBzZWdtZW50SW5kZXggPSBzZWdtZW50SW5kZXggJSB0aGlzLnBvc2l0aW9uQXJyYXkubGVuZ3RoO1xuICAgICAgZWxzZVxuICAgICAgICBzZWdtZW50SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzZWdtZW50SW5kZXgsIHRoaXMucG9zaXRpb25BcnJheS5sZW5ndGggLSAxKSk7XG5cbiAgICAgIGlmICh0aGlzLnBvc2l0aW9uQXJyYXkpXG4gICAgICAgIHNlZ21lbnRQb3NpdGlvbiA9IHRoaXMucG9zaXRpb25BcnJheVtzZWdtZW50SW5kZXhdIHx8IDA7XG5cbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uQXJyYXkpXG4gICAgICAgIHNlZ21lbnREdXJhdGlvbiA9IHRoaXMuZHVyYXRpb25BcnJheVtzZWdtZW50SW5kZXhdIHx8IDA7XG5cbiAgICAgIGlmICh0aGlzLm9mZnNldEFycmF5KVxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gdGhpcy5vZmZzZXRBcnJheVtzZWdtZW50SW5kZXhdIHx8IDA7XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSByZXNhbXBsaW5nXG4gICAgICBpZiAodGhpcy5yZXNhbXBsaW5nICE9PSAwIHx8IHRoaXMucmVzYW1wbGluZ1ZhciA+IDApIHtcbiAgICAgICAgdmFyIHJhbmRvbVJlc2FtcGxpbmcgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyLjAgKiB0aGlzLnJlc2FtcGxpbmdWYXI7XG4gICAgICAgIHJlc2FtcGxpbmdSYXRlID0gTWF0aC5wb3coMi4wLCAodGhpcy5yZXNhbXBsaW5nICsgcmFuZG9tUmVzYW1wbGluZykgLyAxMjAwLjApO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxjdWxhdGUgaW50ZXItc2VnbWVudCBkaXN0YW5jZVxuICAgICAgaWYgKHNlZ21lbnREdXJhdGlvbiA9PT0gMCB8fCB0aGlzLnBlcmlvZFJlbCA+IDApIHtcbiAgICAgICAgdmFyIG5leHRTZWdtZW50SW5kZXggPSBzZWdtZW50SW5kZXggKyAxO1xuICAgICAgICB2YXIgbmV4dFBvc2l0aW9uLCBuZXh0T2Zmc2V0O1xuXG4gICAgICAgIGlmIChuZXh0U2VnbWVudEluZGV4ID09PSB0aGlzLnBvc2l0aW9uQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY3ljbGljKSB7XG4gICAgICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uQXJyYXlbMF0gKyBidWZmZXJEdXJhdGlvbjtcbiAgICAgICAgICAgIG5leHRPZmZzZXQgPSB0aGlzLm9mZnNldEFycmF5WzBdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0UG9zaXRpb24gPSBidWZmZXJEdXJhdGlvbjtcbiAgICAgICAgICAgIG5leHRPZmZzZXQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uQXJyYXlbbmV4dFNlZ21lbnRJbmRleF07XG4gICAgICAgICAgbmV4dE9mZnNldCA9IHRoaXMub2Zmc2V0QXJyYXlbbmV4dFNlZ21lbnRJbmRleF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW50ZXJTZWdtZW50RGlzdGFuY2UgPSBuZXh0UG9zaXRpb24gLSBzZWdtZW50UG9zaXRpb247XG5cbiAgICAgICAgLy8gY29ycmVjdCBpbnRlci1zZWdtZW50IGRpc3RhbmNlIGJ5IG9mZnNldHNcbiAgICAgICAgLy8gICBvZmZzZXQgPiAwOiB0aGUgc2VnbWVudCdzIHJlZmVyZW5jZSBwb3NpdGlvbiBpcyBhZnRlciB0aGUgZ2l2ZW4gc2VnbWVudCBwb3NpdGlvblxuICAgICAgICBpZiAoc2VnbWVudE9mZnNldCA+IDApXG4gICAgICAgICAgaW50ZXJTZWdtZW50RGlzdGFuY2UgLT0gc2VnbWVudE9mZnNldDtcblxuICAgICAgICBpZiAobmV4dE9mZnNldCA+IDApXG4gICAgICAgICAgaW50ZXJTZWdtZW50RGlzdGFuY2UgKz0gbmV4dE9mZnNldDtcblxuICAgICAgICBpZiAoaW50ZXJTZWdtZW50RGlzdGFuY2UgPCAwKVxuICAgICAgICAgIGludGVyU2VnbWVudERpc3RhbmNlID0gMDtcblxuICAgICAgICAvLyB1c2UgaW50ZXItc2VnbWVudCBkaXN0YW5jZSBpbnN0ZWFkIG9mIHNlZ21lbnQgZHVyYXRpb25cbiAgICAgICAgaWYgKHNlZ21lbnREdXJhdGlvbiA9PT0gMClcbiAgICAgICAgICBzZWdtZW50RHVyYXRpb24gPSBpbnRlclNlZ21lbnREaXN0YW5jZTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgcGVyaW9kIHJlbGF0aXZlIHRvIGludGVyIG1hcmtlciBkaXN0YW5jZVxuICAgICAgICBzZWdtZW50UGVyaW9kICs9IHRoaXMucGVyaW9kUmVsICogaW50ZXJTZWdtZW50RGlzdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgc2VnbWVudCBkdXJhdGlvblxuICAgICAgc2VnbWVudER1cmF0aW9uICo9IHRoaXMuZHVyYXRpb25SZWw7XG4gICAgICBzZWdtZW50RHVyYXRpb24gKz0gdGhpcy5kdXJhdGlvbkFicztcblxuICAgICAgLy8gYWRkIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBzZWdtZW50IG9mZnNldFxuICAgICAgc2VnbWVudE9mZnNldCAqPSB0aGlzLm9mZnNldFJlbDtcbiAgICAgIHNlZ21lbnRPZmZzZXQgKz0gdGhpcy5vZmZzZXRBYnM7XG5cbiAgICAgIC8vIGFwcGx5IHNlZ21lbnQgb2Zmc2V0XG4gICAgICAvLyAgIG9mZnNldCA+IDA6IHRoZSBzZWdtZW50J3MgcmVmZXJlbmNlIHBvc2l0aW9uIGlzIGFmdGVyIHRoZSBnaXZlbiBzZWdtZW50IHBvc2l0aW9uXG4gICAgICAvLyAgIG9mZnNldCA8IDA6IHRoZSBnaXZlbiBzZWdtZW50IHBvc2l0aW9uIGlzIHRoZSBzZWdtZW50J3MgcmVmZXJlbmNlIHBvc2l0aW9uIGFuZCB0aGUgZHVyYXRpb24gaGFzIHRvIGJlIGNvcnJlY3RlZCBieSB0aGUgb2Zmc2V0XG4gICAgICBpZiAoc2VnbWVudE9mZnNldCA8IDApIHtcbiAgICAgICAgc2VnbWVudER1cmF0aW9uIC09IHNlZ21lbnRPZmZzZXQ7XG4gICAgICAgIHNlZ21lbnRQb3NpdGlvbiArPSBzZWdtZW50T2Zmc2V0O1xuICAgICAgICBzZWdtZW50VGltZSArPSAoc2VnbWVudE9mZnNldCAvIHJlc2FtcGxpbmdSYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlZ21lbnRUaW1lIC09IChzZWdtZW50T2Zmc2V0IC8gcmVzYW1wbGluZ1JhdGUpO1xuICAgICAgfVxuXG4gICAgICAvLyByYW5kb21pemUgc2VnbWVudCBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMucG9zaXRpb25WYXIgPiAwKVxuICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMi4wICogKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdGhpcy5wb3NpdGlvblZhcjtcblxuICAgICAgLy8gc2hvcnRlbiBkdXJhdGlvbiBvZiBzZWdtZW50cyBvdmVyIHRoZSBlZGdlcyBvZiB0aGUgYnVmZmVyXG4gICAgICBpZiAoc2VnbWVudFBvc2l0aW9uIDwgMCkge1xuICAgICAgICAvL3NlZ21lbnRUaW1lIC09IGdyYWluUG9zaXRpb247IGhtLCBub3Qgc3VyZSBpZiB3ZSB3YW50IHRvIGRvIHRoaXNcbiAgICAgICAgc2VnbWVudER1cmF0aW9uICs9IHNlZ21lbnRQb3NpdGlvbjtcbiAgICAgICAgc2VnbWVudFBvc2l0aW9uID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlZ21lbnRQb3NpdGlvbiArIHNlZ21lbnREdXJhdGlvbiA+IHRoaXMuYnVmZmVyLmR1cmF0aW9uKVxuICAgICAgICBzZWdtZW50RHVyYXRpb24gPSB0aGlzLmJ1ZmZlci5kdXJhdGlvbiAtIHNlZ21lbnRQb3NpdGlvbjtcblxuICAgICAgc2VnbWVudER1cmF0aW9uIC89IHJlc2FtcGxpbmdSYXRlO1xuXG4gICAgICBpZiAodGhpcy5tb25vcGhvbmljKVxuICAgICAgICB0aGlzLmFib3J0KHNlZ21lbnRUaW1lKTtcblxuICAgICAgLy8gbWFrZSBzZWdtZW50XG4gICAgICBpZiAodGhpcy5nYWluID4gMCAmJiBzZWdtZW50RHVyYXRpb24gPiAwKSB7XG4gICAgICAgIC8vIG1ha2Ugc2VnbWVudCBlbnZlbG9wZVxuICAgICAgICB2YXIgZW52ZWxvcGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICB2YXIgYXR0YWNrID0gdGhpcy5hdHRhY2tBYnMgKyB0aGlzLmF0dGFja1JlbCAqIHNlZ21lbnREdXJhdGlvbjtcbiAgICAgICAgdmFyIHJlbGVhc2UgPSB0aGlzLnJlbGVhc2VBYnMgKyB0aGlzLnJlbGVhc2VSZWwgKiBzZWdtZW50RHVyYXRpb247XG5cbiAgICAgICAgaWYgKGF0dGFjayArIHJlbGVhc2UgPiBzZWdtZW50RHVyYXRpb24pIHtcbiAgICAgICAgICB2YXIgZmFjdG9yID0gc2VnbWVudER1cmF0aW9uIC8gKGF0dGFjayArIHJlbGVhc2UpO1xuICAgICAgICAgIGF0dGFjayAqPSBmYWN0b3I7XG4gICAgICAgICAgcmVsZWFzZSAqPSBmYWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXR0YWNrRW5kVGltZSA9IHNlZ21lbnRUaW1lICsgYXR0YWNrO1xuICAgICAgICB2YXIgc2VnbWVudEVuZFRpbWUgPSBzZWdtZW50VGltZSArIHNlZ21lbnREdXJhdGlvbjtcbiAgICAgICAgdmFyIHJlbGVhc2VTdGFydFRpbWUgPSBzZWdtZW50RW5kVGltZSAtIHJlbGVhc2U7XG5cbiAgICAgICAgZW52ZWxvcGUuZ2Fpbi52YWx1ZSA9IDA7XG4gICAgICAgIGVudmVsb3BlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMC4wLCBzZWdtZW50VGltZSk7XG4gICAgICAgIGVudmVsb3BlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy5nYWluLCBhdHRhY2tFbmRUaW1lKTtcblxuICAgICAgICBpZiAocmVsZWFzZVN0YXJ0VGltZSA+IGF0dGFja0VuZFRpbWUpXG4gICAgICAgICAgZW52ZWxvcGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0aGlzLmdhaW4sIHJlbGVhc2VTdGFydFRpbWUpO1xuXG4gICAgICAgIGVudmVsb3BlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMC4wLCBzZWdtZW50RW5kVGltZSk7XG4gICAgICAgIGVudmVsb3BlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKTtcblxuICAgICAgICB0aGlzLl9fY3VycmVudEVudiA9IGVudmVsb3BlO1xuXG4gICAgICAgIC8vIG1ha2Ugc291cmNlXG4gICAgICAgIHZhciBzb3VyY2UgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG5cbiAgICAgICAgc291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBzb3VyY2UucGxheWJhY2tSYXRlLnZhbHVlID0gcmVzYW1wbGluZ1JhdGU7XG4gICAgICAgIHNvdXJjZS5jb25uZWN0KGVudmVsb3BlKTtcblxuICAgICAgICBzb3VyY2Uuc3RhcnQoc2VnbWVudFRpbWUsIHNlZ21lbnRQb3NpdGlvbik7XG4gICAgICAgIHNvdXJjZS5zdG9wKHNlZ21lbnRUaW1lICsgc2VnbWVudER1cmF0aW9uKTtcblxuICAgICAgICB0aGlzLl9fY3VycmVudFNyYyA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5fX3JlbGVhc2VTdGFydFRpbWUgPSByZWxlYXNlU3RhcnRUaW1lO1xuICAgICAgICB0aGlzLl9fY3VycmVudEdhaW4gPSB0aGlzLmdhaW47XG4gICAgICAgIHRoaXMuX19jdXJyZW50RW5kVGltZSA9IHNlZ21lbnRFbmRUaW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNlZ21lbnQgcGVyaW9kIHJhbmRvbiB2YXJpYXRpb25cbiAgICBpZiAodGhpcy5wZXJpb2RWYXIgPiAwLjApXG4gICAgICBzZWdtZW50UGVyaW9kICs9IDIuMCAqIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHRoaXMucGVyaW9kVmFyICogc2VnbWVudFBlcmlvZDtcblxuICAgIHJldHVybiBNYXRoLm1heCh0aGlzLnBlcmlvZE1pbiwgc2VnbWVudFBlcmlvZCk7XG4gIH1cblxuICAvKipcbiAgICogQWJvcnQgdGhlIGN1cnJlbnQgc2VnbWVudCBhdCBnaXZlbiB0aW1lLCBmYWRlIG91dCBkdXJhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSAtIGFib3J0IHRpbWVcbiAgICovXG4gIGFib3J0KHRpbWUpIHtcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLmF1ZGlvQ29udGV4dDtcbiAgICBjb25zdCBlbmRUaW1lID0gdGhpcy5fX2N1cnJlbnRFbmRUaW1lO1xuICAgIGNvbnN0IGFib3J0VGltZSA9IHRpbWUgfHwgYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuXG4gICAgaWYgKGFib3J0VGltZSA8IGVuZFRpbWUpIHtcbiAgICAgIGNvbnN0IHNlZ21lbnRFbmRUaW1lID0gTWF0aC5taW4oYWJvcnRUaW1lICsgdGhpcy5hYm9ydFRpbWUsIGVuZFRpbWUpO1xuICAgICAgY29uc3QgZW52ZWxvcGUgPSB0aGlzLl9fY3VycmVudEVudjtcbiAgICAgIGxldCBjdXJyZW50R2FpblZhbHVlID0gdGhpcy5fX2N1cnJlbnRHYWluO1xuXG4gICAgICBpZiAoYWJvcnRUaW1lID4gdGhpcy5fX3JlbGVhc2VTdGFydFRpbWUpIHtcbiAgICAgICAgY29uc3QgcmVsZWFzZVN0YXJ0ID0gdGhpcy5fX3JlbGVhc2VTdGFydFRpbWU7XG4gICAgICAgIGN1cnJlbnRHYWluVmFsdWUgKj0gKGFib3J0VGltZSAtIHJlbGVhc2VTdGFydCkgLyAoZW5kVGltZSAtIHJlbGVhc2VTdGFydCk7XG4gICAgICB9XG5cbiAgICAgIGVudmVsb3BlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGFib3J0VGltZSk7XG4gICAgICBlbnZlbG9wZS5nYWluLnNldFZhbHVlQXRUaW1lKGN1cnJlbnRHYWluVmFsdWUsIGFib3J0VGltZSk7XG4gICAgICBlbnZlbG9wZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHNlZ21lbnRFbmRUaW1lKTtcblxuICAgICAgdGhpcy5fX2N1cnJlbnRTcmMgPSBudWxsO1xuICAgICAgdGhpcy5fX2N1cnJlbnRFbnYgPSBudWxsO1xuICAgICAgdGhpcy5fX3JlbGVhc2VTdGFydFRpbWUgPSAwO1xuICAgICAgdGhpcy5fX2N1cnJlbnRHYWluID0gMDtcbiAgICAgIHRoaXMuX19jdXJyZW50RW5kVGltZSA9IDA7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlZ21lbnRFbmdpbmU7XG4iXX0=","deps":{"../core/AudioTimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/viewManager.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/viewManager.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('soundworks:viewManager');\nvar viewInfosMap = new _map2.default();\n\nvar $container = null;\n\n/**\n * Handle activities' (services and scenes) views according to their priorities.\n */\nvar viewManager = {\n  _timeoutId: null,\n\n  _visibleView: null,\n\n  /**\n   * Sets the container of the views for all `Activity` instances. Is called by\n   * {@link src/client/core/client.js~client}) during application bootstrap.\n   * @param {Element} $el - The element to use as a container for the view.\n   * @private\n   */\n  setAppContainer: function setAppContainer($el) {\n    $container = $el;\n  },\n\n\n  /**\n   * Register a view into the stack of views to display. The fact that the view is\n   * actually displayed is defined by its priority and activities lifecycle.\n   * @param {View} view - A view to add to the stack.\n   */\n  register: function register(view, priority) {\n    var _this = this;\n\n    log('register - id: \"' + view.options.id + '\" - priority: ' + priority);\n\n    var infos = {};\n    infos.$el = view.render();\n    infos.priority = priority;\n    var promise = new _promise2.default(function (resolve, reject) {\n      return infos.promise = resolve;\n    });\n\n    viewInfosMap.set(view, infos);\n\n    // trigger `_updateView` only once when several view are registered at once.\n    clearTimeout(this._timeoutId);\n    this._timeoutId = setTimeout(function () {\n      return _this._updateView();\n    }, 0);\n\n    return promise;\n  },\n\n\n  /**\n   * Remove view from the stack of views to display.\n   * @param {View} view - A view to remove from the stack.\n   */\n  remove: function remove(view) {\n    var _this2 = this;\n\n    log('remove - id: \"' + view.options.id + '\"');\n\n    // clean dictionnary\n    viewInfosMap.delete(view);\n\n    if (this._visibleView === view) {\n      this._visibleView.remove();\n      this._visibleView = null;\n    }\n\n    clearTimeout(this._timeoutId);\n    this._timeoutId = setTimeout(function () {\n      return _this2._updateView();\n    }, 0);\n  },\n\n\n  /**\n   * Defines whether the view should be updated according to defined priorities.\n   * @private\n   */\n  _updateView: function _updateView() {\n    var visibleView = this._visibleView;\n    var nextViewPriority = -Infinity;\n    var nextView = null;\n\n    viewInfosMap.forEach(function (infos, view) {\n      if (infos.priority > nextViewPriority) {\n        nextViewPriority = infos.priority;\n        nextView = view;\n      }\n    });\n\n    if (nextView) {\n      log('update view - next: \"' + nextView.options.id + '\"');\n\n      if (visibleView === null) {\n        $container.appendChild(viewInfosMap.get(nextView).$el);\n        nextView.show();\n        // resolve the promise created when the view were registered\n        viewInfosMap.get(nextView).promise();\n        this._visibleView = nextView;\n      } else {\n        var visibleViewPriority = viewInfosMap.get(this._visibleView).priority;\n\n        if (visibleViewPriority < nextViewPriority) {\n          visibleView.remove(); // hide but keep in stack\n\n          $container.appendChild(viewInfosMap.get(nextView).$el);\n          nextView.show();\n\n          viewInfosMap.get(nextView).promise();\n          this._visibleView = nextView;\n        }\n      }\n    }\n  }\n};\n\nexports.default = viewManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXdNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbImxvZyIsInZpZXdJbmZvc01hcCIsIiRjb250YWluZXIiLCJ2aWV3TWFuYWdlciIsIl90aW1lb3V0SWQiLCJfdmlzaWJsZVZpZXciLCJzZXRBcHBDb250YWluZXIiLCIkZWwiLCJyZWdpc3RlciIsInZpZXciLCJwcmlvcml0eSIsIm9wdGlvbnMiLCJpZCIsImluZm9zIiwicmVuZGVyIiwicHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiX3VwZGF0ZVZpZXciLCJyZW1vdmUiLCJkZWxldGUiLCJ2aXNpYmxlVmlldyIsIm5leHRWaWV3UHJpb3JpdHkiLCJJbmZpbml0eSIsIm5leHRWaWV3IiwiZm9yRWFjaCIsImFwcGVuZENoaWxkIiwiZ2V0Iiwic2hvdyIsInZpc2libGVWaWV3UHJpb3JpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLE1BQU0scUJBQU0sd0JBQU4sQ0FBWjtBQUNBLElBQU1DLGVBQWUsbUJBQXJCOztBQUVBLElBQUlDLGFBQWEsSUFBakI7O0FBRUE7OztBQUdBLElBQU1DLGNBQWM7QUFDbEJDLGNBQVksSUFETTs7QUFHbEJDLGdCQUFjLElBSEk7O0FBS2xCOzs7Ozs7QUFNQUMsaUJBWGtCLDJCQVdGQyxHQVhFLEVBV0c7QUFDbkJMLGlCQUFhSyxHQUFiO0FBQ0QsR0FiaUI7OztBQWVsQjs7Ozs7QUFLQUMsVUFwQmtCLG9CQW9CVEMsSUFwQlMsRUFvQkhDLFFBcEJHLEVBb0JPO0FBQUE7O0FBQ3ZCViw2QkFBdUJTLEtBQUtFLE9BQUwsQ0FBYUMsRUFBcEMsc0JBQXVERixRQUF2RDs7QUFFQSxRQUFNRyxRQUFRLEVBQWQ7QUFDQUEsVUFBTU4sR0FBTixHQUFZRSxLQUFLSyxNQUFMLEVBQVo7QUFDQUQsVUFBTUgsUUFBTixHQUFpQkEsUUFBakI7QUFDQSxRQUFNSyxVQUFVLHNCQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVjtBQUFBLGFBQXFCSixNQUFNRSxPQUFOLEdBQWdCQyxPQUFyQztBQUFBLEtBQVosQ0FBaEI7O0FBRUFmLGlCQUFhaUIsR0FBYixDQUFpQlQsSUFBakIsRUFBdUJJLEtBQXZCOztBQUVBO0FBQ0FNLGlCQUFhLEtBQUtmLFVBQWxCO0FBQ0EsU0FBS0EsVUFBTCxHQUFrQmdCLFdBQVc7QUFBQSxhQUFNLE1BQUtDLFdBQUwsRUFBTjtBQUFBLEtBQVgsRUFBcUMsQ0FBckMsQ0FBbEI7O0FBRUEsV0FBT04sT0FBUDtBQUNELEdBbkNpQjs7O0FBcUNsQjs7OztBQUlBTyxRQXpDa0Isa0JBeUNYYixJQXpDVyxFQXlDTDtBQUFBOztBQUNYVCwyQkFBcUJTLEtBQUtFLE9BQUwsQ0FBYUMsRUFBbEM7O0FBRUE7QUFDQVgsaUJBQWFzQixNQUFiLENBQW9CZCxJQUFwQjs7QUFFQSxRQUFJLEtBQUtKLFlBQUwsS0FBc0JJLElBQTFCLEVBQWdDO0FBQzlCLFdBQUtKLFlBQUwsQ0FBa0JpQixNQUFsQjtBQUNBLFdBQUtqQixZQUFMLEdBQW9CLElBQXBCO0FBQ0Q7O0FBRURjLGlCQUFhLEtBQUtmLFVBQWxCO0FBQ0EsU0FBS0EsVUFBTCxHQUFrQmdCLFdBQVc7QUFBQSxhQUFNLE9BQUtDLFdBQUwsRUFBTjtBQUFBLEtBQVgsRUFBcUMsQ0FBckMsQ0FBbEI7QUFDRCxHQXREaUI7OztBQXdEbEI7Ozs7QUFJQUEsYUE1RGtCLHlCQTRESjtBQUNaLFFBQU1HLGNBQWMsS0FBS25CLFlBQXpCO0FBQ0EsUUFBSW9CLG1CQUFtQixDQUFDQyxRQUF4QjtBQUNBLFFBQUlDLFdBQVcsSUFBZjs7QUFFQTFCLGlCQUFhMkIsT0FBYixDQUFxQixVQUFDZixLQUFELEVBQVFKLElBQVIsRUFBaUI7QUFDcEMsVUFBSUksTUFBTUgsUUFBTixHQUFpQmUsZ0JBQXJCLEVBQXVDO0FBQ3JDQSwyQkFBbUJaLE1BQU1ILFFBQXpCO0FBQ0FpQixtQkFBV2xCLElBQVg7QUFDRDtBQUNGLEtBTEQ7O0FBT0EsUUFBSWtCLFFBQUosRUFBYztBQUNaM0Isb0NBQTRCMkIsU0FBU2hCLE9BQVQsQ0FBaUJDLEVBQTdDOztBQUVBLFVBQUlZLGdCQUFnQixJQUFwQixFQUEwQjtBQUN4QnRCLG1CQUFXMkIsV0FBWCxDQUF1QjVCLGFBQWE2QixHQUFiLENBQWlCSCxRQUFqQixFQUEyQnBCLEdBQWxEO0FBQ0FvQixpQkFBU0ksSUFBVDtBQUNBO0FBQ0E5QixxQkFBYTZCLEdBQWIsQ0FBaUJILFFBQWpCLEVBQTJCWixPQUEzQjtBQUNBLGFBQUtWLFlBQUwsR0FBb0JzQixRQUFwQjtBQUNELE9BTkQsTUFNTztBQUNMLFlBQU1LLHNCQUFzQi9CLGFBQWE2QixHQUFiLENBQWlCLEtBQUt6QixZQUF0QixFQUFvQ0ssUUFBaEU7O0FBRUEsWUFBSXNCLHNCQUFzQlAsZ0JBQTFCLEVBQTRDO0FBQzFDRCxzQkFBWUYsTUFBWixHQUQwQyxDQUNwQjs7QUFFdEJwQixxQkFBVzJCLFdBQVgsQ0FBdUI1QixhQUFhNkIsR0FBYixDQUFpQkgsUUFBakIsRUFBMkJwQixHQUFsRDtBQUNBb0IsbUJBQVNJLElBQVQ7O0FBRUE5Qix1QkFBYTZCLEdBQWIsQ0FBaUJILFFBQWpCLEVBQTJCWixPQUEzQjtBQUNBLGVBQUtWLFlBQUwsR0FBb0JzQixRQUFwQjtBQUNEO0FBQ0Y7QUFDRjtBQUNGO0FBL0ZpQixDQUFwQjs7a0JBa0dleEIsVyIsImZpbGUiOiJ2aWV3TWFuYWdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKCdzb3VuZHdvcmtzOnZpZXdNYW5hZ2VyJyk7XG5jb25zdCB2aWV3SW5mb3NNYXAgPSBuZXcgTWFwKCk7XG5cbmxldCAkY29udGFpbmVyID0gbnVsbDtcblxuLyoqXG4gKiBIYW5kbGUgYWN0aXZpdGllcycgKHNlcnZpY2VzIGFuZCBzY2VuZXMpIHZpZXdzIGFjY29yZGluZyB0byB0aGVpciBwcmlvcml0aWVzLlxuICovXG5jb25zdCB2aWV3TWFuYWdlciA9IHtcbiAgX3RpbWVvdXRJZDogbnVsbCxcblxuICBfdmlzaWJsZVZpZXc6IG51bGwsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbnRhaW5lciBvZiB0aGUgdmlld3MgZm9yIGFsbCBgQWN0aXZpdHlgIGluc3RhbmNlcy4gSXMgY2FsbGVkIGJ5XG4gICAqIHtAbGluayBzcmMvY2xpZW50L2NvcmUvY2xpZW50LmpzfmNsaWVudH0pIGR1cmluZyBhcHBsaWNhdGlvbiBib290c3RyYXAuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gJGVsIC0gVGhlIGVsZW1lbnQgdG8gdXNlIGFzIGEgY29udGFpbmVyIGZvciB0aGUgdmlldy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEFwcENvbnRhaW5lcigkZWwpIHtcbiAgICAkY29udGFpbmVyID0gJGVsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIHZpZXcgaW50byB0aGUgc3RhY2sgb2Ygdmlld3MgdG8gZGlzcGxheS4gVGhlIGZhY3QgdGhhdCB0aGUgdmlldyBpc1xuICAgKiBhY3R1YWxseSBkaXNwbGF5ZWQgaXMgZGVmaW5lZCBieSBpdHMgcHJpb3JpdHkgYW5kIGFjdGl2aXRpZXMgbGlmZWN5Y2xlLlxuICAgKiBAcGFyYW0ge1ZpZXd9IHZpZXcgLSBBIHZpZXcgdG8gYWRkIHRvIHRoZSBzdGFjay5cbiAgICovXG4gIHJlZ2lzdGVyKHZpZXcsIHByaW9yaXR5KSB7XG4gICAgbG9nKGByZWdpc3RlciAtIGlkOiBcIiR7dmlldy5vcHRpb25zLmlkfVwiIC0gcHJpb3JpdHk6ICR7cHJpb3JpdHl9YCk7XG5cbiAgICBjb25zdCBpbmZvcyA9IHt9O1xuICAgIGluZm9zLiRlbCA9IHZpZXcucmVuZGVyKCk7XG4gICAgaW5mb3MucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gaW5mb3MucHJvbWlzZSA9IHJlc29sdmUpO1xuXG4gICAgdmlld0luZm9zTWFwLnNldCh2aWV3LCBpbmZvcyk7XG5cbiAgICAvLyB0cmlnZ2VyIGBfdXBkYXRlVmlld2Agb25seSBvbmNlIHdoZW4gc2V2ZXJhbCB2aWV3IGFyZSByZWdpc3RlcmVkIGF0IG9uY2UuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgdGhpcy5fdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLl91cGRhdGVWaWV3KCksIDApO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSB2aWV3IGZyb20gdGhlIHN0YWNrIG9mIHZpZXdzIHRvIGRpc3BsYXkuXG4gICAqIEBwYXJhbSB7Vmlld30gdmlldyAtIEEgdmlldyB0byByZW1vdmUgZnJvbSB0aGUgc3RhY2suXG4gICAqL1xuICByZW1vdmUodmlldykge1xuICAgIGxvZyhgcmVtb3ZlIC0gaWQ6IFwiJHt2aWV3Lm9wdGlvbnMuaWR9XCJgKTtcblxuICAgIC8vIGNsZWFuIGRpY3Rpb25uYXJ5XG4gICAgdmlld0luZm9zTWFwLmRlbGV0ZSh2aWV3KTtcblxuICAgIGlmICh0aGlzLl92aXNpYmxlVmlldyA9PT0gdmlldykge1xuICAgICAgdGhpcy5fdmlzaWJsZVZpZXcucmVtb3ZlKCk7XG4gICAgICB0aGlzLl92aXNpYmxlVmlldyA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgdGhpcy5fdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLl91cGRhdGVWaWV3KCksIDApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIHZpZXcgc2hvdWxkIGJlIHVwZGF0ZWQgYWNjb3JkaW5nIHRvIGRlZmluZWQgcHJpb3JpdGllcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVWaWV3KCkge1xuICAgIGNvbnN0IHZpc2libGVWaWV3ID0gdGhpcy5fdmlzaWJsZVZpZXc7XG4gICAgbGV0IG5leHRWaWV3UHJpb3JpdHkgPSAtSW5maW5pdHk7XG4gICAgbGV0IG5leHRWaWV3ID0gbnVsbDtcblxuICAgIHZpZXdJbmZvc01hcC5mb3JFYWNoKChpbmZvcywgdmlldykgPT4ge1xuICAgICAgaWYgKGluZm9zLnByaW9yaXR5ID4gbmV4dFZpZXdQcmlvcml0eSkge1xuICAgICAgICBuZXh0Vmlld1ByaW9yaXR5ID0gaW5mb3MucHJpb3JpdHk7XG4gICAgICAgIG5leHRWaWV3ID0gdmlldztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChuZXh0Vmlldykge1xuICAgICAgbG9nKGB1cGRhdGUgdmlldyAtIG5leHQ6IFwiJHtuZXh0Vmlldy5vcHRpb25zLmlkfVwiYCk7XG5cbiAgICAgIGlmICh2aXNpYmxlVmlldyA9PT0gbnVsbCkge1xuICAgICAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZXdJbmZvc01hcC5nZXQobmV4dFZpZXcpLiRlbCk7XG4gICAgICAgIG5leHRWaWV3LnNob3coKTtcbiAgICAgICAgLy8gcmVzb2x2ZSB0aGUgcHJvbWlzZSBjcmVhdGVkIHdoZW4gdGhlIHZpZXcgd2VyZSByZWdpc3RlcmVkXG4gICAgICAgIHZpZXdJbmZvc01hcC5nZXQobmV4dFZpZXcpLnByb21pc2UoKTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZVZpZXcgPSBuZXh0VmlldztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZpc2libGVWaWV3UHJpb3JpdHkgPSB2aWV3SW5mb3NNYXAuZ2V0KHRoaXMuX3Zpc2libGVWaWV3KS5wcmlvcml0eTtcblxuICAgICAgICBpZiAodmlzaWJsZVZpZXdQcmlvcml0eSA8IG5leHRWaWV3UHJpb3JpdHkpIHtcbiAgICAgICAgICB2aXNpYmxlVmlldy5yZW1vdmUoKTsgLy8gaGlkZSBidXQga2VlcCBpbiBzdGFja1xuXG4gICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWV3SW5mb3NNYXAuZ2V0KG5leHRWaWV3KS4kZWwpO1xuICAgICAgICAgIG5leHRWaWV3LnNob3coKTtcblxuICAgICAgICAgIHZpZXdJbmZvc01hcC5nZXQobmV4dFZpZXcpLnByb21pc2UoKTtcbiAgICAgICAgICB0aGlzLl92aXNpYmxlVmlldyA9IG5leHRWaWV3O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgdmlld01hbmFnZXI7XG4iXX0=","deps":{"babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/delegate.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/delegate.js","source":"/*jshint browser:true, node:true*/\n/* global HTMLDocument */\n\n'use strict';\n\nmodule.exports = Delegate;\n\n/**\n * DOM event delegator\n *\n * The delegator will listen\n * for events that bubble up\n * to the root node.\n *\n * @constructor\n * @param {Node|string} [root] The root node or a selector string matching the root node\n */\nfunction Delegate(root) {\n\n  /**\n   * Maintain a map of listener\n   * lists, keyed by event name.\n   *\n   * @type Object\n   */\n  this.listenerMap = [{}, {}];\n  if (root) {\n    this.root(root);\n  }\n\n  /** @type function() */\n  this.handle = Delegate.prototype.handle.bind(this);\n\n  // Cache of event listeners removed during an event cycle\n  this._removedListeners = [];\n}\n\n/**\n * Start listening for events\n * on the provided DOM element\n *\n * @param  {Node|string} [root] The root node or a selector string matching the root node\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.root = function(root) {\n  var listenerMap = this.listenerMap;\n  var eventType;\n\n  // Remove master event listeners\n  if (this.rootElement) {\n    for (eventType in listenerMap[1]) {\n      if (listenerMap[1].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, true);\n      }\n    }\n    for (eventType in listenerMap[0]) {\n      if (listenerMap[0].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, false);\n      }\n    }\n  }\n\n  // If no root or root is not\n  // a dom node, then remove internal\n  // root reference and exit here\n  if (!root || !root.addEventListener) {\n    if (this.rootElement) {\n      delete this.rootElement;\n    }\n    return this;\n  }\n\n  /**\n   * The root node at which\n   * listeners are attached.\n   *\n   * @type Node\n   */\n  this.rootElement = root;\n\n  // Set up master event listeners\n  for (eventType in listenerMap[1]) {\n    if (listenerMap[1].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, true);\n    }\n  }\n  for (eventType in listenerMap[0]) {\n    if (listenerMap[0].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, false);\n    }\n  }\n\n  return this;\n};\n\n/**\n * @param {string} eventType\n * @returns boolean\n */\nDelegate.prototype.captureForType = function(eventType) {\n  return ['blur', 'error', 'focus', 'load', 'resize', 'scroll'].indexOf(eventType) !== -1;\n};\n\n/**\n * Attach a handler to one\n * event for all elements\n * that match the selector,\n * now or in the future\n *\n * The handler function receives\n * three arguments: the DOM event\n * object, the node that matched\n * the selector while the event\n * was bubbling and a reference\n * to itself. Within the handler,\n * 'this' is equal to the second\n * argument.\n *\n * The node that actually received\n * the event can be accessed via\n * 'event.target'.\n *\n * @param {string} eventType Listen for these events\n * @param {string|undefined} selector Only handle events on elements matching this selector, if undefined match root element\n * @param {function()} handler Handler function - event data passed here will be in event.data\n * @param {boolean} [useCapture] see 'useCapture' in <https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener>\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.on = function(eventType, selector, handler, useCapture) {\n  var root, listenerMap, matcher, matcherParam;\n\n  if (!eventType) {\n    throw new TypeError('Invalid event type: ' + eventType);\n  }\n\n  // handler can be passed as\n  // the second or third argument\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  }\n\n  // Fallback to sensible defaults\n  // if useCapture not set\n  if (useCapture === undefined) {\n    useCapture = this.captureForType(eventType);\n  }\n\n  if (typeof handler !== 'function') {\n    throw new TypeError('Handler must be a type of Function');\n  }\n\n  root = this.rootElement;\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n\n  // Add master handler for type if not created yet\n  if (!listenerMap[eventType]) {\n    if (root) {\n      root.addEventListener(eventType, this.handle, useCapture);\n    }\n    listenerMap[eventType] = [];\n  }\n\n  if (!selector) {\n    matcherParam = null;\n\n    // COMPLEX - matchesRoot needs to have access to\n    // this.rootElement, so bind the function to this.\n    matcher = matchesRoot.bind(this);\n\n  // Compile a matcher for the given selector\n  } else if (/^[a-z]+$/i.test(selector)) {\n    matcherParam = selector;\n    matcher = matchesTag;\n  } else if (/^#[a-z0-9\\-_]+$/i.test(selector)) {\n    matcherParam = selector.slice(1);\n    matcher = matchesId;\n  } else {\n    matcherParam = selector;\n    matcher = matches;\n  }\n\n  // Add to the list of listeners\n  listenerMap[eventType].push({\n    selector: selector,\n    handler: handler,\n    matcher: matcher,\n    matcherParam: matcherParam\n  });\n\n  return this;\n};\n\n/**\n * Remove an event handler\n * for elements that match\n * the selector, forever\n *\n * @param {string} [eventType] Remove handlers for events matching this type, considering the other parameters\n * @param {string} [selector] If this parameter is omitted, only handlers which match the other two will be removed\n * @param {function()} [handler] If this parameter is omitted, only handlers which match the previous two will be removed\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.off = function(eventType, selector, handler, useCapture) {\n  var i, listener, listenerMap, listenerList, singleEventType;\n\n  // Handler can be passed as\n  // the second or third argument\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  }\n\n  // If useCapture not set, remove\n  // all event listeners\n  if (useCapture === undefined) {\n    this.off(eventType, selector, handler, true);\n    this.off(eventType, selector, handler, false);\n    return this;\n  }\n\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n  if (!eventType) {\n    for (singleEventType in listenerMap) {\n      if (listenerMap.hasOwnProperty(singleEventType)) {\n        this.off(singleEventType, selector, handler);\n      }\n    }\n\n    return this;\n  }\n\n  listenerList = listenerMap[eventType];\n  if (!listenerList || !listenerList.length) {\n    return this;\n  }\n\n  // Remove only parameter matches\n  // if specified\n  for (i = listenerList.length - 1; i >= 0; i--) {\n    listener = listenerList[i];\n\n    if ((!selector || selector === listener.selector) && (!handler || handler === listener.handler)) {\n      this._removedListeners.push(listener);\n      listenerList.splice(i, 1);\n    }\n  }\n\n  // All listeners removed\n  if (!listenerList.length) {\n    delete listenerMap[eventType];\n\n    // Remove the main handler\n    if (this.rootElement) {\n      this.rootElement.removeEventListener(eventType, this.handle, useCapture);\n    }\n  }\n\n  return this;\n};\n\n\n/**\n * Handle an arbitrary event.\n *\n * @param {Event} event\n */\nDelegate.prototype.handle = function(event) {\n  var i, l, type = event.type, root, phase, listener, returned, listenerList = [], target, /** @const */ EVENTIGNORE = 'ftLabsDelegateIgnore';\n\n  if (event[EVENTIGNORE] === true) {\n    return;\n  }\n\n  target = event.target;\n\n  // Hardcode value of Node.TEXT_NODE\n  // as not defined in IE8\n  if (target.nodeType === 3) {\n    target = target.parentNode;\n  }\n\n  // Handle SVG <use> elements in IE\n  if (target.correspondingUseElement) {\n    target = target.correspondingUseElement;\n  }\n\n  root = this.rootElement;\n\n  phase = event.eventPhase || ( event.target !== event.currentTarget ? 3 : 2 );\n  \n  switch (phase) {\n    case 1: //Event.CAPTURING_PHASE:\n      listenerList = this.listenerMap[1][type];\n    break;\n    case 2: //Event.AT_TARGET:\n      if (this.listenerMap[0] && this.listenerMap[0][type]) listenerList = listenerList.concat(this.listenerMap[0][type]);\n      if (this.listenerMap[1] && this.listenerMap[1][type]) listenerList = listenerList.concat(this.listenerMap[1][type]);\n    break;\n    case 3: //Event.BUBBLING_PHASE:\n      listenerList = this.listenerMap[0][type];\n    break;\n  }\n\n  var toFire = [];\n\n  // Need to continuously check\n  // that the specific list is\n  // still populated in case one\n  // of the callbacks actually\n  // causes the list to be destroyed.\n  l = listenerList.length;\n  while (target && l) {\n    for (i = 0; i < l; i++) {\n      listener = listenerList[i];\n\n      // Bail from this loop if\n      // the length changed and\n      // no more listeners are\n      // defined between i and l.\n      if (!listener) {\n        break;\n      }\n\n      if(\n        target.tagName &&\n        [\"button\", \"input\", \"select\", \"textarea\"].indexOf(target.tagName.toLowerCase()) > -1 &&\n        target.hasAttribute(\"disabled\")\n      ) {\n        // Remove things that have previously fired\n        toFire = [];\n      }\n      // Check for match and fire\n      // the event if there's one\n      //\n      // TODO:MCG:20120117: Need a way\n      // to check if event#stopImmediatePropagation\n      // was called. If so, break both loops.\n      else if (listener.matcher.call(target, listener.matcherParam, target)) {\n        toFire.push([event, target, listener]);\n      }\n    }\n\n    // TODO:MCG:20120117: Need a way to\n    // check if event#stopPropagation\n    // was called. If so, break looping\n    // through the DOM. Stop if the\n    // delegation root has been reached\n    if (target === root) {\n      break;\n    }\n\n    l = listenerList.length;\n\n    // Fall back to parentNode since SVG children have no parentElement in IE\n    target = target.parentElement || target.parentNode;\n\n    // Do not traverse up to document root when using parentNode, though\n    if (target instanceof HTMLDocument) {\n      break;\n    }\n  }\n\n  var ret;\n\n  for(i=0; i<toFire.length; i++) {\n    // Has it been removed during while the event function was fired\n    if(this._removedListeners.indexOf(toFire[i][2]) > -1) {\n      continue;\n    }\n    returned = this.fire.apply(this, toFire[i]);\n\n    // Stop propagation to subsequent\n    // callbacks if the callback returned\n    // false\n    if (returned === false) {\n      toFire[i][0][EVENTIGNORE] = true;\n      toFire[i][0].preventDefault();\n      ret = false;\n      break;\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Fire a listener on a target.\n *\n * @param {Event} event\n * @param {Node} target\n * @param {Object} listener\n * @returns {boolean}\n */\nDelegate.prototype.fire = function(event, target, listener) {\n  return listener.handler.call(target, event, target);\n};\n\n/**\n * Check whether an element\n * matches a generic selector.\n *\n * @type function()\n * @param {string} selector A CSS selector\n */\nvar matches = (function(el) {\n  if (!el) return;\n  var p = el.prototype;\n  return (p.matches || p.matchesSelector || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector);\n}(Element));\n\n/**\n * Check whether an element\n * matches a tag selector.\n *\n * Tags are NOT case-sensitive,\n * except in XML (and XML-based\n * languages such as XHTML).\n *\n * @param {string} tagName The tag name to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesTag(tagName, element) {\n  return tagName.toLowerCase() === element.tagName.toLowerCase();\n}\n\n/**\n * Check whether an element\n * matches the root.\n *\n * @param {?String} selector In this case this is always passed through as null and not used\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesRoot(selector, element) {\n  /*jshint validthis:true*/\n  if (this.rootElement === window) {\n    return (\n      // Match the outer document (dispatched from document)\n      element === document ||\n      // The <html> element (dispatched from document.body or document.documentElement)\n      element === document.documentElement ||\n      // Or the window itself (dispatched from window)\n      element === window\n    );\n  }\n  return this.rootElement === element;\n}\n\n/**\n * Check whether the ID of\n * the element in 'this'\n * matches the given ID.\n *\n * IDs are case-sensitive.\n *\n * @param {string} id The ID to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesId(id, element) {\n  return id === element.id;\n}\n\n/**\n * Short hand for off()\n * and root(), ie both\n * with no parameters\n *\n * @return void\n */\nDelegate.prototype.destroy = function() {\n  this.off();\n  this.root();\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/index.js","source":"/*jshint browser:true, node:true*/\n\n'use strict';\n\n/**\n * @preserve Create and manage a DOM event delegator.\n *\n * @codingstandard ftlabs-jsv2\n * @copyright The Financial Times Limited [All Rights Reserved]\n * @license MIT License (see LICENSE.txt)\n */\nvar Delegate = require('./delegate');\n\nmodule.exports = function(root) {\n  return new Delegate(root);\n};\n\nmodule.exports.Delegate = Delegate;\n","deps":{"./delegate":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/delegate.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash._reinterpolate/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash._reinterpolate/index.js","source":"/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used to match template delimiters. */\nvar reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\nmodule.exports = reInterpolate;\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * `MotionInput` singleton.\n * The `MotionInput` singleton allows to initialize motion events\n * and to listen to them.\n *\n * @class MotionInput\n */\nvar MotionInput = function () {\n\n  /**\n   * Creates the `MotionInput` module instance.\n   *\n   * @constructor\n   */\n  function MotionInput() {\n    _classCallCheck(this, MotionInput);\n\n    /**\n     * Pool of all available modules.\n     *\n     * @this MotionInput\n     * @type {object}\n     * @default {}\n     */\n    this.modules = {};\n  }\n\n  /**\n   * Adds a module to the `MotionInput` module.\n   *\n   * @param {string} eventType - Name of the event type.\n   * @param {InputModule} module - Module to add to the `MotionInput` module.\n   */\n\n\n  _createClass(MotionInput, [{\n    key: \"addModule\",\n    value: function addModule(eventType, module) {\n      this.modules[eventType] = module;\n    }\n\n    /**\n     * Gets a module.\n     *\n     * @param {string} eventType - Name of the event type (module) to retrieve.\n     * @return {InputModule}\n     */\n\n  }, {\n    key: \"getModule\",\n    value: function getModule(eventType) {\n      return this.modules[eventType];\n    }\n\n    /**\n     * Requires a module.\n     * If the module has been initialized already, returns its promise. Otherwise,\n     * initializes the module.\n     *\n     * @param {string} eventType - Name of the event type (module) to require.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"requireModule\",\n    value: function requireModule(eventType) {\n      var module = this.getModule(eventType);\n\n      if (module.promise) return module.promise;\n\n      return module.init();\n    }\n\n    /**\n     * Initializes the `MotionInput` module.\n     *\n     * @param {Array<String>} eventTypes - Array of the event types to initialize.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      for (var _len = arguments.length, eventTypes = Array(_len), _key = 0; _key < _len; _key++) {\n        eventTypes[_key] = arguments[_key];\n      }\n\n      if (Array.isArray(eventTypes[0])) eventTypes = eventTypes[0];\n\n      var modulePromises = eventTypes.map(function (value) {\n        var module = _this.getModule(value);\n        return module.init();\n      });\n\n      return Promise.all(modulePromises);\n    }\n\n    /**\n     * Adds a listener.\n     *\n     * @param {string} eventType - Name of the event type (module) to add a listener to.\n     * @param {function} listener - Listener to add.\n     */\n\n  }, {\n    key: \"addListener\",\n    value: function addListener(eventType, listener) {\n      var module = this.getModule(eventType);\n      module.addListener(listener);\n    }\n\n    /**\n     * Removes a listener.\n     *\n     * @param {string} eventType - Name of the event type (module) to add a listener to.\n     * @param {function} listener - Listener to remove.\n     */\n\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventType, listener) {\n      var module = this.getModule(eventType);\n      module.removeListener(listener);\n    }\n  }]);\n\n  return MotionInput;\n}();\n\nexports.default = new MotionInput();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vdGlvbklucHV0LmpzIl0sIm5hbWVzIjpbIk1vdGlvbklucHV0IiwibW9kdWxlcyIsImV2ZW50VHlwZSIsIm1vZHVsZSIsImdldE1vZHVsZSIsInByb21pc2UiLCJpbml0IiwiZXZlbnRUeXBlcyIsIkFycmF5IiwiaXNBcnJheSIsIm1vZHVsZVByb21pc2VzIiwibWFwIiwidmFsdWUiLCJQcm9taXNlIiwiYWxsIiwibGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7SUFPTUEsVzs7QUFFSjs7Ozs7QUFLQSx5QkFBYztBQUFBOztBQUVaOzs7Ozs7O0FBT0EsU0FBS0MsT0FBTCxHQUFlLEVBQWY7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs4QkFNVUMsUyxFQUFXQyxNLEVBQVE7QUFDM0IsV0FBS0YsT0FBTCxDQUFhQyxTQUFiLElBQTBCQyxNQUExQjtBQUNEOztBQUVEOzs7Ozs7Ozs7OEJBTVVELFMsRUFBVztBQUNuQixhQUFPLEtBQUtELE9BQUwsQ0FBYUMsU0FBYixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7O2tDQVFjQSxTLEVBQVc7QUFDdkIsVUFBTUMsU0FBUyxLQUFLQyxTQUFMLENBQWVGLFNBQWYsQ0FBZjs7QUFFQSxVQUFJQyxPQUFPRSxPQUFYLEVBQ0UsT0FBT0YsT0FBT0UsT0FBZDs7QUFFRixhQUFPRixPQUFPRyxJQUFQLEVBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OzJCQU1vQjtBQUFBOztBQUFBLHdDQUFaQyxVQUFZO0FBQVpBLGtCQUFZO0FBQUE7O0FBQ2xCLFVBQUlDLE1BQU1DLE9BQU4sQ0FBY0YsV0FBVyxDQUFYLENBQWQsQ0FBSixFQUNFQSxhQUFhQSxXQUFXLENBQVgsQ0FBYjs7QUFFRixVQUFNRyxpQkFBaUJILFdBQVdJLEdBQVgsQ0FBZSxVQUFDQyxLQUFELEVBQVc7QUFDL0MsWUFBTVQsU0FBUyxNQUFLQyxTQUFMLENBQWVRLEtBQWYsQ0FBZjtBQUNBLGVBQU9ULE9BQU9HLElBQVAsRUFBUDtBQUNELE9BSHNCLENBQXZCOztBQUtBLGFBQU9PLFFBQVFDLEdBQVIsQ0FBWUosY0FBWixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztnQ0FNWVIsUyxFQUFXYSxRLEVBQVU7QUFDL0IsVUFBTVosU0FBUyxLQUFLQyxTQUFMLENBQWVGLFNBQWYsQ0FBZjtBQUNBQyxhQUFPYSxXQUFQLENBQW1CRCxRQUFuQjtBQUNEOztBQUVEOzs7Ozs7Ozs7bUNBTWViLFMsRUFBV2EsUSxFQUFVO0FBQ2xDLFVBQU1aLFNBQVMsS0FBS0MsU0FBTCxDQUFlRixTQUFmLENBQWY7QUFDQUMsYUFBT2MsY0FBUCxDQUFzQkYsUUFBdEI7QUFDRDs7Ozs7O2tCQUdZLElBQUlmLFdBQUosRSIsImZpbGUiOiJNb3Rpb25JbnB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogYE1vdGlvbklucHV0YCBzaW5nbGV0b24uXG4gKiBUaGUgYE1vdGlvbklucHV0YCBzaW5nbGV0b24gYWxsb3dzIHRvIGluaXRpYWxpemUgbW90aW9uIGV2ZW50c1xuICogYW5kIHRvIGxpc3RlbiB0byB0aGVtLlxuICpcbiAqIEBjbGFzcyBNb3Rpb25JbnB1dFxuICovXG5jbGFzcyBNb3Rpb25JbnB1dCB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGBNb3Rpb25JbnB1dGAgbW9kdWxlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBhbGwgYXZhaWxhYmxlIG1vZHVsZXMuXG4gICAgICpcbiAgICAgKiBAdGhpcyBNb3Rpb25JbnB1dFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQGRlZmF1bHQge31cbiAgICAgKi9cbiAgICB0aGlzLm1vZHVsZXMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbW9kdWxlIHRvIHRoZSBgTW90aW9uSW5wdXRgIG1vZHVsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIE5hbWUgb2YgdGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7SW5wdXRNb2R1bGV9IG1vZHVsZSAtIE1vZHVsZSB0byBhZGQgdG8gdGhlIGBNb3Rpb25JbnB1dGAgbW9kdWxlLlxuICAgKi9cbiAgYWRkTW9kdWxlKGV2ZW50VHlwZSwgbW9kdWxlKSB7XG4gICAgdGhpcy5tb2R1bGVzW2V2ZW50VHlwZV0gPSBtb2R1bGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIG1vZHVsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIE5hbWUgb2YgdGhlIGV2ZW50IHR5cGUgKG1vZHVsZSkgdG8gcmV0cmlldmUuXG4gICAqIEByZXR1cm4ge0lucHV0TW9kdWxlfVxuICAgKi9cbiAgZ2V0TW9kdWxlKGV2ZW50VHlwZSkge1xuICAgIHJldHVybiB0aGlzLm1vZHVsZXNbZXZlbnRUeXBlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1aXJlcyBhIG1vZHVsZS5cbiAgICogSWYgdGhlIG1vZHVsZSBoYXMgYmVlbiBpbml0aWFsaXplZCBhbHJlYWR5LCByZXR1cm5zIGl0cyBwcm9taXNlLiBPdGhlcndpc2UsXG4gICAqIGluaXRpYWxpemVzIHRoZSBtb2R1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBldmVudCB0eXBlIChtb2R1bGUpIHRvIHJlcXVpcmUuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICByZXF1aXJlTW9kdWxlKGV2ZW50VHlwZSkge1xuICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMuZ2V0TW9kdWxlKGV2ZW50VHlwZSk7XG5cbiAgICBpZiAobW9kdWxlLnByb21pc2UpXG4gICAgICByZXR1cm4gbW9kdWxlLnByb21pc2U7XG5cbiAgICByZXR1cm4gbW9kdWxlLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYE1vdGlvbklucHV0YCBtb2R1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gZXZlbnRUeXBlcyAtIEFycmF5IG9mIHRoZSBldmVudCB0eXBlcyB0byBpbml0aWFsaXplLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgaW5pdCguLi5ldmVudFR5cGVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRUeXBlc1swXSkpXG4gICAgICBldmVudFR5cGVzID0gZXZlbnRUeXBlc1swXVxuXG4gICAgY29uc3QgbW9kdWxlUHJvbWlzZXMgPSBldmVudFR5cGVzLm1hcCgodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMuZ2V0TW9kdWxlKHZhbHVlKTtcbiAgICAgIHJldHVybiBtb2R1bGUuaW5pdCgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG1vZHVsZVByb21pc2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBldmVudCB0eXBlIChtb2R1bGUpIHRvIGFkZCBhIGxpc3RlbmVyIHRvLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciAtIExpc3RlbmVyIHRvIGFkZC5cbiAgICovXG4gIGFkZExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBtb2R1bGUgPSB0aGlzLmdldE1vZHVsZShldmVudFR5cGUpO1xuICAgIG1vZHVsZS5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gTmFtZSBvZiB0aGUgZXZlbnQgdHlwZSAobW9kdWxlKSB0byBhZGQgYSBsaXN0ZW5lciB0by5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgLSBMaXN0ZW5lciB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbW9kdWxlID0gdGhpcy5nZXRNb2R1bGUoZXZlbnRUeXBlKTtcbiAgICBtb2R1bGUucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb3Rpb25JbnB1dCgpO1xuIl19","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** @module basic-controller */\n\nvar typeCounters = {};\n\n/**\n * Base class to create new controllers.\n *\n * @param {String} type - String describing the type of the controller.\n * @param {Object} defaults - Default parameters of the controller.\n * @param {Object} config - User defined configuration options.\n */\n\nvar BaseComponent = function () {\n  function BaseComponent(type, defaults) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, BaseComponent);\n\n    this.type = type;\n    this.params = Object.assign({}, defaults, config);\n\n    // handle id\n    if (!typeCounters[type]) typeCounters[type] = 0;\n\n    if (!this.params.id) {\n      this.id = type + \"-\" + typeCounters[type];\n      typeCounters[type] += 1;\n    } else {\n      this.id = this.params.id;\n    }\n\n    this._listeners = new Set();\n    this._groupListeners = new Set();\n\n    // register callback if given\n    if (this.params.callback) this.addListener(this.params.callback);\n  }\n\n  /**\n   * Add a listener to the controller.\n   *\n   * @param {Function} callback - Function to be applied when the controller\n   *  state change.\n   */\n\n\n  _createClass(BaseComponent, [{\n    key: \"addListener\",\n    value: function addListener(callback) {\n      this._listeners.add(callback);\n    }\n\n    /**\n     * Called when a listener is added from a containing group.\n     * @private\n     */\n\n  }, {\n    key: \"_addGroupListener\",\n    value: function _addGroupListener(id, callId, callback) {\n      if (!callId) this.addListener(callback);else {\n        this._groupListeners.add({ callId: callId, callback: callback });\n      }\n    }\n\n    /**\n     * Remove a listener from the controller.\n     *\n     * @param {Function} callback - Function to remove from the listeners.\n     * @private\n     * @todo - reexpose when `container` can override this method...\n     */\n    // removeListener(callback) {\n    //   this._listeners.remove(callback);\n    // }\n\n    /** @private */\n\n  }, {\n    key: \"executeListeners\",\n    value: function executeListeners() {\n      for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n        values[_key] = arguments[_key];\n      }\n\n      this._listeners.forEach(function (callback) {\n        return callback.apply(undefined, values);\n      });\n\n      this._groupListeners.forEach(function (payload) {\n        var callback = payload.callback,\n            callId = payload.callId;\n\n        callback.apply(undefined, [callId].concat(values));\n      });\n    }\n  }]);\n\n  return BaseComponent;\n}();\n\nexports.default = BaseComponent;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJhc2VDb21wb25lbnQuanMiXSwibmFtZXMiOlsidHlwZUNvdW50ZXJzIiwiQmFzZUNvbXBvbmVudCIsInR5cGUiLCJkZWZhdWx0cyIsImNvbmZpZyIsInBhcmFtcyIsIk9iamVjdCIsImFzc2lnbiIsImlkIiwiX2xpc3RlbmVycyIsIlNldCIsIl9ncm91cExpc3RlbmVycyIsImNhbGxiYWNrIiwiYWRkTGlzdGVuZXIiLCJhZGQiLCJjYWxsSWQiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicGF5bG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztBQUVBLElBQU1BLGVBQWUsRUFBckI7O0FBRUE7Ozs7Ozs7O0lBT01DLGE7QUFDSix5QkFBWUMsSUFBWixFQUFrQkMsUUFBbEIsRUFBeUM7QUFBQSxRQUFiQyxNQUFhLHVFQUFKLEVBQUk7O0FBQUE7O0FBQ3ZDLFNBQUtGLElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtHLE1BQUwsR0FBY0MsT0FBT0MsTUFBUCxDQUFjLEVBQWQsRUFBa0JKLFFBQWxCLEVBQTRCQyxNQUE1QixDQUFkOztBQUVBO0FBQ0EsUUFBSSxDQUFDSixhQUFhRSxJQUFiLENBQUwsRUFDRUYsYUFBYUUsSUFBYixJQUFxQixDQUFyQjs7QUFFRixRQUFJLENBQUMsS0FBS0csTUFBTCxDQUFZRyxFQUFqQixFQUFxQjtBQUNuQixXQUFLQSxFQUFMLEdBQWFOLElBQWIsU0FBcUJGLGFBQWFFLElBQWIsQ0FBckI7QUFDQUYsbUJBQWFFLElBQWIsS0FBc0IsQ0FBdEI7QUFDRCxLQUhELE1BR087QUFDTCxXQUFLTSxFQUFMLEdBQVUsS0FBS0gsTUFBTCxDQUFZRyxFQUF0QjtBQUNEOztBQUVELFNBQUtDLFVBQUwsR0FBa0IsSUFBSUMsR0FBSixFQUFsQjtBQUNBLFNBQUtDLGVBQUwsR0FBdUIsSUFBSUQsR0FBSixFQUF2Qjs7QUFFQTtBQUNBLFFBQUksS0FBS0wsTUFBTCxDQUFZTyxRQUFoQixFQUNFLEtBQUtDLFdBQUwsQ0FBaUIsS0FBS1IsTUFBTCxDQUFZTyxRQUE3QjtBQUNIOztBQUVEOzs7Ozs7Ozs7O2dDQU1ZQSxRLEVBQVU7QUFDcEIsV0FBS0gsVUFBTCxDQUFnQkssR0FBaEIsQ0FBb0JGLFFBQXBCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7c0NBSWtCSixFLEVBQUlPLE0sRUFBUUgsUSxFQUFVO0FBQ3RDLFVBQUksQ0FBQ0csTUFBTCxFQUNFLEtBQUtGLFdBQUwsQ0FBaUJELFFBQWpCLEVBREYsS0FFSztBQUNILGFBQUtELGVBQUwsQ0FBcUJHLEdBQXJCLENBQXlCLEVBQUVDLGNBQUYsRUFBVUgsa0JBQVYsRUFBekI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBOzs7O3VDQUM0QjtBQUFBLHdDQUFSSSxNQUFRO0FBQVJBLGNBQVE7QUFBQTs7QUFDMUIsV0FBS1AsVUFBTCxDQUFnQlEsT0FBaEIsQ0FBd0IsVUFBQ0wsUUFBRDtBQUFBLGVBQWNBLDBCQUFZSSxNQUFaLENBQWQ7QUFBQSxPQUF4Qjs7QUFFQSxXQUFLTCxlQUFMLENBQXFCTSxPQUFyQixDQUE2QixVQUFDQyxPQUFELEVBQWE7QUFBQSxZQUNoQ04sUUFEZ0MsR0FDWE0sT0FEVyxDQUNoQ04sUUFEZ0M7QUFBQSxZQUN0QkcsTUFEc0IsR0FDWEcsT0FEVyxDQUN0QkgsTUFEc0I7O0FBRXhDSCxtQ0FBU0csTUFBVCxTQUFvQkMsTUFBcEI7QUFDRCxPQUhEO0FBSUQ7Ozs7OztrQkFHWWYsYSIsImZpbGUiOiJCYXNlQ29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBtb2R1bGUgYmFzaWMtY29udHJvbGxlciAqL1xuXG5jb25zdCB0eXBlQ291bnRlcnMgPSB7fTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGNyZWF0ZSBuZXcgY29udHJvbGxlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBTdHJpbmcgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0cyAtIERlZmF1bHQgcGFyYW1ldGVycyBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBVc2VyIGRlZmluZWQgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICovXG5jbGFzcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IodHlwZSwgZGVmYXVsdHMsIGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgLy8gaGFuZGxlIGlkXG4gICAgaWYgKCF0eXBlQ291bnRlcnNbdHlwZV0pXG4gICAgICB0eXBlQ291bnRlcnNbdHlwZV0gPSAwO1xuXG4gICAgaWYgKCF0aGlzLnBhcmFtcy5pZCkge1xuICAgICAgdGhpcy5pZCA9IGAke3R5cGV9LSR7dHlwZUNvdW50ZXJzW3R5cGVdfWA7XG4gICAgICB0eXBlQ291bnRlcnNbdHlwZV0gKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pZCA9IHRoaXMucGFyYW1zLmlkO1xuICAgIH1cblxuICAgIHRoaXMuX2xpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLl9ncm91cExpc3RlbmVycyA9IG5ldyBTZXQoKTtcblxuICAgIC8vIHJlZ2lzdGVyIGNhbGxiYWNrIGlmIGdpdmVuXG4gICAgaWYgKHRoaXMucGFyYW1zLmNhbGxiYWNrKVxuICAgICAgdGhpcy5hZGRMaXN0ZW5lcih0aGlzLnBhcmFtcy5jYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbGlzdGVuZXIgdG8gdGhlIGNvbnRyb2xsZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gYmUgYXBwbGllZCB3aGVuIHRoZSBjb250cm9sbGVyXG4gICAqICBzdGF0ZSBjaGFuZ2UuXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX2xpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQgZnJvbSBhIGNvbnRhaW5pbmcgZ3JvdXAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkR3JvdXBMaXN0ZW5lcihpZCwgY2FsbElkLCBjYWxsYmFjaykge1xuICAgIGlmICghY2FsbElkKVxuICAgICAgdGhpcy5hZGRMaXN0ZW5lcihjYWxsYmFjayk7XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9ncm91cExpc3RlbmVycy5hZGQoeyBjYWxsSWQsIGNhbGxiYWNrIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBsaXN0ZW5lciBmcm9tIHRoZSBjb250cm9sbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIHJlbW92ZSBmcm9tIHRoZSBsaXN0ZW5lcnMuXG4gICAqIEBwcml2YXRlXG4gICAqIEB0b2RvIC0gcmVleHBvc2Ugd2hlbiBgY29udGFpbmVyYCBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QuLi5cbiAgICovXG4gIC8vIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gIC8vICAgdGhpcy5fbGlzdGVuZXJzLnJlbW92ZShjYWxsYmFjayk7XG4gIC8vIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgZXhlY3V0ZUxpc3RlbmVycyguLi52YWx1ZXMpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKC4uLnZhbHVlcykpO1xuXG4gICAgdGhpcy5fZ3JvdXBMaXN0ZW5lcnMuZm9yRWFjaCgocGF5bG9hZCkgPT4ge1xuICAgICAgY29uc3QgeyBjYWxsYmFjaywgY2FsbElkIH0gPSBwYXlsb2FkO1xuICAgICAgY2FsbGJhY2soY2FsbElkLCAuLi52YWx1ZXMpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VDb21wb25lbnQ7XG4iXX0=","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/PlayControl.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/PlayControl.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _audioContext = require('../core/audioContext');\n\nvar _audioContext2 = _interopRequireDefault(_audioContext);\n\nvar _factories = require('./factories');\n\nvar _wavesMasters = require('waves-masters');\n\nvar masters = _interopRequireWildcard(_wavesMasters);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Extends Time Engine to provide playback control of a Time Engine instance.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/play-control/index.html}\n *\n * @extends TimeEngine\n * @param {TimeEngine} engine - engine to control\n *\n * @example\n * import * as audio from 'waves-audio';\n * const playerEngine = audio.PlayerEngine();\n * const playControl = new audio.PlayControl(playerEngine);\n *\n * playControl.start();\n */\nvar PlayControl = function (_masters$PlayControl) {\n  (0, _inherits3.default)(PlayControl, _masters$PlayControl);\n\n  function PlayControl(engine) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, PlayControl);\n\n    var audioContext = options.audioContext || _audioContext2.default;\n    var scheduler = (0, _factories.getScheduler)(audioContext);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (PlayControl.__proto__ || (0, _getPrototypeOf2.default)(PlayControl)).call(this, scheduler, engine, options));\n\n    _this.audioContext = audioContext;\n    return _this;\n  }\n\n  return PlayControl;\n}(masters.PlayControl);\n\nexports.default = PlayControl;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXlDb250cm9sLmpzIl0sIm5hbWVzIjpbIm1hc3RlcnMiLCJQbGF5Q29udHJvbCIsImVuZ2luZSIsIm9wdGlvbnMiLCJhdWRpb0NvbnRleHQiLCJkZWZhdWx0QXVkaW9Db250ZXh0Iiwic2NoZWR1bGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7SUFBWUEsTzs7Ozs7O0FBRVo7Ozs7Ozs7Ozs7Ozs7OztJQWVNQyxXOzs7QUFDSix1QkFBWUMsTUFBWixFQUFrQztBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBOztBQUNoQyxRQUFNQyxlQUFlRCxRQUFRQyxZQUFSLElBQXdCQyxzQkFBN0M7QUFDQSxRQUFNQyxZQUFZLDZCQUFhRixZQUFiLENBQWxCOztBQUZnQyxnSkFJMUJFLFNBSjBCLEVBSWZKLE1BSmUsRUFJUEMsT0FKTzs7QUFNaEMsVUFBS0MsWUFBTCxHQUFvQkEsWUFBcEI7QUFOZ0M7QUFPakM7OztFQVJ1QkosUUFBUUMsVzs7a0JBV25CQSxXIiwiZmlsZSI6IlBsYXlDb250cm9sLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRBdWRpb0NvbnRleHQgZnJvbSAnLi4vY29yZS9hdWRpb0NvbnRleHQnO1xuaW1wb3J0IHsgZ2V0U2NoZWR1bGVyIH0gZnJvbSAnLi9mYWN0b3JpZXMnO1xuaW1wb3J0ICogYXMgbWFzdGVycyBmcm9tICd3YXZlcy1tYXN0ZXJzJztcblxuLyoqXG4gKiBFeHRlbmRzIFRpbWUgRW5naW5lIHRvIHByb3ZpZGUgcGxheWJhY2sgY29udHJvbCBvZiBhIFRpbWUgRW5naW5lIGluc3RhbmNlLlxuICpcbiAqIFtleGFtcGxlXXtAbGluayBodHRwczovL3Jhd2dpdC5jb20vd2F2ZXNqcy93YXZlcy1hdWRpby9tYXN0ZXIvZXhhbXBsZXMvcGxheS1jb250cm9sL2luZGV4Lmh0bWx9XG4gKlxuICogQGV4dGVuZHMgVGltZUVuZ2luZVxuICogQHBhcmFtIHtUaW1lRW5naW5lfSBlbmdpbmUgLSBlbmdpbmUgdG8gY29udHJvbFxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKiBjb25zdCBwbGF5ZXJFbmdpbmUgPSBhdWRpby5QbGF5ZXJFbmdpbmUoKTtcbiAqIGNvbnN0IHBsYXlDb250cm9sID0gbmV3IGF1ZGlvLlBsYXlDb250cm9sKHBsYXllckVuZ2luZSk7XG4gKlxuICogcGxheUNvbnRyb2wuc3RhcnQoKTtcbiAqL1xuY2xhc3MgUGxheUNvbnRyb2wgZXh0ZW5kcyBtYXN0ZXJzLlBsYXlDb250cm9sIHtcbiAgY29uc3RydWN0b3IoZW5naW5lLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBvcHRpb25zLmF1ZGlvQ29udGV4dCB8fMKgZGVmYXVsdEF1ZGlvQ29udGV4dDtcbiAgICBjb25zdCBzY2hlZHVsZXIgPSBnZXRTY2hlZHVsZXIoYXVkaW9Db250ZXh0KTtcblxuICAgIHN1cGVyKHNjaGVkdWxlciwgZW5naW5lLCBvcHRpb25zKTtcblxuICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gYXVkaW9Db250ZXh0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXlDb250cm9sO1xuIl19","deps":{"../core/audioContext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","./factories":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _wavesMasters = require('waves-masters');\n\nvar _audioContext = require('./audioContext');\n\nvar _audioContext2 = _interopRequireDefault(_audioContext);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * This is the base class for all audio related time engine components. It is\n * used to handle audio related events such as the playback of a media stream.\n * It extends the TimeEngine class by the standard web audio node methods\n * connect and disconnect.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/audio-time-engine/index.html}\n *\n * @extends TimeEngine\n * @example\n * import audio from 'waves-audio';\n *\n * class MyEngine extends audio.AudioTimeEngine {\n *   constructor() {\n *     super();\n *     // ...\n *   }\n * }\n */\nvar AudioTimeEngine = function (_TimeEngine) {\n  (0, _inherits3.default)(AudioTimeEngine, _TimeEngine);\n\n  function AudioTimeEngine() {\n    var audioContext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _audioContext2.default;\n    (0, _classCallCheck3.default)(this, AudioTimeEngine);\n\n    /**\n     * Audio context used by the TimeEngine, default to the global audioContext\n     *\n     * @name audioContext\n     * @type AudioContext\n     * @memberof AudioTimeEngine\n     * @see audioContext\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AudioTimeEngine.__proto__ || (0, _getPrototypeOf2.default)(AudioTimeEngine)).call(this));\n\n    _this.audioContext = audioContext;\n\n    /**\n     * Output audio node. By default the connect method connects a given node\n     * to this output node.\n     *\n     * @name outputNode\n     * @type AudioNode\n     * @memberof AudioTimeEngine\n     * @default null\n     */\n    _this.outputNode = null;\n    return _this;\n  }\n\n  /**\n   * Connect to an audio node (e.g. audioContext.destination)\n   *\n   * @param {AudioNode} target - Target audio node\n   */\n\n\n  (0, _createClass3.default)(AudioTimeEngine, [{\n    key: 'connect',\n    value: function connect(target) {\n      this.outputNode.connect(target);\n      return this;\n    }\n\n    /**\n     * Disconnect from an audio node (e.g. audioContext.destination). If undefined\n     * disconnect from all target nodes.\n     *\n     * @param {AudioNode} target - Target audio node.\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect(connection) {\n      this.outputNode.disconnect(connection);\n      return this;\n    }\n  }]);\n  return AudioTimeEngine;\n}(_wavesMasters.TimeEngine);\n\nexports.default = AudioTimeEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1ZGlvVGltZUVuZ2luZS5qcyJdLCJuYW1lcyI6WyJBdWRpb1RpbWVFbmdpbmUiLCJhdWRpb0NvbnRleHQiLCJkZWZhdWx0QXVkaW9Db250ZXh0Iiwib3V0cHV0Tm9kZSIsInRhcmdldCIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwiZGlzY29ubmVjdCIsIlRpbWVFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbUJNQSxlOzs7QUFDSiw2QkFBZ0Q7QUFBQSxRQUFwQ0MsWUFBb0MsdUVBQXJCQyxzQkFBcUI7QUFBQTs7QUFHOUM7Ozs7Ozs7O0FBSDhDOztBQVc5QyxVQUFLRCxZQUFMLEdBQW9CQSxZQUFwQjs7QUFFQTs7Ozs7Ozs7O0FBU0EsVUFBS0UsVUFBTCxHQUFrQixJQUFsQjtBQXRCOEM7QUF1Qi9DOztBQUVEOzs7Ozs7Ozs7NEJBS1FDLE0sRUFBUTtBQUNkLFdBQUtELFVBQUwsQ0FBZ0JFLE9BQWhCLENBQXdCRCxNQUF4QjtBQUNBLGFBQU8sSUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7K0JBTVdFLFUsRUFBWTtBQUNyQixXQUFLSCxVQUFMLENBQWdCSSxVQUFoQixDQUEyQkQsVUFBM0I7QUFDQSxhQUFPLElBQVA7QUFDRDs7O0VBN0MyQkUsd0I7O2tCQWdEZlIsZSIsImZpbGUiOiJBdWRpb1RpbWVFbmdpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaW1lRW5naW5lIH0gZnJvbSAnd2F2ZXMtbWFzdGVycyc7XG5pbXBvcnQgZGVmYXVsdEF1ZGlvQ29udGV4dCBmcm9tICcuL2F1ZGlvQ29udGV4dCc7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgYWxsIGF1ZGlvIHJlbGF0ZWQgdGltZSBlbmdpbmUgY29tcG9uZW50cy4gSXQgaXNcbiAqIHVzZWQgdG8gaGFuZGxlIGF1ZGlvIHJlbGF0ZWQgZXZlbnRzIHN1Y2ggYXMgdGhlIHBsYXliYWNrIG9mIGEgbWVkaWEgc3RyZWFtLlxuICogSXQgZXh0ZW5kcyB0aGUgVGltZUVuZ2luZSBjbGFzcyBieSB0aGUgc3RhbmRhcmQgd2ViIGF1ZGlvIG5vZGUgbWV0aG9kc1xuICogY29ubmVjdCBhbmQgZGlzY29ubmVjdC5cbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtYXVkaW8vbWFzdGVyL2V4YW1wbGVzL2F1ZGlvLXRpbWUtZW5naW5lL2luZGV4Lmh0bWx9XG4gKlxuICogQGV4dGVuZHMgVGltZUVuZ2luZVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKlxuICogY2xhc3MgTXlFbmdpbmUgZXh0ZW5kcyBhdWRpby5BdWRpb1RpbWVFbmdpbmUge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICBzdXBlcigpO1xuICogICAgIC8vIC4uLlxuICogICB9XG4gKiB9XG4gKi9cbmNsYXNzIEF1ZGlvVGltZUVuZ2luZSBleHRlbmRzIFRpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihhdWRpb0NvbnRleHQgPSBkZWZhdWx0QXVkaW9Db250ZXh0KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEF1ZGlvIGNvbnRleHQgdXNlZCBieSB0aGUgVGltZUVuZ2luZSwgZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGF1ZGlvQ29udGV4dFxuICAgICAqXG4gICAgICogQG5hbWUgYXVkaW9Db250ZXh0XG4gICAgICogQHR5cGUgQXVkaW9Db250ZXh0XG4gICAgICogQG1lbWJlcm9mIEF1ZGlvVGltZUVuZ2luZVxuICAgICAqIEBzZWUgYXVkaW9Db250ZXh0XG4gICAgICovXG4gICAgdGhpcy5hdWRpb0NvbnRleHQgPSBhdWRpb0NvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBPdXRwdXQgYXVkaW8gbm9kZS4gQnkgZGVmYXVsdCB0aGUgY29ubmVjdCBtZXRob2QgY29ubmVjdHMgYSBnaXZlbiBub2RlXG4gICAgICogdG8gdGhpcyBvdXRwdXQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG91dHB1dE5vZGVcbiAgICAgKiBAdHlwZSBBdWRpb05vZGVcbiAgICAgKiBAbWVtYmVyb2YgQXVkaW9UaW1lRW5naW5lXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRoaXMub3V0cHV0Tm9kZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBhbiBhdWRpbyBub2RlIChlLmcuIGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbilcbiAgICpcbiAgICogQHBhcmFtIHtBdWRpb05vZGV9IHRhcmdldCAtIFRhcmdldCBhdWRpbyBub2RlXG4gICAqL1xuICBjb25uZWN0KHRhcmdldCkge1xuICAgIHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCBmcm9tIGFuIGF1ZGlvIG5vZGUgKGUuZy4gYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKS4gSWYgdW5kZWZpbmVkXG4gICAqIGRpc2Nvbm5lY3QgZnJvbSBhbGwgdGFyZ2V0IG5vZGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0F1ZGlvTm9kZX0gdGFyZ2V0IC0gVGFyZ2V0IGF1ZGlvIG5vZGUuXG4gICAqL1xuICBkaXNjb25uZWN0KGNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdChjb25uZWN0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1RpbWVFbmdpbmU7XG4iXX0=","deps":{"./audioContext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/Transport.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/Transport.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _audioContext = require('../core/audioContext');\n\nvar _audioContext2 = _interopRequireDefault(_audioContext);\n\nvar _factories = require('./factories');\n\nvar _wavesMasters = require('waves-masters');\n\nvar masters = _interopRequireWildcard(_wavesMasters);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Provides synchronized scheduling of Time Engine instances.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/transport/index.html}\n *\n * @example\n * import * as audio from 'waves-audio';\n * const transport = new audio.Transport();\n * const playControl = new audio.PlayControl(transport);\n * const myEngine = new MyEngine();\n * const yourEngine = new yourEngine();\n *\n * transport.add(myEngine);\n * transport.add(yourEngine);\n *\n * playControl.start();\n */\nvar Transport = function (_masters$Transport) {\n  (0, _inherits3.default)(Transport, _masters$Transport);\n\n  function Transport() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, Transport);\n\n    var audioContext = options.audioContext || _audioContext2.default;\n    var scheduler = (0, _factories.getScheduler)(audioContext);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Transport.__proto__ || (0, _getPrototypeOf2.default)(Transport)).call(this, scheduler, options));\n\n    _this.audioContext = audioContext;\n    return _this;\n  }\n\n  return Transport;\n}(masters.Transport);\n\nexports.default = Transport;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyYW5zcG9ydC5qcyJdLCJuYW1lcyI6WyJtYXN0ZXJzIiwiVHJhbnNwb3J0Iiwib3B0aW9ucyIsImF1ZGlvQ29udGV4dCIsImRlZmF1bHRBdWRpb0NvbnRleHQiLCJzY2hlZHVsZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOztJQUFZQSxPOzs7Ozs7QUFFWjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFpQk1DLFM7OztBQUNKLHVCQUEwQjtBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBOztBQUN4QixRQUFNQyxlQUFlRCxRQUFRQyxZQUFSLElBQXdCQyxzQkFBN0M7QUFDQSxRQUFNQyxZQUFZLDZCQUFhRixZQUFiLENBQWxCOztBQUZ3Qiw0SUFHbEJFLFNBSGtCLEVBR1BILE9BSE87O0FBS3hCLFVBQUtDLFlBQUwsR0FBb0JBLFlBQXBCO0FBTHdCO0FBTXpCOzs7RUFQcUJILFFBQVFDLFM7O2tCQVVqQkEsUyIsImZpbGUiOiJUcmFuc3BvcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVmYXVsdEF1ZGlvQ29udGV4dCBmcm9tICcuLi9jb3JlL2F1ZGlvQ29udGV4dCc7XG5pbXBvcnQgeyBnZXRTY2hlZHVsZXIgfSBmcm9tICcuL2ZhY3Rvcmllcyc7XG5pbXBvcnQgKiBhcyBtYXN0ZXJzIGZyb20gJ3dhdmVzLW1hc3RlcnMnO1xuXG4vKipcbiAqIFByb3ZpZGVzIHN5bmNocm9uaXplZCBzY2hlZHVsaW5nIG9mIFRpbWUgRW5naW5lIGluc3RhbmNlcy5cbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtYXVkaW8vbWFzdGVyL2V4YW1wbGVzL3RyYW5zcG9ydC9pbmRleC5odG1sfVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBhdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG4gKiBjb25zdCB0cmFuc3BvcnQgPSBuZXcgYXVkaW8uVHJhbnNwb3J0KCk7XG4gKiBjb25zdCBwbGF5Q29udHJvbCA9IG5ldyBhdWRpby5QbGF5Q29udHJvbCh0cmFuc3BvcnQpO1xuICogY29uc3QgbXlFbmdpbmUgPSBuZXcgTXlFbmdpbmUoKTtcbiAqIGNvbnN0IHlvdXJFbmdpbmUgPSBuZXcgeW91ckVuZ2luZSgpO1xuICpcbiAqIHRyYW5zcG9ydC5hZGQobXlFbmdpbmUpO1xuICogdHJhbnNwb3J0LmFkZCh5b3VyRW5naW5lKTtcbiAqXG4gKiBwbGF5Q29udHJvbC5zdGFydCgpO1xuICovXG5jbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBtYXN0ZXJzLlRyYW5zcG9ydCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG9wdGlvbnMuYXVkaW9Db250ZXh0IHx8wqBkZWZhdWx0QXVkaW9Db250ZXh0O1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IGdldFNjaGVkdWxlcihhdWRpb0NvbnRleHQpO1xuICAgIHN1cGVyKHNjaGVkdWxlciwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IGF1ZGlvQ29udGV4dDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc3BvcnQ7XG4iXX0=","deps":{"../core/audioContext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","./factories":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nexports.getScheduler = getScheduler;\nexports.getSimpleScheduler = getSimpleScheduler;\n\nvar _audioContext = require('../core/audioContext');\n\nvar _audioContext2 = _interopRequireDefault(_audioContext);\n\nvar _wavesMasters = require('waves-masters');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar schedulerMap = new _map2.default();\nvar simpleSchedulerMap = new _map2.default();\n\n/**\n * Returns a unique instance of `Scheduler`\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/scheduler/index.html}}\n *\n * @global\n * @function\n * @returns {Scheduler}\n * @see Scheduler\n */\nfunction getScheduler() {\n  var audioContext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _audioContext2.default;\n\n  var scheduler = schedulerMap.get(audioContext);\n\n  if (!scheduler) {\n    var getTimeFunction = function getTimeFunction() {\n      return audioContext.currentTime;\n    };\n    scheduler = new _wavesMasters.Scheduler(getTimeFunction);\n\n    schedulerMap.set(audioContext, scheduler);\n  }\n\n  return scheduler;\n};\n\n/**\n * Returns a unique instance of `SimpleScheduler`\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-audio/master/examples/simple-scheduler/index.html}}\n *\n * @global\n * @function\n * @returns {SimpleScheduler}\n * @see SimpleScheduler\n */\nfunction getSimpleScheduler() {\n  var audioContext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _audioContext2.default;\n\n  var simpleScheduler = simpleSchedulerMap.get(audioContext);\n\n  if (!simpleScheduler) {\n    var getTimeFunction = function getTimeFunction() {\n      return audioContext.currentTime;\n    };\n    simpleScheduler = new _wavesMasters.SimpleScheduler(getTimeFunction);\n\n    simpleSchedulerMap.set(audioContext, simpleScheduler);\n  }\n\n  return simpleScheduler;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhY3Rvcmllcy5qcyJdLCJuYW1lcyI6WyJnZXRTY2hlZHVsZXIiLCJnZXRTaW1wbGVTY2hlZHVsZXIiLCJzY2hlZHVsZXJNYXAiLCJzaW1wbGVTY2hlZHVsZXJNYXAiLCJhdWRpb0NvbnRleHQiLCJkZWZhdWx0QXVkaW9Db250ZXh0Iiwic2NoZWR1bGVyIiwiZ2V0IiwiZ2V0VGltZUZ1bmN0aW9uIiwiY3VycmVudFRpbWUiLCJTY2hlZHVsZXIiLCJzZXQiLCJzaW1wbGVTY2hlZHVsZXIiLCJTaW1wbGVTY2hlZHVsZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7UUFnQmdCQSxZLEdBQUFBLFk7UUF1QkFDLGtCLEdBQUFBLGtCOztBQXZDaEI7Ozs7QUFDQTs7OztBQUVBLElBQU1DLGVBQWUsbUJBQXJCO0FBQ0EsSUFBTUMscUJBQXFCLG1CQUEzQjs7QUFFQTs7Ozs7Ozs7OztBQVVPLFNBQVNILFlBQVQsR0FBMEQ7QUFBQSxNQUFwQ0ksWUFBb0MsdUVBQXJCQyxzQkFBcUI7O0FBQy9ELE1BQUlDLFlBQVlKLGFBQWFLLEdBQWIsQ0FBaUJILFlBQWpCLENBQWhCOztBQUVBLE1BQUksQ0FBQ0UsU0FBTCxFQUFnQjtBQUNkLFFBQU1FLGtCQUFrQixTQUFsQkEsZUFBa0I7QUFBQSxhQUFNSixhQUFhSyxXQUFuQjtBQUFBLEtBQXhCO0FBQ0FILGdCQUFZLElBQUlJLHVCQUFKLENBQWNGLGVBQWQsQ0FBWjs7QUFFQU4saUJBQWFTLEdBQWIsQ0FBaUJQLFlBQWpCLEVBQStCRSxTQUEvQjtBQUNEOztBQUVELFNBQU9BLFNBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OztBQVVPLFNBQVNMLGtCQUFULEdBQWdFO0FBQUEsTUFBcENHLFlBQW9DLHVFQUFyQkMsc0JBQXFCOztBQUNyRSxNQUFJTyxrQkFBa0JULG1CQUFtQkksR0FBbkIsQ0FBdUJILFlBQXZCLENBQXRCOztBQUVBLE1BQUksQ0FBQ1EsZUFBTCxFQUFzQjtBQUNwQixRQUFNSixrQkFBa0IsU0FBbEJBLGVBQWtCO0FBQUEsYUFBTUosYUFBYUssV0FBbkI7QUFBQSxLQUF4QjtBQUNBRyxzQkFBa0IsSUFBSUMsNkJBQUosQ0FBb0JMLGVBQXBCLENBQWxCOztBQUVBTCx1QkFBbUJRLEdBQW5CLENBQXVCUCxZQUF2QixFQUFxQ1EsZUFBckM7QUFDRDs7QUFFRCxTQUFPQSxlQUFQO0FBQ0QiLCJmaWxlIjoiZmFjdG9yaWVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRBdWRpb0NvbnRleHQgZnJvbSAnLi4vY29yZS9hdWRpb0NvbnRleHQnO1xuaW1wb3J0IHsgU2NoZWR1bGVyLCBTaW1wbGVTY2hlZHVsZXIgfSBmcm9tICd3YXZlcy1tYXN0ZXJzJztcblxuY29uc3Qgc2NoZWR1bGVyTWFwID0gbmV3IE1hcCgpO1xuY29uc3Qgc2ltcGxlU2NoZWR1bGVyTWFwID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIFJldHVybnMgYSB1bmlxdWUgaW5zdGFuY2Ugb2YgYFNjaGVkdWxlcmBcbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtYXVkaW8vbWFzdGVyL2V4YW1wbGVzL3NjaGVkdWxlci9pbmRleC5odG1sfX1cbiAqXG4gKiBAZ2xvYmFsXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtTY2hlZHVsZXJ9XG4gKiBAc2VlIFNjaGVkdWxlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZWR1bGVyKGF1ZGlvQ29udGV4dCA9IGRlZmF1bHRBdWRpb0NvbnRleHQpIHtcbiAgbGV0IHNjaGVkdWxlciA9IHNjaGVkdWxlck1hcC5nZXQoYXVkaW9Db250ZXh0KTtcblxuICBpZiAoIXNjaGVkdWxlcikge1xuICAgIGNvbnN0IGdldFRpbWVGdW5jdGlvbiA9ICgpID0+IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKGdldFRpbWVGdW5jdGlvbik7XG5cbiAgICBzY2hlZHVsZXJNYXAuc2V0KGF1ZGlvQ29udGV4dCwgc2NoZWR1bGVyKTtcbiAgfVxuXG4gIHJldHVybiBzY2hlZHVsZXI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSB1bmlxdWUgaW5zdGFuY2Ugb2YgYFNpbXBsZVNjaGVkdWxlcmBcbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtYXVkaW8vbWFzdGVyL2V4YW1wbGVzL3NpbXBsZS1zY2hlZHVsZXIvaW5kZXguaHRtbH19XG4gKlxuICogQGdsb2JhbFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7U2ltcGxlU2NoZWR1bGVyfVxuICogQHNlZSBTaW1wbGVTY2hlZHVsZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpbXBsZVNjaGVkdWxlcihhdWRpb0NvbnRleHQgPSBkZWZhdWx0QXVkaW9Db250ZXh0KSB7XG4gIGxldCBzaW1wbGVTY2hlZHVsZXIgPSBzaW1wbGVTY2hlZHVsZXJNYXAuZ2V0KGF1ZGlvQ29udGV4dCk7XG5cbiAgaWYgKCFzaW1wbGVTY2hlZHVsZXIpIHtcbiAgICBjb25zdCBnZXRUaW1lRnVuY3Rpb24gPSAoKSA9PiBhdWRpb0NvbnRleHQuY3VycmVudFRpbWU7XG4gICAgc2ltcGxlU2NoZWR1bGVyID0gbmV3IFNpbXBsZVNjaGVkdWxlcihnZXRUaW1lRnVuY3Rpb24pO1xuXG4gICAgc2ltcGxlU2NoZWR1bGVyTWFwLnNldChhdWRpb0NvbnRleHQsIHNpbXBsZVNjaGVkdWxlcik7XG4gIH1cblxuICByZXR1cm4gc2ltcGxlU2NoZWR1bGVyO1xufTtcbiJdfQ==","deps":{"../core/audioContext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js","babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _audioContext = require('./core/audioContext');\n\nObject.defineProperty(exports, 'audioContext', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_audioContext).default;\n  }\n});\n\nvar _AudioTimeEngine = require('./core/AudioTimeEngine');\n\nObject.defineProperty(exports, 'AudioTimeEngine', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AudioTimeEngine).default;\n  }\n});\n\nvar _wavesMasters = require('waves-masters');\n\nObject.defineProperty(exports, 'TimeEngine', {\n  enumerable: true,\n  get: function get() {\n    return _wavesMasters.TimeEngine;\n  }\n});\nObject.defineProperty(exports, 'PriorityQueue', {\n  enumerable: true,\n  get: function get() {\n    return _wavesMasters.PriorityQueue;\n  }\n});\nObject.defineProperty(exports, 'SchedulingQueue', {\n  enumerable: true,\n  get: function get() {\n    return _wavesMasters.SchedulingQueue;\n  }\n});\n\nvar _GranularEngine = require('./engines/GranularEngine');\n\nObject.defineProperty(exports, 'GranularEngine', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_GranularEngine).default;\n  }\n});\n\nvar _Metronome = require('./engines/Metronome');\n\nObject.defineProperty(exports, 'Metronome', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Metronome).default;\n  }\n});\n\nvar _PlayerEngine = require('./engines/PlayerEngine');\n\nObject.defineProperty(exports, 'PlayerEngine', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_PlayerEngine).default;\n  }\n});\n\nvar _SegmentEngine = require('./engines/SegmentEngine');\n\nObject.defineProperty(exports, 'SegmentEngine', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SegmentEngine).default;\n  }\n});\n\nvar _PlayControl = require('./masters/PlayControl');\n\nObject.defineProperty(exports, 'PlayControl', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_PlayControl).default;\n  }\n});\n\nvar _Transport = require('./masters/Transport');\n\nObject.defineProperty(exports, 'Transport', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Transport).default;\n  }\n});\n\nvar _factories = require('./masters/factories');\n\nObject.defineProperty(exports, 'getScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _factories.getScheduler;\n  }\n});\nObject.defineProperty(exports, 'getSimpleScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _factories.getSimpleScheduler;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiLCJUaW1lRW5naW5lIiwiUHJpb3JpdHlRdWV1ZSIsIlNjaGVkdWxpbmdRdWV1ZSIsImdldFNjaGVkdWxlciIsImdldFNpbXBsZVNjaGVkdWxlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7aURBRVNBLE87Ozs7Ozs7OztvREFDQUEsTzs7Ozs7Ozs7O3lCQUNBQyxVOzs7Ozs7eUJBQVlDLGE7Ozs7Ozt5QkFBZUMsZTs7Ozs7Ozs7O21EQUczQkgsTzs7Ozs7Ozs7OzhDQUNBQSxPOzs7Ozs7Ozs7aURBQ0FBLE87Ozs7Ozs7OztrREFDQUEsTzs7Ozs7Ozs7O2dEQUdBQSxPOzs7Ozs7Ozs7OENBQ0FBLE87Ozs7Ozs7OztzQkFHQUksWTs7Ozs7O3NCQUFjQyxrQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IFRpbWVFbmdpbmUsIFByaW9yaXR5UXVldWUsIFNjaGVkdWxpbmdRdWV1ZSB9IGZyb20gJ3dhdmVzLW1hc3RlcnMnO1xuLy8gY29yZVxuZXhwb3J0IHsgZGVmYXVsdCBhcyBhdWRpb0NvbnRleHQgfSBmcm9tICcuL2NvcmUvYXVkaW9Db250ZXh0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXVkaW9UaW1lRW5naW5lIH0gZnJvbSAnLi9jb3JlL0F1ZGlvVGltZUVuZ2luZSc7XG5leHBvcnQgeyBUaW1lRW5naW5lLCBQcmlvcml0eVF1ZXVlLCBTY2hlZHVsaW5nUXVldWUgfSBmcm9tICd3YXZlcy1tYXN0ZXJzJztcblxuLy8gZW5naW5lc1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHcmFudWxhckVuZ2luZSB9IGZyb20gJy4vZW5naW5lcy9HcmFudWxhckVuZ2luZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1ldHJvbm9tZSB9IGZyb20gJy4vZW5naW5lcy9NZXRyb25vbWUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQbGF5ZXJFbmdpbmUgfSBmcm9tICcuL2VuZ2luZXMvUGxheWVyRW5naW5lJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VnbWVudEVuZ2luZSB9IGZyb20gJy4vZW5naW5lcy9TZWdtZW50RW5naW5lJztcblxuLy8gbWFzdGVyc1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQbGF5Q29udHJvbCB9IGZyb20gJy4vbWFzdGVycy9QbGF5Q29udHJvbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyYW5zcG9ydCB9IGZyb20gJy4vbWFzdGVycy9UcmFuc3BvcnQnO1xuXG4vLyBmYWN0b3JpZXNcbmV4cG9ydCB7IGdldFNjaGVkdWxlciwgZ2V0U2ltcGxlU2NoZWR1bGVyIH0gZnJvbSAnLi9tYXN0ZXJzL2ZhY3Rvcmllcyc7XG5cblxuIl19","deps":{"./core/audioContext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js","./masters/factories":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js","./masters/PlayControl":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/PlayControl.js","./masters/Transport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/Transport.js","./engines/Metronome":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/Metronome.js","./engines/PlayerEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/PlayerEngine.js","./engines/SegmentEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/SegmentEngine.js","./engines/GranularEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/GranularEngine.js","./core/AudioTimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js","source":"'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","deps":{"./_a-function":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_user-agent.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_user-agent.js","source":"var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_promise-resolve.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_promise-resolve.js","source":"var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","deps":{"./_new-promise-capability":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js","./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js","source":"var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","deps":{"./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_microtask.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_microtask.js","source":"var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_task":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_task.js","./_cof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-species.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-species.js","source":"'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","deps":{"./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-detect.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-detect.js","source":"var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","deps":{"./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","source":"// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","deps":{"./_a-function":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","source":"var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","deps":{"./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_add-to-unscopables.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_add-to-unscopables.js","source":"module.exports = function () { /* empty */ };\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-step.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-step.js","source":"module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js","source":"// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js","source":"// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_string-at.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_string-at.js","source":"var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","deps":{"./_defined":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js","./_to-integer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js","source":"var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js","source":"var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js","source":"// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","deps":{"./_cof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js","source":"module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","source":"var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","source":"var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.finally.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.finally.js","source":"// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","deps":{"./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_species-constructor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_species-constructor.js","./_promise-resolve":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_promise-resolve.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_invoke.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_invoke.js","source":"// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/loader.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/loader.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Promise based implementation of XMLHttpRequest Level 2 for GET method.\n */\nvar Loader = function () {\n  /**\n   * @constructs\n   * @param {string} [responseType=\"\"] - responseType's value, \"text\" (equal to \"\"), \"arraybuffer\", \"blob\", \"document\" or \"json\"\n   */\n  function Loader() {\n    var responseType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    (0, _classCallCheck3.default)(this, Loader);\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.responseType = responseType;\n\n    /**\n     * @type {function}\n     * @private\n     */\n    this.progressCb = undefined;\n  }\n\n  /**\n   * Method for a promise based file loading.\n   * Internally switch between loadOne and loadAll.\n   * @public\n   * @param {(string|string[])} fileURLs - The URL(s) of the files to load. Accepts a URL pointing to the file location or an array of URLs.\n   * @returns {Promise}\n   */\n\n\n  (0, _createClass3.default)(Loader, [{\n    key: 'load',\n    value: function load(fileURLs) {\n      if (fileURLs === undefined) throw new Error('Invalid fileURLs parameter: load method needs at least a url to load');\n\n      if (Array.isArray(fileURLs)) return this.loadAll(fileURLs);else return this.loadOne(fileURLs);\n    }\n\n    /**\n     * Load a single file\n     * @private\n     * @param {string} fileURL - The URL of the file to load.\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'loadOne',\n    value: function loadOne(fileURL) {\n      return this.fileLoadingRequest(fileURL);\n    }\n\n    /**\n     * Load all files at once in a single array and return a Promise\n     * @private\n     * @param {string[]} fileURLs - The URLs array of the files to load.\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'loadAll',\n    value: function loadAll(fileURLs) {\n      var _this = this;\n\n      var promises = fileURLs.map(function (fileURL, index) {\n        return _this.fileLoadingRequest(fileURL, index);\n      });\n\n      return _promise2.default.all(promises);\n    }\n\n    /**\n     * Load a file asynchronously, return a Promise.\n     * @private\n     * @param {string} url - The URL of the file to load\n     * @param {string} [index] - The index of the file in the array of files to load\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'fileLoadingRequest',\n    value: function fileLoadingRequest(url, index) {\n      var _this2 = this;\n\n      var promise = new _promise2.default(function (resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.index = index;\n\n        if (_this2.responseType) {\n          request.responseType = _this2.responseType;\n        } else {\n          var suffix = '.json';\n          if (url.indexOf(suffix, _this2.length - suffix.length) !== -1) {\n            request.responseType = 'json';\n          } else {\n            request.responseType = 'arraybuffer';\n          }\n        }\n\n        request.addEventListener('load', function () {\n          // Test request.status value, as 404 will also get there\n          // Test request.status === 0 for cordova internal ajax calls\n          if (request.status === 200 || request.status === 304 || request.status === 0) {\n            // Hack for iOS 7, to remove as soon as possible\n            if (this.responseType === 'json' && typeof request.response === 'string') request.response = JSON.parse(request.response);\n\n            resolve(request.response);\n          } else {\n            reject(new Error(request.statusText));\n          }\n        });\n\n        request.addEventListener('progress', function (evt) {\n          if (_this2.progressCallback) {\n            var event = {\n              value: evt.loaded / evt.total,\n              loaded: evt.loaded,\n              total: evt.total\n            };\n\n            if (index !== undefined) event.index = index;\n\n            _this2.progressCallback(event);\n          }\n        });\n        // Manage network errors\n        request.addEventListener('error', function () {\n          reject(new Error('Network Error'));\n        });\n\n        request.send();\n      });\n\n      return promise;\n    }\n\n    /**\n     * Alternative API to set the progress callback.\n     * @type {function} callback - The callback that handles the response.\n     */\n\n  }, {\n    key: 'onProgress',\n    value: function onProgress(callback) {\n      this.progressCb = callback;\n    }\n\n    /**\n     * Get the callback function to get the progress of file loading process.\n     * This is only for the file loading progress as decodeAudioData doesn't\n     * expose a decode progress value.\n     * @type {function}\n     */\n\n  }, {\n    key: 'progressCallback',\n    get: function get() {\n      return this.progressCb;\n    }\n\n    /**\n     * Set the callback function to get the progress of file loading process.\n     * This is only for the file loading progress as decodeAudioData doesn't\n     * expose a decode progress value.\n     * @type {function} callback - The callback that handles the response.\n     */\n    ,\n    set: function set(callback) {\n      this.progressCb = callback;\n    }\n  }]);\n  return Loader;\n}();\n\nexports.default = Loader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRlci5qcyJdLCJuYW1lcyI6WyJMb2FkZXIiLCJyZXNwb25zZVR5cGUiLCJ1bmRlZmluZWQiLCJwcm9ncmVzc0NiIiwiZmlsZVVSTHMiLCJFcnJvciIsIkFycmF5IiwiaXNBcnJheSIsImxvYWRBbGwiLCJsb2FkT25lIiwiZmlsZVVSTCIsImZpbGVMb2FkaW5nUmVxdWVzdCIsInByb21pc2VzIiwibWFwIiwiaW5kZXgiLCJhbGwiLCJ1cmwiLCJwcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzdWZmaXgiLCJpbmRleE9mIiwibGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXR1cyIsInJlc3BvbnNlIiwiSlNPTiIsInBhcnNlIiwic3RhdHVzVGV4dCIsImV2dCIsInByb2dyZXNzQ2FsbGJhY2siLCJldmVudCIsInZhbHVlIiwibG9hZGVkIiwidG90YWwiLCJzZW5kIiwiY2FsbGJhY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztJQUdxQkEsTTtBQUNuQjs7OztBQUlBLG9CQUFzQztBQUFBLFFBQTFCQyxZQUEwQix1RUFBWEMsU0FBVztBQUFBOztBQUNwQzs7OztBQUlBLFNBQUtELFlBQUwsR0FBb0JBLFlBQXBCOztBQUVBOzs7O0FBSUEsU0FBS0UsVUFBTCxHQUFrQkQsU0FBbEI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7eUJBT0tFLFEsRUFBVTtBQUNiLFVBQUlBLGFBQWFGLFNBQWpCLEVBQ0UsTUFBTyxJQUFJRyxLQUFKLENBQVUsc0VBQVYsQ0FBUDs7QUFFRixVQUFJQyxNQUFNQyxPQUFOLENBQWNILFFBQWQsQ0FBSixFQUNFLE9BQU8sS0FBS0ksT0FBTCxDQUFhSixRQUFiLENBQVAsQ0FERixLQUdFLE9BQU8sS0FBS0ssT0FBTCxDQUFhTCxRQUFiLENBQVA7QUFDSDs7QUFFRDs7Ozs7Ozs7OzRCQU1RTSxPLEVBQVM7QUFDZixhQUFPLEtBQUtDLGtC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dXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvbWlzZSBiYXNlZCBpbXBsZW1lbnRhdGlvbiBvZiBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyIGZvciBHRVQgbWV0aG9kLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXIge1xuICAvKipcbiAgICogQGNvbnN0cnVjdHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZVR5cGU9XCJcIl0gLSByZXNwb25zZVR5cGUncyB2YWx1ZSwgXCJ0ZXh0XCIgKGVxdWFsIHRvIFwiXCIpLCBcImFycmF5YnVmZmVyXCIsIFwiYmxvYlwiLCBcImRvY3VtZW50XCIgb3IgXCJqc29uXCJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlVHlwZSA9IHVuZGVmaW5lZCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucHJvZ3Jlc3NDYiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgZm9yIGEgcHJvbWlzZSBiYXNlZCBmaWxlIGxvYWRpbmcuXG4gICAqIEludGVybmFsbHkgc3dpdGNoIGJldHdlZW4gbG9hZE9uZSBhbmQgbG9hZEFsbC5cbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0geyhzdHJpbmd8c3RyaW5nW10pfSBmaWxlVVJMcyAtIFRoZSBVUkwocykgb2YgdGhlIGZpbGVzIHRvIGxvYWQuIEFjY2VwdHMgYSBVUkwgcG9pbnRpbmcgdG8gdGhlIGZpbGUgbG9jYXRpb24gb3IgYW4gYXJyYXkgb2YgVVJMcy5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBsb2FkKGZpbGVVUkxzKSB7XG4gICAgaWYgKGZpbGVVUkxzID09PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyAobmV3IEVycm9yKCdJbnZhbGlkIGZpbGVVUkxzIHBhcmFtZXRlcjogbG9hZCBtZXRob2QgbmVlZHMgYXQgbGVhc3QgYSB1cmwgdG8gbG9hZCcpKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbGVVUkxzKSlcbiAgICAgIHJldHVybiB0aGlzLmxvYWRBbGwoZmlsZVVSTHMpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB0aGlzLmxvYWRPbmUoZmlsZVVSTHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBzaW5nbGUgZmlsZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZVVSTCAtIFRoZSBVUkwgb2YgdGhlIGZpbGUgdG8gbG9hZC5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBsb2FkT25lKGZpbGVVUkwpIHtcbiAgICByZXR1cm4gdGhpcy5maWxlTG9hZGluZ1JlcXVlc3QoZmlsZVVSTCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbGwgZmlsZXMgYXQgb25jZSBpbiBhIHNpbmdsZSBhcnJheSBhbmQgcmV0dXJuIGEgUHJvbWlzZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWxlVVJMcyAtIFRoZSBVUkxzIGFycmF5IG9mIHRoZSBmaWxlcyB0byBsb2FkLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGxvYWRBbGwoZmlsZVVSTHMpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IGZpbGVVUkxzLm1hcCgoZmlsZVVSTCwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmZpbGVMb2FkaW5nUmVxdWVzdChmaWxlVVJMLCBpbmRleCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBmaWxlIGFzeW5jaHJvbm91c2x5LCByZXR1cm4gYSBQcm9taXNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCBvZiB0aGUgZmlsZSB0byBsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbaW5kZXhdIC0gVGhlIGluZGV4IG9mIHRoZSBmaWxlIGluIHRoZSBhcnJheSBvZiBmaWxlcyB0byBsb2FkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZmlsZUxvYWRpbmdSZXF1ZXN0KHVybCwgaW5kZXgpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgcmVxdWVzdC5pbmRleCA9IGluZGV4O1xuXG4gICAgICBpZiAodGhpcy5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdWZmaXggPSAnLmpzb24nO1xuICAgICAgICBpZiAodXJsLmluZGV4T2Yoc3VmZml4LCB0aGlzLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMSkge1xuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVGVzdCByZXF1ZXN0LnN0YXR1cyB2YWx1ZSwgYXMgNDA0IHdpbGwgYWxzbyBnZXQgdGhlcmVcbiAgICAgICAgLy8gVGVzdCByZXF1ZXN0LnN0YXR1cyA9PT0gMCBmb3IgY29yZG92YSBpbnRlcm5hbCBhamF4IGNhbGxzXG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwIHx8IHJlcXVlc3Quc3RhdHVzID09PSAzMDQgfHzCoHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgLy8gSGFjayBmb3IgaU9TIDcsIHRvIHJlbW92ZSBhcyBzb29uIGFzIHBvc3NpYmxlXG4gICAgICAgICAgaWYgKHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbicgJiYgdHlwZW9mKHJlcXVlc3QucmVzcG9uc2UpID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2UpO1xuXG4gICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3BvbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKHJlcXVlc3Quc3RhdHVzVGV4dCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIChldnQpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NDYWxsYmFjaykge1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICAgICAgdmFsdWU6IGV2dC5sb2FkZWQgLyBldnQudG90YWwsXG4gICAgICAgICAgICBsb2FkZWQ6IGV2dC5sb2FkZWQsXG4gICAgICAgICAgICB0b3RhbDogZXZ0LnRvdGFsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgZXZlbnQuaW5kZXggPSBpbmRleDtcblxuICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxsYmFjayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gTWFuYWdlIG5ldHdvcmsgZXJyb3JzXG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05ldHdvcmsgRXJyb3InKSk7XG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbHRlcm5hdGl2ZSBBUEkgdG8gc2V0IHRoZSBwcm9ncmVzcyBjYWxsYmFjay5cbiAgICogQHR5cGUge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0aGF0IGhhbmRsZXMgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb25Qcm9ncmVzcyhjYWxsYmFjaykge1xuICAgIHRoaXMucHJvZ3Jlc3NDYiA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gZ2V0IHRoZSBwcm9ncmVzcyBvZiBmaWxlIGxvYWRpbmcgcHJvY2Vzcy5cbiAgICogVGhpcyBpcyBvbmx5IGZvciB0aGUgZmlsZSBsb2FkaW5nIHByb2dyZXNzIGFzIGRlY29kZUF1ZGlvRGF0YSBkb2Vzbid0XG4gICAqIGV4cG9zZSBhIGRlY29kZSBwcm9ncmVzcyB2YWx1ZS5cbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKi9cbiAgZ2V0IHByb2dyZXNzQ2FsbGJhY2soKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NDYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGdldCB0aGUgcHJvZ3Jlc3Mgb2YgZmlsZSBsb2FkaW5nIHByb2Nlc3MuXG4gICAqIFRoaXMgaXMgb25seSBmb3IgdGhlIGZpbGUgbG9hZGluZyBwcm9ncmVzcyBhcyBkZWNvZGVBdWRpb0RhdGEgZG9lc24ndFxuICAgKiBleHBvc2UgYSBkZWNvZGUgcHJvZ3Jlc3MgdmFsdWUuXG4gICAqIEB0eXBlIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgdGhhdCBoYW5kbGVzIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHNldCBwcm9ncmVzc0NhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wcm9ncmVzc0NiID0gY2FsbGJhY2s7XG4gIH1cbn1cbiJdfQ==","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/super-loader.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/super-loader.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _audioBufferLoader = require('./audio-buffer-loader');\n\nvar _audioBufferLoader2 = _interopRequireDefault(_audioBufferLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * SuperLoader\n * Helper to load multiple type of files, and get them in their useful type, json for json files, AudioBuffer for audio files.\n */\nvar SuperLoader = function (_AudioBufferLoader) {\n  (0, _inherits3.default)(SuperLoader, _AudioBufferLoader);\n\n  /**\n   * Use composition to setup appropriate file loaders\n   */\n  function SuperLoader() {\n    (0, _classCallCheck3.default)(this, SuperLoader);\n    return (0, _possibleConstructorReturn3.default)(this, (SuperLoader.__proto__ || (0, _getPrototypeOf2.default)(SuperLoader)).call(this, null));\n    // bypass AudioBufferLoader constructor. This is bad but it works.\n  }\n\n  return SuperLoader;\n}(_audioBufferLoader2.default);\n\nexports.default = SuperLoader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1cGVyLWxvYWRlci5qcyJdLCJuYW1lcyI6WyJTdXBlckxvYWRlciIsIkF1ZGlvQnVmZmVyTG9hZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUdBOzs7O0lBSXFCQSxXOzs7QUFDbkI7OztBQUdBLHlCQUFjO0FBQUE7QUFBQSwySUFDTixJQURNO0FBRVo7QUFDRDs7O0VBUHNDQywyQjs7a0JBQXBCRCxXIiwiZmlsZSI6InN1cGVyLWxvYWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBdWRpb0J1ZmZlckxvYWRlciBmcm9tICcuL2F1ZGlvLWJ1ZmZlci1sb2FkZXInO1xuXG5cbi8qKlxuICogU3VwZXJMb2FkZXJcbiAqIEhlbHBlciB0byBsb2FkIG11bHRpcGxlIHR5cGUgb2YgZmlsZXMsIGFuZCBnZXQgdGhlbSBpbiB0aGVpciB1c2VmdWwgdHlwZSwganNvbiBmb3IganNvbiBmaWxlcywgQXVkaW9CdWZmZXIgZm9yIGF1ZGlvIGZpbGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdXBlckxvYWRlciBleHRlbmRzIEF1ZGlvQnVmZmVyTG9hZGVyIHtcbiAgLyoqXG4gICAqIFVzZSBjb21wb3NpdGlvbiB0byBzZXR1cCBhcHByb3ByaWF0ZSBmaWxlIGxvYWRlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIC8vIGJ5cGFzcyBBdWRpb0J1ZmZlckxvYWRlciBjb25zdHJ1Y3Rvci4gVGhpcyBpcyBiYWQgYnV0IGl0IHdvcmtzLlxuICB9XG59XG4iXX0=","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","./audio-buffer-loader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/audio-buffer-loader.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/audio-buffer-loader.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/audio-buffer-loader.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise2 = require('babel-runtime/core-js/promise');\n\nvar _promise3 = _interopRequireDefault(_promise2);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\n\nif (!AudioContext) throw new Error('WebAudio API not supported');\n\nvar audioContext = new AudioContext();\n\nvar silentBuffer = new Uint32Array([0x46464952, 0x00000038, 0x45564157, 0x20746d66, 0x00000010, 0x00010001, 0x0000ac44, 0x00015888, 0x00100002, 0x61746164, 0x00000014, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000]).buffer;\n\nvar noop = function noop() {};\n\n// @todo - review to allow to use external audioContext\nvar _decodeAudioData = audioContext.decodeAudioData;\nvar promise = audioContext.decodeAudioData(silentBuffer, noop, noop);\n// implement non promised base decode audio data\nif (!promise) {\n  _decodeAudioData = function decodeAudioData(arraybuffer) {\n    return new _promise3.default(function (resolve, reject) {\n      audioContext.decodeAudioData(arraybuffer, function (buffer) {\n        resolve(buffer);\n      }, function (err) {\n        reject(new Error('Unable to decode audio data'));\n      });\n    });\n  };\n}\n\n/**\n * AudioBufferLoader\n * Promise based implementation of XMLHttpRequest Level 2 for GET method and\n * decode audio data for arraybuffer.\n */\n\nvar AudioBufferLoader = function (_Loader) {\n  (0, _inherits3.default)(AudioBufferLoader, _Loader);\n\n  /**\n   * Set the responseType to 'arraybuffer' and initialize options.\n   * @param {string} [responseType=\"arraybuffer\"]\n   */\n  function AudioBufferLoader() {\n    var responseType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'arraybuffer';\n    (0, _classCallCheck3.default)(this, AudioBufferLoader);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AudioBufferLoader.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferLoader)).call(this, responseType));\n\n    _this.options = { wrapAroundExtension: 0 };\n    _this.responseType = responseType;\n    _this.audioContext = audioContext;\n\n    _this.decodeAudioData = _this.decodeAudioData.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Allow to set the audio context that should be used in order to decode\n   * the file and create the AudioBuffer.\n   * @param {AudioContext} audioContext\n   */\n\n\n  (0, _createClass3.default)(AudioBufferLoader, [{\n    key: 'setAudioContext',\n    value: function setAudioContext(audioContext) {\n      this.audioContext = audioContext;\n    }\n\n    /**\n     * Method for promise audio file loading and decoding.\n     * @param {(string|string[])} fileURLs - The URL(s) of the audio files to load.\n     *  Accepts a URL pointing to the file location or an array of URLs.\n     * @param {{wrapAroundExtension: number}} [options] - Object with a\n     *  wrapAroundExtension key which set the length, in seconds to be copied from\n     *  the begining at the end of the returned AudioBuffer\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'load',\n    value: function load(fileURLs) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.options = options;\n      this.options.wrapAroundExtension = this.options.wrapAroundExtension || 0;\n\n      return (0, _get3.default)(AudioBufferLoader.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferLoader.prototype), 'load', this).call(this, fileURLs);\n    }\n\n    /**\n     * Load a single audio file, decode it in an AudioBuffer, return a Promise\n     * @private\n     * @param {string} fileURL - The URL of the audio file location to load.\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'loadOne',\n    value: function loadOne(fileURL) {\n      return (0, _get3.default)(AudioBufferLoader.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferLoader.prototype), 'loadOne', this).call(this, fileURL).then(this.decodeAudioData).catch(function (err) {\n        throw err;\n      });\n    }\n\n    /**\n     * Load all audio files at once in a single array, decode them in an array of\n     * AudioBuffers, and return a Promise.\n     * @private\n     * @param {string[]} fileURLs - The URLs array of the audio files to load.\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'loadAll',\n    value: function loadAll(fileURLs) {\n      var _this2 = this;\n\n      return (0, _get3.default)(AudioBufferLoader.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferLoader.prototype), 'loadAll', this).call(this, fileURLs).then(function (arraybuffers) {\n        var promises = arraybuffers.map(function (arraybuffer) {\n          return _this2.decodeAudioData(arraybuffer);\n        });\n\n        return _promise3.default.all(promises);\n      }).catch(function (err) {\n        throw err;\n      });\n    }\n\n    /**\n     * Decode Audio Data, return a Promise\n     * @private\n     * @param {arraybuffer} - The arraybuffer of the loaded audio file to be decoded.\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'decodeAudioData',\n    value: function decodeAudioData(arraybuffer) {\n      var _this3 = this;\n\n      if (arraybuffer instanceof ArrayBuffer) {\n        var _promise = _decodeAudioData.call(audioContext, arraybuffer);\n\n        _promise.then(function (buffer) {\n          if (_this3.options.wrapAroundExtension !== 0) buffer = _this3.__wrapAround(buffer);\n\n          return _promise3.default.resolve(buffer);\n        }).catch(function (err) {\n          throw new Error('Unable to decode audio data');\n        });\n\n        return _promise;\n      } else {\n        return _promise3.default.resolve(arraybuffer);\n      }\n    }\n\n    /**\n     * WrapAround, copy the begining input buffer to the end of an output buffer\n     * @private\n     * @param {arraybuffer} inBuffer {arraybuffer} - The input buffer\n     * @returns {arraybuffer} - The processed buffer (with frame copied from the begining to the end)\n     */\n\n  }, {\n    key: '__wrapAround',\n    value: function __wrapAround(inBuffer) {\n      var numberOfChannels = inBuffer.numberOfChannels,\n          sampleRate = inBuffer.sampleRate,\n          length = inBuffer.length;\n\n      var outLength = length + this.options.wrapAroundExtension * sampleRate;\n      var outBuffer = this.audioContext.createBuffer(numberOfChannels, outLength, sampleRate);\n\n      for (var channel = 0; channel < numberOfChannels; channel++) {\n        var channelData = inBuffer.getChannelData(channel);\n        var outData = outBuffer.getChannelData(channel);\n        var inLength = inBuffer.length;\n\n        for (var i = 0; i < outLength; i++) {\n          if (i < inLength) outData[i] = channelData[i];else outData[i] = channelData[i - inLength];\n        }\n      }\n\n      return outBuffer;\n    }\n  }]);\n  return AudioBufferLoader;\n}(_loader2.default);\n\nexports.default = AudioBufferLoader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1ZGlvLWJ1ZmZlci1sb2FkZXIuanMiXSwibmFtZXMiOlsiQXVkaW9Db250ZXh0Iiwid2luZG93Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiRXJyb3IiLCJhdWRpb0NvbnRleHQiLCJzaWxlbnRCdWZmZXIiLCJVaW50MzJBcnJheSIsImJ1ZmZlciIsIm5vb3AiLCJkZWNvZGVBdWRpb0RhdGEiLCJwcm9taXNlIiwiYXJyYXlidWZmZXIiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwiQXVkaW9CdWZmZXJMb2FkZXIiLCJyZXNwb25zZVR5cGUiLCJvcHRpb25zIiwid3JhcEFyb3VuZEV4dGVuc2lvbiIsImJpbmQiLCJmaWxlVVJMcyIsImZpbGVVUkwiLCJ0aGVuIiwiY2F0Y2giLCJhcnJheWJ1ZmZlcnMiLCJwcm9taXNlcyIsIm1hcCIsImFsbCIsIkFycmF5QnVmZmVyIiwiY2FsbCIsIl9fd3JhcEFyb3VuZCIsImluQnVmZmVyIiwibnVtYmVyT2ZDaGFubmVscyIsInNhbXBsZVJhdGUiLCJsZW5ndGgiLCJvdXRMZW5ndGgiLCJvdXRCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJjaGFubmVsIiwiY2hhbm5lbERhdGEiLCJnZXRDaGFubmVsRGF0YSIsIm91dERhdGEiLCJpbkxlbmd0aCIsImkiLCJMb2FkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsZUFBZ0JDLE9BQU9ELFlBQVAsSUFBdUJDLE9BQU9DLGtCQUFwRDs7QUFFQSxJQUFJLENBQUNGLFlBQUwsRUFDRSxNQUFNLElBQUlHLEtBQUosQ0FBVSw0QkFBVixDQUFOOztBQUVGLElBQU1DLGVBQWUsSUFBSUosWUFBSixFQUFyQjs7QUFFQSxJQUFNSyxlQUFlLElBQUlDLFdBQUosQ0FBZ0IsQ0FDbkMsVUFEbUMsRUFDdkIsVUFEdUIsRUFDWCxVQURXLEVBQ0MsVUFERCxFQUVuQyxVQUZtQyxFQUV2QixVQUZ1QixFQUVYLFVBRlcs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USxHQUEvQixFQUFvQztBQUNsQyxjQUFJQSxJQUFJRCxRQUFSLEVBQ0VELFFBQVFFLENBQVIsSUFBYUosWUFBWUksQ0FBWixDQUFiLENBREYsS0FHRUYsUUFBUUUsQ0FBUixJQUFhSixZQUFZSSxJQUFJRCxRQUFoQixDQUFiO0FBQ0g7QUFDRjs7QUFFRCxhQUFPTixTQUFQO0FBQ0Q7OztFQXpINENRLGdCOztrQkFBMUI3QixpQiIsImZpbGUiOiJhdWRpby1idWZmZXItbG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvYWRlciBmcm9tICcuL2xvYWRlcic7XG5cbmNvbnN0IEF1ZGlvQ29udGV4dCA9ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpO1xuXG5pZiAoIUF1ZGlvQ29udGV4dClcbiAgdGhyb3cgbmV3IEVycm9yKCdXZWJBdWRpbyBBUEkgbm90IHN1cHBvcnRlZCcpO1xuXG5jb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG5cbmNvbnN0IHNpbGVudEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheShbXG4gIDB4NDY0NjQ5NTIsIDB4MDAwMDAwMzgsIDB4NDU1NjQxNTcsIDB4MjA3NDZkNjYsXG4gIDB4MDAwMDAwMTAsIDB4MDAwMTAwMDEsIDB4MDAwMGFjNDQsIDB4MDAwMTU4ODgsXG4gIDB4MDAxMDAwMDIsIDB4NjE3NDYxNjQsIDB4MDAwMDAwMTQsIDB4MDAwMDAwMDAsXG4gIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsXG4gIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsXG4gIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsXG4gIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsIDB4MDAwMDAwMDAsXG5dKS5idWZmZXI7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuLy8gQHRvZG8gLSByZXZpZXcgdG8gYWxsb3cgdG8gdXNlIGV4dGVybmFsIGF1ZGlvQ29udGV4dFxubGV0IGRlY29kZUF1ZGlvRGF0YSA9IGF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGE7XG5jb25zdCBwcm9taXNlID0gYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShzaWxlbnRCdWZmZXIsIG5vb3AsIG5vb3ApO1xuLy8gaW1wbGVtZW50IG5vbiBwcm9taXNlZCBiYXNlIGRlY29kZSBhdWRpbyBkYXRhXG5pZiAoIXByb21pc2UpIHtcbiAgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBhdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCAoYnVmZmVyKSA9PiB7XG4gICAgICAgIHJlc29sdmUoYnVmZmVyKTtcbiAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVW5hYmxlIHRvIGRlY29kZSBhdWRpbyBkYXRhJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEF1ZGlvQnVmZmVyTG9hZGVyXG4gKiBQcm9taXNlIGJhc2VkIGltcGxlbWVudGF0aW9uIG9mIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIgZm9yIEdFVCBtZXRob2QgYW5kXG4gKiBkZWNvZGUgYXVkaW8gZGF0YSBmb3IgYXJyYXlidWZmZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvQnVmZmVyTG9hZGVyIGV4dGVuZHMgTG9hZGVyIHtcbiAgLyoqXG4gICAqIFNldCB0aGUgcmVzcG9uc2VUeXBlIHRvICdhcnJheWJ1ZmZlcicgYW5kIGluaXRpYWxpemUgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiXVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJykge1xuICAgIHN1cGVyKHJlc3BvbnNlVHlwZSk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7IHdyYXBBcm91bmRFeHRlbnNpb246IDAgfTtcbiAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IGF1ZGlvQ29udGV4dDtcblxuICAgIHRoaXMuZGVjb2RlQXVkaW9EYXRhID0gdGhpcy5kZWNvZGVBdWRpb0RhdGEuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvdyB0byBzZXQgdGhlIGF1ZGlvIGNvbnRleHQgdGhhdCBzaG91bGQgYmUgdXNlZCBpbiBvcmRlciB0byBkZWNvZGVcbiAgICogdGhlIGZpbGUgYW5kIGNyZWF0ZSB0aGUgQXVkaW9CdWZmZXIuXG4gICAqIEBwYXJhbSB7QXVkaW9Db250ZXh0fSBhdWRpb0NvbnRleHRcbiAgICovXG4gIHNldEF1ZGlvQ29udGV4dChhdWRpb0NvbnRleHQpIHtcbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IGF1ZGlvQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgZm9yIHByb21pc2UgYXVkaW8gZmlsZSBsb2FkaW5nIGFuZCBkZWNvZGluZy5cbiAgICogQHBhcmFtIHsoc3RyaW5nfHN0cmluZ1tdKX0gZmlsZVVSTHMgLSBUaGUgVVJMKHMpIG9mIHRoZSBhdWRpbyBmaWxlcyB0byBsb2FkLlxuICAgKiAgQWNjZXB0cyBhIFVSTCBwb2ludGluZyB0byB0aGUgZmlsZSBsb2NhdGlvbiBvciBhbiBhcnJheSBvZiBVUkxzLlxuICAgKiBAcGFyYW0ge3t3cmFwQXJvdW5kRXh0ZW5zaW9uOiBudW1iZXJ9fSBbb3B0aW9uc10gLSBPYmplY3Qgd2l0aCBhXG4gICAqICB3cmFwQXJvdW5kRXh0ZW5zaW9uIGtleSB3aGljaCBzZXQgdGhlIGxlbmd0aCwgaW4gc2Vjb25kcyB0byBiZSBjb3BpZWQgZnJvbVxuICAgKiAgdGhlIGJlZ2luaW5nIGF0IHRoZSBlbmQgb2YgdGhlIHJldHVybmVkIEF1ZGlvQnVmZmVyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgbG9hZChmaWxlVVJMcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZEV4dGVuc2lvbiA9IHRoaXMub3B0aW9ucy53cmFwQXJvdW5kRXh0ZW5zaW9uIHx8IDA7XG5cbiAgICByZXR1cm4gc3VwZXIubG9hZChmaWxlVVJMcyk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHNpbmdsZSBhdWRpbyBmaWxlLCBkZWNvZGUgaXQgaW4gYW4gQXVkaW9CdWZmZXIsIHJldHVybiBhIFByb21pc2VcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVVUkwgLSBUaGUgVVJMIG9mIHRoZSBhdWRpbyBmaWxlIGxvY2F0aW9uIHRvIGxvYWQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgbG9hZE9uZShmaWxlVVJMKSB7XG4gICAgcmV0dXJuIHN1cGVyLmxvYWRPbmUoZmlsZVVSTClcbiAgICAgIC50aGVuKHRoaXMuZGVjb2RlQXVkaW9EYXRhKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHsgdGhyb3cgZXJyOyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFsbCBhdWRpbyBmaWxlcyBhdCBvbmNlIGluIGEgc2luZ2xlIGFycmF5LCBkZWNvZGUgdGhlbSBpbiBhbiBhcnJheSBvZlxuICAgKiBBdWRpb0J1ZmZlcnMsIGFuZCByZXR1cm4gYSBQcm9taXNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWxlVVJMcyAtIFRoZSBVUkxzIGFycmF5IG9mIHRoZSBhdWRpbyBmaWxlcyB0byBsb2FkLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGxvYWRBbGwoZmlsZVVSTHMpIHtcbiAgICByZXR1cm4gc3VwZXIubG9hZEFsbChmaWxlVVJMcylcbiAgICAgIC50aGVuKChhcnJheWJ1ZmZlcnMpID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBhcnJheWJ1ZmZlcnMubWFwKChhcnJheWJ1ZmZlcikgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHsgdGhyb3cgZXJyOyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNvZGUgQXVkaW8gRGF0YSwgcmV0dXJuIGEgUHJvbWlzZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2FycmF5YnVmZmVyfSAtIFRoZSBhcnJheWJ1ZmZlciBvZiB0aGUgbG9hZGVkIGF1ZGlvIGZpbGUgdG8gYmUgZGVjb2RlZC5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBkZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpIHtcbiAgICBpZiAoYXJyYXlidWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IGRlY29kZUF1ZGlvRGF0YS5jYWxsKGF1ZGlvQ29udGV4dCwgYXJyYXlidWZmZXIpXG5cbiAgICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKGJ1ZmZlcikgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZEV4dGVuc2lvbiAhPT0gMClcbiAgICAgICAgICAgIGJ1ZmZlciA9IHRoaXMuX193cmFwQXJvdW5kKGJ1ZmZlcik7XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJ1ZmZlcik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7IHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGRlY29kZSBhdWRpbyBkYXRhJykgfSk7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFycmF5YnVmZmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV3JhcEFyb3VuZCwgY29weSB0aGUgYmVnaW5pbmcgaW5wdXQgYnVmZmVyIHRvIHRoZSBlbmQgb2YgYW4gb3V0cHV0IGJ1ZmZlclxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2FycmF5YnVmZmVyfSBpbkJ1ZmZlciB7YXJyYXlidWZmZXJ9IC0gVGhlIGlucHV0IGJ1ZmZlclxuICAgKiBAcmV0dXJucyB7YXJyYXlidWZmZXJ9IC0gVGhlIHByb2Nlc3NlZCBidWZmZXIgKHdpdGggZnJhbWUgY29waWVkIGZyb20gdGhlIGJlZ2luaW5nIHRvIHRoZSBlbmQpXG4gICAqL1xuICBfX3dyYXBBcm91bmQoaW5CdWZmZXIpIHtcbiAgICBjb25zdCB7IG51bWJlck9mQ2hhbm5lbHMsIHNhbXBsZVJhdGUsIGxlbmd0aCB9ID0gaW5CdWZmZXI7XG4gICAgY29uc3Qgb3V0TGVuZ3RoID0gbGVuZ3RoICsgdGhpcy5vcHRpb25zLndyYXBBcm91bmRFeHRlbnNpb24gKiBzYW1wbGVSYXRlO1xuICAgIGNvbnN0IG91dEJ1ZmZlciA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcihudW1iZXJPZkNoYW5uZWxzLCBvdXRMZW5ndGgsIHNhbXBsZVJhdGUpO1xuXG4gICAgZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBudW1iZXJPZkNoYW5uZWxzOyBjaGFubmVsKyspIHtcbiAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gaW5CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2hhbm5lbCk7XG4gICAgICBjb25zdCBvdXREYXRhID0gb3V0QnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpO1xuICAgICAgY29uc3QgaW5MZW5ndGggPSBpbkJ1ZmZlci5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBpbkxlbmd0aClcbiAgICAgICAgICBvdXREYXRhW2ldID0gY2hhbm5lbERhdGFbaV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvdXREYXRhW2ldID0gY2hhbm5lbERhdGFbaSAtIGluTGVuZ3RoXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xuICB9XG59XG4iXX0=","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","./loader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/loader.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loader = require('./loader');\n\nObject.defineProperty(exports, 'Loader', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_loader).default;\n  }\n});\n\nvar _audioBufferLoader = require('./audio-buffer-loader');\n\nObject.defineProperty(exports, 'AudioBufferLoader', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_audioBufferLoader).default;\n  }\n});\n\nvar _superLoader = require('./super-loader');\n\nObject.defineProperty(exports, 'SuperLoader', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_superLoader).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzJDQUtTQSxPOzs7Ozs7Ozs7c0RBQ0FBLE87Ozs7Ozs7OztnREFDQUEsTyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgTG9hZGVyczogQXVkaW9CdWZmZXIgbG9hZGVyIGFuZCB1dGlsaXRpZXNcbiAqIEBhdXRob3IgU2FtdWVsIEdvbGRzem1pZHRcbiAqIEB2ZXJzaW9uIDAuMS4xXG4gKi9cbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9hZGVyIH0gZnJvbSAnLi9sb2FkZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBdWRpb0J1ZmZlckxvYWRlciB9IGZyb20gJy4vYXVkaW8tYnVmZmVyLWxvYWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN1cGVyTG9hZGVyIH0gZnJvbSAnLi9zdXBlci1sb2FkZXInO1xuIl19","deps":{"./loader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/loader.js","./audio-buffer-loader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/audio-buffer-loader.js","./super-loader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/super-loader.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.templatesettings/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.templatesettings/index.js","source":"(function (global){(function (){\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar reInterpolate = require('lodash._reinterpolate');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]';\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/** Used to match template delimiters. */\nvar reEscape = /<%-([\\s\\S]+?)%>/g,\n    reEvaluate = /<%([\\s\\S]+?)%>/g;\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * By default, the template delimiters used by lodash are like those in\n * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n * following template settings to use alternative delimiters.\n *\n * @static\n * @memberOf _\n * @type {Object}\n */\nvar templateSettings = {\n\n  /**\n   * Used to detect `data` property values to be HTML-escaped.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'escape': reEscape,\n\n  /**\n   * Used to detect code to be evaluated.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'evaluate': reEvaluate,\n\n  /**\n   * Used to detect `data` property values to inject.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'interpolate': reInterpolate,\n\n  /**\n   * Used to reference the data object in the template text.\n   *\n   * @memberOf _.templateSettings\n   * @type {string}\n   */\n  'variable': '',\n\n  /**\n   * Used to import variables into the compiled template.\n   *\n   * @memberOf _.templateSettings\n   * @type {Object}\n   */\n  'imports': {\n\n    /**\n     * A reference to the `lodash` function.\n     *\n     * @memberOf _.templateSettings.imports\n     * @type {Function}\n     */\n    '_': { 'escape': escape }\n  }\n};\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = templateSettings;\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9sb2Rhc2gudGVtcGxhdGVzZXR0aW5ncy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xudmFyIHJlSW50ZXJwb2xhdGUgPSByZXF1aXJlKCdsb2Rhc2guX3JlaW50ZXJwb2xhdGUnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbnZhciByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG52YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZztcblxuLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbnZhciBodG1sRXNjYXBlcyA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7J1xufTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xudmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgdGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAvKipcbiAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqL1xuICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gICd2YXJpYWJsZSc6ICcnLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gICdpbXBvcnRzJzoge1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgICdfJzogeyAnZXNjYXBlJzogZXNjYXBlIH1cbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAqXG4gKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICpcbiAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICogWFNTIHZlY3RvcnMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICA6IHN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0ZW1wbGF0ZVNldHRpbmdzO1xuIl19","deps":{"lodash._reinterpolate":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash._reinterpolate/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.template/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.template/index.js","source":"(function (global){(function (){\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar reInterpolate = require('lodash._reinterpolate'),\n    templateSettings = require('lodash.templatesettings');\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    domExcTag = '[object DOMException]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match empty string literals in compiled template source. */\nvar reEmptyStringLeading = /\\b__p \\+= '';/g,\n    reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n    reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/**\n * Used to match\n * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n */\nvar reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to ensure capturing order of template delimiters. */\nvar reNoMatch = /($^)/;\n\n/** Used to match unescaped characters in compiled string literals. */\nvar reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Used to escape characters for inclusion in compiled string literals. */\nvar stringEscapes = {\n  '\\\\': '\\\\',\n  \"'\": \"'\",\n  '\\n': 'n',\n  '\\r': 'r',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\n/**\n * Used by `_.template` to escape characters for inclusion in compiled string literals.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeStringChar(chr) {\n  return '\\\\' + stringEscapes[chr];\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n * of source objects to the destination object for all destination properties\n * that resolve to `undefined`.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsAssignIn(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * Creates a compiled template function that can interpolate data properties\n * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n * properties may be accessed as free variables in the template. If a setting\n * object is given, it takes precedence over `_.templateSettings` values.\n *\n * **Note:** In the development build `_.template` utilizes\n * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n * for easier debugging.\n *\n * For more information on precompiling templates see\n * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n *\n * For more information on Chrome extension sandboxes see\n * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The template string.\n * @param {Object} [options={}] The options object.\n * @param {RegExp} [options.escape=_.templateSettings.escape]\n *  The HTML \"escape\" delimiter.\n * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n *  The \"evaluate\" delimiter.\n * @param {Object} [options.imports=_.templateSettings.imports]\n *  An object to import into the template as free variables.\n * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n *  The \"interpolate\" delimiter.\n * @param {string} [options.sourceURL='templateSources[n]']\n *  The sourceURL of the compiled template.\n * @param {string} [options.variable='obj']\n *  The data object variable name.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the compiled template function.\n * @example\n *\n * // Use the \"interpolate\" delimiter to create a compiled template.\n * var compiled = _.template('hello <%= user %>!');\n * compiled({ 'user': 'fred' });\n * // => 'hello fred!'\n *\n * // Use the HTML \"escape\" delimiter to escape data property values.\n * var compiled = _.template('<b><%- value %></b>');\n * compiled({ 'value': '<script>' });\n * // => '<b>&lt;script&gt;</b>'\n *\n * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the internal `print` function in \"evaluate\" delimiters.\n * var compiled = _.template('<% print(\"hello \" + user); %>!');\n * compiled({ 'user': 'barney' });\n * // => 'hello barney!'\n *\n * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n * // Disable support by replacing the \"interpolate\" delimiter.\n * var compiled = _.template('hello ${ user }!');\n * compiled({ 'user': 'pebbles' });\n * // => 'hello pebbles!'\n *\n * // Use backslashes to treat delimiters as plain text.\n * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n * compiled({ 'value': 'ignored' });\n * // => '<%- value %>'\n *\n * // Use the `imports` option to import `jQuery` as `jq`.\n * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n * compiled(data);\n * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n *\n * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n * compiled.source;\n * // => function(data) {\n * //   var __t, __p = '';\n * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n * //   return __p;\n * // }\n *\n * // Use custom template delimiters.\n * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n * var compiled = _.template('hello {{ user }}!');\n * compiled({ 'user': 'mustache' });\n * // => 'hello mustache!'\n *\n * // Use the `source` property to inline compiled templates for meaningful\n * // line numbers in error messages and stack traces.\n * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n *   var JST = {\\\n *     \"main\": ' + _.template(mainText).source + '\\\n *   };\\\n * ');\n */\nfunction template(string, options, guard) {\n  // Based on John Resig's `tmpl` implementation\n  // (http://ejohn.org/blog/javascript-micro-templating/)\n  // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n  var settings = templateSettings.imports._.templateSettings || templateSettings;\n\n  if (guard && isIterateeCall(string, options, guard)) {\n    options = undefined;\n  }\n  string = toString(string);\n  options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n  var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n      importsKeys = keys(imports),\n      importsValues = baseValues(imports, importsKeys);\n\n  var isEscaping,\n      isEvaluating,\n      index = 0,\n      interpolate = options.interpolate || reNoMatch,\n      source = \"__p += '\";\n\n  // Compile the regexp to match each delimiter.\n  var reDelimiters = RegExp(\n    (options.escape || reNoMatch).source + '|' +\n    interpolate.source + '|' +\n    (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n    (options.evaluate || reNoMatch).source + '|$'\n  , 'g');\n\n  // Use a sourceURL for easier debugging.\n  // The sourceURL gets injected into the source that's eval-ed, so be careful\n  // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n  // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n  var sourceURL = hasOwnProperty.call(options, 'sourceURL')\n    ? ('//# sourceURL=' +\n       (options.sourceURL + '').replace(/[\\r\\n]/g, ' ') +\n       '\\n')\n    : '';\n\n  string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n    interpolateValue || (interpolateValue = esTemplateValue);\n\n    // Escape characters that can't be included in string literals.\n    source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n    // Replace delimiters with snippets.\n    if (escapeValue) {\n      isEscaping = true;\n      source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n    }\n    if (evaluateValue) {\n      isEvaluating = true;\n      source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n    }\n    if (interpolateValue) {\n      source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n    }\n    index = offset + match.length;\n\n    // The JS engine embedded in Adobe products needs `match` returned in\n    // order to produce the correct `offset` value.\n    return match;\n  });\n\n  source += \"';\\n\";\n\n  // If `variable` is not specified wrap a with-statement around the generated\n  // code to add the data object to the top of the scope chain.\n  // Like with sourceURL, we take care to not check the option's prototype,\n  // as this configuration is a code injection vector.\n  var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n  if (!variable) {\n    source = 'with (obj) {\\n' + source + '\\n}\\n';\n  }\n  // Cleanup code by stripping empty strings.\n  source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n    .replace(reEmptyStringMiddle, '$1')\n    .replace(reEmptyStringTrailing, '$1;');\n\n  // Frame code as the function body.\n  source = 'function(' + (variable || 'obj') + ') {\\n' +\n    (variable\n      ? ''\n      : 'obj || (obj = {});\\n'\n    ) +\n    \"var __t, __p = ''\" +\n    (isEscaping\n       ? ', __e = _.escape'\n       : ''\n    ) +\n    (isEvaluating\n      ? ', __j = Array.prototype.join;\\n' +\n        \"function print() { __p += __j.call(arguments, '') }\\n\"\n      : ';\\n'\n    ) +\n    source +\n    'return __p\\n}';\n\n  var result = attempt(function() {\n    return Function(importsKeys, sourceURL + 'return ' + source)\n      .apply(undefined, importsValues);\n  });\n\n  // Provide the compiled function's source by its `toString` method or\n  // the `source` property as a convenience for inlining compiled templates.\n  result.source = source;\n  if (isError(result)) {\n    throw result;\n  }\n  return result;\n}\n\n/**\n * Attempts to invoke `func`, returning either the result or the caught error\n * object. Any additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Function} func The function to attempt.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {*} Returns the `func` result or error object.\n * @example\n *\n * // Avoid throwing errors for invalid selectors.\n * var elements = _.attempt(function(selector) {\n *   return document.querySelectorAll(selector);\n * }, '>_>');\n *\n * if (_.isError(elements)) {\n *   elements = [];\n * }\n */\nvar attempt = baseRest(function(func, args) {\n  try {\n    return apply(func, undefined, args);\n  } catch (e) {\n    return isError(e) ? e : new Error(e);\n  }\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = template;\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9sb2Rhc2gudGVtcGxhdGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xudmFyIHJlSW50ZXJwb2xhdGUgPSByZXF1aXJlKCdsb2Rhc2guX3JlaW50ZXJwb2xhdGUnKSxcbiAgICB0ZW1wbGF0ZVNldHRpbmdzID0gcmVxdWlyZSgnbG9kYXNoLnRlbXBsYXRlc2V0dGluZ3MnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG52YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaFxuICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAqL1xudmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbnZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbnZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xudmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICdcXFxcJzogJ1xcXFwnLFxuICBcIidcIjogXCInXCIsXG4gICdcXG4nOiAnbicsXG4gICdcXHInOiAncicsXG4gICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgJ1xcdTIwMjknOiAndTIwMjknXG59O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICogb2YgYHByb3BzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gIH0pO1xufVxuXG4vKipcbiAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICB9KTtcbn07XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgcmV0dXJuIHNyY1ZhbHVlO1xuICB9XG4gIHJldHVybiBvYmpWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNFcnJvcihFcnJvcik7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGFsaWFzIGV4dGVuZFdpdGhcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uYXNzaWduV2l0aFxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICogfVxuICpcbiAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAqXG4gKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICovXG52YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAqXG4gKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0ndGVtcGxhdGVTb3VyY2VzW25dJ11cbiAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gKlxuICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gKlxuICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICpcbiAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAqXG4gKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAqXG4gKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICpcbiAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAqXG4gKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICogY29tcGlsZWQoZGF0YSk7XG4gKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICpcbiAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICogY29tcGlsZWQuc291cmNlO1xuICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICogLy8gICByZXR1cm4gX19wO1xuICogLy8gfVxuICpcbiAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICpcbiAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICogICB2YXIgSlNUID0ge1xcXG4gKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAqICAgfTtcXFxuICogJyk7XG4gKi9cbmZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICB2YXIgc2V0dGluZ3MgPSB0ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHMuXy50ZW1wbGF0ZVNldHRpbmdzIHx8IHRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgfVxuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAsICdnJyk7XG5cbiAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gIC8vIHdpdGggbG9va3VwIChpbiBjYXNlIG9mIGUuZy4gcHJvdG90eXBlIHBvbGx1dGlvbiksIGFuZCBzdHJpcCBuZXdsaW5lcyBpZiBhbnkuXG4gIC8vIEEgbmV3bGluZSB3b3VsZG4ndCBiZSBhIHZhbGlkIHNvdXJjZVVSTCBhbnl3YXksIGFuZCBpdCdkIGVuYWJsZSBjb2RlIGluamVjdGlvbi5cbiAgdmFyIHNvdXJjZVVSTCA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3NvdXJjZVVSTCcpXG4gICAgPyAoJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1tcXHJcXG5dL2csICcgJykgK1xuICAgICAgICdcXG4nKVxuICAgIDogJyc7XG5cbiAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgfVxuICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgIH1cbiAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgfVxuICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH0pO1xuXG4gIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gIC8vIExpa2Ugd2l0aCBzb3VyY2VVUkwsIHdlIHRha2UgY2FyZSB0byBub3QgY2hlY2sgdGhlIG9wdGlvbidzIHByb3RvdHlwZSxcbiAgLy8gYXMgdGhpcyBjb25maWd1cmF0aW9uIGlzIGEgY29kZSBpbmplY3Rpb24gdmVjdG9yLlxuICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gIGlmICghdmFyaWFibGUpIHtcbiAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgfVxuICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICh2YXJpYWJsZVxuICAgICAgPyAnJ1xuICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICkgK1xuICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgKGlzRXNjYXBpbmdcbiAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgIDogJydcbiAgICApICtcbiAgICAoaXNFdmFsdWF0aW5nXG4gICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICA6ICc7XFxuJ1xuICAgICkgK1xuICAgIHNvdXJjZSArXG4gICAgJ3JldHVybiBfX3BcXG59JztcblxuICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICB9KTtcblxuICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgIHRocm93IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICogfSwgJz5fPicpO1xuICpcbiAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG4gKiAgIGVsZW1lbnRzID0gW107XG4gKiB9XG4gKi9cbnZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcHBseShmdW5jLCB1bmRlZmluZWQsIGFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICB9XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0ZW1wbGF0ZTtcbiJdfQ==","deps":{"lodash._reinterpolate":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash._reinterpolate/index.js","lodash.templatesettings":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.templatesettings/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toArray2 = require('babel-runtime/helpers/toArray');\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _lodash = require('lodash.template');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _viewport = require('./viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _ftdomdelegate = require('ftdomdelegate');\n\nvar _ftdomdelegate2 = _interopRequireDefault(_ftdomdelegate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Interface required to create a soundworks compatible view.\n *\n * To comply with the soundwork's internal view system (cf. viewManager) any\n * view should implement an interface composed of 2 methods: `render` and `remove`\n *\n * @memberof module:soundworks/client\n * @interface AbstractView\n * @abstract\n *\n * @example\n * // minimal implementation of a soundworks compliant view\n * class MyView {\n *   constructor(text) {\n *     this.msg = msg;\n *     this.$el = document.createElement('div');\n *   }\n *\n *   render() {\n *     this.$el.innerHTML = `<h1>${this.msg}</h1>`;\n *     return this.$el;\n *   }\n *\n *   remove() {\n *     this.$el.remove();\n *   }\n * }\n */\n/**\n * Method called when the view is inserted into the DOM by the service manager.\n *\n * @name show\n * @memberof module:soundworks/client.AbstractView\n * @function\n * @abstract\n * @instance\n *\n * @return {Element} - immutable DOM element containing the view.\n */\n/**\n * Method called when the view has to be updated. The returned DOM element\n * should contain the whole view content and should not be mutated during the\n * whole lifecycle of the view.\n *\n * @name render\n * @memberof module:soundworks/client.AbstractView\n * @function\n * @abstract\n * @instance\n *\n * @return {Element} - immutable DOM element containing the view.\n */\n/**\n * Method called when the view is removed in the DOM by the `viewManager`.\n *\n * @name remove\n * @memberof module:soundworks/client.AbstractView\n * @function\n * @abstract\n * @instance\n */\n\n/**\n * Base class for views.\n *\n * _<span class=\"warning\">__WARNING__</span> Views should be created using\n * {@link module:soundworks/client.Activity#createView} method._\n *\n * @param {String} template - Template of the view.\n * @param {Object} content - Object containing the variables used to populate\n *  the template. {@link module:soundworks/client.View#content}.\n * @param {Object} events - Listeners to install in the view\n *  {@link module:soundworks/client.View#events}.\n * @param {Object} options - Options of the view.\n *  {@link module:soundworks/client.View#options}.\n *\n * @memberof module:soundworks/client\n */\nvar View = function () {\n  function View(template) {\n    var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var events = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, View);\n\n    /**\n     * Function created from the given `template`, to be executed with the\n     * `content` object.\n     *\n     * @type {Function}\n     * @name tmpl\n     * @instance\n     * @memberof module:soundworks/client.View\n     * @private\n     */\n    this._tmpl = null;\n\n    this.template = template;\n\n    /**\n     * Data used to populate variables defined in the template.\n     *\n     * @type {Object}\n     * @name content\n     * @instance\n     * @memberof module:soundworks/client.View\n     */\n    this.model = model; // model\n\n    /**\n     * Events to attach to the view. The key / value pairs must follow the\n     * convention: `'eventName [cssSelector]': callbackFunction`\n     *\n     * @type {Object}\n     * @name events\n     * @instance\n     * @memberof module:soundworks/client.View\n     */\n    this.events = events;\n\n    /**\n     * Options of the View.\n     *\n     * @type {Object}\n     * @property {String} [el='div'] - Type of DOM element of the main container\n     *  of the view. Basically the argument of `document.createElement`.\n     * @property {String} [id=null] - Id of the main container.\n     * @property {Array<String>} [className=null] - Classes of the main container.\n     * @property {Array<String>} [priority=0] - Priority of the view. This value\n     *  is used by the `viewManager` to define which view should appear first.\n     * @name options\n     * @instance\n     * @memberof module:soundworks/client.View\n     *\n     * @see {@link module:soundworks/client.view#$el}\n     * @see {@link module:soundworks/client.viewManager}\n     */\n    this.options = (0, _assign2.default)({\n      el: 'div',\n      id: null,\n      className: null\n    }, options);\n\n    /**\n     * Viewport width.\n     *\n     * @type {Number}\n     * @name viewWidth\n     * @instance\n     * @memberof module:soundworks/client.View\n     * @see {@link module:soundworks/client.viewport}\n     */\n    this.viewportWidth = null;\n\n    /**\n     * Viewport height.\n     *\n     * @type {Number}\n     * @name viewWidth\n     * @instance\n     * @memberof module:soundworks/client.View\n     * @see {@link module:soundworks/client.viewport}\n     */\n    this.viewportHeight = null;\n\n    /**\n     * Orientation of the view ('portrait'|'landscape')\n     *\n     * @type {String}\n     * @name orientation\n     * @instance\n     * @memberof module:soundworks/client.View\n     * @see {@link module:soundworks/client.viewport}\n     */\n    this.orientation = null;\n\n    /**\n     * Indicates if the view is visible or not.\n     *\n     * @type {Boolean}\n     * @name isVisible\n     * @instance\n     * @memberof module:soundworks/client.View\n     */\n    this.isVisible = false;\n\n    /**\n     * DOM element of the main container of the view. Defaults to `<div>`.\n     *\n     * @type {Element}\n     * @name $el\n     * @instance\n     * @memberof module:soundworks/client.View\n     */\n    this.$el = document.createElement(this.options.el);\n\n    // initialize event delegation\n    this._delegate = new _ftdomdelegate2.default(this.$el);\n    this.onResize = this.onResize.bind(this);\n\n    this.installEvents(this.events, false);\n  }\n\n  (0, _createClass3.default)(View, [{\n    key: 'appendTo',\n    value: function appendTo($container) {\n      $container.appendChild(this.$el);\n    }\n\n    /**\n     * Partially re-render the view according to the given selector. If the\n     * selector is associated to a `component`, the `component` is rendered.\n     *\n     * @param {String} selector - Css selector of the element to render. The\n     *  element itself is not updated, only its content.\n     * @private\n     */\n\n  }, {\n    key: '_renderPartial',\n    value: function _renderPartial(selector) {\n      var $container = this.$el.querySelector(selector);\n\n      if ($container === null) throw new Error('selector ' + selector + ' doesn\\'t match any element');\n\n      var html = this._tmpl(this.model);\n      var $tmp = document.createElement('div');\n\n      $tmp.innerHTML = html;\n      $container.innerHTML = $tmp.querySelector(selector).innerHTML;\n      this.onRender();\n    }\n\n    /**\n     * Render the whole view and its components.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_renderAll',\n    value: function _renderAll() {\n      var options = this.options;\n      // set id of the container id given\n      if (options.id) this.$el.id = options.id;\n      // set classes of the container if given\n      if (options.className) {\n        var _$el$classList;\n\n        var className = options.className;\n        var classes = typeof className === 'string' ? [className] : className;\n        (_$el$classList = this.$el.classList).add.apply(_$el$classList, (0, _toConsumableArray3.default)(classes));\n      }\n\n      // render template and insert it in the main element\n      var html = this._tmpl(this.model);\n      this.$el.innerHTML = html;\n      this.onRender();\n    }\n\n    // LIFE CYCLE METHODS ----------------------------------\n\n    /**\n     * Render the view according to the given template and content.\n     *\n     * @param {String} [selector=null] - If not `null`, renders only the part of\n     *  the view inside the matched element. If this element contains a component\n     *  (sub-view), the component is rendered. Render the whole view otherwise.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (selector !== null) this._renderPartial(selector);else this._renderAll();\n\n      if (this.isVisible) this.onResize(_viewport2.default.width, _viewport2.default.height, _viewport2.default.orientation);\n\n      return this.$el;\n    }\n\n    /**\n     * Show the view. Executed by the `viewManager`.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'show',\n    value: function show() {\n      this.$el.style.display = 'block';\n      this.isVisible = true;\n      // must resize before child component\n      this._delegateEvents();\n      _viewport2.default.addResizeListener(this.onResize);\n    }\n\n    /**\n     * Hide the view and uninstall events. Executed by the `viewManager`.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.$el.style.display = 'none';\n      this.isVisible = false;\n\n      this._undelegateEvents();\n      _viewport2.default.removeResizeListener(this.onResize);\n    }\n\n    /**\n     * Remove the view from it's container. Executed by the `viewManager`.\n     * @private\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.hide();\n      this.$el.remove();\n    }\n\n    /**\n     * Interface method to extend, executed when the DOM is created.\n     */\n\n  }, {\n    key: 'onRender',\n    value: function onRender() {}\n\n    /**\n     * Callback executed on `resize` events. By default, maintains the size\n     * of the container to fit the viewport size. The method is also executed when\n     * the view is inserted in the DOM.\n     *\n     * @param {Number} viewportWidth - Width of the viewport.\n     * @param {Number} viewportHeight - Height of the viewport.\n     * @param {String} orientation - Orientation of the viewport.\n     * @see {@link module:soundworks/client.viewport}\n     */\n\n  }, {\n    key: 'onResize',\n    value: function onResize(viewportWidth, viewportHeight, orientation) {\n      this.viewportWidth = viewportWidth;\n      this.viewportHeight = viewportHeight;\n      this.orientation = orientation;\n\n      this.$el.style.width = viewportWidth + 'px';\n      this.$el.style.height = viewportHeight + 'px';\n      this.$el.classList.remove('portrait', 'landscape');\n      this.$el.classList.add(orientation);\n    }\n\n    // EVENTS ----------------------------------------\n\n    /**\n     * Install events on the view.\n     *\n     * @param {Object<String, Function>} events - An object of events.\n     * @param {Boolean} [override=false] - Defines if the new events added to the\n     *  the old one or if they replace them.\n     */\n\n  }, {\n    key: 'installEvents',\n    value: function installEvents(events) {\n      var override = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.isVisible) this._undelegateEvents();\n\n      this.events = override ? events : (0, _assign2.default)(this.events, events);\n\n      if (this.isVisible) this._delegateEvents();\n    }\n\n    /**\n     * Add event listeners on the view.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_delegateEvents',\n    value: function _delegateEvents() {\n      for (var key in this.events) {\n        var _key$split = key.split(/ +/),\n            _key$split2 = (0, _toArray3.default)(_key$split),\n            event = _key$split2[0],\n            selector = _key$split2.slice(1);\n\n        var callback = this.events[key];\n\n        this._delegate.on(event, selector.length ? selector.join(' ') : null, callback);\n      }\n    }\n\n    /**\n     * Remove event listeners from the view.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_undelegateEvents',\n    value: function _undelegateEvents() {\n      this._delegate.off();\n    }\n  }, {\n    key: 'template',\n    set: function set(template) {\n      try {\n        this._tmpl = (0, _lodash2.default)(template);\n      } catch (err) {\n        throw new Error('Invalid template (make sure you do not use es6 syntax in Safari mobile): ' + template);\n      }\n    }\n  }]);\n  return View;\n}();\n\nexports.default = View;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpZXcuanMiXSwibmFtZXMiOlsiVmlldyIsInRlbXBsYXRlIiwibW9kZWwiLCJldmVudHMiLCJvcHRpb25zIiwiX3RtcGwiLCJlbCIsImlkIiwiY2xhc3NOYW1lIiwidmlld3BvcnRXaWR0aCIsInZpZXdwb3J0SGVpZ2h0Iiwib3JpZW50YXRpb24iLCJpc1Zpc2libGUiLCIkZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJfZGVsZWdhdGUiLCJEZWxlZ2F0ZSIsIm9uUmVzaXplIiwiYmluZCIsImluc3RhbGxFdmVudHMiLCIkY29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJFcnJvciIsImh0bWwiLCIkdG1wIiwiaW5uZXJIVE1MIiwib25SZW5kZXIiLCJjbGFzc2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3JlbmRlclBhcnRpYWwiLCJfcmVuZGVyQWxsIiwidmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwiZGlzcGxheSIsIl9kZWxlZ2F0ZUV2ZW50cyIsImFkZFJlc2l6ZUxpc3RlbmVyIiwiX3VuZGVsZWdhdGVFdmVudHMiLCJyZW1vdmVSZXNpemVMaXN0ZW5lciIsImhpZGUiLCJyZW1vdmUiLCJvdmVycmlkZSIsImtleSIsInNwbGl0IiwiZXZlbnQiLCJjYWxsYmFjayIsIm9uIiwibGVuZ3RoIiwiam9pbiIsIm9mZiIsImVyciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNEJBOzs7Ozs7Ozs7OztBQVdBOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7Ozs7Ozs7OztJQWdCTUEsSTtBQUNKLGdCQUFZQyxRQUFaLEVBQTZEO0FBQUEsUUFBdkNDLEtBQXVDLHVFQUEvQixFQUErQjtBQUFBLFFBQTNCQyxNQUEyQix1RUFBbEIsRUFB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O0FBQUEsVUFBbEIyQyxRQUFrQix1RUFBUCxLQUFPOztBQUN0QyxVQUFJLEtBQUtsQyxTQUFULEVBQ0UsS0FBSzhCLGlCQUFMOztBQUVGLFdBQUt2QyxNQUFMLEdBQWMyQyxXQUFXM0MsTUFBWCxHQUFvQixzQkFBYyxLQUFLQSxNQUFuQixFQUEyQkEsTUFBM0IsQ0FBbEM7O0FBRUEsVUFBSSxLQUFLUyxTQUFULEVBQ0UsS0FBSzRCLGVBQUw7QUFDSDs7QUFFRDs7Ozs7Ozs7c0NBS2tCO0FBQ2hCLFdBQUssSUFBSU8sR0FBVCxJQUFnQixLQUFLNUMsTUFBckIsRUFBNkI7QUFBQSx5QkFDRTRDLElBQUlDLEtBQUosQ0FBVSxJQUFWLENBREY7QUFBQTtBQUFBLFlBQ3BCQyxLQURvQjtBQUFBLFlBQ1YxQixRQURVOztBQUUzQixZQUFNMkIsV0FBVyxLQUFLL0MsTUFBTCxDQUFZNEMsR0FBWixDQUFqQjs7QUFFQSxhQUFLL0IsU0FBTCxDQUFlbUMsRUFBZixDQUFrQkYsS0FBbEIsRUFBeUIxQixTQUFTNkIsTUFBVCxHQUFrQjdCLFNBQVM4QixJQUFULENBQWMsR0FBZCxDQUFsQixHQUF1QyxJQUFoRSxFQUFzRUgsUUFBdEU7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozt3Q0FLb0I7QUFDbEIsV0FBS2xDLFNBQUwsQ0FBZXNDLEdBQWY7QUFDRDs7O3NCQW5MWXJELFEsRUFBVTtBQUNyQixVQUFJO0FBQ0YsYUFBS0ksS0FBTCxHQUFhLHNCQUFLSixRQUFMLENBQWI7QUFDRCxPQUZELENBRUUsT0FBTXNELEdBQU4sRUFBVztBQUNYLGNBQU0sSUFBSTlCLEtBQUosQ0FBVSw4RUFBOEV4QixRQUF4RixDQUFOO0FBQ0Q7QUFDRjs7Ozs7a0JBZ0xZRCxJIiwiZmlsZSI6IlZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG1wbCBmcm9tICdsb2Rhc2gudGVtcGxhdGUnO1xuaW1wb3J0IHZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnO1xuaW1wb3J0IERlbGVnYXRlIGZyb20gJ2Z0ZG9tZGVsZWdhdGUnO1xuXG4vKipcbiAqIEludGVyZmFjZSByZXF1aXJlZCB0byBjcmVhdGUgYSBzb3VuZHdvcmtzIGNvbXBhdGlibGUgdmlldy5cbiAqXG4gKiBUbyBjb21wbHkgd2l0aCB0aGUgc291bmR3b3JrJ3MgaW50ZXJuYWwgdmlldyBzeXN0ZW0gKGNmLiB2aWV3TWFuYWdlcikgYW55XG4gKiB2aWV3IHNob3VsZCBpbXBsZW1lbnQgYW4gaW50ZXJmYWNlIGNvbXBvc2VkIG9mIDIgbWV0aG9kczogYHJlbmRlcmAgYW5kIGByZW1vdmVgXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGludGVyZmFjZSBBYnN0cmFjdFZpZXdcbiAqIEBhYnN0cmFjdFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBtaW5pbWFsIGltcGxlbWVudGF0aW9uIG9mIGEgc291bmR3b3JrcyBjb21wbGlhbnQgdmlld1xuICogY2xhc3MgTXlWaWV3IHtcbiAqICAgY29uc3RydWN0b3IodGV4dCkge1xuICogICAgIHRoaXMubXNnID0gbXNnO1xuICogICAgIHRoaXMuJGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiAgIH1cbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBgPGgxPiR7dGhpcy5tc2d9PC9oMT5gO1xuICogICAgIHJldHVybiB0aGlzLiRlbDtcbiAqICAgfVxuICpcbiAqICAgcmVtb3ZlKCkge1xuICogICAgIHRoaXMuJGVsLnJlbW92ZSgpO1xuICogICB9XG4gKiB9XG4gKi9cbi8qKlxuICogTWV0aG9kIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGluc2VydGVkIGludG8gdGhlIERPTSBieSB0aGUgc2VydmljZSBtYW5hZ2VyLlxuICpcbiAqIEBuYW1lIHNob3dcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RWaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7RWxlbWVudH0gLSBpbW11dGFibGUgRE9NIGVsZW1lbnQgY29udGFpbmluZyB0aGUgdmlldy5cbiAqL1xuLyoqXG4gKiBNZXRob2QgY2FsbGVkIHdoZW4gdGhlIHZpZXcgaGFzIHRvIGJlIHVwZGF0ZWQuIFRoZSByZXR1cm5lZCBET00gZWxlbWVudFxuICogc2hvdWxkIGNvbnRhaW4gdGhlIHdob2xlIHZpZXcgY29udGVudCBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkIGR1cmluZyB0aGVcbiAqIHdob2xlIGxpZmVjeWNsZSBvZiB0aGUgdmlldy5cbiAqXG4gKiBAbmFtZSByZW5kZXJcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RWaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7RWxlbWVudH0gLSBpbW11dGFibGUgRE9NIGVsZW1lbnQgY29udGFpbmluZyB0aGUgdmlldy5cbiAqL1xuLyoqXG4gKiBNZXRob2QgY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgcmVtb3ZlZCBpbiB0aGUgRE9NIGJ5IHRoZSBgdmlld01hbmFnZXJgLlxuICpcbiAqIEBuYW1lIHJlbW92ZVxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqL1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHZpZXdzLlxuICpcbiAqIF88c3BhbiBjbGFzcz1cIndhcm5pbmdcIj5fX1dBUk5JTkdfXzwvc3Bhbj4gVmlld3Mgc2hvdWxkIGJlIGNyZWF0ZWQgdXNpbmdcbiAqIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWN0aXZpdHkjY3JlYXRlVmlld30gbWV0aG9kLl9cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGUgLSBUZW1wbGF0ZSBvZiB0aGUgdmlldy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50IC0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZhcmlhYmxlcyB1c2VkIHRvIHBvcHVsYXRlXG4gKiAgdGhlIHRlbXBsYXRlLiB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjY29udGVudH0uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRzIC0gTGlzdGVuZXJzIHRvIGluc3RhbGwgaW4gdGhlIHZpZXdcbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjZXZlbnRzfS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBvZiB0aGUgdmlldy5cbiAqICB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXcjb3B0aW9uc30uXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICovXG5jbGFzcyBWaWV3IHtcbiAgY29uc3RydWN0b3IodGVtcGxhdGUsIG1vZGVsID0ge30sIGV2ZW50cyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjcmVhdGVkIGZyb20gdGhlIGdpdmVuIGB0ZW1wbGF0ZWAsIHRvIGJlIGV4ZWN1dGVkIHdpdGggdGhlXG4gICAgICogYGNvbnRlbnRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAbmFtZSB0bXBsXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl90bXBsID0gbnVsbDtcblxuICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcblxuICAgIC8qKlxuICAgICAqIERhdGEgdXNlZCB0byBwb3B1bGF0ZSB2YXJpYWJsZXMgZGVmaW5lZCBpbiB0aGUgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBuYW1lIGNvbnRlbnRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXdcbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7IC8vIG1vZGVsXG5cbiAgICAvKipcbiAgICAgKiBFdmVudHMgdG8gYXR0YWNoIHRvIHRoZSB2aWV3LiBUaGUga2V5IC8gdmFsdWUgcGFpcnMgbXVzdCBmb2xsb3cgdGhlXG4gICAgICogY29udmVudGlvbjogYCdldmVudE5hbWUgW2Nzc1NlbGVjdG9yXSc6IGNhbGxiYWNrRnVuY3Rpb25gXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBuYW1lIGV2ZW50c1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlld1xuICAgICAqL1xuICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBvZiB0aGUgVmlldy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IFtlbD0nZGl2J10gLSBUeXBlIG9mIERPTSBlbGVtZW50IG9mIHRoZSBtYWluIGNvbnRhaW5lclxuICAgICAqICBvZiB0aGUgdmlldy4gQmFzaWNhbGx5IHRoZSBhcmd1bWVudCBvZiBgZG9jdW1lbnQuY3JlYXRlRWxlbWVudGAuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IFtpZD1udWxsXSAtIElkIG9mIHRoZSBtYWluIGNvbnRhaW5lci5cbiAgICAgKiBAcHJvcGVydHkge0FycmF5PFN0cmluZz59IFtjbGFzc05hbWU9bnVsbF0gLSBDbGFzc2VzIG9mIHRoZSBtYWluIGNvbnRhaW5lci5cbiAgICAgKiBAcHJvcGVydHkge0FycmF5PFN0cmluZz59IFtwcmlvcml0eT0wXSAtIFByaW9yaXR5IG9mIHRoZSB2aWV3LiBUaGlzIHZhbHVlXG4gICAgICogIGlzIHVzZWQgYnkgdGhlIGB2aWV3TWFuYWdlcmAgdG8gZGVmaW5lIHdoaWNoIHZpZXcgc2hvdWxkIGFwcGVhciBmaXJzdC5cbiAgICAgKiBAbmFtZSBvcHRpb25zXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3XG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQudmlldyMkZWx9XG4gICAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LnZpZXdNYW5hZ2VyfVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZWw6ICdkaXYnLFxuICAgICAgaWQ6IG51bGwsXG4gICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3cG9ydCB3aWR0aC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgdmlld1dpZHRoXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3XG4gICAgICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LnZpZXdwb3J0fVxuICAgICAqL1xuICAgIHRoaXMudmlld3BvcnRXaWR0aCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3cG9ydCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHZpZXdXaWR0aFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlld1xuICAgICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdwb3J0SGVpZ2h0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE9yaWVudGF0aW9uIG9mIHRoZSB2aWV3ICgncG9ydHJhaXQnfCdsYW5kc2NhcGUnKVxuICAgICAqXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbmFtZSBvcmllbnRhdGlvblxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlld1xuICAgICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGF0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgdmlldyBpcyB2aXNpYmxlIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBuYW1lIGlzVmlzaWJsZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlld1xuICAgICAqL1xuICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBET00gZWxlbWVudCBvZiB0aGUgbWFpbiBjb250YWluZXIgb2YgdGhlIHZpZXcuIERlZmF1bHRzIHRvIGA8ZGl2PmAuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAbmFtZSAkZWxcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlZpZXdcbiAgICAgKi9cbiAgICB0aGlzLiRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5vcHRpb25zLmVsKTtcblxuICAgIC8vIGluaXRpYWxpemUgZXZlbnQgZGVsZWdhdGlvblxuICAgIHRoaXMuX2RlbGVnYXRlID0gbmV3IERlbGVnYXRlKHRoaXMuJGVsKTtcbiAgICB0aGlzLm9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5pbnN0YWxsRXZlbnRzKHRoaXMuZXZlbnRzLCBmYWxzZSk7XG4gIH1cblxuICBzZXQgdGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fdG1wbCA9IHRtcGwodGVtcGxhdGUpO1xuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGVtcGxhdGUgKG1ha2Ugc3VyZSB5b3UgZG8gbm90IHVzZSBlczYgc3ludGF4IGluIFNhZmFyaSBtb2JpbGUpOiAnICsgdGVtcGxhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGVuZFRvKCRjb250YWluZXIpIHtcbiAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuJGVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJ0aWFsbHkgcmUtcmVuZGVyIHRoZSB2aWV3IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gc2VsZWN0b3IuIElmIHRoZVxuICAgKiBzZWxlY3RvciBpcyBhc3NvY2lhdGVkIHRvIGEgYGNvbXBvbmVudGAsIHRoZSBgY29tcG9uZW50YCBpcyByZW5kZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gQ3NzIHNlbGVjdG9yIG9mIHRoZSBlbGVtZW50IHRvIHJlbmRlci4gVGhlXG4gICAqICBlbGVtZW50IGl0c2VsZiBpcyBub3QgdXBkYXRlZCwgb25seSBpdHMgY29udGVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW5kZXJQYXJ0aWFsKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgaWYgKCRjb250YWluZXIgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNlbGVjdG9yICR7c2VsZWN0b3J9IGRvZXNuJ3QgbWF0Y2ggYW55IGVsZW1lbnRgKTtcblxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLl90bXBsKHRoaXMubW9kZWwpO1xuICAgIGNvbnN0ICR0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICR0bXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAkY29udGFpbmVyLmlubmVySFRNTCA9ICR0bXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuaW5uZXJIVE1MO1xuICAgIHRoaXMub25SZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIHdob2xlIHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlckFsbCgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIC8vIHNldCBpZCBvZiB0aGUgY29udGFpbmVyIGlkIGdpdmVuXG4gICAgaWYgKG9wdGlvbnMuaWQpXG4gICAgICB0aGlzLiRlbC5pZCA9IG9wdGlvbnMuaWQ7XG4gICAgLy8gc2V0IGNsYXNzZXMgb2YgdGhlIGNvbnRhaW5lciBpZiBnaXZlblxuICAgIGlmIChvcHRpb25zLmNsYXNzTmFtZSkge1xuICAgICAgY29uc3QgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWU7XG4gICAgICBjb25zdCBjbGFzc2VzID0gdHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycgPyBbY2xhc3NOYW1lXSA6IGNsYXNzTmFtZTtcbiAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gICAgfVxuXG4gICAgLy8gcmVuZGVyIHRlbXBsYXRlIGFuZCBpbnNlcnQgaXQgaW4gdGhlIG1haW4gZWxlbWVudFxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLl90bXBsKHRoaXMubW9kZWwpO1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgdGhpcy5vblJlbmRlcigpO1xuICB9XG5cbiAgLy8gTElGRSBDWUNMRSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSB2aWV3IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gdGVtcGxhdGUgYW5kIGNvbnRlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3I9bnVsbF0gLSBJZiBub3QgYG51bGxgLCByZW5kZXJzIG9ubHkgdGhlIHBhcnQgb2ZcbiAgICogIHRoZSB2aWV3IGluc2lkZSB0aGUgbWF0Y2hlZCBlbGVtZW50LiBJZiB0aGlzIGVsZW1lbnQgY29udGFpbnMgYSBjb21wb25lbnRcbiAgICogIChzdWItdmlldyksIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQuIFJlbmRlciB0aGUgd2hvbGUgdmlldyBvdGhlcndpc2UuXG4gICAqL1xuICByZW5kZXIoc2VsZWN0b3IgPSBudWxsKSB7XG4gICAgaWYgKHNlbGVjdG9yICE9PSBudWxsKVxuICAgICAgdGhpcy5fcmVuZGVyUGFydGlhbChzZWxlY3Rvcik7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fcmVuZGVyQWxsKCk7XG5cbiAgICBpZiAodGhpcy5pc1Zpc2libGUpXG4gICAgICB0aGlzLm9uUmVzaXplKHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHQsIHZpZXdwb3J0Lm9yaWVudGF0aW9uKTtcblxuICAgIHJldHVybiB0aGlzLiRlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSB2aWV3LiBFeGVjdXRlZCBieSB0aGUgYHZpZXdNYW5hZ2VyYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy4kZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgIC8vIG11c3QgcmVzaXplIGJlZm9yZSBjaGlsZCBjb21wb25lbnRcbiAgICB0aGlzLl9kZWxlZ2F0ZUV2ZW50cygpO1xuICAgIHZpZXdwb3J0LmFkZFJlc2l6ZUxpc3RlbmVyKHRoaXMub25SZXNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgdGhlIHZpZXcgYW5kIHVuaW5zdGFsbCBldmVudHMuIEV4ZWN1dGVkIGJ5IHRoZSBgdmlld01hbmFnZXJgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLiRlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG5cbiAgICB0aGlzLl91bmRlbGVnYXRlRXZlbnRzKCk7XG4gICAgdmlld3BvcnQucmVtb3ZlUmVzaXplTGlzdGVuZXIodGhpcy5vblJlc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSB2aWV3IGZyb20gaXQncyBjb250YWluZXIuIEV4ZWN1dGVkIGJ5IHRoZSBgdmlld01hbmFnZXJgLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuaGlkZSgpO1xuICAgIHRoaXMuJGVsLnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyZmFjZSBtZXRob2QgdG8gZXh0ZW5kLCBleGVjdXRlZCB3aGVuIHRoZSBET00gaXMgY3JlYXRlZC5cbiAgICovXG4gIG9uUmVuZGVyKCkge31cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZXhlY3V0ZWQgb24gYHJlc2l6ZWAgZXZlbnRzLiBCeSBkZWZhdWx0LCBtYWludGFpbnMgdGhlIHNpemVcbiAgICogb2YgdGhlIGNvbnRhaW5lciB0byBmaXQgdGhlIHZpZXdwb3J0IHNpemUuIFRoZSBtZXRob2QgaXMgYWxzbyBleGVjdXRlZCB3aGVuXG4gICAqIHRoZSB2aWV3IGlzIGluc2VydGVkIGluIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2aWV3cG9ydFdpZHRoIC0gV2lkdGggb2YgdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmlld3BvcnRIZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZW50YXRpb24gLSBPcmllbnRhdGlvbiBvZiB0aGUgdmlld3BvcnQuXG4gICAqIEBzZWUge0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC52aWV3cG9ydH1cbiAgICovXG4gIG9uUmVzaXplKHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0LCBvcmllbnRhdGlvbikge1xuICAgIHRoaXMudmlld3BvcnRXaWR0aCA9IHZpZXdwb3J0V2lkdGg7XG4gICAgdGhpcy52aWV3cG9ydEhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0O1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcblxuICAgIHRoaXMuJGVsLnN0eWxlLndpZHRoID0gYCR7dmlld3BvcnRXaWR0aH1weGA7XG4gICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gYCR7dmlld3BvcnRIZWlnaHR9cHhgO1xuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcnRyYWl0JywgJ2xhbmRzY2FwZScpO1xuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQob3JpZW50YXRpb24pO1xuICB9XG5cbiAgLy8gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogSW5zdGFsbCBldmVudHMgb24gdGhlIHZpZXcuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PFN0cmluZywgRnVuY3Rpb24+fSBldmVudHMgLSBBbiBvYmplY3Qgb2YgZXZlbnRzLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvdmVycmlkZT1mYWxzZV0gLSBEZWZpbmVzIGlmIHRoZSBuZXcgZXZlbnRzIGFkZGVkIHRvIHRoZVxuICAgKiAgdGhlIG9sZCBvbmUgb3IgaWYgdGhleSByZXBsYWNlIHRoZW0uXG4gICAqL1xuICBpbnN0YWxsRXZlbnRzKGV2ZW50cywgb3ZlcnJpZGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSlcbiAgICAgIHRoaXMuX3VuZGVsZWdhdGVFdmVudHMoKTtcblxuICAgIHRoaXMuZXZlbnRzID0gb3ZlcnJpZGUgPyBldmVudHMgOiBPYmplY3QuYXNzaWduKHRoaXMuZXZlbnRzLCBldmVudHMpO1xuXG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlKVxuICAgICAgdGhpcy5fZGVsZWdhdGVFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSB2aWV3LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlbGVnYXRlRXZlbnRzKCkge1xuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmV2ZW50cykge1xuICAgICAgY29uc3QgW2V2ZW50LCAuLi5zZWxlY3Rvcl0gPSBrZXkuc3BsaXQoLyArLyk7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuZXZlbnRzW2tleV07XG5cbiAgICAgIHRoaXMuX2RlbGVnYXRlLm9uKGV2ZW50LCBzZWxlY3Rvci5sZW5ndGggPyBzZWxlY3Rvci5qb2luKCcgJykgOsKgbnVsbCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIHZpZXcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdW5kZWxlZ2F0ZUV2ZW50cygpIHtcbiAgICB0aGlzLl9kZWxlZ2F0ZS5vZmYoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIl19","deps":{"./viewport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","ftdomdelegate":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/index.js","babel-runtime/helpers/toConsumableArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js","babel-runtime/helpers/toArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toArray.js","lodash.template":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.template/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js","source":"exports.f = Object.getOwnPropertySymbols;\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js","source":"exports.f = {}.propertyIsEnumerable;\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","source":"module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ms/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ms/index.js","source":"/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/common.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/common.js","source":"\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","deps":{"ms":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ms/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js","source":"(function (process){(function (){\n\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gWycjMDAwMENDJywgJyMwMDAwRkYnLCAnIzAwMzNDQycsICcjMDAzM0ZGJywgJyMwMDY2Q0MnLCAnIzAwNjZGRicsICcjMDA5OUNDJywgJyMwMDk5RkYnLCAnIzAwQ0MwMCcsICcjMDBDQzMzJywgJyMwMENDNjYnLCAnIzAwQ0M5OScsICcjMDBDQ0NDJywgJyMwMENDRkYnLCAnIzMzMDBDQycsICcjMzMwMEZGJywgJyMzMzMzQ0MnLCAnIzMzMzNGRicsICcjMzM2NkNDJywgJyMzMzY2RkYnLCAnIzMzOTlDQycsICcjMzM5OUZGJywgJyMzM0NDMDAnLCAnIzMzQ0MzMycsICcjMzNDQzY2JywgJyMzM0NDOTknLCAnIzMzQ0NDQycsICcjMzNDQ0ZGJywgJyM2NjAwQ0MnLCAnIzY2MDBGRicsICcjNjYzM0NDJywgJyM2NjMzRkYnLCAnIzY2Q0MwMCcsICcjNjZDQzMzJywgJyM5OTAwQ0MnLCAnIzk5MDBGRicsICcjOTkzM0NDJywgJyM5OTMzRkYnLCAnIzk5Q0MwMCcsICcjOTlDQzMzJywgJyNDQzAwMDAnLCAnI0NDMDAzMycsICcjQ0MwMDY2JywgJyNDQzAwOTknLCAnI0NDMDBDQycsICcjQ0MwMEZGJywgJyNDQzMzMDAnLCAnI0NDMzMzMycsICcjQ0MzMzY2JywgJyNDQzMzOTknLCAnI0NDMzNDQycsICcjQ0MzM0ZGJywgJyNDQzY2MDAnLCAnI0NDNjYzMycsICcjQ0M5OTAwJywgJyNDQzk5MzMnLCAnI0NDQ0MwMCcsICcjQ0NDQzMzJywgJyNGRjAwMDAnLCAnI0ZGMDAzMycsICcjRkYwMDY2JywgJyNGRjAwOTknLCAnI0ZGMDBDQycsICcjRkYwMEZGJywgJyNGRjMzMDAnLCAnI0ZGMzMzMycsICcjRkYzMzY2JywgJyNGRjMzOTknLCAnI0ZGMzNDQycsICcjRkYzM0ZGJywgJyNGRjY2MDAnLCAnI0ZGNjYzMycsICcjRkY5OTAwJywgJyNGRjk5MzMnLCAnI0ZGQ0MwMCcsICcjRkZDQzMzJ107XG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblxuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXG5cbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSB8fCAvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8IHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkgfHwgLy8gSXMgZmlyZWZveCA+PSB2MzE/XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxIHx8IC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLyk7XG59XG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICsgdGhpcy5uYW1lc3BhY2UgKyAodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgKyBhcmdzWzBdICsgKHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICsgJysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTsgLy8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblxuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgaWYgKG1hdGNoID09PSAnJSUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5kZXgrKztcblxuICAgIGlmIChtYXRjaCA9PT0gJyVjJykge1xuICAgICAgLy8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gbG9nKCkge1xuICB2YXIgX2NvbnNvbGU7XG5cbiAgLy8gVGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICh0eXBlb2YgY29uc29sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGNvbnNvbGUpKSA9PT0gJ29iamVjdCcgJiYgY29uc29sZS5sb2cgJiYgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmd1bWVudHMpO1xufVxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcblxuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9IC8vIFN3YWxsb3dcbiAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblxuXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICAvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG4gICAgLy8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG52YXIgZm9ybWF0dGVycyA9IG1vZHVsZS5leHBvcnRzLmZvcm1hdHRlcnM7XG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgfVxufTtcblxuIl19","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","./common":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/common.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// works by reference\nfunction swap(arr, i1, i2) {\n  var tmp = arr[i1];\n  arr[i1] = arr[i2];\n  arr[i2] = tmp;\n}\n\n// https://jsperf.com/js-for-loop-vs-array-indexof/346\nfunction indexOf(arr, el) {\n  var l = arr.length;\n  // ignore first element as it can't be a entry\n  for (var i = 1; i < l; i++) {\n    if (arr[i] === el) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Define if `time1` should be lower in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n *\n * @private\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nvar _isLowerMaxHeap = function _isLowerMaxHeap(time1, time2) {\n  return time1 < time2;\n};\n\nvar _isLowerMinHeap = function _isLowerMinHeap(time1, time2) {\n  return time1 > time2;\n};\n\n/**\n * Define if `time1` should be higher in the topography than `time2`.\n * Is dynamically affected to the priority queue according to handle `min` and `max` heap.\n *\n * @private\n * @param {Number} time1\n * @param {Number} time2\n * @return {Boolean}\n */\nvar _isHigherMaxHeap = function _isHigherMaxHeap(time1, time2) {\n  return time1 > time2;\n};\n\nvar _isHigherMinHeap = function _isHigherMinHeap(time1, time2) {\n  return time1 < time2;\n};\n\nvar POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n/**\n * Priority queue implementing a binary heap.\n * Acts as a min heap by default, can be dynamically changed to a max heap\n * by setting `reverse` to true.\n *\n * _note_: the queue creates and maintains a new property (i.e. `queueTime`)\n * to each object added.\n *\n * @param {Number} [heapLength=100] - Default size of the array used to create the heap.\n */\n\nvar PriorityQueue = function () {\n  function PriorityQueue() {\n    var heapLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    (0, _classCallCheck3.default)(this, PriorityQueue);\n\n    /**\n     * Pointer to the first empty index of the heap.\n     * @type {Number}\n     * @memberof PriorityQueue\n     * @name _currentLength\n     * @private\n     */\n    this._currentLength = 1;\n\n    /**\n     * Array of the sorted indexes of the entries, the actual heap. Ignore the index 0.\n     * @type {Array}\n     * @memberof PriorityQueue\n     * @name _heap\n     * @private\n     */\n    this._heap = new Array(heapLength + 1);\n\n    /**\n     * Type of the queue: `min` heap if `false`, `max` heap if `true`\n     * @type {Boolean}\n     * @memberof PriorityQueue\n     * @name _reverse\n     * @private\n     */\n    this._reverse = null;\n\n    // initialize compare functions\n    this.reverse = false;\n  }\n\n  /**\n   * Time of the first element in the binary heap.\n   * @returns {Number}\n   */\n\n\n  (0, _createClass3.default)(PriorityQueue, [{\n    key: \"_bubbleUp\",\n\n\n    /**\n     * Fix the heap by moving an entry to a new upper position.\n     *\n     * @private\n     * @param {Number} startIndex - The index of the entry to move.\n     */\n    value: function _bubbleUp(startIndex) {\n      var entry = this._heap[startIndex];\n\n      var index = startIndex;\n      var parentIndex = Math.floor(index / 2);\n      var parent = this._heap[parentIndex];\n\n      while (parent && this._isHigher(entry.queueTime, parent.queueTime)) {\n        swap(this._heap, index, parentIndex);\n\n        index = parentIndex;\n        parentIndex = Math.floor(index / 2);\n        parent = this._heap[parentIndex];\n      }\n    }\n\n    /**\n     * Fix the heap by moving an entry to a new lower position.\n     *\n     * @private\n     * @param {Number} startIndex - The index of the entry to move.\n     */\n\n  }, {\n    key: \"_bubbleDown\",\n    value: function _bubbleDown(startIndex) {\n      var entry = this._heap[startIndex];\n\n      var index = startIndex;\n      var c1index = index * 2;\n      var c2index = c1index + 1;\n      var child1 = this._heap[c1index];\n      var child2 = this._heap[c2index];\n\n      while (child1 && this._isLower(entry.queueTime, child1.queueTime) || child2 && this._isLower(entry.queueTime, child2.queueTime)) {\n        // swap with the minimum child\n        var targetIndex = void 0;\n\n        if (child2) targetIndex = this._isHigher(child1.queueTime, child2.queueTime) ? c1index : c2index;else targetIndex = c1index;\n\n        swap(this._heap, index, targetIndex);\n\n        // update to find next children\n        index = targetIndex;\n        c1index = index * 2;\n        c2index = c1index + 1;\n        child1 = this._heap[c1index];\n        child2 = this._heap[c2index];\n      }\n    }\n\n    /**\n     * Build the heap (from bottom up).\n     */\n\n  }, {\n    key: \"buildHeap\",\n    value: function buildHeap() {\n      // find the index of the last internal node\n      // @todo - make sure that's the right way to do.\n      var maxIndex = Math.floor((this._currentLength - 1) / 2);\n\n      for (var i = maxIndex; i > 0; i--) {\n        this._bubbleDown(i);\n      }\n    }\n\n    /**\n     * Insert a new object in the binary heap and sort it.\n     *\n     * @param {Object} entry - Entry to insert.\n     * @param {Number} time - Time at which the entry should be orderer.\n     * @returns {Number} - Time of the first entry in the heap.\n     */\n\n  }, {\n    key: \"insert\",\n    value: function insert(entry, time) {\n      if (Math.abs(time) !== POSITIVE_INFINITY) {\n        entry.queueTime = time;\n        // add the new entry at the end of the heap\n        this._heap[this._currentLength] = entry;\n        // bubble it up\n        this._bubbleUp(this._currentLength);\n        this._currentLength += 1;\n\n        return this.time;\n      }\n\n      entry.queueTime = undefined;\n      return this.remove(entry);\n    }\n\n    /**\n     * Move a given entry to a new position.\n     *\n     * @param {Object} entry - Entry to move.\n     * @param {Number} time - Time at which the entry should be orderer.\n     * @return {Number} - Time of first entry in the heap.\n     */\n\n  }, {\n    key: \"move\",\n    value: function move(entry, time) {\n      if (Math.abs(time) !== POSITIVE_INFINITY) {\n        var index = indexOf(this._heap, entry);\n\n        if (index !== -1) {\n          entry.queueTime = time;\n          // define if the entry should be bubbled up or down\n          var parent = this._heap[Math.floor(index / 2)];\n\n          if (parent && this._isHigher(time, parent.queueTime)) this._bubbleUp(index);else this._bubbleDown(index);\n        }\n\n        return this.time;\n      }\n\n      entry.queueTime = undefined;\n      return this.remove(entry);\n    }\n\n    /**\n     * Remove an entry from the heap and fix the heap.\n     *\n     * @param {Object} entry - Entry to remove.\n     * @return {Number} - Time of first entry in the heap.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(entry) {\n      // find the index of the entry\n      var index = indexOf(this._heap, entry);\n\n      if (index !== -1) {\n        var lastIndex = this._currentLength - 1;\n\n        // if the entry is the last one\n        if (index === lastIndex) {\n          // remove the element from heap\n          this._heap[lastIndex] = undefined;\n          // update current length\n          this._currentLength = lastIndex;\n\n          return this.time;\n        } else {\n          // swap with the last element of the heap\n          swap(this._heap, index, lastIndex);\n          // remove the element from heap\n          this._heap[lastIndex] = undefined;\n\n          if (index === 1) {\n            this._bubbleDown(1);\n          } else {\n            // bubble the (ex last) element up or down according to its new context\n            var _entry = this._heap[index];\n            var parent = this._heap[Math.floor(index / 2)];\n\n            if (parent && this._isHigher(_entry.queueTime, parent.queueTime)) this._bubbleUp(index);else this._bubbleDown(index);\n          }\n        }\n\n        // update current length\n        this._currentLength = lastIndex;\n      }\n\n      return this.time;\n    }\n\n    /**\n     * Clear the queue.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._currentLength = 1;\n      this._heap = new Array(this._heap.length);\n    }\n\n    /**\n     * Defines if the queue contains the given `entry`.\n     *\n     * @param {Object} entry - Entry to be checked\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(entry) {\n      return this._heap.indexOf(entry) !== -1;\n    }\n  }, {\n    key: \"time\",\n    get: function get() {\n      if (this._currentLength > 1) return this._heap[1].queueTime;\n\n      return Infinity;\n    }\n\n    /**\n     * First element in the binary heap.\n     * @returns {Number}\n     * @readonly\n     */\n\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this._heap[1];\n    }\n\n    /**\n     * Change the order of the queue (max heap if true, min heap if false),\n     * rebuild the heap with the existing entries.\n     *\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"reverse\",\n    set: function set(value) {\n      if (value !== this._reverse) {\n        this._reverse = value;\n\n        if (this._reverse === true) {\n          this._isLower = _isLowerMaxHeap;\n          this._isHigher = _isHigherMaxHeap;\n        } else {\n          this._isLower = _isLowerMinHeap;\n          this._isHigher = _isHigherMinHeap;\n        }\n\n        this.buildHeap();\n      }\n    },\n    get: function get() {\n      return this._reverse;\n    }\n  }]);\n  return PriorityQueue;\n}();\n\nexports.default = PriorityQueue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByaW9yaXR5UXVldWUuanMiXSwibmFtZXMiOlsic3dhcCIsImFyciIsImkxIiwiaTIiLCJ0bXAiLCJpbmRleE9mIiwiZWwiLCJsIiwibGVuZ3RoIiwiaSIsIl9pc0xvd2VyTWF4SGVhcCIsInRpbWUxIiwidGltZTIiLCJfaXNMb3dlck1pbkhlYXAiLCJfaXNIaWdoZXJNYXhIZWFwIiwiX2lzSGlnaGVyTWluSGVhcCIsIlBPU0lUSVZFX0lORklOSVRZIiwiTnVtYmVyIiwiUHJpb3JpdHlRdWV1ZSIsImhlYXBMZW5ndGgiLCJfY3VycmVudExlbmd0aCIsIl9oZWFwIiwiQXJyYXkiLCJfcmV2ZXJzZSIsInJldmVyc2UiLCJzdGFydEluZGV4IiwiZW50cnkiLCJpbmRleCIsInBhcmVudEluZGV4IiwiTWF0aCIsImZsb29yIiwicGFyZW50IiwiX2lzSGlnaGVyIiwicXVldWVUaW1lIiwiYzFpbmRleCIsImMyaW5kZXgiLCJjaGlsZDEiLCJjaGlsZDIiLCJfaXNMb3dlciIsInRhcmdldEluZGV4IiwibWF4SW5kZXgiLCJfYnViYmxlRG93biIsInRpbWUiLCJhYnMiLCJfYnViYmxlVXAiLCJ1bmRlZmluZWQiLCJyZW1vdmUiLCJsYXN0SW5kZXgiLCJJbmZpbml0eSIsInZhbHVlIiwiYnVpbGRIZWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxTQUFTQSxJQUFULENBQWNDLEdBQWQsRUFBbUJDLEVBQW5CLEVBQXVCQyxFQUF2QixFQUEyQjtBQUN6QixNQUFNQyxNQUFNSCxJQUFJQyxFQUFKLENBQVo7QUFDQUQsTUFBSUMsRUFBSixJQUFVRCxJQUFJRSxFQUFKLENBQVY7QUFDQUYsTUFBSUUsRUFBSixJQUFVQyxHQUFWO0FBQ0Q7O0FBRUQ7QUFDQSxTQUFTQyxPQUFULENBQWlCSixHQUFqQixFQUFzQkssRUFBdEIsRUFBMEI7QUFDeEIsTUFBTUMsSUFBSU4sSUFBSU8sTUFBZDtBQUNBO0FBQ0EsT0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlGLENBQXBCLEVBQXVCRSxHQUF2QixFQUE0QjtBQUMxQixRQUFJUixJQUFJUSxDQUFKLE1BQVdILEVBQWYsRUFBbUI7QUFDakIsYUFBT0csQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxDQUFDLENBQVI7QUFDRDs7QUFFRDs7Ozs7Ozs7O0FBU0EsSUFBTUMsa0JBQWtCLFNBQWxCQSxlQUFrQixDQUFTQyxLQUFULEVBQWdCQyxLQUFoQixFQUF1QjtBQUM3QyxTQUFPRCxRQUFRQyxLQUFmO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNQyxrQkFBa0IsU0FBbEJBLGVBQWtCLENBQVNGLEtBQVQsRUFBZ0JDLEtBQWhCLEVBQXVCO0FBQzdDLFNBQU9ELFFBQVFDLEtBQWY7QUFDRCxDQUZEOztBQUlBOzs7Ozs7Ozs7QUFTQSxJQUFNRSxtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFTSCxLQUFULEVBQWdCQyxLQUFoQixFQUF1QjtBQUM5QyxTQUFPRCxRQUFRQyxLQUFmO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNRyxtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFTSixLQUFULEVBQWdCQyxLQUFoQixFQUF1QjtBQUM5QyxTQUFPRCxRQUFRQyxLQUFmO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNSSxvQkFBb0JDLE9BQU9ELGlCQUFqQzs7QUFFQTs7Ozs7Ozs7Ozs7SUFVTUUsYTtBQUNKLDJCQUE4QjtBQUFBLFFBQWxCQyxVQUFrQix1RUFBTCxHQUFLO0FBQUE7O0FBQzVCOzs7Ozs7O0FBT0EsU0FBS0MsY0FBTCxHQUFzQixDQUF0Qjs7QUFFQTs7Ozs7OztBQU9BLFNBQUtDLEtBQUwsR0FBYSxJQUFJQyxLQUFKLENBQVVILGFBQWEsQ0FBdkIsQ0FBYjs7QUFFQTs7Ozs7OztBQU9BLFNBQUtJLFFBQUwsR0FBZ0IsSUFBaEI7O0FBRUE7QUFDQSxTQUFLQyxPQUFMLEdBQWUsS0FBZjtBQUNEOztBQUVEOzs7Ozs7Ozs7O0FBOENBOzs7Ozs7OEJBTVVDLFUsRUFBWTtBQUNwQixVQUFJQyxRQUFRLEtBQUtMLEtBQUwsQ0FBV0ksVUFBWCxDQUFaOztBQUVBLFVBQUlFLFFBQVFGLFVBQVo7QUFDQSxVQUFJRyxjQUFjQyxLQUFLQyxLQUFMLENBQVdILFFBQVEsQ0FBbkIsQ0FBbEI7QUFDQSxVQUFJSSxTQUFTLEtBQUtWLEtBQUwsQ0FBV08sV0FBWCxDQUFiOztBQUVBLGFBQU9HLFVBQVUsS0FBS0MsU0FBTCxDQUFlTixNQUFNTyxTQUFyQixFQUFnQ0YsT0FBT0UsU0FBdkMsQ0FBakIsRUFBb0U7QUFDbEVqQyxhQUFLLEtBQUtxQixLQUFWLEVBQWlCTSxLQUFqQixFQUF3QkMsV0FBeEI7O0FBRUFELGdCQUFRQyxXQUFSO0FBQ0FBLHNCQUFjQyxLQUFLQyxLQUFMLENBQVdILFFBQVEsQ0FBbkIsQ0FBZDtBQUNBSSxpQkFBUyxLQUFLVixLQUFMLENBQVdPLFdBQVgsQ0FBVDtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OztnQ0FNWUgsVSxFQUFZO0FBQ3RCLFVBQUlDLFFBQVEsS0FBS0wsS0FBTCxDQUFXSSxVQUFYLENBQVo7O0FBRUEsVUFBSUUsUUFBUUYsVUFBWjtBQUNBLFVBQUlTLFVBQVVQLFFBQVEsQ0FBdEI7QUFDQSxVQUFJUSxVQUFVRCxVQUFVLENBQXhCO0FBQ0EsVUFBSUUsU0FBUyxLQUFLZixLQUFMLENBQVdhLE9BQVgsQ0FBYjtBQUNBLFVBQUlHLFNBQVMsS0FBS2hCLEtBQUwsQ0FBV2MsT0FBWCxDQUFiOztBQUVBLGFBQVFDLFVBQVUsS0FBS0UsUUFBTCxDQUFjWixNQUFNTyxTQUFwQixFQUErQkcsT0FBT0gsU0FBdEMsQ0FBWCxJQUNDSSxVQUFVLEtBQUtDLFFBQUwsQ0FBY1osTUFBTU8sU0FBcEIsRUFBK0JJLE9BQU9KLFNBQXRDLENBRGxCLEVBRUE7QUFDRTtBQUNBLFlBQUlNLG9CQUFKOztBQUVBLFlBQUlGLE1BQUosRUFDRUUsY0FBYyxLQUFLUCxTQUFMLENBQWVJLE9BQU9ILFNBQXRCLEVBQWlDSSxPQUFPSixTQUF4QyxJQUFxREMsT0FBckQsR0FBK0RDLE9BQTdFLENBREYsS0FHRUksY0FBY0wsT0FBZDs7QUFFRmxDLGFBQUssS0FBS3FCLEtBQVYsRUFBaUJNLEtBQWpCLEVBQXdCWSxXQUF4Qjs7QUFFQTtBQUNBWixnQkFBUVksV0FBUjtBQUNBTCxrQkFBVVAsUUFBUSxDQUFsQjtBQUNBUSxrQkFBVUQsVUFBVSxDQUFwQjtBQUNBRSxpQkFBUyxLQUFLZixLQUFMLENBQVdhLE9BQVgsQ0FBVDtBQUNBRyxpQkFBUyxLQUFLaEIsS0FBTCxDQUFXYyxPQUFYLENBQVQ7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Z0NBR1k7QUFDVjtBQUNBO0FBQ0EsVUFBSUssV0FBV1gsS0FBS0MsS0FBTCxDQUFXLENBQUMsS0FBS1YsY0FBTCxHQUFzQixDQUF2QixJQUE0QixDQUF2QyxDQUFmOztBQUVBLFdBQUssSUFBSVgsSUFBSStCLFFBQWIsRUFBdUIvQixJQUFJLENBQTNCLEVBQThCQSxHQUE5QjtBQUNFLGFBQUtnQyxXQUFMLENBQWlCaEMsQ0FBakI7QUFERjtBQUVEOztBQUVEOzs7Ozs7Ozs7OzJCQU9PaUIsSyxFQUFPZ0IsSSxFQUFNO0FBQ2xCLFVBQUliLEtBQUtjLEdBQUwsQ0FBU0QsSUFBVCxNQUFtQjFCLGlCQUF2QixFQUEwQztBQUN4Q1UsY0FBTU8sU0FBTixHQUFrQlMsSUFBbEI7QUFDQTtBQUNBLGFBQUtyQixLQUFMLENBQVcsS0FBS0QsY0FBaEIsSUFBa0NNLEtBQWxDO0FBQ0E7QUFDQSxhQUFLa0IsU0FBTCxDQUFlLEtBQUt4QixjQUFwQjtBQUNBLGFBQUtBLGNBQUwsSUFBdUIsQ0FBdkI7O0FBRUEsZUFBTyxLQUFLc0IsSUFBWjtBQUNEOztBQUVEaEIsWUFBTU8sU0FBTixHQUFrQlksU0FBbEI7QUFDQSxhQUFPLEtBQUtDLE1BQUwsQ0FBWXBCLEtBQVosQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7O3lCQU9LQSxLLEVBQU9nQixJLEVBQU07QUFDaEIsVUFBSWIsS0FBS2MsR0FBTCxDQUFTRCxJQUFULE1BQW1CMUIsaUJBQXZCLEVBQTBDO0FBQ3hDLFlBQU1XLFFBQVF0QixRQUFRLEtBQUtnQixLQUFiLEVBQW9CSyxLQUFwQixDQUFkOztBQUVBLFlBQUlDLFVBQVUsQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCRCxnQkFBTU8sU0FBTixHQUFrQlMsSUFBbEI7QUFDQTtBQUNBLGNBQU1YLFNBQVMsS0FBS1YsS0FBTCxDQUFXUSxLQUFLQyxLQUFMLENBQVdILFFBQVEsQ0FBbkIsQ0FBWCxDQUFmOztBQUVBLGNBQUlJLFVBQVUsS0FBS0MsU0FBTCxDQUFlVSxJQUFmLEVBQXFCWCxPQUFPRSxTQUE1QixDQUFkLEVBQ0UsS0FBS1csU0FBTCxDQUFlakIsS0FBZixFQURGLEtBR0UsS0FBS2MsV0FBTCxDQUFpQmQsS0FBakI7QUFDSDs7QUFFRCxlQUFPLEtBQUtlLElBQVo7QUFDRDs7QUFFRGhCLFlBQU1PLFNBQU4sR0FBa0JZLFNBQWxCO0FBQ0EsYUFBTyxLQUFLQyxNQUFMLENBQVlwQixLQUFaLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7OzJCQU1PQSxLLEVBQU87QUFDWjtBQUNBLFVBQU1DLFFBQVF0QixRQUFRLEtBQUtnQixLQUFiLEVBQW9CSyxLQUFwQixDQUFkOztBQUVBLFVBQUlDLFVBQVUsQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCLFlBQU1vQixZQUFZLEtBQUszQixjQUFMLEdBQXNCLENBQXhDOztBQUVBO0FBQ0EsWUFBSU8sVUFBVW9CLFNBQWQsRUFBeUI7QUFDdkI7QUFDQSxlQUFLMUIsS0FBTCxDQUFXMEIsU0FBWCxJQUF3QkYsU0FBeEI7QUFDQTtBQUNBLGVBQUt6QixjQUFMLEdBQXNCMkIsU0FBdEI7O0FBRUEsaUJBQU8sS0FBS0wsSUFBWjtBQUNELFNBUEQsTUFPTztBQUNMO0FBQ0ExQyxlQUFLLEtBQUtxQixLQUFWLEVBQWlCTSxLQUFqQixFQUF3Qm9CLFNBQXhCO0FBQ0E7QUFDQSxlQUFLMUIsS0FBTCxDQUFXMEIsU0FBWCxJQUF3QkYsU0FBeEI7O0FBRUEsY0FBSWxCLFVBQVUsQ0FBZCxFQUFpQjtBQUNmLGlCQUFLYyxXQUFMLENBQWlCLENBQWpCO0FBQ0QsV0FGRCxNQUVPO0FBQ0w7QUFDQSxnQkFBTWYsU0FBUSxLQUFLTCxLQUFMLENBQVdNLEtBQVgsQ0FBZDtBQUNBLGdCQUFNSSxTQUFTLEtBQUtWLEtBQUwsQ0FBV1EsS0FBS0MsS0FBTCxDQUFXSCxRQUFRLENBQW5CLENBQVgsQ0FBZjs7QUFFQSxnQkFBSUksVUFBVSxLQUFLQyxTQUFMLENBQWVOLE9BQU1PLFNBQXJCLEVBQWdDRixPQUFPRSxTQUF2QyxDQUFkLEVBQ0UsS0FBS1csU0FBTCxDQUFlakIsS0FBZixFQURGLEtBR0UsS0FBS2MsV0FBTCxDQUFpQmQsS0FBakI7QUFDSDtBQUNGOztBQUVEO0FBQ0EsYUFBS1AsY0FBTCxHQUFzQjJCLFNBQXRCO0FBQ0Q7O0FBRUQsYUFBTyxLQUFLTCxJQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs0QkFHUTtBQUNOLFdBQUt0QixjQUFMLEdBQXNCLENBQXRCO0FBQ0EsV0FBS0MsS0FBTCxHQUFhLElBQUlDLEtBQUosQ0FBVSxLQUFLRCxLQUFMLENBQVdiLE1BQXJCLENBQWI7QUFDRDs7QUFFRDs7Ozs7Ozs7O3dCQU1Ja0IsSyxFQUFPO0FBQ1QsYUFBTyxLQUFLTCxLQUFMLENBQVdoQixPQUFYLENBQW1CcUIsS0FBbkIsTUFBOEIsQ0FBQyxDQUF0QztBQUNEOzs7d0JBck9VO0FBQ1QsVUFBSSxLQUFLTixjQUFMLEdBQXNCLENBQTFCLEVBQ0UsT0FBTyxLQUFLQyxLQUFMLENBQVcsQ0FBWCxFQUFjWSxTQUFyQjs7QUFFRixhQUFPZSxRQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O3dCQUtXO0FBQ1QsYUFBTyxLQUFLM0IsS0FBTCxDQUFXLENBQVgsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7c0JBTVk0QixLLEVBQU87QUFDakIsVUFBSUEsVUFBVSxLQUFLMUIsUUFBbkIsRUFBNkI7QUFDM0IsYUFBS0EsUUFBTCxHQUFnQjBCLEtBQWhCOztBQUVBLFlBQUksS0FBSzFCLFFBQUwsS0FBa0IsSUFBdEIsRUFBNEI7QUFDMUIsZUFBS2UsUUFBTCxHQUFnQjVCLGVBQWhCO0FBQ0EsZUFBS3NCLFNBQUwsR0FBaUJsQixnQkFBakI7QUFDRCxTQUhELE1BR087QUFDTCxlQUFLd0IsUUFBTCxHQUFnQnpCLGVBQWhCO0FBQ0EsZUFBS21CLFNBQUwsR0FBaUJqQixnQkFBakI7QUFDRDs7QUFFRCxhQUFLbUMsU0FBTDtBQUNEO0FBQ0YsSzt3QkFFYTtBQUNaLGFBQU8sS0FBSzNCLFFBQVo7QUFDRDs7Ozs7a0JBZ01ZTCxhIiwiZmlsZSI6IlByaW9yaXR5UXVldWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB3b3JrcyBieSByZWZlcmVuY2VcbmZ1bmN0aW9uIHN3YXAoYXJyLCBpMSwgaTIpIHtcbiAgY29uc3QgdG1wID0gYXJyW2kxXTtcbiAgYXJyW2kxXSA9IGFycltpMl07XG4gIGFycltpMl0gPSB0bXA7XG59XG5cbi8vIGh0dHBzOi8vanNwZXJmLmNvbS9qcy1mb3ItbG9vcC12cy1hcnJheS1pbmRleG9mLzM0NlxuZnVuY3Rpb24gaW5kZXhPZihhcnIsIGVsKSB7XG4gIGNvbnN0IGwgPSBhcnIubGVuZ3RoO1xuICAvLyBpZ25vcmUgZmlyc3QgZWxlbWVudCBhcyBpdCBjYW4ndCBiZSBhIGVudHJ5XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGFycltpXSA9PT0gZWwpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBEZWZpbmUgaWYgYHRpbWUxYCBzaG91bGQgYmUgbG93ZXIgaW4gdGhlIHRvcG9ncmFwaHkgdGhhbiBgdGltZTJgLlxuICogSXMgZHluYW1pY2FsbHkgYWZmZWN0ZWQgdG8gdGhlIHByaW9yaXR5IHF1ZXVlIGFjY29yZGluZyB0byBoYW5kbGUgYG1pbmAgYW5kIGBtYXhgIGhlYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lMVxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCBfaXNMb3dlck1heEhlYXAgPSBmdW5jdGlvbih0aW1lMSwgdGltZTIpIHtcbiAgcmV0dXJuIHRpbWUxIDwgdGltZTI7XG59O1xuXG5jb25zdCBfaXNMb3dlck1pbkhlYXAgPSBmdW5jdGlvbih0aW1lMSwgdGltZTIpIHtcbiAgcmV0dXJuIHRpbWUxID4gdGltZTI7XG59O1xuXG4vKipcbiAqIERlZmluZSBpZiBgdGltZTFgIHNob3VsZCBiZSBoaWdoZXIgaW4gdGhlIHRvcG9ncmFwaHkgdGhhbiBgdGltZTJgLlxuICogSXMgZHluYW1pY2FsbHkgYWZmZWN0ZWQgdG8gdGhlIHByaW9yaXR5IHF1ZXVlIGFjY29yZGluZyB0byBoYW5kbGUgYG1pbmAgYW5kIGBtYXhgIGhlYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lMVxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCBfaXNIaWdoZXJNYXhIZWFwID0gZnVuY3Rpb24odGltZTEsIHRpbWUyKSB7XG4gIHJldHVybiB0aW1lMSA+IHRpbWUyO1xufTtcblxuY29uc3QgX2lzSGlnaGVyTWluSGVhcCA9IGZ1bmN0aW9uKHRpbWUxLCB0aW1lMikge1xuICByZXR1cm4gdGltZTEgPCB0aW1lMjtcbn07XG5cbmNvbnN0IFBPU0lUSVZFX0lORklOSVRZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4vKipcbiAqIFByaW9yaXR5IHF1ZXVlIGltcGxlbWVudGluZyBhIGJpbmFyeSBoZWFwLlxuICogQWN0cyBhcyBhIG1pbiBoZWFwIGJ5IGRlZmF1bHQsIGNhbiBiZSBkeW5hbWljYWxseSBjaGFuZ2VkIHRvIGEgbWF4IGhlYXBcbiAqIGJ5IHNldHRpbmcgYHJldmVyc2VgIHRvIHRydWUuXG4gKlxuICogX25vdGVfOiB0aGUgcXVldWUgY3JlYXRlcyBhbmQgbWFpbnRhaW5zIGEgbmV3IHByb3BlcnR5IChpLmUuIGBxdWV1ZVRpbWVgKVxuICogdG8gZWFjaCBvYmplY3QgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IFtoZWFwTGVuZ3RoPTEwMF0gLSBEZWZhdWx0IHNpemUgb2YgdGhlIGFycmF5IHVzZWQgdG8gY3JlYXRlIHRoZSBoZWFwLlxuICovXG5jbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgY29uc3RydWN0b3IoaGVhcExlbmd0aCA9IDEwMCkge1xuICAgIC8qKlxuICAgICAqIFBvaW50ZXIgdG8gdGhlIGZpcnN0IGVtcHR5IGluZGV4IG9mIHRoZSBoZWFwLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIFByaW9yaXR5UXVldWVcbiAgICAgKiBAbmFtZSBfY3VycmVudExlbmd0aFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY3VycmVudExlbmd0aCA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiB0aGUgc29ydGVkIGluZGV4ZXMgb2YgdGhlIGVudHJpZXMsIHRoZSBhY3R1YWwgaGVhcC4gSWdub3JlIHRoZSBpbmRleCAwLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyb2YgUHJpb3JpdHlRdWV1ZVxuICAgICAqIEBuYW1lIF9oZWFwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9oZWFwID0gbmV3IEFycmF5KGhlYXBMZW5ndGggKyAxKTtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIHF1ZXVlOiBgbWluYCBoZWFwIGlmIGBmYWxzZWAsIGBtYXhgIGhlYXAgaWYgYHRydWVgXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFByaW9yaXR5UXVldWVcbiAgICAgKiBAbmFtZSBfcmV2ZXJzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcmV2ZXJzZSA9IG51bGw7XG5cbiAgICAvLyBpbml0aWFsaXplIGNvbXBhcmUgZnVuY3Rpb25zXG4gICAgdGhpcy5yZXZlcnNlID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGltZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgYmluYXJ5IGhlYXAuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgdGltZSgpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudExlbmd0aCA+IDEpXG4gICAgICByZXR1cm4gdGhpcy5faGVhcFsxXS5xdWV1ZVRpbWU7XG5cbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgZWxlbWVudCBpbiB0aGUgYmluYXJ5IGhlYXAuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGhlYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYXBbMV07XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBvcmRlciBvZiB0aGUgcXVldWUgKG1heCBoZWFwIGlmIHRydWUsIG1pbiBoZWFwIGlmIGZhbHNlKSxcbiAgICogcmVidWlsZCB0aGUgaGVhcCB3aXRoIHRoZSBleGlzdGluZyBlbnRyaWVzLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHNldCByZXZlcnNlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLl9yZXZlcnNlKSB7XG4gICAgICB0aGlzLl9yZXZlcnNlID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLl9yZXZlcnNlID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2lzTG93ZXIgPSBfaXNMb3dlck1heEhlYXA7XG4gICAgICAgIHRoaXMuX2lzSGlnaGVyID0gX2lzSGlnaGVyTWF4SGVhcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lzTG93ZXIgPSBfaXNMb3dlck1pbkhlYXA7XG4gICAgICAgIHRoaXMuX2lzSGlnaGVyID0gX2lzSGlnaGVyTWluSGVhcDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5idWlsZEhlYXAoKTtcbiAgICB9XG4gIH1cblxuICBnZXQgcmV2ZXJzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmV2ZXJzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXggdGhlIGhlYXAgYnkgbW92aW5nIGFuIGVudHJ5IHRvIGEgbmV3IHVwcGVyIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgZW50cnkgdG8gbW92ZS5cbiAgICovXG4gIF9idWJibGVVcChzdGFydEluZGV4KSB7XG4gICAgbGV0IGVudHJ5ID0gdGhpcy5faGVhcFtzdGFydEluZGV4XTtcblxuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgbGV0IHBhcmVudEluZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIDIpO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLl9oZWFwW3BhcmVudEluZGV4XTtcblxuICAgIHdoaWxlIChwYXJlbnQgJiYgdGhpcy5faXNIaWdoZXIoZW50cnkucXVldWVUaW1lLCBwYXJlbnQucXVldWVUaW1lKSkge1xuICAgICAgc3dhcCh0aGlzLl9oZWFwLCBpbmRleCwgcGFyZW50SW5kZXgpO1xuXG4gICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gMik7XG4gICAgICBwYXJlbnQgPSB0aGlzLl9oZWFwW3BhcmVudEluZGV4XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRml4IHRoZSBoZWFwIGJ5IG1vdmluZyBhbiBlbnRyeSB0byBhIG5ldyBsb3dlciBwb3NpdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIGVudHJ5IHRvIG1vdmUuXG4gICAqL1xuICBfYnViYmxlRG93bihzdGFydEluZGV4KSB7XG4gICAgbGV0IGVudHJ5ID0gdGhpcy5faGVhcFtzdGFydEluZGV4XTtcblxuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgbGV0IGMxaW5kZXggPSBpbmRleCAqIDI7XG4gICAgbGV0IGMyaW5kZXggPSBjMWluZGV4ICsgMTtcbiAgICBsZXQgY2hpbGQxID0gdGhpcy5faGVhcFtjMWluZGV4XTtcbiAgICBsZXQgY2hpbGQyID0gdGhpcy5faGVhcFtjMmluZGV4XTtcblxuICAgIHdoaWxlICgoY2hpbGQxICYmIHRoaXMuX2lzTG93ZXIoZW50cnkucXVldWVUaW1lLCBjaGlsZDEucXVldWVUaW1lKSnCoHx8XG4gICAgICAgICAgIChjaGlsZDIgJiYgdGhpcy5faXNMb3dlcihlbnRyeS5xdWV1ZVRpbWUsIGNoaWxkMi5xdWV1ZVRpbWUpKSlcbiAgICB7XG4gICAgICAvLyBzd2FwIHdpdGggdGhlIG1pbmltdW0gY2hpbGRcbiAgICAgIGxldCB0YXJnZXRJbmRleDtcblxuICAgICAgaWYgKGNoaWxkMilcbiAgICAgICAgdGFyZ2V0SW5kZXggPSB0aGlzLl9pc0hpZ2hlcihjaGlsZDEucXVldWVUaW1lLCBjaGlsZDIucXVldWVUaW1lKSA/IGMxaW5kZXggOiBjMmluZGV4O1xuICAgICAgZWxzZVxuICAgICAgICB0YXJnZXRJbmRleCA9IGMxaW5kZXg7XG5cbiAgICAgIHN3YXAodGhpcy5faGVhcCwgaW5kZXgsIHRhcmdldEluZGV4KTtcblxuICAgICAgLy8gdXBkYXRlIHRvIGZpbmQgbmV4dCBjaGlsZHJlblxuICAgICAgaW5kZXggPSB0YXJnZXRJbmRleDtcbiAgICAgIGMxaW5kZXggPSBpbmRleCAqIDI7XG4gICAgICBjMmluZGV4ID0gYzFpbmRleCArIDE7XG4gICAgICBjaGlsZDEgPSB0aGlzLl9oZWFwW2MxaW5kZXhdO1xuICAgICAgY2hpbGQyID0gdGhpcy5faGVhcFtjMmluZGV4XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgdGhlIGhlYXAgKGZyb20gYm90dG9tIHVwKS5cbiAgICovXG4gIGJ1aWxkSGVhcCgpIHtcbiAgICAvLyBmaW5kIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBpbnRlcm5hbCBub2RlXG4gICAgLy8gQHRvZG8gLSBtYWtlIHN1cmUgdGhhdCdzIHRoZSByaWdodCB3YXkgdG8gZG8uXG4gICAgbGV0IG1heEluZGV4ID0gTWF0aC5mbG9vcigodGhpcy5fY3VycmVudExlbmd0aCAtIDEpIC8gMik7XG5cbiAgICBmb3IgKGxldCBpID0gbWF4SW5kZXg7IGkgPiAwOyBpLS0pXG4gICAgICB0aGlzLl9idWJibGVEb3duKGkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhIG5ldyBvYmplY3QgaW4gdGhlIGJpbmFyeSBoZWFwIGFuZCBzb3J0IGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZW50cnkgLSBFbnRyeSB0byBpbnNlcnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIC0gVGltZSBhdCB3aGljaCB0aGUgZW50cnkgc2hvdWxkIGJlIG9yZGVyZXIuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGltZSBvZiB0aGUgZmlyc3QgZW50cnkgaW4gdGhlIGhlYXAuXG4gICAqL1xuICBpbnNlcnQoZW50cnksIHRpbWUpIHtcbiAgICBpZiAoTWF0aC5hYnModGltZSkgIT09IFBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICBlbnRyeS5xdWV1ZVRpbWUgPSB0aW1lO1xuICAgICAgLy8gYWRkIHRoZSBuZXcgZW50cnkgYXQgdGhlIGVuZCBvZiB0aGUgaGVhcFxuICAgICAgdGhpcy5faGVhcFt0aGlzLl9jdXJyZW50TGVuZ3RoXSA9IGVudHJ5O1xuICAgICAgLy8gYnViYmxlIGl0IHVwXG4gICAgICB0aGlzLl9idWJibGVVcCh0aGlzLl9jdXJyZW50TGVuZ3RoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRMZW5ndGggKz0gMTtcblxuICAgICAgcmV0dXJuIHRoaXMudGltZTtcbiAgICB9XG5cbiAgICBlbnRyeS5xdWV1ZVRpbWUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlKGVudHJ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGEgZ2l2ZW4gZW50cnkgdG8gYSBuZXcgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbnRyeSAtIEVudHJ5IHRvIG1vdmUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIC0gVGltZSBhdCB3aGljaCB0aGUgZW50cnkgc2hvdWxkIGJlIG9yZGVyZXIuXG4gICAqIEByZXR1cm4ge051bWJlcn0gLSBUaW1lIG9mIGZpcnN0IGVudHJ5IGluIHRoZSBoZWFwLlxuICAgKi9cbiAgbW92ZShlbnRyeSwgdGltZSkge1xuICAgIGlmIChNYXRoLmFicyh0aW1lKSAhPT0gUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhPZih0aGlzLl9oZWFwLCBlbnRyeSk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZW50cnkucXVldWVUaW1lID0gdGltZTtcbiAgICAgICAgLy8gZGVmaW5lIGlmIHRoZSBlbnRyeSBzaG91bGQgYmUgYnViYmxlZCB1cCBvciBkb3duXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX2hlYXBbTWF0aC5mbG9vcihpbmRleCAvIDIpXTtcblxuICAgICAgICBpZiAocGFyZW50ICYmIHRoaXMuX2lzSGlnaGVyKHRpbWUsIHBhcmVudC5xdWV1ZVRpbWUpKVxuICAgICAgICAgIHRoaXMuX2J1YmJsZVVwKGluZGV4KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMuX2J1YmJsZURvd24oaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50aW1lO1xuICAgIH1cblxuICAgIGVudHJ5LnF1ZXVlVGltZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmUoZW50cnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBlbnRyeSBmcm9tIHRoZSBoZWFwIGFuZCBmaXggdGhlIGhlYXAuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbnRyeSAtIEVudHJ5IHRvIHJlbW92ZS5cbiAgICogQHJldHVybiB7TnVtYmVyfSAtIFRpbWUgb2YgZmlyc3QgZW50cnkgaW4gdGhlIGhlYXAuXG4gICAqL1xuICByZW1vdmUoZW50cnkpIHtcbiAgICAvLyBmaW5kIHRoZSBpbmRleCBvZiB0aGUgZW50cnlcbiAgICBjb25zdCBpbmRleCA9IGluZGV4T2YodGhpcy5faGVhcCwgZW50cnkpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgY29uc3QgbGFzdEluZGV4ID0gdGhpcy5fY3VycmVudExlbmd0aCAtIDE7XG5cbiAgICAgIC8vIGlmIHRoZSBlbnRyeSBpcyB0aGUgbGFzdCBvbmVcbiAgICAgIGlmIChpbmRleCA9PT0gbGFzdEluZGV4KSB7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIGhlYXBcbiAgICAgICAgdGhpcy5faGVhcFtsYXN0SW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyB1cGRhdGUgY3VycmVudCBsZW5ndGhcbiAgICAgICAgdGhpcy5fY3VycmVudExlbmd0aCA9IGxhc3RJbmRleDtcblxuICAgICAgICByZXR1cm4gdGhpcy50aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3dhcCB3aXRoIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGhlYXBcbiAgICAgICAgc3dhcCh0aGlzLl9oZWFwLCBpbmRleCwgbGFzdEluZGV4KTtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gaGVhcFxuICAgICAgICB0aGlzLl9oZWFwW2xhc3RJbmRleF0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5fYnViYmxlRG93bigxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBidWJibGUgdGhlIChleCBsYXN0KSBlbGVtZW50IHVwIG9yIGRvd24gYWNjb3JkaW5nIHRvIGl0cyBuZXcgY29udGV4dFxuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5faGVhcFtpbmRleF07XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5faGVhcFtNYXRoLmZsb29yKGluZGV4IC8gMildO1xuXG4gICAgICAgICAgaWYgKHBhcmVudCAmJiB0aGlzLl9pc0hpZ2hlcihlbnRyeS5xdWV1ZVRpbWUsIHBhcmVudC5xdWV1ZVRpbWUpKVxuICAgICAgICAgICAgdGhpcy5fYnViYmxlVXAoaW5kZXgpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2J1YmJsZURvd24oaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBjdXJyZW50IGxlbmd0aFxuICAgICAgdGhpcy5fY3VycmVudExlbmd0aCA9IGxhc3RJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50aW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBxdWV1ZS5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2N1cnJlbnRMZW5ndGggPSAxO1xuICAgIHRoaXMuX2hlYXAgPSBuZXcgQXJyYXkodGhpcy5faGVhcC5sZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZXMgaWYgdGhlIHF1ZXVlIGNvbnRhaW5zIHRoZSBnaXZlbiBgZW50cnlgLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZW50cnkgLSBFbnRyeSB0byBiZSBjaGVja2VkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBoYXMoZW50cnkpIHtcbiAgICByZXR1cm4gdGhpcy5faGVhcC5pbmRleE9mKGVudHJ5KSAhPT0gLTE7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJpb3JpdHlRdWV1ZTtcbiJdfQ==","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Base class for time engines\n *\n * A time engine generates more or less regular events and/or plays back a\n * media stream. It implements one or multiple interfaces to be driven by a\n * master (i.e. a Scheduler, a Transport or a PlayControl) in synchronization\n * with other engines. The provided interfaces are scheduled, transported,\n * and play-controlled.\n *\n *\n * #### The `scheduled` interface\n *\n * The scheduled interface allows for synchronizing an engine to a monotonous time\n * as it is provided by the Scheduler master.\n *\n * ###### `advanceTime(time :Number) -> {Number}`\n *\n * The `advanceTime` method has to be implemented by an `TimeEngine` as part of the\n * scheduled interface. The method is called by the master (e.g. the scheduler).\n * It generates an event and to returns the time of the next event (i.e. the next\n * call of advanceTime). The returned time has to be greater than the time\n * received as argument of the method. In case that a TimeEngine has to generate\n * multiple events at the same time, the engine has to implement its own loop\n * while(event.time <= time) and return the time of the next event (if any).\n *\n * ###### `resetTime(time=undefined :Number)`\n *\n * The `resetTime` method is provided by the `TimeEngine` base class. An engine may\n * call this method to reset its next event time (e.g. when a parameter is\n * changed that influences the engine's temporal behavior). When no argument\n * is given, the time is reset to the current master time. When calling the\n * method with Infinity the engine is suspended without being removed from the\n * master.\n *\n *\n * #### The `transported` interface\n *\n * The transported interface allows for synchronizing an engine to a position\n * (i.e. media playback time) that can run forward and backward and jump as it\n * is provided by the Transport master.\n *\n * ###### `syncPosition(time :Number, position :Number, speed :Number) -> {Number}`\n *\n * The `syncPositon` method has to be implemented by a `TimeEngine` as part of the\n * transported interface. The method syncPositon is called whenever the master\n * of a transported engine has to (re-)synchronize the engine's position. This\n * is for example required when the master (re-)starts playback, jumps to an\n * arbitrary position, and when reversing playback direction. The method returns\n * the next position of the engine in the given playback direction\n * (i.e. `speed < 0` or `speed > 0`).\n *\n * ###### `advancePosition(time :Number, position :Number, speed :Number) -> {Number}`\n *\n * The `advancePosition` method has to be implemented by a `TimeEngine` as part\n * of the transported interface. The master calls the advancePositon method when\n * the engine's event position is reached. The method generates an event and\n * returns the next position in the given playback direction (i.e. speed < 0 or\n * speed > 0). The returned position has to be greater (i.e. when speed > 0)\n * or less (i.e. when speed < 0) than the position received as argument of the\n * method.\n *\n * ###### `resetPosition(position=undefined :Number)`\n *\n * The resetPosition method is provided by the TimeEngine base class. An engine\n * may call this method to reset its next event position. When no argument\n * is given, the time is reset to the current master time. When calling the\n * method with Infinity the engine is suspended without being removed from\n * the master.\n *\n *\n * #### The speed-controlled interface\n *\n * The \"speed-controlled\" interface allows for syncronizing an engine that is\n * neither driven through the scheduled nor the transported interface. The\n * interface allows in particular to synchronize engines that assure their own\n * scheduling (i.e. audio player or an oscillator) to the event-based scheduled\n * and transported engines.\n *\n * ###### `syncSpeed(time :Number, position :Number, speed :Number, seek=false :Boolean)`\n *\n * The syncSpeed method has to be implemented by a TimeEngine as part of the\n * speed-controlled interface. The method is called by the master whenever the\n * playback speed changes or the position jumps arbitarily (i.e. on a seek).\n *\n *\n * <hr />\n *\n * Example that shows a `TimeEngine` running in a `Scheduler` that counts up\n * at a given frequency:\n * {@link https://rawgit.com/wavesjs/waves-audio/master/examples/time-engine.html}\n *\n * @example\n * import * as audio from 'waves-audio';\n *\n * class MyEngine extends audio.TimeEngine {\n *   constructor() {\n *     super();\n *     // ...\n *   }\n * }\n *\n */\nvar TimeEngine = function () {\n  function TimeEngine() {\n    (0, _classCallCheck3.default)(this, TimeEngine);\n\n    /**\n     * The engine's master.\n     *\n     * @type {Mixed}\n     * @name master\n     * @memberof TimeEngine\n     */\n    this.master = null;\n  }\n\n  /**\n   * The time engine's current (master) time.\n   *\n   * @type {Number}\n   * @memberof TimeEngine\n   * @readonly\n   */\n\n\n  (0, _createClass3.default)(TimeEngine, [{\n    key: \"resetTime\",\n    value: function resetTime() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n      if (this.master) this.master.resetEngineTime(this, time);\n    }\n\n    /**\n     * Transported interface\n     *   - syncPosition(time, position, speed), called to reposition TimeEngine, returns next position\n     *   - advancePosition(time, position, speed), called to generate next event at given time and position, returns next position\n     *\n     * @static\n     * @memberof TimeEngine\n     */\n\n  }, {\n    key: \"resetPosition\",\n    value: function resetPosition() {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n      if (this.master) this.master.resetEnginePosition(this, position);\n    }\n\n    /**\n     * Speed-controlled interface\n     *   - syncSpeed(time, position, speed, ), called to\n     *\n     * @static\n     * @memberof TimeEngine\n     */\n\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (this.master) return this.master.currentTime;\n\n      return undefined;\n    }\n\n    /**\n     * The time engine's current (master) audio time.\n     *\n     * @type {Number}\n     * @memberof TimeEngine\n     * @readonly\n     */\n\n  }, {\n    key: \"audioTime\",\n    get: function get() {\n      if (this.master) return this.master.audioTime;\n\n      return undefined;\n    }\n\n    /**\n     * The time engine's current (master) position.\n     *\n     * @type {Number}\n     * @memberof TimeEngine\n     * @readonly\n     */\n\n  }, {\n    key: \"currentPosition\",\n    get: function get() {\n      var master = this.master;\n\n      if (master && master.currentPosition !== undefined) return master.currentPosition;\n\n      return undefined;\n    }\n\n    /**\n     * Scheduled interface\n     *   - advanceTime(time), called to generate next event at given time, returns next time\n     *\n     * @static\n     * @memberof TimeEngine\n     */\n\n  }], [{\n    key: \"implementsScheduled\",\n    value: function implementsScheduled(engine) {\n      return engine.advanceTime && engine.advanceTime instanceof Function;\n    }\n  }, {\n    key: \"implementsTransported\",\n    value: function implementsTransported(engine) {\n      return engine.syncPosition && engine.syncPosition instanceof Function && engine.advancePosition && engine.advancePosition instanceof Function;\n    }\n  }, {\n    key: \"implementsSpeedControlled\",\n    value: function implementsSpeedControlled(engine) {\n      return engine.syncSpeed && engine.syncSpeed instanceof Function;\n    }\n  }]);\n  return TimeEngine;\n}();\n\nexports.default = TimeEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRpbWVFbmdpbmUuanMiXSwibmFtZXMiOlsiVGltZUVuZ2luZSIsIm1hc3RlciIsInRpbWUiLCJ1bmRlZmluZWQiLCJyZXNldEVuZ2luZVRpbWUiLCJwb3NpdGlvbiIsInJlc2V0RW5naW5lUG9zaXRpb24iLCJjdXJyZW50VGltZSIsImF1ZGlvVGltZSIsImN1cnJlbnRQb3NpdGlvbiIsImVuZ2luZSIsImFkdmFuY2VUaW1lIiwiRnVuY3Rpb24iLCJzeW5jUG9zaXRpb24iLCJhZHZhbmNlUG9zaXRpb24iLCJzeW5jU3BlZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBc0dNQSxVO0FBQ0osd0JBQWM7QUFBQTs7QUFDWjs7Ozs7OztBQU9BLFNBQUtDLE1BQUwsR0FBYyxJQUFkO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7O2dDQXVENEI7QUFBQSxVQUFsQkMsSUFBa0IsdUVBQVhDLFNBQVc7O0FBQzFCLFVBQUksS0FBS0YsTUFBVCxFQUNFLEtBQUtBLE1BQUwsQ0FBWUcsZUFBWixDQUE0QixJQUE1QixFQUFrQ0YsSUFBbEM7QUFDSDs7QUFFRDs7Ozs7Ozs7Ozs7b0NBZW9DO0FBQUEsVUFBdEJHLFFBQXNCLHVFQUFYRixTQUFXOztBQUNsQyxVQUFJLEtBQUtGLE1BQVQsRUFDRSxLQUFLQSxNQUFMLENBQVlLLG1CQUFaLENBQWdDLElBQWhDLEVBQXNDRCxRQUF0QztBQUNIOztBQUVEOzs7Ozs7Ozs7O3dCQXpFa0I7QUFDaEIsVUFBSSxLQUFLSixNQUFULEVBQ0UsT0FBTyxLQUFLQSxNQUFMLENBQVlNLFdBQW5COztBQUVGLGFBQU9KLFNBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozt3QkFPZ0I7QUFDZCxVQUFJLEtBQUtGLE1BQVQsRUFDRSxPQUFPLEtBQUtBLE1BQUwsQ0FBWU8sU0FBbkI7O0FBRUYsYUFBT0wsU0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7O3dCQU9zQjtBQUNwQixVQUFJRixTQUFTLEtBQUtBLE1BQWxCOztBQUVBLFVBQUlBLFVBQVVBLE9BQU9RLGVBQVAsS0FBMkJOLFNBQXpDLEVBQ0UsT0FBT0YsT0FBT1EsZUFBZDs7QUFFRixhQUFPTixTQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7d0NBTzJCTyxNLEVBQVE7QUFDakMsYUFBUUEsT0FBT0MsV0FBUCxJQUFzQkQsT0FBT0MsV0FBUCxZQUE4QkMsUUFBNUQ7QUFDRDs7OzBDQWU0QkYsTSxFQUFRO0FBQ25DLGFBQ0VBLE9BQU9HLFlBQVAsSUFBdUJILE9BQU9HLFlBQVAsWUFBK0JELFFBQXRELElBQ0FGLE9BQU9JLGVBRFAsSUFDMEJKLE9BQU9JLGVBQVAsWUFBa0NGLFFBRjlEO0FBSUQ7Ozs4Q0FjZ0NGLE0sRUFBUTtBQUN2QyxhQUFRQSxPQUFPSyxTQUFQLElBQW9CTCxPQUFPSyxTQUFQLFlBQTRCSCxRQUF4RDtBQUNEOzs7OztrQkFHWVosVSIsImZpbGUiOiJUaW1lRW5naW5lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciB0aW1lIGVuZ2luZXNcbiAqXG4gKiBBIHRpbWUgZW5naW5lIGdlbmVyYXRlcyBtb3JlIG9yIGxlc3MgcmVndWxhciBldmVudHMgYW5kL29yIHBsYXlzIGJhY2sgYVxuICogbWVkaWEgc3RyZWFtLiBJdCBpbXBsZW1lbnRzIG9uZSBvciBtdWx0aXBsZSBpbnRlcmZhY2VzIHRvIGJlIGRyaXZlbiBieSBhXG4gKiBtYXN0ZXIgKGkuZS4gYSBTY2hlZHVsZXIsIGEgVHJhbnNwb3J0IG9yIGEgUGxheUNvbnRyb2wpIGluIHN5bmNocm9uaXphdGlvblxuICogd2l0aCBvdGhlciBlbmdpbmVzLiBUaGUgcHJvdmlkZWQgaW50ZXJmYWNlcyBhcmUgc2NoZWR1bGVkLCB0cmFuc3BvcnRlZCxcbiAqIGFuZCBwbGF5LWNvbnRyb2xsZWQuXG4gKlxuICpcbiAqICMjIyMgVGhlIGBzY2hlZHVsZWRgIGludGVyZmFjZVxuICpcbiAqIFRoZSBzY2hlZHVsZWQgaW50ZXJmYWNlIGFsbG93cyBmb3Igc3luY2hyb25pemluZyBhbiBlbmdpbmUgdG8gYSBtb25vdG9ub3VzIHRpbWVcbiAqIGFzIGl0IGlzIHByb3ZpZGVkIGJ5IHRoZSBTY2hlZHVsZXIgbWFzdGVyLlxuICpcbiAqICMjIyMjIyBgYWR2YW5jZVRpbWUodGltZSA6TnVtYmVyKSAtPiB7TnVtYmVyfWBcbiAqXG4gKiBUaGUgYGFkdmFuY2VUaW1lYCBtZXRob2QgaGFzIHRvIGJlIGltcGxlbWVudGVkIGJ5IGFuIGBUaW1lRW5naW5lYCBhcyBwYXJ0IG9mIHRoZVxuICogc2NoZWR1bGVkIGludGVyZmFjZS4gVGhlIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIG1hc3RlciAoZS5nLiB0aGUgc2NoZWR1bGVyKS5cbiAqIEl0IGdlbmVyYXRlcyBhbiBldmVudCBhbmQgdG8gcmV0dXJucyB0aGUgdGltZSBvZiB0aGUgbmV4dCBldmVudCAoaS5lLiB0aGUgbmV4dFxuICogY2FsbCBvZiBhZHZhbmNlVGltZSkuIFRoZSByZXR1cm5lZCB0aW1lIGhhcyB0byBiZSBncmVhdGVyIHRoYW4gdGhlIHRpbWVcbiAqIHJlY2VpdmVkIGFzIGFyZ3VtZW50IG9mIHRoZSBtZXRob2QuIEluIGNhc2UgdGhhdCBhIFRpbWVFbmdpbmUgaGFzIHRvIGdlbmVyYXRlXG4gKiBtdWx0aXBsZSBldmVudHMgYXQgdGhlIHNhbWUgdGltZSwgdGhlIGVuZ2luZSBoYXMgdG8gaW1wbGVtZW50IGl0cyBvd24gbG9vcFxuICogd2hpbGUoZXZlbnQudGltZSA8PSB0aW1lKSBhbmQgcmV0dXJuIHRoZSB0aW1lIG9mIHRoZSBuZXh0IGV2ZW50IChpZiBhbnkpLlxuICpcbiAqICMjIyMjIyBgcmVzZXRUaW1lKHRpbWU9dW5kZWZpbmVkIDpOdW1iZXIpYFxuICpcbiAqIFRoZSBgcmVzZXRUaW1lYCBtZXRob2QgaXMgcHJvdmlkZWQgYnkgdGhlIGBUaW1lRW5naW5lYCBiYXNlIGNsYXNzLiBBbiBlbmdpbmUgbWF5XG4gKiBjYWxsIHRoaXMgbWV0aG9kIHRvIHJlc2V0IGl0cyBuZXh0IGV2ZW50IHRpbWUgKGUuZy4gd2hlbiBhIHBhcmFtZXRlciBpc1xuICogY2hhbmdlZCB0aGF0IGluZmx1ZW5jZXMgdGhlIGVuZ2luZSdzIHRlbXBvcmFsIGJlaGF2aW9yKS4gV2hlbiBubyBhcmd1bWVudFxuICogaXMgZ2l2ZW4sIHRoZSB0aW1lIGlzIHJlc2V0IHRvIHRoZSBjdXJyZW50IG1hc3RlciB0aW1lLiBXaGVuIGNhbGxpbmcgdGhlXG4gKiBtZXRob2Qgd2l0aCBJbmZpbml0eSB0aGUgZW5naW5lIGlzIHN1c3BlbmRlZCB3aXRob3V0IGJlaW5nIHJlbW92ZWQgZnJvbSB0aGVcbiAqIG1hc3Rlci5cbiAqXG4gKlxuICogIyMjIyBUaGUgYHRyYW5zcG9ydGVkYCBpbnRlcmZhY2VcbiAqXG4gKiBUaGUgdHJhbnNwb3J0ZWQgaW50ZXJmYWNlIGFsbG93cyBmb3Igc3luY2hyb25pemluZyBhbiBlbmdpbmUgdG8gYSBwb3NpdGlvblxuICogKGkuZS4gbWVkaWEgcGxheWJhY2sgdGltZSkgdGhhdCBjYW4gcnVuIGZvcndhcmQgYW5kIGJhY2t3YXJkIGFuZCBqdW1wIGFzIGl0XG4gKiBpcyBwcm92aWRlZCBieSB0aGUgVHJhbnNwb3J0IG1hc3Rlci5cbiAqXG4gKiAjIyMjIyMgYHN5bmNQb3NpdGlvbih0aW1lIDpOdW1iZXIsIHBvc2l0aW9uIDpOdW1iZXIsIHNwZWVkIDpOdW1iZXIpIC0+IHtOdW1iZXJ9YFxuICpcbiAqIFRoZSBgc3luY1Bvc2l0b25gIG1ldGhvZCBoYXMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgYSBgVGltZUVuZ2luZWAgYXMgcGFydCBvZiB0aGVcbiAqIHRyYW5zcG9ydGVkIGludGVyZmFjZS4gVGhlIG1ldGhvZCBzeW5jUG9zaXRvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgdGhlIG1hc3RlclxuICogb2YgYSB0cmFuc3BvcnRlZCBlbmdpbmUgaGFzIHRvIChyZS0pc3luY2hyb25pemUgdGhlIGVuZ2luZSdzIHBvc2l0aW9uLiBUaGlzXG4gKiBpcyBmb3IgZXhhbXBsZSByZXF1aXJlZCB3aGVuIHRoZSBtYXN0ZXIgKHJlLSlzdGFydHMgcGxheWJhY2ssIGp1bXBzIHRvIGFuXG4gKiBhcmJpdHJhcnkgcG9zaXRpb24sIGFuZCB3aGVuIHJldmVyc2luZyBwbGF5YmFjayBkaXJlY3Rpb24uIFRoZSBtZXRob2QgcmV0dXJuc1xuICogdGhlIG5leHQgcG9zaXRpb24gb2YgdGhlIGVuZ2luZSBpbiB0aGUgZ2l2ZW4gcGxheWJhY2sgZGlyZWN0aW9uXG4gKiAoaS5lLiBgc3BlZWQgPCAwYCBvciBgc3BlZWQgPiAwYCkuXG4gKlxuICogIyMjIyMjIGBhZHZhbmNlUG9zaXRpb24odGltZSA6TnVtYmVyLCBwb3NpdGlvbiA6TnVtYmVyLCBzcGVlZCA6TnVtYmVyKSAtPiB7TnVtYmVyfWBcbiAqXG4gKiBUaGUgYGFkdmFuY2VQb3NpdGlvbmAgbWV0aG9kIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBhIGBUaW1lRW5naW5lYCBhcyBwYXJ0XG4gKiBvZiB0aGUgdHJhbnNwb3J0ZWQgaW50ZXJmYWNlLiBUaGUgbWFzdGVyIGNhbGxzIHRoZSBhZHZhbmNlUG9zaXRvbiBtZXRob2Qgd2hlblxuICogdGhlIGVuZ2luZSdzIGV2ZW50IHBvc2l0aW9uIGlzIHJlYWNoZWQuIFRoZSBtZXRob2QgZ2VuZXJhdGVzIGFuIGV2ZW50IGFuZFxuICogcmV0dXJucyB0aGUgbmV4dCBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gcGxheWJhY2sgZGlyZWN0aW9uIChpLmUuIHNwZWVkIDwgMCBvclxuICogc3BlZWQgPiAwKS4gVGhlIHJldHVybmVkIHBvc2l0aW9uIGhhcyB0byBiZSBncmVhdGVyIChpLmUuIHdoZW4gc3BlZWQgPiAwKVxuICogb3IgbGVzcyAoaS5lLiB3aGVuIHNwZWVkIDwgMCkgdGhhbiB0aGUgcG9zaXRpb24gcmVjZWl2ZWQgYXMgYXJndW1lbnQgb2YgdGhlXG4gKiBtZXRob2QuXG4gKlxuICogIyMjIyMjIGByZXNldFBvc2l0aW9uKHBvc2l0aW9uPXVuZGVmaW5lZCA6TnVtYmVyKWBcbiAqXG4gKiBUaGUgcmVzZXRQb3NpdGlvbiBtZXRob2QgaXMgcHJvdmlkZWQgYnkgdGhlIFRpbWVFbmdpbmUgYmFzZSBjbGFzcy4gQW4gZW5naW5lXG4gKiBtYXkgY2FsbCB0aGlzIG1ldGhvZCB0byByZXNldCBpdHMgbmV4dCBldmVudCBwb3NpdGlvbi4gV2hlbiBubyBhcmd1bWVudFxuICogaXMgZ2l2ZW4sIHRoZSB0aW1lIGlzIHJlc2V0IHRvIHRoZSBjdXJyZW50IG1hc3RlciB0aW1lLiBXaGVuIGNhbGxpbmcgdGhlXG4gKiBtZXRob2Qgd2l0aCBJbmZpbml0eSB0aGUgZW5naW5lIGlzIHN1c3BlbmRlZCB3aXRob3V0IGJlaW5nIHJlbW92ZWQgZnJvbVxuICogdGhlIG1hc3Rlci5cbiAqXG4gKlxuICogIyMjIyBUaGUgc3BlZWQtY29udHJvbGxlZCBpbnRlcmZhY2VcbiAqXG4gKiBUaGUgXCJzcGVlZC1jb250cm9sbGVkXCIgaW50ZXJmYWNlIGFsbG93cyBmb3Igc3luY3Jvbml6aW5nIGFuIGVuZ2luZSB0aGF0IGlzXG4gKiBuZWl0aGVyIGRyaXZlbiB0aHJvdWdoIHRoZSBzY2hlZHVsZWQgbm9yIHRoZSB0cmFuc3BvcnRlZCBpbnRlcmZhY2UuIFRoZVxuICogaW50ZXJmYWNlIGFsbG93cyBpbiBwYXJ0aWN1bGFyIHRvIHN5bmNocm9uaXplIGVuZ2luZXMgdGhhdCBhc3N1cmUgdGhlaXIgb3duXG4gKiBzY2hlZHVsaW5nIChpLmUuIGF1ZGlvIHBsYXllciBvciBhbiBvc2NpbGxhdG9yKSB0byB0aGUgZXZlbnQtYmFzZWQgc2NoZWR1bGVkXG4gKiBhbmQgdHJhbnNwb3J0ZWQgZW5naW5lcy5cbiAqXG4gKiAjIyMjIyMgYHN5bmNTcGVlZCh0aW1lIDpOdW1iZXIsIHBvc2l0aW9uIDpOdW1iZXIsIHNwZWVkIDpOdW1iZXIsIHNlZWs9ZmFsc2UgOkJvb2xlYW4pYFxuICpcbiAqIFRoZSBzeW5jU3BlZWQgbWV0aG9kIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBhIFRpbWVFbmdpbmUgYXMgcGFydCBvZiB0aGVcbiAqIHNwZWVkLWNvbnRyb2xsZWQgaW50ZXJmYWNlLiBUaGUgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgbWFzdGVyIHdoZW5ldmVyIHRoZVxuICogcGxheWJhY2sgc3BlZWQgY2hhbmdlcyBvciB0aGUgcG9zaXRpb24ganVtcHMgYXJiaXRhcmlseSAoaS5lLiBvbiBhIHNlZWspLlxuICpcbiAqXG4gKiA8aHIgLz5cbiAqXG4gKiBFeGFtcGxlIHRoYXQgc2hvd3MgYSBgVGltZUVuZ2luZWAgcnVubmluZyBpbiBhIGBTY2hlZHVsZXJgIHRoYXQgY291bnRzIHVwXG4gKiBhdCBhIGdpdmVuIGZyZXF1ZW5jeTpcbiAqIHtAbGluayBodHRwczovL3Jhd2dpdC5jb20vd2F2ZXNqcy93YXZlcy1hdWRpby9tYXN0ZXIvZXhhbXBsZXMvdGltZS1lbmdpbmUuaHRtbH1cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgYXVkaW8gZnJvbSAnd2F2ZXMtYXVkaW8nO1xuICpcbiAqIGNsYXNzIE15RW5naW5lIGV4dGVuZHMgYXVkaW8uVGltZUVuZ2luZSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHN1cGVyKCk7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKi9cbmNsYXNzIFRpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZW5naW5lJ3MgbWFzdGVyLlxuICAgICAqXG4gICAgICogQHR5cGUge01peGVkfVxuICAgICAqIEBuYW1lIG1hc3RlclxuICAgICAqIEBtZW1iZXJvZiBUaW1lRW5naW5lXG4gICAgICovXG4gICAgdGhpcy5tYXN0ZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIGVuZ2luZSdzIGN1cnJlbnQgKG1hc3RlcikgdGltZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG1lbWJlcm9mIFRpbWVFbmdpbmVcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgaWYgKHRoaXMubWFzdGVyKVxuICAgICAgcmV0dXJuIHRoaXMubWFzdGVyLmN1cnJlbnRUaW1lO1xuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdGltZSBlbmdpbmUncyBjdXJyZW50IChtYXN0ZXIpIGF1ZGlvIHRpbWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUaW1lRW5naW5lXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGF1ZGlvVGltZSgpIHtcbiAgICBpZiAodGhpcy5tYXN0ZXIpXG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXIuYXVkaW9UaW1lO1xuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdGltZSBlbmdpbmUncyBjdXJyZW50IChtYXN0ZXIpIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGltZUVuZ2luZVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjdXJyZW50UG9zaXRpb24oKSB7XG4gICAgdmFyIG1hc3RlciA9IHRoaXMubWFzdGVyO1xuXG4gICAgaWYgKG1hc3RlciAmJiBtYXN0ZXIuY3VycmVudFBvc2l0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gbWFzdGVyLmN1cnJlbnRQb3NpdGlvbjtcblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVkIGludGVyZmFjZVxuICAgKiAgIC0gYWR2YW5jZVRpbWUodGltZSksIGNhbGxlZCB0byBnZW5lcmF0ZSBuZXh0IGV2ZW50IGF0IGdpdmVuIHRpbWUsIHJldHVybnMgbmV4dCB0aW1lXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFRpbWVFbmdpbmVcbiAgICovXG4gIHN0YXRpYyBpbXBsZW1lbnRzU2NoZWR1bGVkKGVuZ2luZSkge1xuICAgIHJldHVybiAoZW5naW5lLmFkdmFuY2VUaW1lICYmIGVuZ2luZS5hZHZhbmNlVGltZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKTtcbiAgfVxuXG4gIHJlc2V0VGltZSh0aW1lID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMubWFzdGVyKVxuICAgICAgdGhpcy5tYXN0ZXIucmVzZXRFbmdpbmVUaW1lKHRoaXMsIHRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zcG9ydGVkIGludGVyZmFjZVxuICAgKiAgIC0gc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCksIGNhbGxlZCB0byByZXBvc2l0aW9uIFRpbWVFbmdpbmUsIHJldHVybnMgbmV4dCBwb3NpdGlvblxuICAgKiAgIC0gYWR2YW5jZVBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCksIGNhbGxlZCB0byBnZW5lcmF0ZSBuZXh0IGV2ZW50IGF0IGdpdmVuIHRpbWUgYW5kIHBvc2l0aW9uLCByZXR1cm5zIG5leHQgcG9zaXRpb25cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgVGltZUVuZ2luZVxuICAgKi9cbiAgc3RhdGljIGltcGxlbWVudHNUcmFuc3BvcnRlZChlbmdpbmUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZW5naW5lLnN5bmNQb3NpdGlvbiAmJiBlbmdpbmUuc3luY1Bvc2l0aW9uIGluc3RhbmNlb2YgRnVuY3Rpb24gJiZcbiAgICAgIGVuZ2luZS5hZHZhbmNlUG9zaXRpb24gJiYgZW5naW5lLmFkdmFuY2VQb3NpdGlvbiBpbnN0YW5jZW9mIEZ1bmN0aW9uXG4gICAgKTtcbiAgfVxuXG4gIHJlc2V0UG9zaXRpb24ocG9zaXRpb24gPSB1bmRlZmluZWQpIHtcbiAgICBpZiAodGhpcy5tYXN0ZXIpXG4gICAgICB0aGlzLm1hc3Rlci5yZXNldEVuZ2luZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVlZC1jb250cm9sbGVkIGludGVyZmFjZVxuICAgKiAgIC0gc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCwgKSwgY2FsbGVkIHRvXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFRpbWVFbmdpbmVcbiAgICovXG4gIHN0YXRpYyBpbXBsZW1lbnRzU3BlZWRDb250cm9sbGVkKGVuZ2luZSkge1xuICAgIHJldHVybiAoZW5naW5lLnN5bmNTcGVlZCAmJiBlbmdpbmUuc3luY1NwZWVkIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVFbmdpbmU7XG4iXX0=","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/SimpleScheduler.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/SimpleScheduler.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _TimeEngine = require('../core/TimeEngine');\n\nvar _TimeEngine2 = _interopRequireDefault(_TimeEngine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('wavesjs:masters');\n\nfunction isFunction(functionToCheck) {\n  return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n *\n *\n *\n * The SimpleScheduler class implements a simplified master for time engines\n * (see TimeEngine) that implement the scheduled interface\n * such as the Metronome and the GranularEngine. The API and funtionalities of\n * the SimpleScheduler class are identical to the Scheduler class. But, other\n * than the Scheduler, the SimpleScheduler class does not guarantee the order\n * of events (i.e. calls to the advanceTime method of scheduled time engines\n * and to scheduled callback functions) within a scheduling period (see period\n * attribute).\n *\n * {@link https://rawgit.com/wavesjs/waves-masters/master/examples/scheduler/index.html}\n *\n * @param {Function} getTimeFunction - Function that must return a time in second.\n * @param {Object} [options={}] - default options\n * @param {Number} [options.period=0.025] - period of the scheduler.\n * @param {Number} [options.lookahead=0.1] - lookahead of the scheduler.\n *\n * @see TimeEngine\n * @see Scheduler\n *\n * @example\n * import * as masters from 'waves-masters';\n *\n * const getTimeFunction = () => preformance.now() / 1000;\n * const scheduler = new masters.SimpleScheduler(getTimeFunction);\n *\n * scheduler.add(myEngine);\n */\n\nvar SimpleScheduler = function () {\n  function SimpleScheduler(getTimeFunction) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, SimpleScheduler);\n\n    if (!isFunction(getTimeFunction)) throw new Error('Invalid argument `getTimeFunction`');\n\n    this.getTimeFunction = getTimeFunction;\n\n    this.__engines = new _set2.default();\n\n    this.__schedEngines = [];\n    this.__schedTimes = [];\n\n    this.__currentTime = null;\n    this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     * @name period\n     * @memberof Scheduler\n     * @instance\n     */\n    this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     * @name lookahead\n     * @memberof Scheduler\n     * @instance\n     */\n    this.lookahead = options.lookahead || 0.1;\n\n    this._currentTimeToAudioTimeFunction = options.currentTimeToAudioTimeFunction || function (currentTime) {\n      return currentTime;\n    };\n  }\n\n  (0, _createClass3.default)(SimpleScheduler, [{\n    key: '__scheduleEngine',\n    value: function __scheduleEngine(engine, time) {\n      this.__schedEngines.push(engine);\n      this.__schedTimes.push(time);\n    }\n  }, {\n    key: '__rescheduleEngine',\n    value: function __rescheduleEngine(engine, time) {\n      var index = this.__schedEngines.indexOf(engine);\n\n      if (index >= 0) {\n        if (time !== Infinity) {\n          this.__schedTimes[index] = time;\n        } else {\n          this.__schedEngines.splice(index, 1);\n          this.__schedTimes.splice(index, 1);\n        }\n      } else if (time < Infinity) {\n        this.__schedEngines.push(engine);\n        this.__schedTimes.push(time);\n      }\n    }\n  }, {\n    key: '__unscheduleEngine',\n    value: function __unscheduleEngine(engine) {\n      var index = this.__schedEngines.indexOf(engine);\n\n      if (index >= 0) {\n        this.__schedEngines.splice(index, 1);\n        this.__schedTimes.splice(index, 1);\n      }\n    }\n  }, {\n    key: '__resetTick',\n    value: function __resetTick() {\n      if (this.__schedEngines.length > 0) {\n        if (!this.__timeout) {\n          log('SimpleScheduler Start');\n          this.__tick();\n        }\n      } else if (this.__timeout) {\n        log('SimpleScheduler Stop');\n        clearTimeout(this.__timeout);\n        this.__timeout = null;\n      }\n    }\n  }, {\n    key: '__tick',\n    value: function __tick() {\n      var _this = this;\n\n      var currentTime = this.getTimeFunction();\n      var i = 0;\n\n      while (i < this.__schedEngines.length) {\n        var engine = this.__schedEngines[i];\n        var time = this.__schedTimes[i];\n\n        while (time && time <= currentTime + this.lookahead) {\n          time = Math.max(time, currentTime);\n          this.__currentTime = time;\n          time = engine.advanceTime(time);\n        }\n\n        if (time && time < Infinity) {\n          this.__schedTimes[i++] = time;\n        } else {\n          this.__unscheduleEngine(engine);\n\n          // remove engine from scheduler\n          if (!time) {\n            engine.master = null;\n            this.__engines.delete(engine);\n          }\n        }\n      }\n\n      this.__currentTime = null;\n      this.__timeout = null;\n\n      if (this.__schedEngines.length > 0) {\n        this.__timeout = setTimeout(function () {\n          _this.__tick();\n        }, this.period * 1000);\n      }\n    }\n\n    /**\n     * Scheduler current logical time.\n     *\n     * @name currentTime\n     * @type {Number}\n     * @memberof Scheduler\n     * @instance\n     */\n\n  }, {\n    key: 'defer',\n\n\n    // call a function at a given time\n    /**\n     * Defer the execution of a function at a given time.\n     *\n     * @param {Function} fun - Function to defer\n     * @param {Number} [time=this.currentTime] - Schedule time\n     */\n    value: function defer(fun) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      if (!(fun instanceof Function)) throw new Error(\"object cannot be defered by scheduler\");\n\n      this.add({\n        advanceTime: function advanceTime(time) {\n          fun(time);\n        } // make sur that the advanceTime method does not returm anything\n      }, time);\n    }\n\n    /**\n     * Add a TimeEngine function to the scheduler at an optionally given time.\n     *\n     * @param {TimeEngine} engine - Engine to add to the scheduler\n     * @param {Number} [time=this.currentTime] - Schedule time\n     */\n\n  }, {\n    key: 'add',\n    value: function add(engine) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      if (!_TimeEngine2.default.implementsScheduled(engine)) throw new Error(\"object cannot be added to scheduler\");\n\n      if (engine.master) throw new Error(\"object has already been added to a master\");\n\n      // set master and add to array\n      engine.master = this;\n      this.__engines.add(engine);\n\n      // schedule engine\n      this.__scheduleEngine(engine, time);\n      this.__resetTick();\n    }\n\n    /**\n     * Remove a TimeEngine from the scheduler that has been added to the\n     * scheduler using the add method.\n     *\n     * @param {TimeEngine} engine - Engine to remove from the scheduler\n     * @param {Number} [time=this.currentTime] - Schedule time\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(engine) {\n      if (!engine.master || engine.master !== this) throw new Error(\"engine has not been added to this scheduler\");\n\n      // reset master and remove from array\n      engine.master = null;\n      this.__engines.delete(engine);\n\n      // unschedule engine\n      this.__unscheduleEngine(engine);\n      this.__resetTick();\n    }\n\n    /**\n     * Reschedule a scheduled time engine at a given time.\n     *\n     * @param {TimeEngine} engine - Engine to reschedule\n     * @param {Number} time - Schedule time\n     */\n\n  }, {\n    key: 'resetEngineTime',\n    value: function resetEngineTime(engine) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      this.__rescheduleEngine(engine, time);\n      this.__resetTick();\n    }\n\n    /**\n     * Check whether a given engine is scheduled.\n     *\n     * @param {TimeEngine} engine - Engine to check\n     */\n\n  }, {\n    key: 'has',\n    value: function has(engine) {\n      return this.__engines.has(engine);\n    }\n\n    /**\n     * Remove all engines from the scheduler.\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      if (this.__timeout) {\n        clearTimeout(this.__timeout);\n        this.__timeout = null;\n      }\n\n      this.__schedEngines.length = 0;\n      this.__schedTimes.length = 0;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__currentTime || this.getTimeFunction() + this.lookahead;\n    }\n\n    /**\n     * Scheduler current audio time according to `currentTime`\n     *\n     * @name audioTime\n     * @type {Number}\n     * @memberif Scheduler\n     * @instance\n     */\n\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      // @note - add this as in\n      if (this.master) return this.master.audioTime;\n\n      return this._currentTimeToAudioTimeFunction(this.currentTime);\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return undefined;\n    }\n  }]);\n  return SimpleScheduler;\n}();\n\nexports.default = SimpleScheduler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpbXBsZVNjaGVkdWxlci5qcyJdLCJuYW1lcyI6WyJsb2ciLCJpc0Z1bmN0aW9uIiwiZnVuY3Rpb25Ub0NoZWNrIiwidG9TdHJpbmciLCJjYWxsIiwiU2ltcGxlU2NoZWR1bGVyIiwiZ2V0VGltZUZ1bmN0aW9uIiwib3B0aW9ucyIsIkVycm9yIiwiX19lbmdpbmVzIiwiX19zY2hlZEVuZ2luZXMiLCJfX3NjaGVkVGltZXMiLCJfX2N1cnJlbnRUaW1lIiwiX190aW1lb3V0IiwicGVyaW9kIiwibG9va2FoZWFkIiwiX2N1cnJlbnRUaW1lVG9BdWRpb1RpbWVGdW5jdGlvbiIsImN1cnJlbnRUaW1lVG9BdWRpb1RpbWVGdW5jdGlvbiIsImN1cnJlbnRUaW1lIiwiZW5naW5lIiwidGltZSIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJJbmZpbml0eSIsInNwbGljZSIsImxlbmd0aCIsIl9fdGljayIsImNsZWFyVGltZW91dCIsImkiLCJNYXRoIiwibWF4IiwiYWR2YW5jZVRpbWUiLCJfX3Vuc2NoZWR1bGVFbmdpbmUiLCJtYXN0ZXIiLCJkZWxldGUiLCJzZXRUaW1lb3V0IiwiZnVuIiwiRnVuY3Rpb24iLCJhZGQiLCJUaW1lRW5naW5lIiwiaW1wbGVtZW50c1NjaGVkdWxlZCIsIl9fc2NoZWR1bGVFbmdpbmUiLCJfX3Jlc2V0VGljayIsIl9fcmVzY2hlZHVsZUVuZ2luZSIsImhhcyIsImF1ZGlvVGltZSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsTUFBTSxxQkFBTSxpQkFBTixDQUFaOztBQUVBLFNBQVNDLFVBQVQsQ0FBb0JDLGVBQXBCLEVBQXFDO0FBQ25DLFNBQU9BLG1CQUFtQixHQUFHQyxRQUFILENBQVlDLElBQVosQ0FBaUJGLGVBQWpCLE1BQXNDLG1CQUFoRTtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQStCTUcsZTtBQUNKLDJC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akI7QUFDRDs7QUFFRCxXQUFLSCxjQUFMLENBQW9CZ0IsTUFBcEIsR0FBNkIsQ0FBN0I7QUFDQSxXQUFLZixZQUFMLENBQWtCZSxNQUFsQixHQUEyQixDQUEzQjtBQUNEOzs7d0JBakhpQjtBQUNoQixhQUFPLEtBQUtkLGFBQUwsSUFBc0IsS0FBS04sZUFBTCxLQUF5QixLQUFLUyxTQUEzRDtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozt3QkFRZ0I7QUFDZDtBQUNBLFVBQUksS0FBS21CLE1BQVQsRUFDRSxPQUFPLEtBQUtBLE1BQUwsQ0FBWVksU0FBbkI7O0FBRUYsYUFBTyxLQUFLOUIsK0JBQUwsQ0FBcUMsS0FBS0UsV0FBMUMsQ0FBUDtBQUNEOzs7d0JBRXFCO0FBQ3BCLGFBQU82QixTQUFQO0FBQ0Q7Ozs7O2tCQThGWTFDLGUiLCJmaWxlIjoiU2ltcGxlU2NoZWR1bGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBUaW1lRW5naW5lIGZyb20gJy4uL2NvcmUvVGltZUVuZ2luZSc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKCd3YXZlc2pzOm1hc3RlcnMnKTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiB7fS50b1N0cmluZy5jYWxsKGZ1bmN0aW9uVG9DaGVjaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICpcbiAqXG4gKlxuICogVGhlIFNpbXBsZVNjaGVkdWxlciBjbGFzcyBpbXBsZW1lbnRzIGEgc2ltcGxpZmllZCBtYXN0ZXIgZm9yIHRpbWUgZW5naW5lc1xuICogKHNlZSBUaW1lRW5naW5lKSB0aGF0IGltcGxlbWVudCB0aGUgc2NoZWR1bGVkIGludGVyZmFjZVxuICogc3VjaCBhcyB0aGUgTWV0cm9ub21lIGFuZCB0aGUgR3JhbnVsYXJFbmdpbmUuIFRoZSBBUEkgYW5kIGZ1bnRpb25hbGl0aWVzIG9mXG4gKiB0aGUgU2ltcGxlU2NoZWR1bGVyIGNsYXNzIGFyZSBpZGVudGljYWwgdG8gdGhlIFNjaGVkdWxlciBjbGFzcy4gQnV0LCBvdGhlclxuICogdGhhbiB0aGUgU2NoZWR1bGVyLCB0aGUgU2ltcGxlU2NoZWR1bGVyIGNsYXNzIGRvZXMgbm90IGd1YXJhbnRlZSB0aGUgb3JkZXJcbiAqIG9mIGV2ZW50cyAoaS5lLiBjYWxscyB0byB0aGUgYWR2YW5jZVRpbWUgbWV0aG9kIG9mIHNjaGVkdWxlZCB0aW1lIGVuZ2luZXNcbiAqIGFuZCB0byBzY2hlZHVsZWQgY2FsbGJhY2sgZnVuY3Rpb25zKSB3aXRoaW4gYSBzY2hlZHVsaW5nIHBlcmlvZCAoc2VlIHBlcmlvZFxuICogYXR0cmlidXRlKS5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtbWFzdGVycy9tYXN0ZXIvZXhhbXBsZXMvc2NoZWR1bGVyL2luZGV4Lmh0bWx9XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0VGltZUZ1bmN0aW9uIC0gRnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIHRpbWUgaW4gc2Vjb25kLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSAtIGRlZmF1bHQgb3B0aW9uc1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBlcmlvZD0wLjAyNV0gLSBwZXJpb2Qgb2YgdGhlIHNjaGVkdWxlci5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sb29rYWhlYWQ9MC4xXSAtIGxvb2thaGVhZCBvZiB0aGUgc2NoZWR1bGVyLlxuICpcbiAqIEBzZWUgVGltZUVuZ2luZVxuICogQHNlZSBTY2hlZHVsZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgbWFzdGVycyBmcm9tICd3YXZlcy1tYXN0ZXJzJztcbiAqXG4gKiBjb25zdCBnZXRUaW1lRnVuY3Rpb24gPSAoKSA9PiBwcmVmb3JtYW5jZS5ub3coKSAvIDEwMDA7XG4gKiBjb25zdCBzY2hlZHVsZXIgPSBuZXcgbWFzdGVycy5TaW1wbGVTY2hlZHVsZXIoZ2V0VGltZUZ1bmN0aW9uKTtcbiAqXG4gKiBzY2hlZHVsZXIuYWRkKG15RW5naW5lKTtcbiAqL1xuY2xhc3MgU2ltcGxlU2NoZWR1bGVyIHtcbiAgY29uc3RydWN0b3IoZ2V0VGltZUZ1bmN0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oZ2V0VGltZUZ1bmN0aW9uKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBgZ2V0VGltZUZ1bmN0aW9uYCcpO1xuXG4gICAgdGhpcy5nZXRUaW1lRnVuY3Rpb24gPSBnZXRUaW1lRnVuY3Rpb247XG5cbiAgICB0aGlzLl9fZW5naW5lcyA9IG5ldyBTZXQoKTtcblxuICAgIHRoaXMuX19zY2hlZEVuZ2luZXMgPSBbXTtcbiAgICB0aGlzLl9fc2NoZWRUaW1lcyA9IFtdO1xuXG4gICAgdGhpcy5fX2N1cnJlbnRUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9fdGltZW91dCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZXIgKHNldFRpbWVvdXQpIHBlcmlvZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgcGVyaW9kXG4gICAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMucGVyaW9kID0gb3B0aW9ucy5wZXJpb2QgfHwgMC4wMjU7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZXIgbG9va2FoZWFkIHRpbWUgKD4gcGVyaW9kKVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgbG9va2FoZWFkXG4gICAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMubG9va2FoZWFkID0gb3B0aW9ucy5sb29rYWhlYWQgfHwgMC4xO1xuXG4gICAgdGhpcy5fY3VycmVudFRpbWVUb0F1ZGlvVGltZUZ1bmN0aW9uID1cbiAgICAgIG9wdGlvbnMuY3VycmVudFRpbWVUb0F1ZGlvVGltZUZ1bmN0aW9uIHx8wqBmdW5jdGlvbihjdXJyZW50VGltZSkgeyByZXR1cm4gY3VycmVudFRpbWUgfTtcbiAgfVxuXG4gIF9fc2NoZWR1bGVFbmdpbmUoZW5naW5lLCB0aW1lKSB7XG4gICAgdGhpcy5fX3NjaGVkRW5naW5lcy5wdXNoKGVuZ2luZSk7XG4gICAgdGhpcy5fX3NjaGVkVGltZXMucHVzaCh0aW1lKTtcbiAgfVxuXG4gIF9fcmVzY2hlZHVsZUVuZ2luZShlbmdpbmUsIHRpbWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX19zY2hlZEVuZ2luZXMuaW5kZXhPZihlbmdpbmUpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIGlmICh0aW1lICE9PSBJbmZpbml0eSkge1xuICAgICAgICB0aGlzLl9fc2NoZWRUaW1lc1tpbmRleF0gPSB0aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3NjaGVkRW5naW5lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9fc2NoZWRUaW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGltZSA8IEluZmluaXR5KSB7XG4gICAgICB0aGlzLl9fc2NoZWRFbmdpbmVzLnB1c2goZW5naW5lKTtcbiAgICAgIHRoaXMuX19zY2hlZFRpbWVzLnB1c2godGltZSk7XG4gICAgfVxuICB9XG5cbiAgX191bnNjaGVkdWxlRW5naW5lKGVuZ2luZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fX3NjaGVkRW5naW5lcy5pbmRleE9mKGVuZ2luZSk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5fX3NjaGVkRW5naW5lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdGhpcy5fX3NjaGVkVGltZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICBfX3Jlc2V0VGljaygpIHtcbiAgICBpZiAodGhpcy5fX3NjaGVkRW5naW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIXRoaXMuX190aW1lb3V0KSB7XG4gICAgICAgIGxvZygnU2ltcGxlU2NoZWR1bGVyIFN0YXJ0Jyk7XG4gICAgICAgIHRoaXMuX190aWNrKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9fdGltZW91dCkge1xuICAgICAgbG9nKCdTaW1wbGVTY2hlZHVsZXIgU3RvcCcpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lb3V0KTtcbiAgICAgIHRoaXMuX190aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfX3RpY2soKSB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSB0aGlzLmdldFRpbWVGdW5jdGlvbigpO1xuICAgIGxldCBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgdGhpcy5fX3NjaGVkRW5naW5lcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuX19zY2hlZEVuZ2luZXNbaV07XG4gICAgICBsZXQgdGltZSA9IHRoaXMuX19zY2hlZFRpbWVzW2ldO1xuXG4gICAgICB3aGlsZSAodGltZSAmJiB0aW1lIDw9IGN1cnJlbnRUaW1lICsgdGhpcy5sb29rYWhlYWQpIHtcbiAgICAgICAgdGltZSA9IE1hdGgubWF4KHRpbWUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnRUaW1lID0gdGltZTtcbiAgICAgICAgdGltZSA9IGVuZ2luZS5hZHZhbmNlVGltZSh0aW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWUgJiYgdGltZSA8IEluZmluaXR5KSB7XG4gICAgICAgIHRoaXMuX19zY2hlZFRpbWVzW2krK10gPSB0aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3Vuc2NoZWR1bGVFbmdpbmUoZW5naW5lKTtcblxuICAgICAgICAvLyByZW1vdmUgZW5naW5lIGZyb20gc2NoZWR1bGVyXG4gICAgICAgIGlmICghdGltZSkge1xuICAgICAgICAgIGVuZ2luZS5tYXN0ZXIgPSBudWxsO1xuICAgICAgICAgIHRoaXMuX19lbmdpbmVzLmRlbGV0ZShlbmdpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fX2N1cnJlbnRUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9fdGltZW91dCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5fX3NjaGVkRW5naW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLl9fdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9fdGljaygpO1xuICAgICAgfSwgdGhpcy5wZXJpb2QgKiAxMDAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVyIGN1cnJlbnQgbG9naWNhbCB0aW1lLlxuICAgKlxuICAgKiBAbmFtZSBjdXJyZW50VGltZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2NoZWR1bGVyXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fY3VycmVudFRpbWUgfHwgdGhpcy5nZXRUaW1lRnVuY3Rpb24oKSArIHRoaXMubG9va2FoZWFkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlciBjdXJyZW50IGF1ZGlvIHRpbWUgYWNjb3JkaW5nIHRvIGBjdXJyZW50VGltZWBcbiAgICpcbiAgICogQG5hbWUgYXVkaW9UaW1lXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBtZW1iZXJpZiBTY2hlZHVsZXJcbiAgICogQGluc3RhbmNlXG4gICAqL1xuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIC8vIEBub3RlIC0gYWRkIHRoaXMgYXMgaW5cbiAgICBpZiAodGhpcy5tYXN0ZXIpXG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXIuYXVkaW9UaW1lO1xuXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRUaW1lVG9BdWRpb1RpbWVGdW5jdGlvbih0aGlzLmN1cnJlbnRUaW1lKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIGNhbGwgYSBmdW5jdGlvbiBhdCBhIGdpdmVuIHRpbWVcbiAgLyoqXG4gICAqIERlZmVyIHRoZSBleGVjdXRpb24gb2YgYSBmdW5jdGlvbiBhdCBhIGdpdmVuIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1biAtIEZ1bmN0aW9uIHRvIGRlZmVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZT10aGlzLmN1cnJlbnRUaW1lXSAtIFNjaGVkdWxlIHRpbWVcbiAgICovXG4gIGRlZmVyKGZ1biwgdGltZSA9IHRoaXMuY3VycmVudFRpbWUpIHtcbiAgICBpZiAoIShmdW4gaW5zdGFuY2VvZiBGdW5jdGlvbikpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgY2Fubm90IGJlIGRlZmVyZWQgYnkgc2NoZWR1bGVyXCIpO1xuXG4gICAgdGhpcy5hZGQoe1xuICAgICAgYWR2YW5jZVRpbWU6IGZ1bmN0aW9uKHRpbWUpIHsgZnVuKHRpbWUpOyB9LCAvLyBtYWtlIHN1ciB0aGF0IHRoZSBhZHZhbmNlVGltZSBtZXRob2QgZG9lcyBub3QgcmV0dXJtIGFueXRoaW5nXG4gICAgfSwgdGltZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgVGltZUVuZ2luZSBmdW5jdGlvbiB0byB0aGUgc2NoZWR1bGVyIGF0IGFuIG9wdGlvbmFsbHkgZ2l2ZW4gdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtUaW1lRW5naW5lfSBlbmdpbmUgLSBFbmdpbmUgdG8gYWRkIHRvIHRoZSBzY2hlZHVsZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lPXRoaXMuY3VycmVudFRpbWVdIC0gU2NoZWR1bGUgdGltZVxuICAgKi9cbiAgYWRkKGVuZ2luZSwgdGltZSA9IHRoaXMuY3VycmVudFRpbWUpIHtcbiAgICBpZiAoIVRpbWVFbmdpbmUuaW1wbGVtZW50c1NjaGVkdWxlZChlbmdpbmUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGNhbm5vdCBiZSBhZGRlZCB0byBzY2hlZHVsZXJcIik7XG5cbiAgICBpZiAoZW5naW5lLm1hc3RlcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIGEgbWFzdGVyXCIpO1xuXG4gICAgLy8gc2V0IG1hc3RlciBhbmQgYWRkIHRvIGFycmF5XG4gICAgZW5naW5lLm1hc3RlciA9IHRoaXM7XG4gICAgdGhpcy5fX2VuZ2luZXMuYWRkKGVuZ2luZSk7XG5cbiAgICAvLyBzY2hlZHVsZSBlbmdpbmVcbiAgICB0aGlzLl9fc2NoZWR1bGVFbmdpbmUoZW5naW5lLCB0aW1lKTtcbiAgICB0aGlzLl9fcmVzZXRUaWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgVGltZUVuZ2luZSBmcm9tIHRoZSBzY2hlZHVsZXIgdGhhdCBoYXMgYmVlbiBhZGRlZCB0byB0aGVcbiAgICogc2NoZWR1bGVyIHVzaW5nIHRoZSBhZGQgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge1RpbWVFbmdpbmV9IGVuZ2luZSAtIEVuZ2luZSB0byByZW1vdmUgZnJvbSB0aGUgc2NoZWR1bGVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZT10aGlzLmN1cnJlbnRUaW1lXSAtIFNjaGVkdWxlIHRpbWVcbiAgICovXG4gIHJlbW92ZShlbmdpbmUpIHtcbiAgICBpZiAoIWVuZ2luZS5tYXN0ZXIgfHwgZW5naW5lLm1hc3RlciAhPT0gdGhpcylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImVuZ2luZSBoYXMgbm90IGJlZW4gYWRkZWQgdG8gdGhpcyBzY2hlZHVsZXJcIik7XG5cbiAgICAvLyByZXNldCBtYXN0ZXIgYW5kIHJlbW92ZSBmcm9tIGFycmF5XG4gICAgZW5naW5lLm1hc3RlciA9IG51bGw7XG4gICAgdGhpcy5fX2VuZ2luZXMuZGVsZXRlKGVuZ2luZSk7XG5cbiAgICAvLyB1bnNjaGVkdWxlIGVuZ2luZVxuICAgIHRoaXMuX191bnNjaGVkdWxlRW5naW5lKGVuZ2luZSk7XG4gICAgdGhpcy5fX3Jlc2V0VGljaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2NoZWR1bGUgYSBzY2hlZHVsZWQgdGltZSBlbmdpbmUgYXQgYSBnaXZlbiB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge1RpbWVFbmdpbmV9IGVuZ2luZSAtIEVuZ2luZSB0byByZXNjaGVkdWxlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIC0gU2NoZWR1bGUgdGltZVxuICAgKi9cbiAgcmVzZXRFbmdpbmVUaW1lKGVuZ2luZSwgdGltZSA9IHRoaXMuY3VycmVudFRpbWUpIHtcbiAgICB0aGlzLl9fcmVzY2hlZHVsZUVuZ2luZShlbmdpbmUsIHRpbWUpO1xuICAgIHRoaXMuX19yZXNldFRpY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gZW5naW5lIGlzIHNjaGVkdWxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtUaW1lRW5naW5lfSBlbmdpbmUgLSBFbmdpbmUgdG8gY2hlY2tcbiAgICovXG4gIGhhcyhlbmdpbmUpIHtcbiAgICByZXR1cm4gdGhpcy5fX2VuZ2luZXMuaGFzKGVuZ2luZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbmdpbmVzIGZyb20gdGhlIHNjaGVkdWxlci5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLl9fdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lb3V0KTtcbiAgICAgIHRoaXMuX190aW1lb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLl9fc2NoZWRFbmdpbmVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fX3NjaGVkVGltZXMubGVuZ3RoID0gMDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaW1wbGVTY2hlZHVsZXI7XG4iXX0=","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","../core/TimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/package.json":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/package.json","source":"{\n  \"_from\": \"@ircam/basic-controllers@^1.0.4\",\n  \"_id\": \"@ircam/basic-controllers@1.0.4\",\n  \"_inBundle\": false,\n  \"_integrity\": \"sha512-3cSAtxfpXtg1a3hvyVJN5gNmfqwf5mSbxuxq2g9I6/roUswtxOgGwYwWV18UJFWR75Mqot5SSVvbLdPPgv1noA==\",\n  \"_location\": \"/@ircam/basic-controllers\",\n  \"_phantomChildren\": {},\n  \"_requested\": {\n    \"type\": \"range\",\n    \"registry\": true,\n    \"raw\": \"@ircam/basic-controllers@^1.0.4\",\n    \"name\": \"@ircam/basic-controllers\",\n    \"escapedName\": \"@ircam%2fbasic-controllers\",\n    \"scope\": \"@ircam\",\n    \"rawSpec\": \"^1.0.4\",\n    \"saveSpec\": null,\n    \"fetchSpec\": \"^1.0.4\"\n  },\n  \"_requiredBy\": [\n    \"/soundworks\"\n  ],\n  \"_resolved\": \"https://registry.npmjs.org/@ircam/basic-controllers/-/basic-controllers-1.0.4.tgz\",\n  \"_shasum\": \"2e2152c618bae946126b8ebf41baeb95cb3c40f8\",\n  \"_spec\": \"@ircam/basic-controllers@^1.0.4\",\n  \"_where\": \"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks\",\n  \"bugs\": {\n    \"url\": \"https://github.com/ircam-jstools/basic-controllers/issues\"\n  },\n  \"bundleDependencies\": false,\n  \"dependencies\": {\n    \"@ircam/gui-components\": \"^1.0.3\"\n  },\n  \"deprecated\": false,\n  \"description\": \"Set of simple controllers for rapid prototyping\",\n  \"devDependencies\": {\n    \"babel-core\": \"^6.26.0\",\n    \"babel-plugin-transform-es2015-modules-commonjs\": \"^6.26.0\",\n    \"babel-preset-env\": \"^1.6.1\",\n    \"browserify\": \"^14.5.0\",\n    \"chalk\": \"^2.3.0\",\n    \"fs-extra\": \"^4.0.3\",\n    \"jsdoc-to-markdown\": \"^3.0.0\",\n    \"klaw\": \"^2.1.1\",\n    \"node-sass\": \"^4.7.2\",\n    \"np\": \"^2.18.2\",\n    \"tape\": \"^4.8.0\",\n    \"uglify-js\": \"^3.2.2\",\n    \"watch\": \"^1.0.2\"\n  },\n  \"homepage\": \"https://github.com/ircam-jstools/basic-controllers#readme\",\n  \"license\": \"BSD-3-Clause\",\n  \"main\": \"dist/index.js\",\n  \"name\": \"@ircam/basic-controllers\",\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/ircam-jstools/basic-controllers.git\"\n  },\n  \"scripts\": {\n    \"bundle\": \"node ./bin/runner --bundle\",\n    \"deploy\": \"np --yolo\",\n    \"doc\": \"jsdoc2md -t tmpl/README.hbs src/**/*.js > README.md\",\n    \"prewatch\": \"npm run transpile\",\n    \"transpile\": \"node ./bin/runner --transpile\",\n    \"version\": \"npm run transpile && npm run doc && git add README.md\",\n    \"watch\": \"node ./bin/runner --watch\"\n  },\n  \"standalone\": \"basicControllers\",\n  \"version\": \"1.0.4\"\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * `InputModule` class.\n * The `InputModule` class allows to instantiate modules that are part of the\n * motion input module, and that provide values (for instance, `deviceorientation`,\n * `acceleration`, `energy`).\n *\n * @class InputModule\n */\nvar InputModule = function () {\n\n  /**\n   * Creates an `InputModule` module instance.\n   *\n   * @constructor\n   * @param {string} eventType - Name of the module / event (*e.g.* `deviceorientation, 'acceleration', 'energy').\n   */\n  function InputModule(eventType) {\n    _classCallCheck(this, InputModule);\n\n    /**\n     * Event type of the module.\n     *\n     * @this InputModule\n     * @type {string}\n     * @constant\n     */\n    this.eventType = eventType;\n\n    /**\n     * Array of listeners attached to this module / event.\n     *\n     * @this InputModule\n     * @type {Set<Function>}\n     */\n    this.listeners = new Set();\n\n    /**\n     * Event sent by this module.\n     *\n     * @this InputModule\n     * @type {number|number[]}\n     * @default null\n     */\n    this.event = null;\n\n    /**\n     * Module promise (resolved when the module is initialized).\n     *\n     * @this InputModule\n     * @type {Promise}\n     * @default null\n     */\n    this.promise = null;\n\n    /**\n     * Indicates if the module's event values are calculated from parent modules / events.\n     *\n     * @this InputModule\n     * @type {bool}\n     * @default false\n     */\n    this.isCalculated = false;\n\n    /**\n     * Indicates if the module's event values are provided by the device's sensors.\n     * (*I.e.* indicates if the `'devicemotion'` or `'deviceorientation'` events provide the required raw values.)\n     *\n     * @this InputModule\n     * @type {bool}\n     * @default false\n     */\n    this.isProvided = false;\n\n    /**\n     * Period at which the module's events are sent (`undefined` if the events are not sent at regular intervals).\n     *\n     * @this InputModule\n     * @type {number}\n     * @default undefined\n     */\n    this.period = undefined;\n\n    this.emit = this.emit.bind(this);\n  }\n\n  /**\n   * Indicates whether the module can provide values or not.\n   *\n   * @type {bool}\n   * @readonly\n   */\n\n\n  _createClass(InputModule, [{\n    key: \"init\",\n\n\n    /**\n     * Initializes the module.\n     *\n     * @param {function} promiseFun - Promise function that takes the `resolve` and `reject` functions as arguments.\n     * @return {Promise}\n     */\n    value: function init(promiseFun) {\n      this.promise = new Promise(promiseFun);\n      return this.promise;\n    }\n\n    /**\n     * Adds a listener to the module.\n     *\n     * @param {function} listener - Listener to add.\n     */\n\n  }, {\n    key: \"addListener\",\n    value: function addListener(listener) {\n      this.listeners.add(listener);\n    }\n\n    /**\n     * Removes a listener from the module.\n     *\n     * @param {function} listener - Listener to remove.\n     */\n\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(listener) {\n      this.listeners.delete(listener);\n    }\n\n    /**\n     * Propagates an event to all the module's listeners.\n     *\n     * @param {number|number[]} [event=this.event] - Event values to propagate to the module's listeners.\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.event;\n\n      this.listeners.forEach(function (listener) {\n        return listener(event);\n      });\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return this.isProvided || this.isCalculated;\n    }\n  }]);\n\n  return InputModule;\n}();\n\nexports.default = InputModule;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklucHV0TW9kdWxlLmpzIl0sIm5hbWVzIjpbIklucHV0TW9kdWxlIiwiZXZlbnRUeXBlIiwibGlzdGVuZXJzIiwiU2V0IiwiZXZlbnQiLCJwcm9taXNlIiwiaXNDYWxjdWxhdGVkIiwiaXNQcm92aWRlZCIsInBlcmlvZCIsInVuZGVmaW5lZCIsImVtaXQiLCJiaW5kIiwicHJvbWlzZUZ1biIsIlByb21pc2UiLCJsaXN0ZW5lciIsImFkZCIsImRlbGV0ZSIsImZvckVhY2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7SUFRTUEsVzs7QUFFSjs7Ozs7O0FBTUEsdUJBQVlDLFNBQVosRUFBdUI7QUFBQTs7QUFFckI7Ozs7Ozs7QUFPQSxTQUFLQSxTQUFMLEdBQWlCQSxTQUFqQjs7QUFFQTs7Ozs7O0FBTUEsU0FBS0MsU0FBTCxHQUFpQixJQUFJQyxHQUFKLEVBQWpCOztBQUVBOzs7Ozs7O0FBT0EsU0FBS0MsS0FBTCxHQUFhLElBQWI7O0FBRUE7Ozs7Ozs7QUFPQSxTQUFLQyxPQUFMLEdBQWUsSUFBZjs7QUFFQTs7Ozs7OztBQU9BLFNBQUtDLFlBQUwsR0FBb0IsS0FBcEI7O0FBRUE7Ozs7Ozs7O0FBUUEsU0FBS0MsVUFBTCxHQUFrQixLQUFsQjs7QUFFQTs7Ozs7OztBQU9BLFNBQUtDLE1BQUwsR0FBY0MsU0FBZDs7QUFFQSxTQUFLQyxJQUFMLEdBQVksS0FBS0EsSUFBTCxDQUFVQyxJQUFWLENBQWUsSUFBZixDQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OztBQVVBOzs7Ozs7eUJBTUtDLFUsRUFBWTtBQUNmLFdBQUtQLE9BQUwsR0FBZSxJQUFJUSxPQUFKLENBQVlELFVBQVosQ0FBZjtBQUNBLGFBQU8sS0FBS1AsT0FBWjtBQUNEOztBQUVEOzs7Ozs7OztnQ0FLWVMsUSxFQUFVO0FBQ3BCLFdBQUtaLFNBQUwsQ0FBZWEsR0FBZixDQUFtQkQsUUFBbkI7QUFDRDs7QUFFRDs7Ozs7Ozs7bUNBS2VBLFEsRUFBVTtBQUN2QixXQUFLWixTQUFMLENBQWVjLE1BQWYsQ0FBc0JGLFFBQXRCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzJCQUt5QjtBQUFBLFVBQXBCVixLQUFvQix1RUFBWixLQUFLQSxLQUFPOztBQUN2QixXQUFLRixTQUFMLENBQWVlLE9BQWYsQ0FBdUI7QUFBQSxlQUFZSCxTQUFTVixLQUFULENBQVo7QUFBQSxPQUF2QjtBQUNEOzs7d0JBeENhO0FBQ1osYUFBUSxLQUFLRyxVQUFMLElBQW1CLEtBQUtELFlBQWhDO0FBQ0Q7Ozs7OztrQkF5Q1lOLFciLCJmaWxlIjoiSW5wdXRNb2R1bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGBJbnB1dE1vZHVsZWAgY2xhc3MuXG4gKiBUaGUgYElucHV0TW9kdWxlYCBjbGFzcyBhbGxvd3MgdG8gaW5zdGFudGlhdGUgbW9kdWxlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZVxuICogbW90aW9uIGlucHV0IG1vZHVsZSwgYW5kIHRoYXQgcHJvdmlkZSB2YWx1ZXMgKGZvciBpbnN0YW5jZSwgYGRldmljZW9yaWVudGF0aW9uYCxcbiAqIGBhY2NlbGVyYXRpb25gLCBgZW5lcmd5YCkuXG4gKlxuICogQGNsYXNzIElucHV0TW9kdWxlXG4gKi9cbmNsYXNzIElucHV0TW9kdWxlIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBgSW5wdXRNb2R1bGVgIG1vZHVsZSBpbnN0YW5jZS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBtb2R1bGUgLyBldmVudCAoKmUuZy4qIGBkZXZpY2VvcmllbnRhdGlvbiwgJ2FjY2VsZXJhdGlvbicsICdlbmVyZ3knKS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV2ZW50VHlwZSkge1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgdHlwZSBvZiB0aGUgbW9kdWxlLlxuICAgICAqXG4gICAgICogQHRoaXMgSW5wdXRNb2R1bGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHRoaXMuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoaXMgbW9kdWxlIC8gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAdGhpcyBJbnB1dE1vZHVsZVxuICAgICAqIEB0eXBlIHtTZXQ8RnVuY3Rpb24+fVxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgc2VudCBieSB0aGlzIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIElucHV0TW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcnxudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgdGhpcy5ldmVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBNb2R1bGUgcHJvbWlzZSAocmVzb2x2ZWQgd2hlbiB0aGUgbW9kdWxlIGlzIGluaXRpYWxpemVkKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIElucHV0TW9kdWxlXG4gICAgICogQHR5cGUge1Byb21pc2V9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRoaXMucHJvbWlzZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1vZHVsZSdzIGV2ZW50IHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBmcm9tIHBhcmVudCBtb2R1bGVzIC8gZXZlbnRzLlxuICAgICAqXG4gICAgICogQHRoaXMgSW5wdXRNb2R1bGVcbiAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuaXNDYWxjdWxhdGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1vZHVsZSdzIGV2ZW50IHZhbHVlcyBhcmUgcHJvdmlkZWQgYnkgdGhlIGRldmljZSdzIHNlbnNvcnMuXG4gICAgICogKCpJLmUuKiBpbmRpY2F0ZXMgaWYgdGhlIGAnZGV2aWNlbW90aW9uJ2Agb3IgYCdkZXZpY2VvcmllbnRhdGlvbidgIGV2ZW50cyBwcm92aWRlIHRoZSByZXF1aXJlZCByYXcgdmFsdWVzLilcbiAgICAgKlxuICAgICAqIEB0aGlzIElucHV0TW9kdWxlXG4gICAgICogQHR5cGUge2Jvb2x9XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmlzUHJvdmlkZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFBlcmlvZCBhdCB3aGljaCB0aGUgbW9kdWxlJ3MgZXZlbnRzIGFyZSBzZW50IChgdW5kZWZpbmVkYCBpZiB0aGUgZXZlbnRzIGFyZSBub3Qgc2VudCBhdCByZWd1bGFyIGludGVydmFscykuXG4gICAgICpcbiAgICAgKiBAdGhpcyBJbnB1dE1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAgICovXG4gICAgdGhpcy5wZXJpb2QgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmVtaXQgPSB0aGlzLmVtaXQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgbW9kdWxlIGNhbiBwcm92aWRlIHZhbHVlcyBvciBub3QuXG4gICAqXG4gICAqIEB0eXBlIHtib29sfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBpc1ZhbGlkKCkge1xuICAgIHJldHVybiAodGhpcy5pc1Byb3ZpZGVkIHx8IHRoaXMuaXNDYWxjdWxhdGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlRnVuIC0gUHJvbWlzZSBmdW5jdGlvbiB0aGF0IHRha2VzIHRoZSBgcmVzb2x2ZWAgYW5kIGByZWplY3RgIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBpbml0KHByb21pc2VGdW4pIHtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShwcm9taXNlRnVuKTtcbiAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0byB0aGUgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciAtIExpc3RlbmVyIHRvIGFkZC5cbiAgICovXG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgbGlzdGVuZXIgZnJvbSB0aGUgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciAtIExpc3RlbmVyIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9wYWdhdGVzIGFuIGV2ZW50IHRvIGFsbCB0aGUgbW9kdWxlJ3MgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gW2V2ZW50PXRoaXMuZXZlbnRdIC0gRXZlbnQgdmFsdWVzIHRvIHByb3BhZ2F0ZSB0byB0aGUgbW9kdWxlJ3MgbGlzdGVuZXJzLlxuICAgKi9cbiAgZW1pdChldmVudCA9IHRoaXMuZXZlbnQpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGV2ZW50KSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRNb2R1bGU7XG4iXX0=","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/EnergyModule.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/EnergyModule.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _InputModule2 = require('./InputModule');\n\nvar _InputModule3 = _interopRequireDefault(_InputModule2);\n\nvar _MotionInput = require('./MotionInput');\n\nvar _MotionInput2 = _interopRequireDefault(_MotionInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Energy module singleton.\n * The energy module singleton provides energy values (between 0 and 1)\n * based on the acceleration and the rotation rate of the device.\n * The period of the energy values is the same as the period of the\n * acceleration and the rotation rate values.\n *\n * @class EnergyModule\n * @extends InputModule\n */\nvar EnergyModule = function (_InputModule) {\n  _inherits(EnergyModule, _InputModule);\n\n  /**\n   * Creates the energy module instance.\n   *\n   * @constructor\n   */\n  function EnergyModule() {\n    _classCallCheck(this, EnergyModule);\n\n    /**\n     * Event containing the value of the energy, sent by the energy module.\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 0\n     */\n    var _this = _possibleConstructorReturn(this, (EnergyModule.__proto__ || Object.getPrototypeOf(EnergyModule)).call(this, 'energy'));\n\n    _this.event = 0;\n\n    /**\n     * The acceleration module, used in the calculation of the energy.\n     *\n     * @this EnergyModule\n     * @type {DOMEventSubmodule}\n     * @default null\n     * @see DevicemotionModule\n     */\n    _this._accelerationModule = null;\n\n    /**\n     * Latest acceleration value sent by the acceleration module.\n     *\n     * @this EnergyModule\n     * @type {number[]}\n     * @default null\n     */\n    _this._accelerationValues = null;\n\n    /**\n     * Maximum value reached by the acceleration magnitude, clipped at `this._accelerationMagnitudeThreshold`.\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 9.81\n     */\n    _this._accelerationMagnitudeCurrentMax = 1 * 9.81;\n\n    /**\n     * Clipping value of the acceleration magnitude.\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 20\n     * @constant\n     */\n    _this._accelerationMagnitudeThreshold = 4 * 9.81;\n\n    /**\n     * The rotation rate module, used in the calculation of the energy.\n     *\n     * @this EnergyModule\n     * @type {DOMEventSubmodule}\n     * @default null\n     * @see DevicemotionModule\n     */\n    _this._rotationRateModule = null;\n\n    /**\n     * Latest rotation rate value sent by the rotation rate module.\n     *\n     * @this EnergyModule\n     * @type {number[]}\n     * @default null\n     */\n    _this._rotationRateValues = null;\n\n    /**\n     * Maximum value reached by the rotation rate magnitude, clipped at `this._rotationRateMagnitudeThreshold`.\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 400\n     */\n    _this._rotationRateMagnitudeCurrentMax = 400;\n\n    /**\n     * Clipping value of the rotation rate magnitude.\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 600\n     * @constant\n     */\n    _this._rotationRateMagnitudeThreshold = 600;\n\n    /**\n     * Time constant (half-life) of the low-pass filter used to smooth the energy values (in seconds).\n     *\n     * @this EnergyModule\n     * @type {number}\n     * @default 0.1\n     * @constant\n     */\n    _this._energyTimeConstant = 0.1;\n\n    _this._onAcceleration = _this._onAcceleration.bind(_this);\n    _this._onRotationRate = _this._onRotationRate.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Decay factor of the low-pass filter used to smooth the energy values.\n   *\n   * @type {number}\n   * @readonly\n   */\n\n\n  _createClass(EnergyModule, [{\n    key: 'init',\n\n\n    /**\n     * Initializes of the module.\n     *\n     * @return {Promise}\n     */\n    value: function init() {\n      var _this2 = this;\n\n      return _get(EnergyModule.prototype.__proto__ || Object.getPrototypeOf(EnergyModule.prototype), 'init', this).call(this, function (resolve) {\n        // The energy module requires the acceleration and the rotation rate modules\n        Promise.all([_MotionInput2.default.requireModule('acceleration'), _MotionInput2.default.requireModule('rotationRate')]).then(function (modules) {\n          var _modules = _slicedToArray(modules, 2),\n              acceleration = _modules[0],\n              rotationRate = _modules[1];\n\n          _this2._accelerationModule = acceleration;\n          _this2._rotationRateModule = rotationRate;\n          _this2.isCalculated = _this2._accelerationModule.isValid || _this2._rotationRateModule.isValid;\n\n          if (_this2._accelerationModule.isValid) _this2.period = _this2._accelerationModule.period;else if (_this2._rotationRateModule.isValid) _this2.period = _this2._rotationRateModule.period;\n\n          resolve(_this2);\n        });\n      });\n    }\n  }, {\n    key: 'addListener',\n    value: function addListener(listener) {\n      if (this.listeners.size === 0) {\n        if (this._accelerationModule.isValid) this._accelerationModule.addListener(this._onAcceleration);\n        if (this._rotationRateModule.isValid) this._rotationRateModule.addListener(this._onRotationRate);\n      }\n\n      _get(EnergyModule.prototype.__proto__ || Object.getPrototypeOf(EnergyModule.prototype), 'addListener', this).call(this, listener);\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(listener) {\n      _get(EnergyModule.prototype.__proto__ || Object.getPrototypeOf(EnergyModule.prototype), 'removeListener', this).call(this, listener);\n\n      if (this.listeners.size === 0) {\n        if (this._accelerationModule.isValid) this._accelerationModule.removeListener(this._onAcceleration);\n        if (this._rotationRateModule.isValid) this._rotationRateModule.removeListener(this._onRotationRate);\n      }\n    }\n\n    /**\n     * Acceleration values handler.\n     *\n     * @param {number[]} acceleration - Latest acceleration value.\n     */\n\n  }, {\n    key: '_onAcceleration',\n    value: function _onAcceleration(acceleration) {\n      this._accelerationValues = acceleration;\n\n      // If the rotation rate values are not available, we calculate the energy right away.\n      if (!this._rotationRateModule.isValid) this._calculateEnergy();\n    }\n\n    /**\n     * Rotation rate values handler.\n     *\n     * @param {number[]} rotationRate - Latest rotation rate value.\n     */\n\n  }, {\n    key: '_onRotationRate',\n    value: function _onRotationRate(rotationRate) {\n      this._rotationRateValues = rotationRate;\n\n      // We know that the acceleration and rotation rate values coming from the\n      // same `devicemotion` event are sent in that order (acceleration > rotation rate)\n      // so when the rotation rate is provided, we calculate the energy value of the\n      // latest `devicemotion` event when we receive the rotation rate values.\n      this._calculateEnergy();\n    }\n\n    /**\n     * Energy calculation: emits an energy value between 0 and 1.\n     *\n     * This method checks if the acceleration modules is valid. If that is the case,\n     * it calculates an estimation of the energy (between 0 and 1) based on the ratio\n     * of the current acceleration magnitude and the maximum acceleration magnitude\n     * reached so far (clipped at the `this._accelerationMagnitudeThreshold` value).\n     * (We use this trick to get uniform behaviors among devices. If we calculated\n     * the ratio based on a fixed value independent of what the device is capable of\n     * providing, we could get inconsistent behaviors. For instance, the devices\n     * whose accelerometers are limited at 2g would always provide very low values\n     * compared to devices with accelerometers capable of measuring 4g accelerations.)\n     * The same checks and calculations are made on the rotation rate module.\n     * Finally, the energy value is the maximum between the energy value estimated\n     * from the acceleration, and the one estimated from the rotation rate. It is\n     * smoothed through a low-pass filter.\n     */\n\n  }, {\n    key: '_calculateEnergy',\n    value: function _calculateEnergy() {\n      var accelerationEnergy = 0;\n      var rotationRateEnergy = 0;\n\n      // Check the acceleration module and calculate an estimation of the energy value from the latest acceleration value\n      if (this._accelerationModule.isValid) {\n        var aX = this._accelerationValues[0];\n        var aY = this._accelerationValues[1];\n        var aZ = this._accelerationValues[2];\n        var accelerationMagnitude = Math.sqrt(aX * aX + aY * aY + aZ * aZ);\n\n        // Store the maximum acceleration magnitude reached so far, clipped at `this._accelerationMagnitudeThreshold`\n        if (this._accelerationMagnitudeCurrentMax < accelerationMagnitude) this._accelerationMagnitudeCurrentMax = Math.min(accelerationMagnitude, this._accelerationMagnitudeThreshold);\n        // TODO(?): remove ouliers --- on some Android devices, the magnitude is very high on a few isolated datapoints,\n        // which make the threshold very high as well => the energy remains around 0.5, even when you shake very hard.\n\n        accelerationEnergy = Math.min(accelerationMagnitude / this._accelerationMagnitudeCurrentMax, 1);\n      }\n\n      // Check the rotation rate module and calculate an estimation of the energy value from the latest rotation rate value\n      if (this._rotationRateModule.isValid) {\n        var rA = this._rotationRateValues[0];\n        var rB = this._rotationRateValues[1];\n        var rG = this._rotationRateValues[2];\n        var rotationRateMagnitude = Math.sqrt(rA * rA + rB * rB + rG * rG);\n\n        // Store the maximum rotation rate magnitude reached so far, clipped at `this._rotationRateMagnitudeThreshold`\n        if (this._rotationRateMagnitudeCurrentMax < rotationRateMagnitude) this._rotationRateMagnitudeCurrentMax = Math.min(rotationRateMagnitude, this._rotationRateMagnitudeThreshold);\n\n        rotationRateEnergy = Math.min(rotationRateMagnitude / this._rotationRateMagnitudeCurrentMax, 1);\n      }\n\n      var energy = Math.max(accelerationEnergy, rotationRateEnergy);\n\n      // Low-pass filter to smooth the energy values\n      var k = this._energyDecay;\n      this.event = k * this.event + (1 - k) * energy;\n\n      // Emit the energy value\n      this.emit(this.event);\n    }\n  }, {\n    key: '_energyDecay',\n    get: function get() {\n      return Math.exp(-2 * Math.PI * this.period / this._energyTimeConstant);\n    }\n  }]);\n\n  return EnergyModule;\n}(_InputModule3.default);\n\nexports.default = new EnergyModule();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVuZXJneU1vZHVsZS5qcyJdLCJuYW1lcyI6WyJFbmVyZ3lNb2R1bGUiLCJldmVudCIsIl9hY2NlbGVyYXRpb25Nb2R1bGUiLCJfYWNjZWxlcmF0aW9uVmFsdWVzIiwiX2FjY2VsZXJhdGlvbk1hZ25pdHVkZUN1cnJlbnRNYXgiLCJfYWNjZWxlcmF0aW9uTWFnbml0dWRlVGhyZXNob2xkIiwiX3JvdGF0aW9uUmF0ZU1vZHVsZSIsIl9yb3RhdGlvblJhdGVWYWx1ZXMiLCJfcm90YXRpb25SYXRlTWFnbml0dWRlQ3VycmVudE1heCIsIl9yb3RhdGlvblJhdGVNYWduaXR1ZGVUaHJlc2hvbGQiLCJfZW5lcmd5VGltZUNvbnN0YW50IiwiX29uQWNjZWxlcmF0aW9uIiwiYmluZCIsIl9vblJvdGF0aW9uUmF0ZSIsInJlc29sdmUiLCJQcm9taXNlIiwiYWxsIiwicmVxdWlyZU1vZHVsZSIsInRoZW4iLCJtb2R1bGVzIiwiYWNjZWxlcmF0aW9uIiwicm90YXRpb25SYXRlIiwiaXNDYWxjdWxhdGVkIiwiaXNWYWxpZCIsInBlcmlvZCIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwic2l6ZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJfY2FsY3VsYXRlRW5lcmd5IiwiYWNjZWxlcmF0aW9uRW5lcmd5Iiwicm90YXRpb25SYXRlRW5lcmd5IiwiYVgiLCJhWSIsImFaIiwiYWNjZWxlcmF0aW9uTWFnbml0dWRlIiwiTWF0aCIsInNxcnQiLCJtaW4iLCJyQSIsInJCIiwickciLCJyb3RhdGlvblJhdGVNYWduaXR1ZGUiLCJlbmVyZ3kiLCJtYXgiLCJrIiwiX2VuZXJneURlY2F5IiwiZW1pdCIsImV4cCIsIlBJIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7OztJQVVNQSxZOzs7QUFFSjs7Ozs7QUFLQSwwQkFBYztBQUFBOztBQUdaOzs7Ozs7O0FBSFksNEhBQ04sUUFETTs7QUFVWixVQUFLQyxL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QUFLQSxFQUFMLEdBQVVDLEtBQUtBLEVBQWYsR0FBb0JDLEtBQUtBLEVBQW5DLENBQTVCOztBQUVBO0FBQ0EsWUFBSSxLQUFLbEMsZ0NBQUwsR0FBd0NtQyxxQkFBNUMsRUFDRSxLQUFLbkMsZ0NBQUwsR0FBd0M2QixLQUFLRSxHQUFMLENBQVNJLHFCQUFULEVBQWdDLEtBQUtsQywrQkFBckMsQ0FBeEM7O0FBRUZ1Qiw2QkFBcUJLLEtBQUtFLEdBQUwsQ0FBU0ksd0JBQXdCLEtBQUtuQyxnQ0FBdEMsRUFBd0UsQ0FBeEUsQ0FBckI7QUFDRDs7QUFFRCxVQUFJb0MsU0FBU1AsS0FBS1EsR0FBTCxDQUFTZCxrQkFBVCxFQUE2QkMsa0JBQTdCLENBQWI7O0FBRUE7QUFDQSxVQUFNYyxJQUFJLEtBQUtDLFlBQWY7QUFDQSxXQUFLOUMsS0FBTCxHQUFhNkMsSUFBSSxLQUFLN0MsS0FBVCxHQUFpQixDQUFDLElBQUk2QyxDQUFMLElBQVVGLE1BQXhDOztBQUVBO0FBQ0EsV0FBS0ksSUFBTCxDQUFVLEtBQUsvQyxLQUFmO0FBQ0Q7Ozt3QkEzSWtCO0FBQ2pCLGFBQU9vQyxLQUFLWSxHQUFMLENBQVMsQ0FBQyxDQUFELEdBQUtaLEtBQUthLEVBQVYsR0FBZSxLQUFLMUIsTUFBcEIsR0FBNkIsS0FBS2QsbUJBQTNDLENBQVA7QUFDRDs7Ozs7O2tCQTRJWSxJQUFJVixZQUFKLEUiLCJmaWxlIjoiRW5lcmd5TW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElucHV0TW9kdWxlIGZyb20gJy4vSW5wdXRNb2R1bGUnO1xuaW1wb3J0IG1vdGlvbklucHV0IGZyb20gJy4vTW90aW9uSW5wdXQnO1xuXG4vKipcbiAqIEVuZXJneSBtb2R1bGUgc2luZ2xldG9uLlxuICogVGhlIGVuZXJneSBtb2R1bGUgc2luZ2xldG9uIHByb3ZpZGVzIGVuZXJneSB2YWx1ZXMgKGJldHdlZW4gMCBhbmQgMSlcbiAqIGJhc2VkIG9uIHRoZSBhY2NlbGVyYXRpb24gYW5kIHRoZSByb3RhdGlvbiByYXRlIG9mIHRoZSBkZXZpY2UuXG4gKiBUaGUgcGVyaW9kIG9mIHRoZSBlbmVyZ3kgdmFsdWVzIGlzIHRoZSBzYW1lIGFzIHRoZSBwZXJpb2Qgb2YgdGhlXG4gKiBhY2NlbGVyYXRpb24gYW5kIHRoZSByb3RhdGlvbiByYXRlIHZhbHVlcy5cbiAqXG4gKiBAY2xhc3MgRW5lcmd5TW9kdWxlXG4gKiBAZXh0ZW5kcyBJbnB1dE1vZHVsZVxuICovXG5jbGFzcyBFbmVyZ3lNb2R1bGUgZXh0ZW5kcyBJbnB1dE1vZHVsZSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGVuZXJneSBtb2R1bGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2VuZXJneScpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgY29udGFpbmluZyB0aGUgdmFsdWUgb2YgdGhlIGVuZXJneSwgc2VudCBieSB0aGUgZW5lcmd5IG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIEVuZXJneU1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuZXZlbnQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFjY2VsZXJhdGlvbiBtb2R1bGUsIHVzZWQgaW4gdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBlbmVyZ3kuXG4gICAgICpcbiAgICAgKiBAdGhpcyBFbmVyZ3lNb2R1bGVcbiAgICAgKiBAdHlwZSB7RE9NRXZlbnRTdWJtb2R1bGV9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqIEBzZWUgRGV2aWNlbW90aW9uTW9kdWxlXG4gICAgICovXG4gICAgdGhpcy5fYWNjZWxlcmF0aW9uTW9kdWxlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIExhdGVzdCBhY2NlbGVyYXRpb24gdmFsdWUgc2VudCBieSB0aGUgYWNjZWxlcmF0aW9uIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIEVuZXJneU1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgdGhpcy5fYWNjZWxlcmF0aW9uVmFsdWVzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gdmFsdWUgcmVhY2hlZCBieSB0aGUgYWNjZWxlcmF0aW9uIG1hZ25pdHVkZSwgY2xpcHBlZCBhdCBgdGhpcy5fYWNjZWxlcmF0aW9uTWFnbml0dWRlVGhyZXNob2xkYC5cbiAgICAgKlxuICAgICAqIEB0aGlzIEVuZXJneU1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgOS44MVxuICAgICAqL1xuICAgIHRoaXMuX2FjY2VsZXJhdGlvbk1hZ25pdHVkZUN1cnJlbnRNYXggPSAxICogOS44MTtcblxuICAgIC8qKlxuICAgICAqIENsaXBwaW5nIHZhbHVlIG9mIHRoZSBhY2NlbGVyYXRpb24gbWFnbml0dWRlLlxuICAgICAqXG4gICAgICogQHRoaXMgRW5lcmd5TW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHRoaXMuX2FjY2VsZXJhdGlvbk1hZ25pdHVkZVRocmVzaG9sZCA9IDQgKiA5LjgxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIHJhdGUgbW9kdWxlLCB1c2VkIGluIHRoZSBjYWxjdWxhdGlvbiBvZiB0aGUgZW5lcmd5LlxuICAgICAqXG4gICAgICogQHRoaXMgRW5lcmd5TW9kdWxlXG4gICAgICogQHR5cGUge0RPTUV2ZW50U3VibW9kdWxlfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKiBAc2VlIERldmljZW1vdGlvbk1vZHVsZVxuICAgICAqL1xuICAgIHRoaXMuX3JvdGF0aW9uUmF0ZU1vZHVsZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBMYXRlc3Qgcm90YXRpb24gcmF0ZSB2YWx1ZSBzZW50IGJ5IHRoZSByb3RhdGlvbiByYXRlIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIEVuZXJneU1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgdGhpcy5fcm90YXRpb25SYXRlVmFsdWVzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gdmFsdWUgcmVhY2hlZCBieSB0aGUgcm90YXRpb24gcmF0ZSBtYWduaXR1ZGUsIGNsaXBwZWQgYXQgYHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZVRocmVzaG9sZGAuXG4gICAgICpcbiAgICAgKiBAdGhpcyBFbmVyZ3lNb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwMFxuICAgICAqL1xuICAgIHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZUN1cnJlbnRNYXggPSA0MDA7XG5cbiAgICAvKipcbiAgICAgKiBDbGlwcGluZyB2YWx1ZSBvZiB0aGUgcm90YXRpb24gcmF0ZSBtYWduaXR1ZGUuXG4gICAgICpcbiAgICAgKiBAdGhpcyBFbmVyZ3lNb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZVRocmVzaG9sZCA9IDYwMDtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgY29uc3RhbnQgKGhhbGYtbGlmZSkgb2YgdGhlIGxvdy1wYXNzIGZpbHRlciB1c2VkIHRvIHNtb290aCB0aGUgZW5lcmd5IHZhbHVlcyAoaW4gc2Vjb25kcykuXG4gICAgICpcbiAgICAgKiBAdGhpcyBFbmVyZ3lNb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuMVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHRoaXMuX2VuZXJneVRpbWVDb25zdGFudCA9IDAuMTtcblxuICAgIHRoaXMuX29uQWNjZWxlcmF0aW9uID0gdGhpcy5fb25BY2NlbGVyYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblJvdGF0aW9uUmF0ZSA9IHRoaXMuX29uUm90YXRpb25SYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVjYXkgZmFjdG9yIG9mIHRoZSBsb3ctcGFzcyBmaWx0ZXIgdXNlZCB0byBzbW9vdGggdGhlIGVuZXJneSB2YWx1ZXMuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IF9lbmVyZ3lEZWNheSgpIHtcbiAgICByZXR1cm4gTWF0aC5leHAoLTIgKiBNYXRoLlBJICogdGhpcy5wZXJpb2QgLyB0aGlzLl9lbmVyZ3lUaW1lQ29uc3RhbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIG9mIHRoZSBtb2R1bGUuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBpbml0KCkge1xuICAgIHJldHVybiBzdXBlci5pbml0KChyZXNvbHZlKSA9PiB7XG4gICAgICAvLyBUaGUgZW5lcmd5IG1vZHVsZSByZXF1aXJlcyB0aGUgYWNjZWxlcmF0aW9uIGFuZCB0aGUgcm90YXRpb24gcmF0ZSBtb2R1bGVzXG4gICAgICBQcm9taXNlLmFsbChbbW90aW9uSW5wdXQucmVxdWlyZU1vZHVsZSgnYWNjZWxlcmF0aW9uJyksIG1vdGlvbklucHV0LnJlcXVpcmVNb2R1bGUoJ3JvdGF0aW9uUmF0ZScpXSlcbiAgICAgICAgLnRoZW4oKG1vZHVsZXMpID0+IHtcbiAgICAgICAgICBjb25zdCBbYWNjZWxlcmF0aW9uLCByb3RhdGlvblJhdGVdID0gbW9kdWxlcztcblxuICAgICAgICAgIHRoaXMuX2FjY2VsZXJhdGlvbk1vZHVsZSA9IGFjY2VsZXJhdGlvbjtcbiAgICAgICAgICB0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUgPSByb3RhdGlvblJhdGU7XG4gICAgICAgICAgdGhpcy5pc0NhbGN1bGF0ZWQgPSB0aGlzLl9hY2NlbGVyYXRpb25Nb2R1bGUuaXNWYWxpZCB8fCB0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUuaXNWYWxpZDtcblxuICAgICAgICAgIGlmICh0aGlzLl9hY2NlbGVyYXRpb25Nb2R1bGUuaXNWYWxpZClcbiAgICAgICAgICAgIHRoaXMucGVyaW9kID0gdGhpcy5fYWNjZWxlcmF0aW9uTW9kdWxlLnBlcmlvZDtcbiAgICAgICAgICBlbHNlIGlmICh0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUuaXNWYWxpZClcbiAgICAgICAgICAgIHRoaXMucGVyaW9kID0gdGhpcy5fcm90YXRpb25SYXRlTW9kdWxlLnBlcmlvZDtcblxuICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKHRoaXMuX2FjY2VsZXJhdGlvbk1vZHVsZS5pc1ZhbGlkKVxuICAgICAgICB0aGlzLl9hY2NlbGVyYXRpb25Nb2R1bGUuYWRkTGlzdGVuZXIodGhpcy5fb25BY2NlbGVyYXRpb24pO1xuICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uUmF0ZU1vZHVsZS5pc1ZhbGlkKVxuICAgICAgICB0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUuYWRkTGlzdGVuZXIodGhpcy5fb25Sb3RhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIHN1cGVyLmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgc3VwZXIucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgaWYgKHRoaXMubGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgIGlmICh0aGlzLl9hY2NlbGVyYXRpb25Nb2R1bGUuaXNWYWxpZClcbiAgICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uTW9kdWxlLnJlbW92ZUxpc3RlbmVyKHRoaXMuX29uQWNjZWxlcmF0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUuaXNWYWxpZClcbiAgICAgICAgdGhpcy5fcm90YXRpb25SYXRlTW9kdWxlLnJlbW92ZUxpc3RlbmVyKHRoaXMuX29uUm90YXRpb25SYXRlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWNjZWxlcmF0aW9uIHZhbHVlcyBoYW5kbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBhY2NlbGVyYXRpb24gLSBMYXRlc3QgYWNjZWxlcmF0aW9uIHZhbHVlLlxuICAgKi9cbiAgX29uQWNjZWxlcmF0aW9uKGFjY2VsZXJhdGlvbikge1xuICAgIHRoaXMuX2FjY2VsZXJhdGlvblZhbHVlcyA9IGFjY2VsZXJhdGlvbjtcblxuICAgIC8vIElmIHRoZSByb3RhdGlvbiByYXRlIHZhbHVlcyBhcmUgbm90IGF2YWlsYWJsZSwgd2UgY2FsY3VsYXRlIHRoZSBlbmVyZ3kgcmlnaHQgYXdheS5cbiAgICBpZiAoIXRoaXMuX3JvdGF0aW9uUmF0ZU1vZHVsZS5pc1ZhbGlkKVxuICAgICAgdGhpcy5fY2FsY3VsYXRlRW5lcmd5KCk7XG4gIH1cblxuICAvKipcbiAgICogUm90YXRpb24gcmF0ZSB2YWx1ZXMgaGFuZGxlci5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gcm90YXRpb25SYXRlIC0gTGF0ZXN0IHJvdGF0aW9uIHJhdGUgdmFsdWUuXG4gICAqL1xuICBfb25Sb3RhdGlvblJhdGUocm90YXRpb25SYXRlKSB7XG4gICAgdGhpcy5fcm90YXRpb25SYXRlVmFsdWVzID0gcm90YXRpb25SYXRlO1xuXG4gICAgLy8gV2Uga25vdyB0aGF0IHRoZSBhY2NlbGVyYXRpb24gYW5kIHJvdGF0aW9uIHJhdGUgdmFsdWVzIGNvbWluZyBmcm9tIHRoZVxuICAgIC8vIHNhbWUgYGRldmljZW1vdGlvbmAgZXZlbnQgYXJlIHNlbnQgaW4gdGhhdCBvcmRlciAoYWNjZWxlcmF0aW9uID4gcm90YXRpb24gcmF0ZSlcbiAgICAvLyBzbyB3aGVuIHRoZSByb3RhdGlvbiByYXRlIGlzIHByb3ZpZGVkLCB3ZSBjYWxjdWxhdGUgdGhlIGVuZXJneSB2YWx1ZSBvZiB0aGVcbiAgICAvLyBsYXRlc3QgYGRldmljZW1vdGlvbmAgZXZlbnQgd2hlbiB3ZSByZWNlaXZlIHRoZSByb3RhdGlvbiByYXRlIHZhbHVlcy5cbiAgICB0aGlzLl9jYWxjdWxhdGVFbmVyZ3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmVyZ3kgY2FsY3VsYXRpb246IGVtaXRzIGFuIGVuZXJneSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGUgYWNjZWxlcmF0aW9uIG1vZHVsZXMgaXMgdmFsaWQuIElmIHRoYXQgaXMgdGhlIGNhc2UsXG4gICAqIGl0IGNhbGN1bGF0ZXMgYW4gZXN0aW1hdGlvbiBvZiB0aGUgZW5lcmd5IChiZXR3ZWVuIDAgYW5kIDEpIGJhc2VkIG9uIHRoZSByYXRpb1xuICAgKiBvZiB0aGUgY3VycmVudCBhY2NlbGVyYXRpb24gbWFnbml0dWRlIGFuZCB0aGUgbWF4aW11bSBhY2NlbGVyYXRpb24gbWFnbml0dWRlXG4gICAqIHJlYWNoZWQgc28gZmFyIChjbGlwcGVkIGF0IHRoZSBgdGhpcy5fYWNjZWxlcmF0aW9uTWFnbml0dWRlVGhyZXNob2xkYCB2YWx1ZSkuXG4gICAqIChXZSB1c2UgdGhpcyB0cmljayB0byBnZXQgdW5pZm9ybSBiZWhhdmlvcnMgYW1vbmcgZGV2aWNlcy4gSWYgd2UgY2FsY3VsYXRlZFxuICAgKiB0aGUgcmF0aW8gYmFzZWQgb24gYSBmaXhlZCB2YWx1ZSBpbmRlcGVuZGVudCBvZiB3aGF0IHRoZSBkZXZpY2UgaXMgY2FwYWJsZSBvZlxuICAgKiBwcm92aWRpbmcsIHdlIGNvdWxkIGdldCBpbmNvbnNpc3RlbnQgYmVoYXZpb3JzLiBGb3IgaW5zdGFuY2UsIHRoZSBkZXZpY2VzXG4gICAqIHdob3NlIGFjY2VsZXJvbWV0ZXJzIGFyZSBsaW1pdGVkIGF0IDJnIHdvdWxkIGFsd2F5cyBwcm92aWRlIHZlcnkgbG93IHZhbHVlc1xuICAgKiBjb21wYXJlZCB0byBkZXZpY2VzIHdpdGggYWNjZWxlcm9tZXRlcnMgY2FwYWJsZSBvZiBtZWFzdXJpbmcgNGcgYWNjZWxlcmF0aW9ucy4pXG4gICAqIFRoZSBzYW1lIGNoZWNrcyBhbmQgY2FsY3VsYXRpb25zIGFyZSBtYWRlIG9uIHRoZSByb3RhdGlvbiByYXRlIG1vZHVsZS5cbiAgICogRmluYWxseSwgdGhlIGVuZXJneSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBiZXR3ZWVuIHRoZSBlbmVyZ3kgdmFsdWUgZXN0aW1hdGVkXG4gICAqIGZyb20gdGhlIGFjY2VsZXJhdGlvbiwgYW5kIHRoZSBvbmUgZXN0aW1hdGVkIGZyb20gdGhlIHJvdGF0aW9uIHJhdGUuIEl0IGlzXG4gICAqIHNtb290aGVkIHRocm91Z2ggYSBsb3ctcGFzcyBmaWx0ZXIuXG4gICAqL1xuICBfY2FsY3VsYXRlRW5lcmd5KCkge1xuICAgIGxldCBhY2NlbGVyYXRpb25FbmVyZ3kgPSAwO1xuICAgIGxldCByb3RhdGlvblJhdGVFbmVyZ3kgPSAwO1xuXG4gICAgLy8gQ2hlY2sgdGhlIGFjY2VsZXJhdGlvbiBtb2R1bGUgYW5kIGNhbGN1bGF0ZSBhbiBlc3RpbWF0aW9uIG9mIHRoZSBlbmVyZ3kgdmFsdWUgZnJvbSB0aGUgbGF0ZXN0IGFjY2VsZXJhdGlvbiB2YWx1ZVxuICAgIGlmICh0aGlzLl9hY2NlbGVyYXRpb25Nb2R1bGUuaXNWYWxpZCkge1xuICAgICAgbGV0IGFYID0gdGhpcy5fYWNjZWxlcmF0aW9uVmFsdWVzWzBdO1xuICAgICAgbGV0IGFZID0gdGhpcy5fYWNjZWxlcmF0aW9uVmFsdWVzWzFdO1xuICAgICAgbGV0IGFaID0gdGhpcy5fYWNjZWxlcmF0aW9uVmFsdWVzWzJdO1xuICAgICAgbGV0IGFjY2VsZXJhdGlvbk1hZ25pdHVkZSA9IE1hdGguc3FydChhWCAqIGFYICsgYVkgKiBhWSArIGFaICogYVopO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgbWF4aW11bSBhY2NlbGVyYXRpb24gbWFnbml0dWRlIHJlYWNoZWQgc28gZmFyLCBjbGlwcGVkIGF0IGB0aGlzLl9hY2NlbGVyYXRpb25NYWduaXR1ZGVUaHJlc2hvbGRgXG4gICAgICBpZiAodGhpcy5fYWNjZWxlcmF0aW9uTWFnbml0dWRlQ3VycmVudE1heCA8IGFjY2VsZXJhdGlvbk1hZ25pdHVkZSlcbiAgICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uTWFnbml0dWRlQ3VycmVudE1heCA9IE1hdGgubWluKGFjY2VsZXJhdGlvbk1hZ25pdHVkZSwgdGhpcy5fYWNjZWxlcmF0aW9uTWFnbml0dWRlVGhyZXNob2xkKTtcbiAgICAgIC8vIFRPRE8oPyk6IHJlbW92ZSBvdWxpZXJzIC0tLSBvbiBzb21lIEFuZHJvaWQgZGV2aWNlcywgdGhlIG1hZ25pdHVkZSBpcyB2ZXJ5IGhpZ2ggb24gYSBmZXcgaXNvbGF0ZWQgZGF0YXBvaW50cyxcbiAgICAgIC8vIHdoaWNoIG1ha2UgdGhlIHRocmVzaG9sZCB2ZXJ5IGhpZ2ggYXMgd2VsbCA9PiB0aGUgZW5lcmd5IHJlbWFpbnMgYXJvdW5kIDAuNSwgZXZlbiB3aGVuIHlvdSBzaGFrZSB2ZXJ5IGhhcmQuXG5cbiAgICAgIGFjY2VsZXJhdGlvbkVuZXJneSA9IE1hdGgubWluKGFjY2VsZXJhdGlvbk1hZ25pdHVkZSAvIHRoaXMuX2FjY2VsZXJhdGlvbk1hZ25pdHVkZUN1cnJlbnRNYXgsIDEpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHRoZSByb3RhdGlvbiByYXRlIG1vZHVsZSBhbmQgY2FsY3VsYXRlIGFuIGVzdGltYXRpb24gb2YgdGhlIGVuZXJneSB2YWx1ZSBmcm9tIHRoZSBsYXRlc3Qgcm90YXRpb24gcmF0ZSB2YWx1ZVxuICAgIGlmICh0aGlzLl9yb3RhdGlvblJhdGVNb2R1bGUuaXNWYWxpZCkge1xuICAgICAgbGV0IHJBID0gdGhpcy5fcm90YXRpb25SYXRlVmFsdWVzWzBdO1xuICAgICAgbGV0IHJCID0gdGhpcy5fcm90YXRpb25SYXRlVmFsdWVzWzFdO1xuICAgICAgbGV0IHJHID0gdGhpcy5fcm90YXRpb25SYXRlVmFsdWVzWzJdO1xuICAgICAgbGV0IHJvdGF0aW9uUmF0ZU1hZ25pdHVkZSA9IE1hdGguc3FydChyQSAqIHJBICsgckIgKiByQiArIHJHICogckcpO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgbWF4aW11bSByb3RhdGlvbiByYXRlIG1hZ25pdHVkZSByZWFjaGVkIHNvIGZhciwgY2xpcHBlZCBhdCBgdGhpcy5fcm90YXRpb25SYXRlTWFnbml0dWRlVGhyZXNob2xkYFxuICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZUN1cnJlbnRNYXggPCByb3RhdGlvblJhdGVNYWduaXR1ZGUpXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZUN1cnJlbnRNYXggPSBNYXRoLm1pbihyb3RhdGlvblJhdGVNYWduaXR1ZGUsIHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZVRocmVzaG9sZCk7XG5cbiAgICAgIHJvdGF0aW9uUmF0ZUVuZXJneSA9IE1hdGgubWluKHJvdGF0aW9uUmF0ZU1hZ25pdHVkZSAvIHRoaXMuX3JvdGF0aW9uUmF0ZU1hZ25pdHVkZUN1cnJlbnRNYXgsIDEpO1xuICAgIH1cblxuICAgIGxldCBlbmVyZ3kgPSBNYXRoLm1heChhY2NlbGVyYXRpb25FbmVyZ3ksIHJvdGF0aW9uUmF0ZUVuZXJneSk7XG5cbiAgICAvLyBMb3ctcGFzcyBmaWx0ZXIgdG8gc21vb3RoIHRoZSBlbmVyZ3kgdmFsdWVzXG4gICAgY29uc3QgayA9IHRoaXMuX2VuZXJneURlY2F5O1xuICAgIHRoaXMuZXZlbnQgPSBrICogdGhpcy5ldmVudCArICgxIC0gaykgKiBlbmVyZ3k7XG5cbiAgICAvLyBFbWl0IHRoZSBlbmVyZ3kgdmFsdWVcbiAgICB0aGlzLmVtaXQodGhpcy5ldmVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEVuZXJneU1vZHVsZSgpO1xuIl19","deps":{"./MotionInput":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js","./InputModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _PriorityQueue = require('./PriorityQueue');\n\nvar _PriorityQueue2 = _interopRequireDefault(_PriorityQueue);\n\nvar _TimeEngine2 = require('./TimeEngine');\n\nvar _TimeEngine3 = _interopRequireDefault(_TimeEngine2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @class SchedulingQueue\n * @extends TimeEngine\n */\n/**\n * SchedulingQueue base class\n * http://wavesjs.github.io/audio/#audio-scheduling-queue\n *\n * Norbert.Schnell@ircam.fr\n * Copyright 2014, 2015 IRCAM – Centre Pompidou\n */\n\nvar SchedulingQueue = function (_TimeEngine) {\n  (0, _inherits3.default)(SchedulingQueue, _TimeEngine);\n\n  function SchedulingQueue() {\n    (0, _classCallCheck3.default)(this, SchedulingQueue);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SchedulingQueue.__proto__ || (0, _getPrototypeOf2.default)(SchedulingQueue)).call(this));\n\n    _this.__queue = new _PriorityQueue2.default();\n    _this.__engines = new _set2.default();\n    return _this;\n  }\n\n  // TimeEngine 'scheduled' interface\n\n\n  (0, _createClass3.default)(SchedulingQueue, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      var engine = this.__queue.head;\n      var nextEngineTime = engine.advanceTime(time);\n\n      if (!nextEngineTime) {\n        engine.master = null;\n        this.__engines.delete(engine);\n        this.__queue.remove(engine);\n      } else {\n        this.__queue.move(engine, nextEngineTime);\n      }\n\n      return this.__queue.time;\n    }\n\n    // TimeEngine master method to be implemented by derived class\n\n  }, {\n    key: 'defer',\n\n\n    // call a function at a given time\n    value: function defer(fun) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      if (!(fun instanceof Function)) throw new Error(\"object cannot be defered by scheduler\");\n\n      this.add({\n        advanceTime: function advanceTime(time) {\n          fun(time);\n        } // make sure that the advanceTime method does not returm anything\n      }, time);\n    }\n\n    // add a time engine to the scheduler\n\n  }, {\n    key: 'add',\n    value: function add(engine) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      if (!_TimeEngine3.default.implementsScheduled(engine)) throw new Error(\"object cannot be added to scheduler\");\n\n      if (engine.master) throw new Error(\"object has already been added to a master\");\n\n      engine.master = this;\n\n      // add to engines and queue\n      this.__engines.add(engine);\n      var nextTime = this.__queue.insert(engine, time);\n\n      // reschedule queue\n      this.resetTime(nextTime);\n    }\n\n    // remove a time engine from the queue\n\n  }, {\n    key: 'remove',\n    value: function remove(engine) {\n      if (engine.master !== this) throw new Error(\"object has not been added to this scheduler\");\n\n      engine.master = null;\n\n      // remove from array and queue\n      this.__engines.delete(engine);\n      var nextTime = this.__queue.remove(engine);\n\n      // reschedule queue\n      this.resetTime(nextTime);\n    }\n\n    // reset next engine time\n\n  }, {\n    key: 'resetEngineTime',\n    value: function resetEngineTime(engine) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentTime;\n\n      if (engine.master !== this) throw new Error(\"object has not been added to this scheduler\");\n\n      var nextTime = void 0;\n\n      if (this.__queue.has(engine)) nextTime = this.__queue.move(engine, time);else nextTime = this.__queue.insert(engine, time);\n\n      this.resetTime(nextTime);\n    }\n\n    // check whether a given engine is scheduled\n\n  }, {\n    key: 'has',\n    value: function has(engine) {\n      return this.__engines.has(engine);\n    }\n\n    // clear queue\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this.__engines), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var engine = _step.value;\n\n          engine.master = null;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.__queue.clear();\n      this.__engines.clear();\n      this.resetTime(Infinity);\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return 0;\n    }\n  }]);\n  return SchedulingQueue;\n}(_TimeEngine3.default);\n\nexports.default = SchedulingQueue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjaGVkdWxpbmdRdWV1ZS5qcyJdLCJuYW1lcyI6WyJTY2hlZHVsaW5nUXVldWUiLCJfX3F1ZXVlIiwiUHJpb3JpdHlRdWV1ZSIsIl9fZW5naW5lcyIsInRpbWUiLCJlbmdpbmUiLCJoZWFkIiwibmV4dEVuZ2luZVRpbWUiLCJhZHZhbmNlVGltZSIsIm1hc3RlciIsImRlbGV0ZSIsInJlbW92ZSIsIm1vdmUiLCJmdW4iLCJjdXJyZW50VGltZSIsIkZ1bmN0aW9uIiwiRXJyb3IiLCJhZGQiLCJUaW1lRW5naW5lIiwiaW1wbGVtZW50c1NjaGVkdWxlZCIsIm5leHRUaW1lIiwiaW5zZXJ0IiwicmVzZXRUaW1lIiwiaGFzIiwiY2xlYXIiLCJJbmZpbml0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7O0FBWEE7Ozs7Ozs7O0lBZU1BLGU7OztBQUNKLDZCQUFjO0FBQUE7O0FBQUE7O0FBR1osVUFBS0MsT0FBTCxHQUFlLElBQUlDLHVCQUFKLEVBQWY7QUFDQSxVQUFLQyxTQUFMLEdBQWlCLG1CQUFqQjtBQUpZO0FBS2I7O0FBRUQ7Ozs7O2dDQUNZQyxJLEVBQU07QUFDaEIsVUFBTUMsU0FBUyxLQUFLSixPQUFMLENBQWFLLElBQTVCO0FBQ0EsVUFBTUMsaUJBQWlCRixPQUFPRyxXQUFQLENBQW1CSixJQUFuQixDQUF2Qjs7QUFFQSxVQUFJLENBQUNHLGNBQUwsRUFBcUI7QUFDbkJGLGVBQU9JLE1BQVAsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLTixTQUFMLENBQWVPLE1BQWYsQ0FBc0JMLE1BQXRCO0FBQ0EsYUFBS0osT0FBTCxDQUFhVSxNQUFiLENBQW9CTixNQUFwQjtBQUNELE9BSkQsTUFJTztBQUNMLGFBQUtKLE9BQUwsQ0FBYVcsSUFBYixDQUFrQlAsTUFBbEIsRUFBMEJFLGNBQTFCO0FBQ0Q7O0FBRUQsYUFBTyxLQUFLTixPQUFMLENBQWFHLElBQXBCO0FBQ0Q7O0FBRUQ7Ozs7OztBQUtBOzBCQUNNUyxHLEVBQThCO0FBQUEsVUFBekJULElBQXlCLHVFQUFsQixLQUFLVSxXQUFhOztBQUNsQyxVQUFJLEVBQUVELGVBQWVFLFFBQWpCLENBQUosRUFDRSxNQUFNLElBQUlDLEtBQUosQ0FBVSx1Q0FBVixDQUFOOztBQUVGLFdBQUtDLEdBQUwsQ0FBUztBQUNQVCxxQkFBYSxxQkFBU0osSUFBVCxFQUFlO0FBQUVTLGNBQUlULElBQUo7QUFBWSxTQURuQyxDQUNxQztBQURyQyxPQUFULEVBRUdBLElBRkg7QUFHRDs7QUFFRDs7Ozt3QkFDSUMsTSxFQUFpQztBQUFBLFVBQXpCRCxJQUF5Qix1RUFBbEIsS0FBS1UsV0FBYTs7QUFDbkMsVUFBSSxDQUFDSSxxQkFBV0MsbUJBQVgsQ0FBK0JkLE1BQS9CLENBQUwsRUFDRSxNQUFNLElBQUlXLEtBQUosQ0FBVSxxQ0FBVixDQUFOOztBQUVGLFVBQUlYLE9BQU9JLE1BQVgsRUFDRSxNQUFNLElBQUlPLEtBQUosQ0FBVSwyQ0FBVixDQUFOOztBQUVGWCxhQUFPSSxNQUFQLEdBQWdCLElBQWhCOztBQUVBO0FBQ0EsV0FBS04sU0FBTCxDQUFlYyxHQUFmLENBQW1CWixNQUFuQjtBQUNBLFVBQU1lLFdBQVcsS0FBS25CLE9BQUwsQ0FBYW9CLE1BQWIsQ0FBb0JoQixNQUFwQixFQUE0QkQsSUFBNUIsQ0FBakI7O0FBRUE7QUFDQSxXQUFLa0IsU0FBTCxDQUFlRixRQUFmO0FBQ0Q7O0FBRUQ7Ozs7MkJBQ09mLE0sRUFBUTtBQUNiLFVBQUlBLE9BQU9JLE1BQVAsS0FBa0IsSUFBdEIsRUFDRSxNQUFNLElBQUlPLEtBQUosQ0FBVSw2Q0FBVixDQUFOOztBQUVGWCxhQUFPSSxNQUFQLEdBQWdCLElBQWhCOztBQUVBO0FBQ0EsV0FBS04sU0FBTCxDQUFlTyxNQUFmLENBQXNCTCxNQUF0QjtBQUNBLFVBQU1lLFdBQVcsS0FBS25CLE9BQUwsQ0FBYVUsTUFBYixDQUFvQk4sTUFBcEIsQ0FBakI7O0FBRUE7QUFDQSxXQUFLaUIsU0FBTCxDQUFlRixRQUFmO0FBQ0Q7O0FBRUQ7Ozs7b0NBQ2dCZixNLEVBQWlDO0FBQUEsVUFBekJELElBQXlCLHVFQUFsQixLQUFLVSxXQUFhOztBQUMvQyxVQUFJVCxPQUFPSSxNQUFQLEtBQWtCLElBQXRCLEVBQ0UsTUFBTSxJQUFJTyxLQUFKLENBQVUsNkNBQVYsQ0FBTjs7QUFFRixVQUFJSSxpQkFBSjs7QUFFQSxVQUFJLEtBQUtuQixPQUFMLENBQWFzQixHQUFiLENBQWlCbEIsTUFBakIsQ0FBSixFQUNFZSxXQUFXLEtBQUtuQixPQUFMLENBQWFXLElBQWIsQ0FBa0JQLE1BQWxCLEVBQTBCRCxJQUExQixDQUFYLENBREYsS0FHRWdCLFdBQVcsS0FBS25CLE9BQUwsQ0FBYW9CLE1BQWIsQ0FBb0JoQixNQUFwQixFQUE0QkQsSUFBNUIsQ0FBWDs7QUFFRixXQUFLa0IsU0FBTCxDQUFlRixRQUFmO0FBQ0Q7O0FBRUQ7Ozs7d0JBQ0lmLE0sRUFBUTtBQUNWLGFBQU8sS0FBS0YsU0FBTCxDQUFlb0IsR0FBZixDQUFtQmxCLE1BQW5CLENBQVA7QUFDRDs7QUFFRDs7Ozs0QkFDUTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNOLHdEQUFrQixLQUFLRixTQUF2QjtBQUFBLGNBQVFFLE1BQVI7O0FBQ0VBLGlCQUFPSSxNQUFQLEdBQWdCLElBQWhCO0FBREY7QUFETTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUlOLFdBQUtSLE9BQUwsQ0FBYXVCLEtBQWI7QUFDQSxXQUFLckIsU0FBTCxDQUFlcUIsS0FBZjtBQUNBLFdBQUtGLFNBQUwsQ0FBZUcsUUFBZjtBQUNEOzs7d0JBM0VpQjtBQUNoQixhQUFPLENBQVA7QUFDRDs7O0VBM0IyQlAsb0I7O2tCQXVHZmxCLGUiLCJmaWxlIjoiU2NoZWR1bGluZ1F1ZXVlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTY2hlZHVsaW5nUXVldWUgYmFzZSBjbGFzc1xuICogaHR0cDovL3dhdmVzanMuZ2l0aHViLmlvL2F1ZGlvLyNhdWRpby1zY2hlZHVsaW5nLXF1ZXVlXG4gKlxuICogTm9yYmVydC5TY2huZWxsQGlyY2FtLmZyXG4gKiBDb3B5cmlnaHQgMjAxNCwgMjAxNSBJUkNBTSDigJPCoENlbnRyZSBQb21waWRvdVxuICovXG5cbmltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5pbXBvcnQgVGltZUVuZ2luZSBmcm9tICcuL1RpbWVFbmdpbmUnO1xuXG4vKipcbiAqIEBjbGFzcyBTY2hlZHVsaW5nUXVldWVcbiAqIEBleHRlbmRzIFRpbWVFbmdpbmVcbiAqL1xuY2xhc3MgU2NoZWR1bGluZ1F1ZXVlIGV4dGVuZHMgVGltZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9fcXVldWUgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgIHRoaXMuX19lbmdpbmVzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgLy8gVGltZUVuZ2luZSAnc2NoZWR1bGVkJyBpbnRlcmZhY2VcbiAgYWR2YW5jZVRpbWUodGltZSkge1xuICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuX19xdWV1ZS5oZWFkO1xuICAgIGNvbnN0IG5leHRFbmdpbmVUaW1lID0gZW5naW5lLmFkdmFuY2VUaW1lKHRpbWUpO1xuXG4gICAgaWYgKCFuZXh0RW5naW5lVGltZSkge1xuICAgICAgZW5naW5lLm1hc3RlciA9IG51bGw7XG4gICAgICB0aGlzLl9fZW5naW5lcy5kZWxldGUoZW5naW5lKTtcbiAgICAgIHRoaXMuX19xdWV1ZS5yZW1vdmUoZW5naW5lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fX3F1ZXVlLm1vdmUoZW5naW5lLCBuZXh0RW5naW5lVGltZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX19xdWV1ZS50aW1lO1xuICB9XG5cbiAgLy8gVGltZUVuZ2luZSBtYXN0ZXIgbWV0aG9kIHRvIGJlIGltcGxlbWVudGVkIGJ5IGRlcml2ZWQgY2xhc3NcbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLy8gY2FsbCBhIGZ1bmN0aW9uIGF0IGEgZ2l2ZW4gdGltZVxuICBkZWZlcihmdW4sIHRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lKSB7XG4gICAgaWYgKCEoZnVuIGluc3RhbmNlb2YgRnVuY3Rpb24pKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGNhbm5vdCBiZSBkZWZlcmVkIGJ5IHNjaGVkdWxlclwiKTtcblxuICAgIHRoaXMuYWRkKHtcbiAgICAgIGFkdmFuY2VUaW1lOiBmdW5jdGlvbih0aW1lKSB7IGZ1bih0aW1lKTsgfSwgLy8gbWFrZSBzdXJlIHRoYXQgdGhlIGFkdmFuY2VUaW1lIG1ldGhvZCBkb2VzIG5vdCByZXR1cm0gYW55dGhpbmdcbiAgICB9LCB0aW1lKTtcbiAgfVxuXG4gIC8vIGFkZCBhIHRpbWUgZW5naW5lIHRvIHRoZSBzY2hlZHVsZXJcbiAgYWRkKGVuZ2luZSwgdGltZSA9IHRoaXMuY3VycmVudFRpbWUpIHtcbiAgICBpZiAoIVRpbWVFbmdpbmUuaW1wbGVtZW50c1NjaGVkdWxlZChlbmdpbmUpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGNhbm5vdCBiZSBhZGRlZCB0byBzY2hlZHVsZXJcIik7XG5cbiAgICBpZiAoZW5naW5lLm1hc3RlcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIGEgbWFzdGVyXCIpO1xuXG4gICAgZW5naW5lLm1hc3RlciA9IHRoaXM7XG5cbiAgICAvLyBhZGQgdG8gZW5naW5lcyBhbmQgcXVldWVcbiAgICB0aGlzLl9fZW5naW5lcy5hZGQoZW5naW5lKTtcbiAgICBjb25zdCBuZXh0VGltZSA9IHRoaXMuX19xdWV1ZS5pbnNlcnQoZW5naW5lLCB0aW1lKTtcblxuICAgIC8vIHJlc2NoZWR1bGUgcXVldWVcbiAgICB0aGlzLnJlc2V0VGltZShuZXh0VGltZSk7XG4gIH1cblxuICAvLyByZW1vdmUgYSB0aW1lIGVuZ2luZSBmcm9tIHRoZSBxdWV1ZVxuICByZW1vdmUoZW5naW5lKSB7XG4gICAgaWYgKGVuZ2luZS5tYXN0ZXIgIT09IHRoaXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIHRoaXMgc2NoZWR1bGVyXCIpO1xuXG4gICAgZW5naW5lLm1hc3RlciA9IG51bGw7XG5cbiAgICAvLyByZW1vdmUgZnJvbSBhcnJheSBhbmQgcXVldWVcbiAgICB0aGlzLl9fZW5naW5lcy5kZWxldGUoZW5naW5lKTtcbiAgICBjb25zdCBuZXh0VGltZSA9IHRoaXMuX19xdWV1ZS5yZW1vdmUoZW5naW5lKTtcblxuICAgIC8vIHJlc2NoZWR1bGUgcXVldWVcbiAgICB0aGlzLnJlc2V0VGltZShuZXh0VGltZSk7XG4gIH1cblxuICAvLyByZXNldCBuZXh0IGVuZ2luZSB0aW1lXG4gIHJlc2V0RW5naW5lVGltZShlbmdpbmUsIHRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lKSB7XG4gICAgaWYgKGVuZ2luZS5tYXN0ZXIgIT09IHRoaXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIHRoaXMgc2NoZWR1bGVyXCIpO1xuXG4gICAgbGV0IG5leHRUaW1lO1xuXG4gICAgaWYgKHRoaXMuX19xdWV1ZS5oYXMoZW5naW5lKSlcbiAgICAgIG5leHRUaW1lID0gdGhpcy5fX3F1ZXVlLm1vdmUoZW5naW5lLCB0aW1lKTtcbiAgICBlbHNlXG4gICAgICBuZXh0VGltZSA9IHRoaXMuX19xdWV1ZS5pbnNlcnQoZW5naW5lLCB0aW1lKTtcblxuICAgIHRoaXMucmVzZXRUaW1lKG5leHRUaW1lKTtcbiAgfVxuXG4gIC8vIGNoZWNrIHdoZXRoZXIgYSBnaXZlbiBlbmdpbmUgaXMgc2NoZWR1bGVkXG4gIGhhcyhlbmdpbmUpIHtcbiAgICByZXR1cm4gdGhpcy5fX2VuZ2luZXMuaGFzKGVuZ2luZSk7XG4gIH1cblxuICAvLyBjbGVhciBxdWV1ZVxuICBjbGVhcigpIHtcbiAgICBmb3IobGV0IGVuZ2luZSBvZiB0aGlzLl9fZW5naW5lcylcbiAgICAgIGVuZ2luZS5tYXN0ZXIgPSBudWxsO1xuXG4gICAgdGhpcy5fX3F1ZXVlLmNsZWFyKCk7XG4gICAgdGhpcy5fX2VuZ2luZXMuY2xlYXIoKTtcbiAgICB0aGlzLnJlc2V0VGltZShJbmZpbml0eSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NoZWR1bGluZ1F1ZXVlXG4iXX0=","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","./PriorityQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js","./TimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nvar _elements = require('../utils/elements');\n\nvar elements = _interopRequireWildcard(_elements);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  options: null,\n  default: null,\n  container: null,\n  callback: null\n};\n\n/**\n * List of buttons with state.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the controller.\n * @param {Array} [config.options=null] - Values of the drop down list.\n * @param {Number} [config.default=null] - Default value.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n * @param {Function} [config.callback=null] - Callback to be executed when the\n *  value changes.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const selectButtons = new controllers.SelectButtons({\n *   label: 'SelectButtons',\n *   options: ['standby', 'run', 'end'],\n *   default: 'run',\n *   container: '#container',\n *   callback: (value, index) => console.log(value, index),\n * });\n */\n\nvar SelectButtons = function (_display) {\n  _inherits(SelectButtons, _display);\n\n  function SelectButtons(config) {\n    _classCallCheck(this, SelectButtons);\n\n    var _this = _possibleConstructorReturn(this, (SelectButtons.__proto__ || Object.getPrototypeOf(SelectButtons)).call(this, 'select-buttons', defaults, config));\n\n    if (!Array.isArray(_this.params.options)) throw new Error('TriggerButton: Invalid option \"options\"');\n\n    _this._value = _this.params.default;\n\n    var options = _this.params.options;\n    var index = options.indexOf(_this._value);\n    _this._index = index === -1 ? 0 : index;\n    _this._maxIndex = options.length - 1;\n\n    _get(SelectButtons.prototype.__proto__ || Object.getPrototypeOf(SelectButtons.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Current value.\n   * @type {String}\n   */\n\n\n  _createClass(SelectButtons, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var _params = this.params,\n          options = _params.options,\n          label = _params.label;\n\n      var content = '\\n      <span class=\"label\">' + label + '</span>\\n      <div class=\"inner-wrapper\">\\n        ' + elements.arrowLeft + '\\n        ' + options.map(function (option, index) {\n        return '\\n            <button class=\"btn\" data-index=\"' + index + '\" data-value=\"' + option + '\">\\n              ' + option + '\\n            </button>';\n      }).join('') + '\\n        ' + elements.arrowRight + '\\n      </div>\\n    ';\n\n      this.$el = _get(SelectButtons.prototype.__proto__ || Object.getPrototypeOf(SelectButtons.prototype), 'render', this).call(this, this.type);\n      this.$el.innerHTML = content;\n\n      this.$prev = this.$el.querySelector('.arrow-left');\n      this.$next = this.$el.querySelector('.arrow-right');\n      this.$btns = Array.from(this.$el.querySelectorAll('.btn'));\n\n      this._highlightBtn(this._index);\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$prev.addEventListener('click', function () {\n        var index = _this2._index - 1;\n        _this2._propagate(index);\n      });\n\n      this.$next.addEventListener('click', function () {\n        var index = _this2._index + 1;\n        _this2._propagate(index);\n      });\n\n      this.$btns.forEach(function ($btn, index) {\n        $btn.addEventListener('click', function (e) {\n          e.preventDefault();\n          _this2._propagate(index);\n        });\n      });\n    }\n\n    /** @private */\n\n  }, {\n    key: '_propagate',\n    value: function _propagate(index) {\n      if (index < 0 || index > this._maxIndex) return;\n\n      this._index = index;\n      this._value = this.params.options[index];\n      this._highlightBtn(this._index);\n\n      this.executeListeners(this._value, this._index);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_highlightBtn',\n    value: function _highlightBtn(activeIndex) {\n      this.$btns.forEach(function ($btn, index) {\n        $btn.classList.remove('active');\n\n        if (activeIndex === index) {\n          $btn.classList.add('active');\n        }\n      });\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      var index = this.params.options.indexOf(value);\n\n      if (index !== -1) this.index = index;\n    }\n\n    /**\n     * Current option index.\n     * @type {Number}\n     */\n\n  }, {\n    key: 'index',\n    get: function get() {\n      this._index;\n    },\n    set: function set(index) {\n      if (index < 0 || index > this._maxIndex) return;\n\n      this._value = this.params.options[index];\n      this._index = index;\n      this._highlightBtn(this._index);\n    }\n  }]);\n\n  return SelectButtons;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = SelectButtons;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdEJ1dHRvbnMuanMiXSwibmFtZXMiOlsiZWxlbWVudHMiLCJkZWZhdWx0cyIsImxhYmVsIiwib3B0aW9ucyIsImRlZmF1bHQiLCJjb250YWluZXIiLCJjYWxsYmFjayIsIlNlbGVjdEJ1dHRvbnMiLCJjb25maWciLCJBcnJheSIsImlzQXJyYXkiLCJwYXJhbXMiLCJFcnJvciIsIl92YWx1ZSIsImluZGV4IiwiaW5kZXhPZiIsIl9pbmRleCIsIl9tYXhJbmRleCIsImxlbmd0aCIsImNvbnRlbnQiLCJhcnJvd0xlZnQiLCJtYXAiLCJvcHRpb24iLCJqb2luIiwiYXJyb3dSaWdodCIsIiRlbCIsInR5cGUiLCJpbm5lckhUTUwiLCIkcHJldiIsInF1ZXJ5U2VsZWN0b3IiLCIkbmV4dCIsIiRidG5zIiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaGlnaGxpZ2h0QnRuIiwiX2JpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiX3Byb3BhZ2F0ZSIsImZvckVhY2giLCIkYnRuIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZXhlY3V0ZUxpc3RlbmVycyIsImFjdGl2ZUluZGV4IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7O0lBQVlBLFE7Ozs7Ozs7Ozs7OztBQUVaOztBQUVBLElBQU1DLFdBQVc7QUFDZkMsU0FBTyxRQURRO0FBRWZDLFdBQVMsSUFGTTtBQUdmQyxXQUFTLElBSE07QUFJZkMsYUFBVyxJQUpJO0FBS2ZDLFlBQVU7QUFMSyxDQUFqQjs7QUFRQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBdUJNQyxhOzs7QUFDSix5QkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLDhIQUNaLGdCQURZLEVBQ01QLFFBRE4sRUFDZ0JPLE1BRGhCOztBQUdsQixRQUFJLENBQUNDLE1BQU1DLE9BQU4sQ0FBYyxNQUFLQyxNQUFMLENBQVlSLE9BQTFCLENB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QjtBQUNsQ3lCLGFBQUtLLFNBQUwsQ0FBZUMsTUFBZixDQUFzQixRQUF0Qjs7QUFFQSxZQUFJRixnQkFBZ0I3QixLQUFwQixFQUEyQjtBQUN6QnlCLGVBQUtLLFNBQUwsQ0FBZUUsR0FBZixDQUFtQixRQUFuQjtBQUNEO0FBQ0YsT0FORDtBQU9EOzs7d0JBakdXO0FBQ1YsYUFBTyxLQUFLakMsTUFBWjtBQUNELEs7c0JBRVNrQyxLLEVBQU87QUFDZixVQUFNakMsUUFBUSxLQUFLSCxNQUFMLENBQVlSLE9BQVosQ0FBb0JZLE9BQXBCLENBQTRCZ0MsS0FBNUIsQ0FBZDs7QUFFQSxVQUFJakMsVUFBVSxDQUFDLENBQWYsRUFDRSxLQUFLQSxLQUFMLEdBQWFBLEtBQWI7QUFDSDs7QUFFRDs7Ozs7Ozt3QkFJWTtBQUNWLFdBQUtFLE1BQUw7QUFDRCxLO3NCQUVTRixLLEVBQU87QUFDZixVQUFJQSxRQUFRLENBQVIsSUFBYUEsUUFBUSxLQUFLRyxTQUE5QixFQUF5Qzs7QUFFekMsV0FBS0osTUFBTCxHQUFjLEtBQUtGLE1BQUwsQ0FBWVIsT0FBWixDQUFvQlcsS0FBcEIsQ0FBZDtBQUNBLFdBQUtFLE1BQUwsR0FBY0YsS0FBZDtBQUNBLFdBQUtvQixhQUFMLENBQW1CLEtBQUtsQixNQUF4QjtBQUNEOzs7O0VBOUN5QiwrQzs7a0JBeUhiVCxhIiwiZmlsZSI6IlNlbGVjdEJ1dHRvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuaW1wb3J0ICogYXMgZWxlbWVudHMgZnJvbSAnLi4vdXRpbHMvZWxlbWVudHMnO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBvcHRpb25zOiBudWxsLFxuICBkZWZhdWx0OiBudWxsLFxuICBjb250YWluZXI6IG51bGwsXG4gIGNhbGxiYWNrOiBudWxsLFxufTtcblxuLyoqXG4gKiBMaXN0IG9mIGJ1dHRvbnMgd2l0aCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gT3ZlcnJpZGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5sYWJlbCAtIExhYmVsIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5vcHRpb25zPW51bGxdIC0gVmFsdWVzIG9mIHRoZSBkcm9wIGRvd24gbGlzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRlZmF1bHQ9bnVsbF0gLSBEZWZhdWx0IHZhbHVlLlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxiYXNpYy1jb250cm9sbGVyfkdyb3VwfSBbY29uZmlnLmNvbnRhaW5lcj1udWxsXSAtXG4gKiAgQ29udGFpbmVyIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5jYWxsYmFjaz1udWxsXSAtIENhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlXG4gKiAgdmFsdWUgY2hhbmdlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgY29udHJvbGxlcnMgZnJvbSAnYmFzaWMtY29udHJvbGxlcnMnO1xuICpcbiAqIGNvbnN0IHNlbGVjdEJ1dHRvbnMgPSBuZXcgY29udHJvbGxlcnMuU2VsZWN0QnV0dG9ucyh7XG4gKiAgIGxhYmVsOiAnU2VsZWN0QnV0dG9ucycsXG4gKiAgIG9wdGlvbnM6IFsnc3RhbmRieScsICdydW4nLCAnZW5kJ10sXG4gKiAgIGRlZmF1bHQ6ICdydW4nLFxuICogICBjb250YWluZXI6ICcjY29udGFpbmVyJyxcbiAqICAgY2FsbGJhY2s6ICh2YWx1ZSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKHZhbHVlLCBpbmRleCksXG4gKiB9KTtcbiAqL1xuY2xhc3MgU2VsZWN0QnV0dG9ucyBleHRlbmRzIGRpc3BsYXkoQmFzZUNvbXBvbmVudCkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcignc2VsZWN0LWJ1dHRvbnMnLCBkZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnBhcmFtcy5vcHRpb25zKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZ2dlckJ1dHRvbjogSW52YWxpZCBvcHRpb24gXCJvcHRpb25zXCInKTtcblxuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5wYXJhbXMuZGVmYXVsdDtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnBhcmFtcy5vcHRpb25zO1xuICAgIGNvbnN0IGluZGV4ID0gb3B0aW9ucy5pbmRleE9mKHRoaXMuX3ZhbHVlKTtcbiAgICB0aGlzLl9pbmRleCA9IGluZGV4ID09PSAtMSA/wqAwIDogaW5kZXg7XG4gICAgdGhpcy5fbWF4SW5kZXggPSBvcHRpb25zLmxlbmd0aCAtIDE7XG5cbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCB2YWx1ZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMucGFyYW1zLm9wdGlvbnMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgb3B0aW9uIGluZGV4LlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IGluZGV4KCkge1xuICAgIHRoaXMuX2luZGV4O1xuICB9XG5cbiAgc2V0IGluZGV4KGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuX21heEluZGV4KSByZXR1cm47XG5cbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMucGFyYW1zLm9wdGlvbnNbaW5kZXhdO1xuICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5faGlnaGxpZ2h0QnRuKHRoaXMuX2luZGV4KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbCB9ID0gdGhpcy5wYXJhbXM7XG4gICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci13cmFwcGVyXCI+XG4gICAgICAgICR7ZWxlbWVudHMuYXJyb3dMZWZ0fVxuICAgICAgICAke29wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIiBkYXRhLXZhbHVlPVwiJHtvcHRpb259XCI+XG4gICAgICAgICAgICAgICR7b3B0aW9ufVxuICAgICAgICAgICAgPC9idXR0b24+YDtcbiAgICAgICAgfSkuam9pbignJyl9XG4gICAgICAgICR7ZWxlbWVudHMuYXJyb3dSaWdodH1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICB0aGlzLiRlbCA9IHN1cGVyLnJlbmRlcih0aGlzLnR5cGUpO1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGNvbnRlbnQ7XG5cbiAgICB0aGlzLiRwcmV2ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmFycm93LWxlZnQnKTtcbiAgICB0aGlzLiRuZXh0ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmFycm93LXJpZ2h0Jyk7XG4gICAgdGhpcy4kYnRucyA9IEFycmF5LmZyb20odGhpcy4kZWwucXVlcnlTZWxlY3RvckFsbCgnLmJ0bicpKTtcblxuICAgIHRoaXMuX2hpZ2hsaWdodEJ0bih0aGlzLl9pbmRleCk7XG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJHByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGV4IC0gMTtcbiAgICAgIHRoaXMuX3Byb3BhZ2F0ZShpbmRleCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRuZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9pbmRleCArIDE7XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoaW5kZXgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kYnRucy5mb3JFYWNoKCgkYnRuLCBpbmRleCkgPT4ge1xuICAgICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fcHJvcGFnYXRlKGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9wcm9wYWdhdGUoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5fbWF4SW5kZXgpIHJldHVybjtcblxuICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLnBhcmFtcy5vcHRpb25zW2luZGV4XTtcbiAgICB0aGlzLl9oaWdobGlnaHRCdG4odGhpcy5faW5kZXgpO1xuXG4gICAgdGhpcy5leGVjdXRlTGlzdGVuZXJzKHRoaXMuX3ZhbHVlLCB0aGlzLl9pbmRleCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX2hpZ2hsaWdodEJ0bihhY3RpdmVJbmRleCkge1xuICAgIHRoaXMuJGJ0bnMuZm9yRWFjaCgoJGJ0biwgaW5kZXgpID0+IHtcbiAgICAgICRidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgJGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RCdXR0b25zO1xuIl19","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","../utils/elements":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Title.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Title.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  container: null\n};\n\n/**\n * Title.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the controller.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n *\n * @example\n * import * as controller from 'basic-controllers';\n *\n * const title = new controllers.Title({\n *   label: 'My Title',\n *   container: '#container'\n * });\n */\n\nvar Title = function (_display) {\n  _inherits(Title, _display);\n\n  function Title(config) {\n    _classCallCheck(this, Title);\n\n    var _this = _possibleConstructorReturn(this, (Title.__proto__ || Object.getPrototypeOf(Title)).call(this, 'title', defaults, config));\n\n    _get(Title.prototype.__proto__ || Object.getPrototypeOf(Title.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /** @private */\n\n\n  _createClass(Title, [{\n    key: 'render',\n    value: function render() {\n      var content = '<span class=\"label\">' + this.params.label + '</span>';\n\n      this.$el = _get(Title.prototype.__proto__ || Object.getPrototypeOf(Title.prototype), 'render', this).call(this);\n      this.$el.innerHTML = content;\n\n      return this.$el;\n    }\n  }]);\n\n  return Title;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = Title;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRpdGxlLmpzIl0sIm5hbWVzIjpbImRlZmF1bHRzIiwibGFiZWwiLCJjb250YWluZXIiLCJUaXRsZSIsImNvbmZpZyIsImNvbnRlbnQiLCJwYXJhbXMiLCIkZWwiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNQSxXQUFXO0FBQ2ZDLFNBQU8sUUFEUTtBQUVmQyxhQUFXO0FBRkksQ0FBakI7O0FBS0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZ0JNQyxLOzs7QUFDSixpQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLDhHQUNaLE9BRFksRUFDSEosUUFERyxFQUNPSSxNQURQOztBQUVsQjtBQUZrQjtBQUduQjs7QUFFRDs7Ozs7NkJBQ1M7QUFDUCxVQUFNQyxtQ0FBaUMsS0FBS0MsTUFBTCxDQUFZTCxLQUE3QyxZQUFOOztBQUVBLFdBQUtNLEdBQUw7QUFDQSxXQUFLQSxHQUFMLENBQVNDLFNBQVQsR0FBcUJILE9BQXJCOztBQUVBLGFBQU8sS0FBS0UsR0FBWjtBQUNEOzs7O0VBZGlCLCtDOztrQkFpQkxKLEsiLCJmaWxlIjoiVGl0bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBjb250YWluZXI6IG51bGwsXG59O1xuXG4vKipcbiAqIFRpdGxlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBPdmVycmlkZSBkZWZhdWx0IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmxhYmVsIC0gTGFiZWwgb2YgdGhlIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fGJhc2ljLWNvbnRyb2xsZXJ+R3JvdXB9IFtjb25maWcuY29udGFpbmVyPW51bGxdIC1cbiAqICBDb250YWluZXIgb2YgdGhlIGNvbnRyb2xsZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGNvbnRyb2xsZXIgZnJvbSAnYmFzaWMtY29udHJvbGxlcnMnO1xuICpcbiAqIGNvbnN0IHRpdGxlID0gbmV3IGNvbnRyb2xsZXJzLlRpdGxlKHtcbiAqICAgbGFiZWw6ICdNeSBUaXRsZScsXG4gKiAgIGNvbnRhaW5lcjogJyNjb250YWluZXInXG4gKiB9KTtcbiAqL1xuY2xhc3MgVGl0bGUgZXh0ZW5kcyBkaXNwbGF5KEJhc2VDb21wb25lbnQpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ3RpdGxlJywgZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250ZW50ID0gYDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke3RoaXMucGFyYW1zLmxhYmVsfTwvc3Bhbj5gO1xuXG4gICAgdGhpcy4kZWwgPSBzdXBlci5yZW5kZXIoKTtcbiAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBjb250ZW50O1xuXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpdGxlO1xuIl19","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Text.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Text.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  default: '',\n  readonly: false,\n  container: null,\n  callback: null\n\n  /**\n   * Text controller.\n   *\n   * @param {Object} config - Override default parameters.\n   * @param {String} config.label - Label of the controller.\n   * @param {Array} [config.default=''] - Default value of the controller.\n   * @param {Array} [config.readonly=false] - Define if the controller is readonly.\n   * @param {String|Element|basic-controller~Group} [config.container=null] -\n   *  Container of the controller.\n   * @param {Function} [config.callback=null] - Callback to be executed when the\n   *  value changes.\n   *\n   * @example\n   * import * as controllers from 'basic-contollers';\n   *\n   * const text = new controllers.Text({\n   *   label: 'My Text',\n   *   default: 'default value',\n   *   readonly: false,\n   *   container: '#container',\n   *   callback: (value) => console.log(value),\n   * });\n   */\n};\nvar Text = function (_display) {\n  _inherits(Text, _display);\n\n  function Text(config) {\n    _classCallCheck(this, Text);\n\n    var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, 'text', defaults, config));\n\n    _this._value = _this.params.default;\n    _this.initialize();\n    return _this;\n  }\n\n  /**\n   * Current value.\n   * @type {String}\n   */\n\n\n  _createClass(Text, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var readonly = this.params.readonly ? 'readonly' : '';\n      var content = '\\n      <span class=\"label\">' + this.params.label + '</span>\\n      <div class=\"inner-wrapper\">\\n        <input class=\"text\" type=\"text\" value=\"' + this._value + '\" ' + readonly + ' />\\n      </div>\\n    ';\n\n      this.$el = _get(Text.prototype.__proto__ || Object.getPrototypeOf(Text.prototype), 'render', this).call(this);\n      this.$el.innerHTML = content;\n      this.$input = this.$el.querySelector('.text');\n\n      this.bindEvents();\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      var _this2 = this;\n\n      this.$input.addEventListener('keyup', function () {\n        _this2._value = _this2.$input.value;\n        _this2.executeListeners(_this2._value);\n      }, false);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.$input.value = value;\n      this._value = value;\n    }\n  }]);\n\n  return Text;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = Text;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHQuanMiXSwibmFtZXMiOlsiZGVmYXVsdHMiLCJsYWJlbCIsImRlZmF1bHQiLCJyZWFkb25seSIsImNvbnRhaW5lciIsImNhbGxiYWNrIiwiVGV4dCIsImNvbmZpZyIsIl92YWx1ZSIsInBhcmFtcyIsImluaXRpYWxpemUiLCJjb250ZW50IiwiJGVsIiwiaW5uZXJIVE1MIiwiJGlucHV0IiwicXVlcnlTZWxlY3RvciIsImJpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJleGVjdXRlTGlzdGVuZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRUEsSUFBTUEsV0FBVztBQUNmQyxTQUFPLFFBRFE7QUFFZkMsV0FBUyxFQUZNO0FBR2ZDLFlBQVUsS0FISztBQUlmQyxhQUFXLElBSkk7QUFLZkMsWUFBVTs7QUFHWjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFSaUIsQ0FBakI7SUErQk1DLEk7OztBQUNKLGdCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUEsNEdBQ1osTUFEWSxFQUNKUCxRQURJLEVBQ01PLE1BRE47O0FBR2xCLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxNQUFMLENBQVlQLE9BQTFCO0FBQ0EsVUFBS1EsVUFBTDtBQUprQjtBQUtuQjs7QUFFRDs7Ozs7Ozs7OztBQWFBOzZCQUNTO0FBQ1AsVUFBTVAsV0FBVyxLQUFLTSxNQUFMLENBQVlOLFFBQVosR0FBdUIsVUFBdkIsR0FBb0MsRUFBckQ7QUFDQSxVQUFNUSwyQ0FDa0IsS0FBS0YsTUFBTCxDQUFZUixLQUQ5QixtR0FHdUMsS0FBS08sTUFINUMsVUFHdURMLFFBSHZELDRCQUFOOztBQU9BLFdBQUtTLEdBQUw7QUFDQSxXQUFLQSxHQUFMLENBQVNDLFNBQVQsR0FBcUJGLE9BQXJCO0FBQ0EsV0FBS0csTUFBTCxHQUFjLEtBQUtGLEdBQUwsQ0FBU0csYUFBVCxDQUF1QixPQUF2QixDQUFkOztBQUVBLFdBQUtDLFVBQUw7QUFDQSxhQUFPLEtBQUtKLEdBQVo7QUFDRDs7QUFFRDs7OztpQ0FDYTtBQUFBOztBQUNYLFdBQUtFLE1BQUwsQ0FBWUcsZ0JBQVosQ0FBNkIsT0FBN0IsRUFBc0MsWUFBTTtBQUMxQyxlQUFLVCxNQUFMLEdBQWMsT0FBS00sTUFBTCxDQUFZSSxLQUExQjtBQUNBLGVBQUtDLGdCQUFMLENBQXNCLE9BQUtYLE1BQTNCO0FBQ0QsT0FIRCxFQUdHLEtBSEg7QUFJRDs7O3dCQWpDVztBQUNWLGFBQU8sS0FBS0EsTUFBWjtBQUNELEs7c0JBRVNVLEssRUFBTztBQUNmLFdBQUtKLE1BQUwsQ0FBWUksS0FBWixHQUFvQkEsS0FBcEI7QUFDQSxXQUFLVixNQUFMLEdBQWNVLEtBQWQ7QUFDRDs7OztFQW5CZ0IsK0M7O2tCQWdESlosSSIsImZpbGUiOiJUZXh0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSAnLi9CYXNlQ29tcG9uZW50JztcbmltcG9ydCBkaXNwbGF5IGZyb20gJy4uL21peGlucy9kaXNwbGF5JztcblxuLyoqIEBtb2R1bGUgYmFzaWMtY29udHJvbGxlcnMgKi9cblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGxhYmVsOiAnJm5ic3A7JyxcbiAgZGVmYXVsdDogJycsXG4gIHJlYWRvbmx5OiBmYWxzZSxcbiAgY29udGFpbmVyOiBudWxsLFxuICBjYWxsYmFjazogbnVsbCxcbn1cblxuLyoqXG4gKiBUZXh0IGNvbnRyb2xsZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIE92ZXJyaWRlIGRlZmF1bHQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcubGFiZWwgLSBMYWJlbCBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGVmYXVsdD0nJ10gLSBEZWZhdWx0IHZhbHVlIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5yZWFkb25seT1mYWxzZV0gLSBEZWZpbmUgaWYgdGhlIGNvbnRyb2xsZXIgaXMgcmVhZG9ubHkuXG4gKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fGJhc2ljLWNvbnRyb2xsZXJ+R3JvdXB9IFtjb25maWcuY29udGFpbmVyPW51bGxdIC1cbiAqICBDb250YWluZXIgb2YgdGhlIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmNhbGxiYWNrPW51bGxdIC0gQ2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGVcbiAqICB2YWx1ZSBjaGFuZ2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBjb250cm9sbGVycyBmcm9tICdiYXNpYy1jb250b2xsZXJzJztcbiAqXG4gKiBjb25zdCB0ZXh0ID0gbmV3IGNvbnRyb2xsZXJzLlRleHQoe1xuICogICBsYWJlbDogJ015IFRleHQnLFxuICogICBkZWZhdWx0OiAnZGVmYXVsdCB2YWx1ZScsXG4gKiAgIHJlYWRvbmx5OiBmYWxzZSxcbiAqICAgY29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gKiAgIGNhbGxiYWNrOiAodmFsdWUpID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqIH0pO1xuICovXG5jbGFzcyBUZXh0IGV4dGVuZHMgZGlzcGxheShCYXNlQ29tcG9uZW50KSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCd0ZXh0JywgZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMucGFyYW1zLmRlZmF1bHQ7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCB2YWx1ZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLiRpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHJlYWRvbmx5ID0gdGhpcy5wYXJhbXMucmVhZG9ubHkgPyAncmVhZG9ubHknIDogJyc7XG4gICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke3RoaXMucGFyYW1zLmxhYmVsfTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci13cmFwcGVyXCI+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cInRleHRcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJHt0aGlzLl92YWx1ZX1cIiAke3JlYWRvbmx5fSAvPlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIHRoaXMuJGVsID0gc3VwZXIucmVuZGVyKCk7XG4gICAgdGhpcy4kZWwuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0Jyk7XG5cbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICByZXR1cm4gdGhpcy4kZWw7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy4kaW5wdXQudmFsdWU7XG4gICAgICB0aGlzLmV4ZWN1dGVMaXN0ZW5lcnModGhpcy5fdmFsdWUpO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuIl19","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Group.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Group.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display = require('../mixins/display');\n\nvar _display2 = _interopRequireDefault(_display);\n\nvar _container2 = require('../mixins/container');\n\nvar _container3 = _interopRequireDefault(_container2);\n\nvar _elements = require('../utils/elements');\n\nvar elements = _interopRequireWildcard(_elements);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  legend: '&nbsp;',\n  default: 'opened',\n  container: null\n};\n\n/**\n * Group of controllers.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the group.\n * @param {'opened'|'closed'} [config.default='opened'] - Default state of the\n *  group.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * // create a group\n * const group = new controllers.Group({\n *   label: 'Group',\n *   default: 'opened',\n *   container: '#container'\n * });\n *\n * // insert controllers in the group\n * const groupSlider = new controllers.Slider({\n *   label: 'Group Slider',\n *   min: 20,\n *   max: 1000,\n *   step: 1,\n *   default: 200,\n *   unit: 'Hz',\n *   size: 'large',\n *   container: group,\n *   callback: (value) => console.log(value),\n * });\n *\n * const groupText = new controllers.Text({\n *   label: 'Group Text',\n *   default: 'text input',\n *   readonly: false,\n *   container: group,\n *   callback: (value) => console.log(value),\n * });\n */\n\nvar Group = function (_container) {\n  _inherits(Group, _container);\n\n  function Group(config) {\n    _classCallCheck(this, Group);\n\n    var _this = _possibleConstructorReturn(this, (Group.__proto__ || Object.getPrototypeOf(Group)).call(this, 'group', defaults, config));\n\n    _this._states = ['opened', 'closed'];\n\n    if (_this._states.indexOf(_this.params.default) === -1) throw new Error('Invalid state \"' + value + '\"');\n\n    _this._state = _this.params.default;\n\n    _get(Group.prototype.__proto__ || Object.getPrototypeOf(Group.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * State of the group (`'opened'` or `'closed'`).\n   * @type {String}\n   */\n\n\n  _createClass(Group, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var content = '\\n      <div class=\"group-header\">\\n        ' + elements.smallArrowRight + '\\n        ' + elements.smallArrowBottom + '\\n        <span class=\"label\">' + this.params.label + '</span>\\n      </div>\\n      <div class=\"group-content\"></div>\\n    ';\n\n      this.$el = _get(Group.prototype.__proto__ || Object.getPrototypeOf(Group.prototype), 'render', this).call(this);\n      this.$el.innerHTML = content;\n      this.$el.classList.add(this._state);\n\n      this.$header = this.$el.querySelector('.group-header');\n      this.$container = this.$el.querySelector('.group-content');\n\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$header.addEventListener('click', function () {\n        var state = _this2._state === 'closed' ? 'opened' : 'closed';\n        _this2.state = state;\n      });\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this.state;\n    },\n    set: function set(state) {\n      this.state = state;\n    }\n\n    /**\n     * Alias for `value`.\n     * @type {String}\n     */\n\n  }, {\n    key: 'state',\n    get: function get() {\n      return this._state;\n    },\n    set: function set(value) {\n      if (this._states.indexOf(value) === -1) throw new Error('Invalid state \"' + value + '\"');\n\n      this.$el.classList.remove(this._state);\n      this.$el.classList.add(value);\n\n      this._state = value;\n    }\n  }]);\n\n  return Group;\n}((0, _container3.default)((0, _display2.default)(_BaseComponent2.default)));\n\nexports.default = Group;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdyb3VwLmpzIl0sIm5hbWVzIjpbImVsZW1lbnRzIiwiZGVmYXVsdHMiLCJsZWdlbmQiLCJkZWZhdWx0IiwiY29udGFpbmVyIiwiR3JvdXAiLCJjb25maWciLCJfc3RhdGVzIiwiaW5kZXhPZiIsInBhcmFtcyIsIkVycm9yIiwidmFsdWUiLCJfc3RhdGUiLCJjb250ZW50Iiwic21hbGxBcnJvd1JpZ2h0Iiwic21hbGxBcnJvd0JvdHRvbSIsImxhYmVsIiwiJGVsIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwiJGhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCIkY29udGFpbmVyIiwiX2JpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwic3RhdGUiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7SUFBWUEsUTs7Ozs7Ozs7Ozs7O0FBRVo7O0FBRUEsSUFBTUMsV0FBVztBQUNmQyxVQUFRLFFBRE87QUFFZkMsV0FBUyxRQUZNO0FBR2ZDLGFBQVc7QUFISSxDQUFqQjs7QUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBeUNNQyxLOzs7QUFDSixpQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLDhHQUNaLE9BRFksRUFDSEwsUUFERyxFQUNPSyxNQURQOztBQUdsQixVQUFLQyxPQUFMLEdBQWUsQ0FBQyxRQUFELEVBQVcsUUFBWCxDQUFmOztBQUVBLFFBQUksTUFBS0EsT0FBTCxDQUFhQyxPQUFiLENBQXFCLE1BQUtDLE1BQUwsQ0FBWU4sT0FBakMsTUFBOEMsQ0FBQyxDQUFuRCxFQUNFLE1BQU0sSUFBSU8sS0FBSixxQkFBNEJDLEtBQTVCLE9BQU47O0FBRUYsVUFBS0MsTUFBTCxHQUFjLE1BQUtILE1BQUwsQ0FBWU4sT0FBMUI7O0FBRUE7QUFWa0I7QUFXbkI7O0FBRUQ7Ozs7Ozs7Ozs7QUErQkE7NkJBQ1M7QUFDUCxVQUFJVSwyREFFRWIsU0FBU2MsZUFGWCxrQkFHRWQsU0FBU2UsZ0JBSFgsc0NBSXNCLEtBQUtOLE1BQUwsQ0FBWU8sS0FKbEMseUVBQUo7O0FBU0EsV0FBS0MsR0FBTDtBQUNBLFdBQUtBLEdBQUwsQ0FBU0MsU0FBVCxHQUFxQkwsT0FBckI7QUFDQSxXQUFLSSxHQUFMLENBQVNFLFNBQVQsQ0FBbUJDLEdBQW5CLENBQXVCLEtBQUtSLE1BQTVCOztBQUVBLFdBQUtTLE9BQUwsR0FBZSxLQUFLSixHQUFMLENBQVNLLGFBQVQsQ0FBdUIsZUFBdkIsQ0FBZjtBQUNBLFdBQUtDLFVBQUwsR0FBa0IsS0FBS04sR0FBTCxDQUFTSyxhQUFULENBQXVCLGdCQUF2QixDQUFsQjs7QUFFQSxXQUFLRSxXQUFMOztBQUVBLGFBQU8sS0FBS1AsR0FBWjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQUE7O0FBQ1osV0FBS0ksT0FBTCxDQUFhSSxnQkFBYixDQUE4QixPQUE5QixFQUF1QyxZQUFNO0FBQzNDLFlBQU1DLFFBQVEsT0FBS2QsTUFBTCxLQUFnQixRQUFoQixHQUEyQixRQUEzQixHQUFzQyxRQUFwRDtBQUNBLGVBQUtjLEtBQUwsR0FBYUEsS0FBYjtBQUNELE9BSEQ7QUFJRDs7O3dCQXhEVztBQUNWLGFBQU8sS0FBS0EsS0FBWjtBQUNELEs7c0JBRVNBLEssRUFBTztBQUNmLFdBQUtBLEtBQUwsR0FBYUEsS0FBYjtBQUNEOztBQUVEOzs7Ozs7O3dCQUlZO0FBQ1YsYUFBTyxLQUFLZCxNQUFaO0FBQ0QsSztzQkFFU0QsSyxFQUFPO0FBQ2YsVUFBSSxLQUFLSixPQUFMLENBQWFDLE9BQWIsQ0FBcUJHLEtBQXJCLE1BQWdDLENBQUMsQ0FBckMsRUFDRSxNQUFNLElBQUlELEtBQUoscUJBQTRCQyxLQUE1QixPQUFOOztBQUVGLFdBQUtNLEdBQUwsQ0FBU0UsU0FBVCxDQUFtQlEsTUFBbkIsQ0FBMEIsS0FBS2YsTUFBL0I7QUFDQSxXQUFLSyxHQUFMLENBQVNFLFNBQVQsQ0FBbUJDLEdBQW5CLENBQXVCVCxLQUF2Qjs7QUFFQSxXQUFLQyxNQUFMLEdBQWNELEtBQWQ7QUFDRDs7OztFQTFDaUIseUJBQVUsK0NBQVYsQzs7a0JBNkVMTixLIiwiZmlsZSI6Ikdyb3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSAnLi9CYXNlQ29tcG9uZW50JztcbmltcG9ydCBkaXNwbGF5IGZyb20gJy4uL21peGlucy9kaXNwbGF5JztcbmltcG9ydCBjb250YWluZXIgZnJvbSAnLi4vbWl4aW5zL2NvbnRhaW5lcic7XG5pbXBvcnQgKiBhcyBlbGVtZW50cyBmcm9tICcuLi91dGlscy9lbGVtZW50cyc7XG5cbi8qKiBAbW9kdWxlIGJhc2ljLWNvbnRyb2xsZXJzICovXG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBsZWdlbmQ6ICcmbmJzcDsnLFxuICBkZWZhdWx0OiAnb3BlbmVkJyxcbiAgY29udGFpbmVyOiBudWxsLFxufTtcblxuLyoqXG4gKiBHcm91cCBvZiBjb250cm9sbGVycy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gT3ZlcnJpZGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5sYWJlbCAtIExhYmVsIG9mIHRoZSBncm91cC5cbiAqIEBwYXJhbSB7J29wZW5lZCd8J2Nsb3NlZCd9IFtjb25maWcuZGVmYXVsdD0nb3BlbmVkJ10gLSBEZWZhdWx0IHN0YXRlIG9mIHRoZVxuICogIGdyb3VwLlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxiYXNpYy1jb250cm9sbGVyfkdyb3VwfSBbY29uZmlnLmNvbnRhaW5lcj1udWxsXSAtXG4gKiAgQ29udGFpbmVyIG9mIHRoZSBjb250cm9sbGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBjb250cm9sbGVycyBmcm9tICdiYXNpYy1jb250cm9sbGVycyc7XG4gKlxuICogLy8gY3JlYXRlIGEgZ3JvdXBcbiAqIGNvbnN0IGdyb3VwID0gbmV3IGNvbnRyb2xsZXJzLkdyb3VwKHtcbiAqICAgbGFiZWw6ICdHcm91cCcsXG4gKiAgIGRlZmF1bHQ6ICdvcGVuZWQnLFxuICogICBjb250YWluZXI6ICcjY29udGFpbmVyJ1xuICogfSk7XG4gKlxuICogLy8gaW5zZXJ0IGNvbnRyb2xsZXJzIGluIHRoZSBncm91cFxuICogY29uc3QgZ3JvdXBTbGlkZXIgPSBuZXcgY29udHJvbGxlcnMuU2xpZGVyKHtcbiAqICAgbGFiZWw6ICdHcm91cCBTbGlkZXInLFxuICogICBtaW46IDIwLFxuICogICBtYXg6IDEwMDAsXG4gKiAgIHN0ZXA6IDEsXG4gKiAgIGRlZmF1bHQ6IDIwMCxcbiAqICAgdW5pdDogJ0h6JyxcbiAqICAgc2l6ZTogJ2xhcmdlJyxcbiAqICAgY29udGFpbmVyOiBncm91cCxcbiAqICAgY2FsbGJhY2s6ICh2YWx1ZSkgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogfSk7XG4gKlxuICogY29uc3QgZ3JvdXBUZXh0ID0gbmV3IGNvbnRyb2xsZXJzLlRleHQoe1xuICogICBsYWJlbDogJ0dyb3VwIFRleHQnLFxuICogICBkZWZhdWx0OiAndGV4dCBpbnB1dCcsXG4gKiAgIHJlYWRvbmx5OiBmYWxzZSxcbiAqICAgY29udGFpbmVyOiBncm91cCxcbiAqICAgY2FsbGJhY2s6ICh2YWx1ZSkgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogfSk7XG4gKi9cbmNsYXNzIEdyb3VwIGV4dGVuZHMgY29udGFpbmVyKGRpc3BsYXkoQmFzZUNvbXBvbmVudCkpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ2dyb3VwJywgZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICB0aGlzLl9zdGF0ZXMgPSBbJ29wZW5lZCcsICdjbG9zZWQnXTtcblxuICAgIGlmICh0aGlzLl9zdGF0ZXMuaW5kZXhPZih0aGlzLnBhcmFtcy5kZWZhdWx0KSA9PT0gLTEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RhdGUgXCIke3ZhbHVlfVwiYCk7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IHRoaXMucGFyYW1zLmRlZmF1bHQ7XG5cbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdGUgb2YgdGhlIGdyb3VwIChgJ29wZW5lZCdgIG9yIGAnY2xvc2VkJ2ApLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgc2V0IHZhbHVlKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBgdmFsdWVgLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuXG4gIHNldCBzdGF0ZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zdGF0ZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0YXRlIFwiJHt2YWx1ZX1cImApO1xuXG4gICAgdGhpcy4kZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zdGF0ZSk7XG4gICAgdGhpcy4kZWwuY2xhc3NMaXN0LmFkZCh2YWx1ZSk7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xuICB9XG5cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjb250ZW50ID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImdyb3VwLWhlYWRlclwiPlxuICAgICAgICAke2VsZW1lbnRzLnNtYWxsQXJyb3dSaWdodH1cbiAgICAgICAgJHtlbGVtZW50cy5zbWFsbEFycm93Qm90dG9tfVxuICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsXCI+JHt0aGlzLnBhcmFtcy5sYWJlbH08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1jb250ZW50XCI+PC9kaXY+XG4gICAgYDtcblxuICAgIHRoaXMuJGVsID0gc3VwZXIucmVuZGVyKCk7XG4gICAgdGhpcy4kZWwuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKHRoaXMuX3N0YXRlKTtcblxuICAgIHRoaXMuJGhlYWRlciA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5ncm91cC1oZWFkZXInKTtcbiAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuZ3JvdXAtY29udGVudCcpO1xuXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGUgPT09ICdjbG9zZWQnID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDtcbiJdfQ==","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/container":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/container.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","../utils/elements":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.setTheme = setTheme;\n\nvar _styles = require('../utils/styles');\n\nvar styles = _interopRequireWildcard(_styles);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\n// default theme\nvar theme = 'light';\n// set of the instanciated controllers\nvar controllers = new Set();\n\n/**\n * Change the theme of the controllers, currently 3 themes are available:\n *  - `'light'` (default)\n *  - `'grey'`\n *  - `'dark'`\n *\n * @param {String} theme - Name of the theme.\n */\nfunction setTheme(value) {\n  controllers.forEach(function (controller) {\n    return controller.$el.classList.remove(theme);\n  });\n  theme = value;\n  controllers.forEach(function (controller) {\n    return controller.$el.classList.add(theme);\n  });\n}\n\n/**\n * display mixin - components with DOM\n * @private\n */\nvar display = function display(superclass) {\n  return function (_superclass) {\n    _inherits(_class, _superclass);\n\n    function _class() {\n      var _ref;\n\n      _classCallCheck(this, _class);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      // insert styles when the first controller is created\n      var _this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args)));\n\n      if (controllers.size === 0) styles.insertStyleSheet();\n\n      _this.resize = _this.resize.bind(_this);\n\n      controllers.add(_this);\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: 'initialize',\n      value: function initialize() {\n        var _this2 = this;\n\n        var $container = this.params.container;\n\n        if ($container) {\n          // css selector\n          if (typeof $container === 'string') {\n            $container = document.querySelector($container);\n            // group\n          } else if ($container.$container) {\n            // this.group = $container;\n            $container.elements.add(this);\n            $container = $container.$container;\n          }\n\n          $container.appendChild(this.render());\n          setTimeout(function () {\n            return _this2.resize();\n          }, 0);\n        }\n      }\n\n      /** @private */\n\n    }, {\n      key: 'render',\n      value: function render() {\n        this.$el = document.createElement('div');\n        this.$el.classList.add(styles.ns, theme, this.type);\n\n        window.removeEventListener('resize', this.resize);\n        window.addEventListener('resize', this.resize);\n\n        return this.$el;\n      }\n\n      /** @private */\n\n    }, {\n      key: 'resize',\n      value: function resize() {\n        if (this.$el) {\n          var boundingRect = this.$el.getBoundingClientRect();\n          var width = boundingRect.width;\n          var method = width > 600 ? 'remove' : 'add';\n\n          this.$el.classList[method]('small');\n        }\n      }\n    }]);\n\n    return _class;\n  }(superclass);\n};\n\nexports.default = display;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuanMiXSwibmFtZXMiOlsic2V0VGhlbWUiLCJzdHlsZXMiLCJ0aGVtZSIsImNvbnRyb2xsZXJzIiwiU2V0IiwidmFsdWUiLCJmb3JFYWNoIiwiY29udHJvbGxlciIsIiRlbCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImRpc3BsYXkiLCJzdXBlcmNsYXNzIiwiYXJncyIsInNpemUiLCJpbnNlcnRTdHlsZVNoZWV0IiwicmVzaXplIiwiYmluZCIsIiRjb250YWluZXIiLCJwYXJhbXMiLCJjb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbGVtZW50cyIsImFwcGVuZENoaWxkIiwicmVuZGVyIiwic2V0VGltZW91dCIsImNyZWF0ZUVsZW1lbnQiLCJucyIsInR5cGUiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwibWV0aG9kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztRQWtCZ0JBLFEsR0FBQUEsUTs7QUFsQmhCOztJQUFZQyxNOzs7Ozs7Ozs7O0FBRVo7O0FBRUE7QUFDQSxJQUFJQyxRQUFRLE9BQVo7QUFDQTtBQUNBLElBQU1DLGNBQWMsSUFBSUMsR0FBSixFQUFwQjs7QUFHQTs7Ozs7Ozs7QUFRTyxTQUFTSixRQUFULENBQWtCSyxLQUFsQixFQUF5QjtBQUM5QkYsY0FBWUcsT0FBWixDQUFvQixVQUFDQyxVQUFEO0FBQUEsV0FBZ0JBLFdBQVdDLEdBQVgsQ0FBZUMsU0FBZixDQUF5QkMsTUFBekIsQ0FBZ0NSLEtBQWhDLENBQWhCO0FBQUEsR0FBcEI7QUFDQUEsVUFBUUcsS0FBUjtBQUNBRixjQUFZRyxPQUFaLENBQW9CLFVBQUNDLFVBQUQ7QUFBQSxXQUFnQkEsV0FBV0MsR0FBWCxDQUFlQyxTQUFmLENBQXlCRSxHQUF6QixDQUE2QlQsS0FBN0IsQ0FBaEI7QUFBQSxHQUFwQjtBQUNEOztBQUVEOzs7O0FBSUEsSUFBTVUsVUFBVSxTQUFWQSxPQUFVLENBQUNDLFVBQUQ7QUFBQTtBQUFBOztBQUNkLHNCQUFxQjtBQUFBOztBQUFBOztBQUFBLHdDQUFOQyxJQUFNO0FBQU5BLFlBQU07QUFBQTs7QUFHbkI7QUFIbUIsNklBQ1ZBLElBRFU7O0FBSW5CLFVBQUlYLFlBQVlZLElBQVosS0FBcUIsQ0FBekIsRUFDRWQsT0FBT2UsZ0JBQVA7O0FBRUYsWUFBS0MsTUFBTCxHQUFjLE1BQUtBLE1BQUwsQ0FBWUMsSUFBWixPQUFkOztBQUVBZixrQkFBWVEsR0FBWjtBQVRtQjtBQVVwQjs7QUFYYTtBQUFBO0FBQUEsbUNBYUQ7QUFBQTs7QUFDWCxZQUFJUSxhQUFhLEtBQUtDLE1BQUwsQ0FBWUMsU0FBN0I7O0FBRUEsWUFBSUYsVUFBSixFQUFnQjtBQUNkO0FBQ0EsY0FBSSxPQUFPQSxVQUFQLEtBQXNCLFFBQTFCLEVBQW9DO0FBQ2xDQSx5QkFBYUcsU0FBU0MsYUFBVCxDQUF1QkosVUFBdkIsQ0FBYjtBQUNGO0FBQ0MsV0FIRCxNQUdPLElBQUlBLFdBQVdBLFVBQWYsRUFBMkI7QUFDaEM7QUFDQUEsdUJBQVdLLFFBQVgsQ0FBb0JiLEdBQXBCLENBQXdCLElBQXhCO0FBQ0FRLHlCQUFhQSxXQUFXQSxVQUF4QjtBQUNEOztBQUVEQSxxQkFBV00sV0FBWCxDQUF1QixLQUFLQyxNQUFMLEVBQXZCO0FBQ0FDLHFCQUFXO0FBQUEsbUJBQU0sT0FBS1YsTUFBTCxFQUFOO0FBQUEsV0FBWCxFQUFnQyxDQUFoQztBQUNEO0FBQ0Y7O0FBRUQ7O0FBaENjO0FBQUE7QUFBQSwrQkFpQ0w7QUFDUCxhQUFLVCxHQUFMLEdBQVdjLFNBQVNNLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBWDtBQUNBLGFBQUtwQixHQUFMLENBQVNDLFNBQVQsQ0FBbUJFLEdBQW5CLENBQXVCVixPQUFPNEIsRUFBOUIsRUFBa0MzQixLQUFsQyxFQUF5QyxLQUFLNEIsSUFBOUM7O0FBRUFDLGVBQU9DLG1CQUFQLENBQTJCLFFBQTNCLEVBQXFDLEtBQUtmLE1BQTFDO0FBQ0FjLGVBQU9FLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLEtBQUtoQixNQUF2Qzs7QUFFQSxlQUFPLEtBQUtULEdBQVo7QUFDRDs7QUFFRDs7QUEzQ2M7QUFBQTtBQUFBLCtCQTRDTDtBQUNQLFlBQUksS0FBS0EsR0FBVCxFQUFjO0FBQ1osY0FBTTBCLGVBQWUsS0FBSzFCLEdBQUwsQ0FBUzJCLHFCQUFULEVBQXJCO0FBQ0EsY0FBTUMsUUFBUUYsYUFBYUUsS0FBM0I7QUFDQSxjQUFNQyxTQUFTRCxRQUFRLEdBQVIsR0FBYyxRQUFkLEdBQXlCLEtBQXhDOztBQUVBLGVBQUs1QixHQUFMLENBQVNDLFNBQVQsQ0FBbUI0QixNQUFuQixFQUEyQixPQUEzQjtBQUNEO0FBQ0Y7QUFwRGE7O0FBQUE7QUFBQSxJQUE4QnhCLFVBQTlCO0FBQUEsQ0FBaEI7O2tCQXVEZUQsTyIsImZpbGUiOiJkaXNwbGF5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc3R5bGVzIGZyb20gJy4uL3V0aWxzL3N0eWxlcyc7XG5cbi8qKiBAbW9kdWxlIGJhc2ljLWNvbnRyb2xsZXJzICovXG5cbi8vIGRlZmF1bHQgdGhlbWVcbmxldCB0aGVtZSA9ICdsaWdodCc7XG4vLyBzZXQgb2YgdGhlIGluc3RhbmNpYXRlZCBjb250cm9sbGVyc1xuY29uc3QgY29udHJvbGxlcnMgPSBuZXcgU2V0KCk7XG5cblxuLyoqXG4gKiBDaGFuZ2UgdGhlIHRoZW1lIG9mIHRoZSBjb250cm9sbGVycywgY3VycmVudGx5IDMgdGhlbWVzIGFyZSBhdmFpbGFibGU6XG4gKiAgLSBgJ2xpZ2h0J2AgKGRlZmF1bHQpXG4gKiAgLSBgJ2dyZXknYFxuICogIC0gYCdkYXJrJ2BcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGhlbWUgLSBOYW1lIG9mIHRoZSB0aGVtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRoZW1lKHZhbHVlKSB7XG4gIGNvbnRyb2xsZXJzLmZvckVhY2goKGNvbnRyb2xsZXIpID0+IGNvbnRyb2xsZXIuJGVsLmNsYXNzTGlzdC5yZW1vdmUodGhlbWUpKTtcbiAgdGhlbWUgPSB2YWx1ZTtcbiAgY29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4gY29udHJvbGxlci4kZWwuY2xhc3NMaXN0LmFkZCh0aGVtZSkpO1xufVxuXG4vKipcbiAqIGRpc3BsYXkgbWl4aW4gLSBjb21wb25lbnRzIHdpdGggRE9NXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBkaXNwbGF5ID0gKHN1cGVyY2xhc3MpID0+IGNsYXNzIGV4dGVuZHMgc3VwZXJjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIC8vIGluc2VydCBzdHlsZXMgd2hlbiB0aGUgZmlyc3QgY29udHJvbGxlciBpcyBjcmVhdGVkXG4gICAgaWYgKGNvbnRyb2xsZXJzLnNpemUgPT09IDApXG4gICAgICBzdHlsZXMuaW5zZXJ0U3R5bGVTaGVldCgpO1xuXG4gICAgdGhpcy5yZXNpemUgPSB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgY29udHJvbGxlcnMuYWRkKHRoaXMpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBsZXQgJGNvbnRhaW5lciA9IHRoaXMucGFyYW1zLmNvbnRhaW5lcjtcblxuICAgIGlmICgkY29udGFpbmVyKSB7XG4gICAgICAvLyBjc3Mgc2VsZWN0b3JcbiAgICAgIGlmICh0eXBlb2YgJGNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgJGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJGNvbnRhaW5lcik7XG4gICAgICAvLyBncm91cFxuICAgICAgfSBlbHNlIGlmICgkY29udGFpbmVyLiRjb250YWluZXIpIHtcbiAgICAgICAgLy8gdGhpcy5ncm91cCA9ICRjb250YWluZXI7XG4gICAgICAgICRjb250YWluZXIuZWxlbWVudHMuYWRkKHRoaXMpO1xuICAgICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lci4kY29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyKCkpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlc2l6ZSgpLCAwKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuJGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy4kZWwuY2xhc3NMaXN0LmFkZChzdHlsZXMubnMsIHRoZW1lLCB0aGlzLnR5cGUpO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJlc2l6ZSgpIHtcbiAgICBpZiAodGhpcy4kZWwpIHtcbiAgICAgIGNvbnN0IGJvdW5kaW5nUmVjdCA9IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3Qgd2lkdGggPSBib3VuZGluZ1JlY3Qud2lkdGg7XG4gICAgICBjb25zdCBtZXRob2QgPSB3aWR0aCA+IDYwMCA/ICdyZW1vdmUnIDogJ2FkZCc7XG5cbiAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdFttZXRob2RdKCdzbWFsbCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBkaXNwbGF5O1xuIl19","deps":{"../utils/styles":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  options: null,\n  container: null,\n  callback: null\n};\n\n/**\n * List of buttons without state.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the controller.\n * @param {Array} [config.options=null] - Options for each button.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n * @param {Function} [config.callback=null] - Callback to be executed when the\n *  value changes.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const triggerButtons = new controllers.TriggerButtons({\n *   label: 'My Trigger Buttons',\n *   options: ['value 1', 'value 2', 'value 3'],\n *   container: '#container',\n *   callback: (value, index) => console.log(value, index),\n * });\n */\n\nvar TriggerButtons = function (_display) {\n  _inherits(TriggerButtons, _display);\n\n  function TriggerButtons(config) {\n    _classCallCheck(this, TriggerButtons);\n\n    var _this = _possibleConstructorReturn(this, (TriggerButtons.__proto__ || Object.getPrototypeOf(TriggerButtons)).call(this, 'trigger-buttons', defaults, config));\n\n    if (!Array.isArray(_this.params.options)) throw new Error('TriggerButton: Invalid option \"options\"');\n\n    _this._index = null;\n    _this._value = null;\n\n    _get(TriggerButtons.prototype.__proto__ || Object.getPrototypeOf(TriggerButtons.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Last triggered button value.\n   *\n   * @readonly\n   * @type {String}\n   */\n\n\n  _createClass(TriggerButtons, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var _params = this.params,\n          label = _params.label,\n          options = _params.options;\n\n\n      var content = '\\n      <span class=\"label\">' + label + '</span>\\n      <div class=\"inner-wrapper\">\\n        ' + options.map(function (option, index) {\n        return '<a href=\"#\" class=\"btn\">' + option + '</a>';\n      }).join('') + '\\n      </div>';\n\n      this.$el = _get(TriggerButtons.prototype.__proto__ || Object.getPrototypeOf(TriggerButtons.prototype), 'render', this).call(this);\n      this.$el.innerHTML = content;\n\n      this.$buttons = Array.from(this.$el.querySelectorAll('.btn'));\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$buttons.forEach(function ($btn, index) {\n        var value = _this2.params.options[index];\n\n        $btn.addEventListener('click', function (e) {\n          e.preventDefault();\n\n          _this2._value = value;\n          _this2._index = index;\n\n          _this2.executeListeners(value, index);\n        });\n      });\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    }\n\n    /**\n     * Last triggered button index.\n     *\n     * @readonly\n     * @type {String}\n     */\n\n  }, {\n    key: 'index',\n    get: function get() {\n      return this._index;\n    }\n  }]);\n\n  return TriggerButtons;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = TriggerButtons;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyaWdnZXJCdXR0b25zLmpzIl0sIm5hbWVzIjpbImRlZmF1bHRzIiwibGFiZWwiLCJvcHRpb25zIiwiY29udGFpbmVyIiwiY2FsbGJhY2siLCJUcmlnZ2VyQnV0dG9ucyIsImNvbmZpZyIsIkFycmF5IiwiaXNBcnJheSIsInBhcmFtcyIsIkVycm9yIiwiX2luZGV4IiwiX3ZhbHVlIiwiY29udGVudCIsIm1hcCIsIm9wdGlvbiIsImluZGV4Iiwiam9pbiIsIiRlbCIsImlubmVySFRNTCIsIiRidXR0b25zIiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYmluZEV2ZW50cyIsImZvckVhY2giLCIkYnRuIiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZXhlY3V0ZUxpc3RlbmVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBOztBQUVBLElBQU1BLFdBQVc7QUFDZkMsU0FBTyxRQURRO0FBRWZDLFdBQVMsSUFGTTtBQUdmQyxhQUFXLElBSEk7QUFJZkMsWUFBVTtBQUpLLENBQWpCOztBQU9BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBcUJNQyxjOzs7QUFDSiwwQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLGdJQUNaLGlCQURZLEVBQ09OLFFBRFAsRUFDaUJNLE1BRGpCOztBQUdsQixRQUFJLENBQUNDLE1BQU1DLE9BQU4sQ0FBYyxNQUFLQyxNQUFMLENBQVlQLE9BQTFCLENBQUwsRUFDRSxNQUFNLElBQUlRLEtBQUosQ0FBVSx5Q0FBVixDQUFOOztBQUVGLFVBQUtDLE1BQUwsR0FBYyxJQUFkO0FBQ0EsVUFBS0MsTUFBTCxHQUFjLElBQWQ7O0FBRUE7QUFUa0I7QUFVbkI7O0FBRUQ7Ozs7Ozs7Ozs7OztBQWdCQTs2QkFDUztBQUFBLG9CQUNvQixLQUFLSCxNQUR6QjtBQUFBLFVBQ0NSLEtBREQsV0FDQ0EsS0FERDtBQUFBLFVBQ1FDLE9BRFIsV0FDUUEsT0FEUjs7O0FBR1AsVUFBTVcsMkNBQ2tCWixLQURsQiw0REFHQUMsUUFBUVksR0FBUixDQUFZLFVBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFtQjtBQUMvQiw0Q0FBa0NELE1BQWxDO0FBQ0QsT0FGQyxFQUVDRSxJQUZELENBRU0sRUFGTixDQUhBLG1CQUFOOztBQVFBLFdBQUtDLEdBQUw7QUFDQSxXQUFLQSxHQUFMLENBQVNDLFNBQVQsR0FBcUJOLE9BQXJCOztBQUVBLFdBQUtPLFFBQUwsR0FBZ0JiLE1BQU1jLElBQU4sQ0FBVyxLQUFLSCxHQUFMLENBQVNJLGdCQUFULENBQTBCLE1BQTFCLENBQVgsQ0FBaEI7QUFDQSxXQUFLQyxXQUFMOztBQUVBLGFBQU8sS0FBS0wsR0FBWjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQUE7O0FBQ1osV0FBS0UsUUFBTCxDQUFjSSxPQUFkLENBQXNCLFVBQUNDLElBQUQsRUFBT1QsS0FBUCxFQUFpQjtBQUNyQyxZQUFNVSxRQUFRLE9BQUtqQixNQUFMLENBQVlQLE9BQVosQ0FBb0JjLEtBQXBCLENBQWQ7O0FBRUFTLGFBQUtFLGdCQUFMLENBQXNCLE9BQXRCLEVBQStCLFVBQUNDLENBQUQsRUFBTztBQUNwQ0EsWUFBRUMsY0FBRjs7QUFFQSxpQkFBS2pCLE1BQUwsR0FBY2MsS0FBZDtBQUNBLGlCQUFLZixNQUFMLEdBQWNLLEtBQWQ7O0FBRUEsaUJBQUtjLGdCQUFMLENBQXNCSixLQUF0QixFQUE2QlYsS0FBN0I7QUFDRCxTQVBEO0FBUUQsT0FYRDtBQVlEOzs7d0JBN0NXO0FBQUUsYUFBTyxLQUFLSixNQUFaO0FBQXFCOztBQUVuQzs7Ozs7Ozs7O3dCQU1ZO0FBQUUsYUFBTyxLQUFLRCxNQUFaO0FBQXFCOzs7O0VBM0JSLCtDOztrQkFtRWROLGMiLCJmaWxlIjoiVHJpZ2dlckJ1dHRvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBvcHRpb25zOiBudWxsLFxuICBjb250YWluZXI6IG51bGwsXG4gIGNhbGxiYWNrOiBudWxsLFxufTtcblxuLyoqXG4gKiBMaXN0IG9mIGJ1dHRvbnMgd2l0aG91dCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gT3ZlcnJpZGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5sYWJlbCAtIExhYmVsIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5vcHRpb25zPW51bGxdIC0gT3B0aW9ucyBmb3IgZWFjaCBidXR0b24uXG4gKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fGJhc2ljLWNvbnRyb2xsZXJ+R3JvdXB9IFtjb25maWcuY29udGFpbmVyPW51bGxdIC1cbiAqICBDb250YWluZXIgb2YgdGhlIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmNhbGxiYWNrPW51bGxdIC0gQ2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGVcbiAqICB2YWx1ZSBjaGFuZ2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBjb250cm9sbGVycyBmcm9tICdiYXNpYy1jb250cm9sbGVycyc7XG4gKlxuICogY29uc3QgdHJpZ2dlckJ1dHRvbnMgPSBuZXcgY29udHJvbGxlcnMuVHJpZ2dlckJ1dHRvbnMoe1xuICogICBsYWJlbDogJ015IFRyaWdnZXIgQnV0dG9ucycsXG4gKiAgIG9wdGlvbnM6IFsndmFsdWUgMScsICd2YWx1ZSAyJywgJ3ZhbHVlIDMnXSxcbiAqICAgY29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gKiAgIGNhbGxiYWNrOiAodmFsdWUsIGluZGV4KSA9PiBjb25zb2xlLmxvZyh2YWx1ZSwgaW5kZXgpLFxuICogfSk7XG4gKi9cbmNsYXNzIFRyaWdnZXJCdXR0b25zIGV4dGVuZHMgZGlzcGxheShCYXNlQ29tcG9uZW50KSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCd0cmlnZ2VyLWJ1dHRvbnMnLCBkZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnBhcmFtcy5vcHRpb25zKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZ2dlckJ1dHRvbjogSW52YWxpZCBvcHRpb24gXCJvcHRpb25zXCInKTtcblxuICAgIHRoaXMuX2luZGV4ID0gbnVsbDtcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG5cbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogTGFzdCB0cmlnZ2VyZWQgYnV0dG9uIHZhbHVlLlxuICAgKlxuICAgKiBAcmVhZG9ubHlcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCB2YWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlOyB9XG5cbiAgLyoqXG4gICAqIExhc3QgdHJpZ2dlcmVkIGJ1dHRvbiBpbmRleC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgaW5kZXgoKSB7IHJldHVybiB0aGlzLl9pbmRleDsgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgb3B0aW9ucyB9ID0gdGhpcy5wYXJhbXM7XG5cbiAgICBjb25zdCBjb250ZW50ID0gYFxuICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbFwiPiR7bGFiZWx9PC9zcGFuPlxuICAgICAgPGRpdiBjbGFzcz1cImlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgJHtvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiBgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ0blwiPiR7b3B0aW9ufTwvYT5gO1xuICAgICAgICB9KS5qb2luKCcnKX1cbiAgICAgIDwvZGl2PmA7XG5cbiAgICB0aGlzLiRlbCA9IHN1cGVyLnJlbmRlcigpO1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGNvbnRlbnQ7XG5cbiAgICB0aGlzLiRidXR0b25zID0gQXJyYXkuZnJvbSh0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuJykpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIHJldHVybiB0aGlzLiRlbDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRidXR0b25zLmZvckVhY2goKCRidG4sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucGFyYW1zLm9wdGlvbnNbaW5kZXhdO1xuXG4gICAgICAkYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgdGhpcy5leGVjdXRlTGlzdGVuZXJzKHZhbHVlLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmlnZ2VyQnV0dG9ucztcbiJdfQ==","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nvar _elements = require('../utils/elements');\n\nvar elements = _interopRequireWildcard(_elements);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  min: 0,\n  max: 1,\n  step: 0.01,\n  default: 0,\n  container: null,\n  callback: null\n};\n\n/**\n * Number Box controller\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the controller.\n * @param {Number} [config.min=0] - Minimum value.\n * @param {Number} [config.max=1] - Maximum value.\n * @param {Number} [config.step=0.01] - Step between consecutive values.\n * @param {Number} [config.default=0] - Default value.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n * @param {Function} [config.callback=null] - Callback to be executed when the\n *  value changes.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const numberBox = new controllers.NumberBox({\n *   label: 'My Number Box',\n *   min: 0,\n *   max: 10,\n *   step: 0.1,\n *   default: 5,\n *   container: '#container',\n *   callback: (value) => console.log(value),\n * });\n */\n\nvar NumberBox = function (_display) {\n  _inherits(NumberBox, _display);\n\n  // legend, min = 0, max = 1, step = 0.01, defaultValue = 0, $container = null, callback = null\n  function NumberBox(config) {\n    _classCallCheck(this, NumberBox);\n\n    var _this = _possibleConstructorReturn(this, (NumberBox.__proto__ || Object.getPrototypeOf(NumberBox)).call(this, 'number-box', defaults, config));\n\n    _this._value = _this.params.default;\n    _this._isIntStep = _this.params.step % 1 === 0;\n\n    _get(NumberBox.prototype.__proto__ || Object.getPrototypeOf(NumberBox.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Current value of the controller.\n   *\n   * @type {Number}\n   */\n\n\n  _createClass(NumberBox, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var _params = this.params,\n          label = _params.label,\n          min = _params.min,\n          max = _params.max,\n          step = _params.step;\n\n      var content = '\\n      <span class=\"label\">' + label + '</span>\\n      <div class=\"inner-wrapper\">\\n        ' + elements.arrowLeft + '\\n        <input class=\"number\" type=\"number\" min=\"' + min + '\" max=\"' + max + '\" step=\"' + step + '\" value=\"' + this._value + '\" />\\n        ' + elements.arrowRight + '\\n      </div>\\n    ';\n\n      this.$el = _get(NumberBox.prototype.__proto__ || Object.getPrototypeOf(NumberBox.prototype), 'render', this).call(this);\n      this.$el.classList.add('align-small');\n      this.$el.innerHTML = content;\n\n      this.$prev = this.$el.querySelector('.arrow-left');\n      this.$next = this.$el.querySelector('.arrow-right');\n      this.$number = this.$el.querySelector('input[type=\"number\"]');\n\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$prev.addEventListener('click', function (e) {\n        var step = _this2.params.step;\n        var decimals = step.toString().split('.')[1];\n        var exp = decimals ? decimals.length : 0;\n        var mult = Math.pow(10, exp);\n\n        var intValue = Math.floor(_this2._value * mult + 0.5);\n        var intStep = Math.floor(step * mult + 0.5);\n        var value = (intValue - intStep) / mult;\n\n        _this2._propagate(value);\n      }, false);\n\n      this.$next.addEventListener('click', function (e) {\n        var step = _this2.params.step;\n        var decimals = step.toString().split('.')[1];\n        var exp = decimals ? decimals.length : 0;\n        var mult = Math.pow(10, exp);\n\n        var intValue = Math.floor(_this2._value * mult + 0.5);\n        var intStep = Math.floor(step * mult + 0.5);\n        var value = (intValue + intStep) / mult;\n\n        _this2._propagate(value);\n      }, false);\n\n      this.$number.addEventListener('change', function (e) {\n        var value = _this2.$number.value;\n        value = _this2._isIntStep ? parseInt(value, 10) : parseFloat(value);\n        value = Math.min(_this2.params.max, Math.max(_this2.params.min, value));\n\n        _this2._propagate(value);\n      }, false);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_propagate',\n    value: function _propagate(value) {\n      if (value === this._value) {\n        return;\n      }\n\n      this._value = value;\n      this.$number.value = value;\n\n      this.executeListeners(this._value);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      // use $number element min, max and step system\n      this.$number.value = value;\n      value = this.$number.value;\n      value = this._isIntStep ? parseInt(value, 10) : parseFloat(value);\n      this._value = value;\n    }\n  }]);\n\n  return NumberBox;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = NumberBox;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk51bWJlckJveC5qcyJdLCJuYW1lcyI6WyJlbGVtZW50cyIsImRlZmF1bHRzIiwibGFiZWwiLCJtaW4iLCJtYXgiLCJzdGVwIiwiZGVmYXVsdCIsImNvbnRhaW5lciIsImNhbGxiYWNrIiwiTnVtYmVyQm94IiwiY29uZmlnIiwiX3ZhbHVlIiwicGFyYW1zIiwiX2lzSW50U3RlcCIsImNvbnRlbnQiLCJhcnJvd0xlZnQiLCJhcnJvd1JpZ2h0IiwiJGVsIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiJHByZXYiLCJxdWVyeVNlbGVjdG9yIiwiJG5leHQiLCIkbnVtYmVyIiwiX2JpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRlY2ltYWxzIiwidG9TdHJpbmciLCJzcGxpdCIsImV4cCIsImxlbmd0aCIsIm11bHQiLCJNYXRoIiwicG93IiwiaW50VmFsdWUiLCJmbG9vciIsImludFN0ZXAiLCJ2YWx1ZSIsIl9wcm9wYWdhdGUiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJleGVjdXRlTGlzdGVuZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztJQUFZQSxROzs7Ozs7Ozs7Ozs7QUFFWjs7QUFFQSxJQUFNQyxXQUFXO0FBQ2ZDLFNBQU8sUUFEUTtBQUVmQyxPQUFLLENBRlU7QUFHZkMsT0FBSyxDQUhVO0FBSWZDLFFBQU0sSUFKUztBQUtmQyxXQUFTLENBTE07QUFNZkMsYUFBVyxJQU5JO0FBT2ZDLFlBQVU7QUFQSyxDQUFqQjs7QUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTJCTUMsUzs7O0FBQ0o7QUFDQSxxQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLHNIQUNaLFlBRFksRUFDRVQsUUFERixFQUNZUyxNQURaOztBQUdsQixVQUFLQyxNQUFMLEdBQWMsTUFBS0MsTUFBTCxDQUFZTixPQUExQjtBQUNBLFVBQUtPLFVBQUwsR0FBbUIsTUFBS0QsTUFBTCxDQUFZUCxJQUFa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USxPQUFLZixPQUFMLENBQWFlLEtBQXpCO0FBQ0FBLGdCQUFRLE9BQUsxQixVQUFMLEdBQWtCNEIsU0FBU0YsS0FBVCxFQUFnQixFQUFoQixDQUFsQixHQUF3Q0csV0FBV0gsS0FBWCxDQUFoRDtBQUNBQSxnQkFBUUwsS0FBSy9CLEdBQUwsQ0FBUyxPQUFLUyxNQUFMLENBQVlSLEdBQXJCLEVBQTBCOEIsS0FBSzlCLEdBQUwsQ0FBUyxPQUFLUSxNQUFMLENBQVlULEdBQXJCLEVBQTBCb0MsS0FBMUIsQ0FBMUIsQ0FBUjs7QUFFQSxlQUFLQyxVQUFMLENBQWdCRCxLQUFoQjtBQUNELE9BTkQsRUFNRyxLQU5IO0FBT0Q7O0FBRUQ7Ozs7K0JBQ1dBLEssRUFBTztBQUNoQixVQUFJQSxVQUFVLEtBQUs1QixNQUFuQixFQUEyQjtBQUFFO0FBQVM7O0FBRXRDLFdBQUtBLE1BQUwsR0FBYzRCLEtBQWQ7QUFDQSxXQUFLZixPQUFMLENBQWFlLEtBQWIsR0FBcUJBLEtBQXJCOztBQUVBLFdBQUtJLGdCQUFMLENBQXNCLEtBQUtoQyxNQUEzQjtBQUNEOzs7d0JBbEZXO0FBQ1YsYUFBTyxLQUFLQSxNQUFaO0FBQ0QsSztzQkFFUzRCLEssRUFBTztBQUNmO0FBQ0EsV0FBS2YsT0FBTCxDQUFhZSxLQUFiLEdBQXFCQSxLQUFyQjtBQUNBQSxjQUFRLEtBQUtmLE9BQUwsQ0FBYWUsS0FBckI7QUFDQUEsY0FBUSxLQUFLMUIsVUFBTCxHQUFrQjRCLFNBQVNGLEtBQVQsRUFBZ0IsRUFBaEIsQ0FBbEIsR0FBd0NHLFdBQVdILEtBQVgsQ0FBaEQ7QUFDQSxXQUFLNUIsTUFBTCxHQUFjNEIsS0FBZDtBQUNEOzs7O0VBMUJxQiwrQzs7a0JBcUdUOUIsUyIsImZpbGUiOiJOdW1iZXJCb3guanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuaW1wb3J0ICogYXMgZWxlbWVudHMgZnJvbSAnLi4vdXRpbHMvZWxlbWVudHMnO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBtaW46IDAsXG4gIG1heDogMSxcbiAgc3RlcDogMC4wMSxcbiAgZGVmYXVsdDogMCxcbiAgY29udGFpbmVyOiBudWxsLFxuICBjYWxsYmFjazogbnVsbCxcbn07XG5cbi8qKlxuICogTnVtYmVyIEJveCBjb250cm9sbGVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIE92ZXJyaWRlIGRlZmF1bHQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcubGFiZWwgLSBMYWJlbCBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm1pbj0wXSAtIE1pbmltdW0gdmFsdWUuXG4gKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5tYXg9MV0gLSBNYXhpbXVtIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3RlcD0wLjAxXSAtIFN0ZXAgYmV0d2VlbiBjb25zZWN1dGl2ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kZWZhdWx0PTBdIC0gRGVmYXVsdCB2YWx1ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8YmFzaWMtY29udHJvbGxlcn5Hcm91cH0gW2NvbmZpZy5jb250YWluZXI9bnVsbF0gLVxuICogIENvbnRhaW5lciBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuY2FsbGJhY2s9bnVsbF0gLSBDYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIHRoZVxuICogIHZhbHVlIGNoYW5nZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJ2Jhc2ljLWNvbnRyb2xsZXJzJztcbiAqXG4gKiBjb25zdCBudW1iZXJCb3ggPSBuZXcgY29udHJvbGxlcnMuTnVtYmVyQm94KHtcbiAqICAgbGFiZWw6ICdNeSBOdW1iZXIgQm94JyxcbiAqICAgbWluOiAwLFxuICogICBtYXg6IDEwLFxuICogICBzdGVwOiAwLjEsXG4gKiAgIGRlZmF1bHQ6IDUsXG4gKiAgIGNvbnRhaW5lcjogJyNjb250YWluZXInLFxuICogICBjYWxsYmFjazogKHZhbHVlKSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiB9KTtcbiAqL1xuY2xhc3MgTnVtYmVyQm94IGV4dGVuZHMgZGlzcGxheShCYXNlQ29tcG9uZW50KSB7XG4gIC8vIGxlZ2VuZCwgbWluID0gMCwgbWF4ID0gMSwgc3RlcCA9IDAuMDEsIGRlZmF1bHRWYWx1ZSA9IDAsICRjb250YWluZXIgPSBudWxsLCBjYWxsYmFjayA9IG51bGxcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ251bWJlci1ib3gnLCBkZWZhdWx0cywgY29uZmlnKTtcblxuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5wYXJhbXMuZGVmYXVsdDtcbiAgICB0aGlzLl9pc0ludFN0ZXAgPSAodGhpcy5wYXJhbXMuc3RlcCAlIDEgPT09IDApO1xuXG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgdmFsdWUgb2YgdGhlIGNvbnRyb2xsZXIuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgLy8gdXNlICRudW1iZXIgZWxlbWVudCBtaW4sIG1heCBhbmQgc3RlcCBzeXN0ZW1cbiAgICB0aGlzLiRudW1iZXIudmFsdWUgPSB2YWx1ZTtcbiAgICB2YWx1ZSA9IHRoaXMuJG51bWJlci52YWx1ZTtcbiAgICB2YWx1ZSA9IHRoaXMuX2lzSW50U3RlcCA/IHBhcnNlSW50KHZhbHVlLCAxMCkgOiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhYmVsLCBtaW4sIG1heCwgc3RlcCB9ID0gdGhpcy5wYXJhbXM7XG4gICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci13cmFwcGVyXCI+XG4gICAgICAgICR7ZWxlbWVudHMuYXJyb3dMZWZ0fVxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJudW1iZXJcIiB0eXBlPVwibnVtYmVyXCIgbWluPVwiJHttaW59XCIgbWF4PVwiJHttYXh9XCIgc3RlcD1cIiR7c3RlcH1cIiB2YWx1ZT1cIiR7dGhpcy5fdmFsdWV9XCIgLz5cbiAgICAgICAgJHtlbGVtZW50cy5hcnJvd1JpZ2h0fVxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIHRoaXMuJGVsID0gc3VwZXIucmVuZGVyKCk7XG4gICAgdGhpcy4kZWwuY2xhc3NMaXN0LmFkZCgnYWxpZ24tc21hbGwnKTtcbiAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBjb250ZW50O1xuXG4gICAgdGhpcy4kcHJldiA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5hcnJvdy1sZWZ0Jyk7XG4gICAgdGhpcy4kbmV4dCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5hcnJvdy1yaWdodCcpO1xuICAgIHRoaXMuJG51bWJlciA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJudW1iZXJcIl0nKTtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIHJldHVybiB0aGlzLiRlbDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRwcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLnBhcmFtcy5zdGVwO1xuICAgICAgY29uc3QgZGVjaW1hbHMgPSBzdGVwLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXTtcbiAgICAgIGNvbnN0IGV4cCA9IGRlY2ltYWxzID8gZGVjaW1hbHMubGVuZ3RoIDogMDtcbiAgICAgIGNvbnN0IG11bHQgPSBNYXRoLnBvdygxMCwgZXhwKTtcblxuICAgICAgY29uc3QgaW50VmFsdWUgPSBNYXRoLmZsb29yKHRoaXMuX3ZhbHVlICogbXVsdCArIDAuNSk7XG4gICAgICBjb25zdCBpbnRTdGVwID0gTWF0aC5mbG9vcihzdGVwICogbXVsdCArIDAuNSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IChpbnRWYWx1ZSAtIGludFN0ZXApIC8gbXVsdDtcblxuICAgICAgdGhpcy5fcHJvcGFnYXRlKHZhbHVlKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB0aGlzLiRuZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLnBhcmFtcy5zdGVwO1xuICAgICAgY29uc3QgZGVjaW1hbHMgPSBzdGVwLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXTtcbiAgICAgIGNvbnN0IGV4cCA9IGRlY2ltYWxzID8gZGVjaW1hbHMubGVuZ3RoIDogMDtcbiAgICAgIGNvbnN0IG11bHQgPSBNYXRoLnBvdygxMCwgZXhwKTtcblxuICAgICAgY29uc3QgaW50VmFsdWUgPSBNYXRoLmZsb29yKHRoaXMuX3ZhbHVlICogbXVsdCArIDAuNSk7XG4gICAgICBjb25zdCBpbnRTdGVwID0gTWF0aC5mbG9vcihzdGVwICogbXVsdCArIDAuNSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IChpbnRWYWx1ZSArIGludFN0ZXApIC8gbXVsdDtcblxuICAgICAgdGhpcy5fcHJvcGFnYXRlKHZhbHVlKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB0aGlzLiRudW1iZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuJG51bWJlci52YWx1ZTtcbiAgICAgIHZhbHVlID0gdGhpcy5faXNJbnRTdGVwID8gcGFyc2VJbnQodmFsdWUsIDEwKSA6IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgdmFsdWUgPSBNYXRoLm1pbih0aGlzLnBhcmFtcy5tYXgsIE1hdGgubWF4KHRoaXMucGFyYW1zLm1pbiwgdmFsdWUpKTtcblxuICAgICAgdGhpcy5fcHJvcGFnYXRlKHZhbHVlKTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX3Byb3BhZ2F0ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdmFsdWUpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuJG51bWJlci52YWx1ZSA9IHZhbHVlO1xuXG4gICAgdGhpcy5leGVjdXRlTGlzdGVuZXJzKHRoaXMuX3ZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOdW1iZXJCb3g7XG4iXX0=","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","../utils/elements":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/PlayControl.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/PlayControl.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _SchedulingQueue2 = require('../core/SchedulingQueue');\n\nvar _SchedulingQueue3 = _interopRequireDefault(_SchedulingQueue2);\n\nvar _TimeEngine4 = require('../core/TimeEngine');\n\nvar _TimeEngine5 = _interopRequireDefault(_TimeEngine4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EPSILON = 1e-8;\n\nvar LoopControl = function (_TimeEngine) {\n  (0, _inherits3.default)(LoopControl, _TimeEngine);\n\n  function LoopControl(playControl) {\n    (0, _classCallCheck3.default)(this, LoopControl);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (LoopControl.__proto__ || (0, _getPrototypeOf2.default)(LoopControl)).call(this));\n\n    _this.__playControl = playControl;\n    _this.speed = 1;\n    _this.lower = -Infinity;\n    _this.upper = Infinity;\n    return _this;\n  }\n\n  // TimeEngine method (scheduled interface)\n\n\n  (0, _createClass3.default)(LoopControl, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      var playControl = this.__playControl;\n      var speed = this.speed;\n      var lower = this.lower;\n      var upper = this.upper;\n\n      if (speed > 0) time += EPSILON;else time -= EPSILON;\n\n      if (speed > 0) {\n        playControl.syncSpeed(time, lower, speed, true);\n        return playControl.__getTimeAtPosition(upper) - EPSILON;\n      } else if (speed < 0) {\n        playControl.syncSpeed(time, upper, speed, true);\n        return playControl.__getTimeAtPosition(lower) + EPSILON;\n      }\n\n      return Infinity;\n    }\n  }, {\n    key: 'reschedule',\n    value: function reschedule(speed) {\n      var playControl = this.__playControl;\n      var lower = Math.min(playControl.__loopStart, playControl.__loopEnd);\n      var upper = Math.max(playControl.__loopStart, playControl.__loopEnd);\n\n      this.speed = speed;\n      this.lower = lower;\n      this.upper = upper;\n\n      if (lower === upper) speed = 0;\n\n      if (speed > 0) this.resetTime(playControl.__getTimeAtPosition(upper) - EPSILON);else if (speed < 0) this.resetTime(playControl.__getTimeAtPosition(lower) + EPSILON);else this.resetTime(Infinity);\n    }\n  }, {\n    key: 'applyLoopBoundaries',\n    value: function applyLoopBoundaries(position, speed) {\n      var lower = this.lower;\n      var upper = this.upper;\n\n      if (speed > 0 && position >= upper) return lower + (position - lower) % (upper - lower);else if (speed < 0 && position < lower) return upper - (upper - position) % (upper - lower);\n\n      return position;\n    }\n  }]);\n  return LoopControl;\n}(_TimeEngine5.default);\n\n// play controlled base class\n\n\nvar PlayControlled = function () {\n  function PlayControlled(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlled);\n\n    this.__playControl = playControl;\n\n    engine.master = this;\n    this.__engine = engine;\n  }\n\n  (0, _createClass3.default)(PlayControlled, [{\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed, seek, lastSpeed) {\n      this.__engine.syncSpeed(time, position, speed, seek);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__playControl = null;\n\n      this.__engine.master = null;\n      this.__engine = null;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__playControl.currentTime;\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__playControl.audioTime;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.__playControl.currentPosition;\n    }\n  }]);\n  return PlayControlled;\n}();\n\n// play control for engines implementing the *speed-controlled* interface\n\n\nvar PlayControlledSpeedControlled = function (_PlayControlled) {\n  (0, _inherits3.default)(PlayControlledSpeedControlled, _PlayControlled);\n\n  function PlayControlledSpeedControlled(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlledSpeedControlled);\n    return (0, _possibleConstructorReturn3.default)(this, (PlayControlledSpeedControlled.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledSpeedControlled)).call(this, playControl, engine));\n  }\n\n  return PlayControlledSpeedControlled;\n}(PlayControlled);\n\n// play control for engines implmenting the *transported* interface\n\n\nvar PlayControlledTransported = function (_PlayControlled2) {\n  (0, _inherits3.default)(PlayControlledTransported, _PlayControlled2);\n\n  function PlayControlledTransported(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlledTransported);\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (PlayControlledTransported.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledTransported)).call(this, playControl, engine));\n\n    _this3.__schedulerHook = new PlayControlledSchedulerHook(playControl, engine);\n    return _this3;\n  }\n\n  (0, _createClass3.default)(PlayControlledTransported, [{\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed, seek, lastSpeed) {\n      if (speed !== lastSpeed || seek) {\n        var nextPosition;\n\n        // resync transported engines\n        if (seek || speed * lastSpeed < 0) {\n          // seek or reverse direction\n          nextPosition = this.__engine.syncPosition(time, position, speed);\n        } else if (lastSpeed === 0) {\n          // start\n          nextPosition = this.__engine.syncPosition(time, position, speed);\n        } else if (speed === 0) {\n          // stop / pause\n          this.__engine.syncPosition(time, position, speed);\n          nextPosition = Infinity;\n\n          // if (this.__engine.syncSpeed)\n          //   this.__engine.syncSpeed(time, position, 0);\n        } else if (this.__engine.syncSpeed) {\n          // change speed without reversing direction\n          this.__engine.syncSpeed(time, position, speed);\n        }\n\n        this.__schedulerHook.resetPosition(nextPosition);\n      }\n    }\n  }, {\n    key: 'resetEnginePosition',\n    value: function resetEnginePosition(engine) {\n      var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n      if (position === undefined) {\n        var playControl = this.__playControl;\n        var time = playControl.__sync();\n\n        position = this.__engine.syncPosition(time, playControl.__position, playControl.__speed);\n      }\n\n      this.__schedulerHook.resetPosition(position);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__schedulerHook.destroy();\n      this.__schedulerHook = null;\n\n      (0, _get3.default)(PlayControlledTransported.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledTransported.prototype), 'destroy', this).call(this);\n    }\n  }]);\n  return PlayControlledTransported;\n}(PlayControlled);\n\n// play control for time engines implementing the *scheduled* interface\n\n\nvar PlayControlledScheduled = function (_PlayControlled3) {\n  (0, _inherits3.default)(PlayControlledScheduled, _PlayControlled3);\n\n  function PlayControlledScheduled(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlledScheduled);\n\n    // scheduling queue becomes master of engine\n    var _this4 = (0, _possibleConstructorReturn3.default)(this, (PlayControlledScheduled.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledScheduled)).call(this, playControl, engine));\n\n    engine.master = null;\n    _this4.__schedulingQueue = new PlayControlledSchedulingQueue(playControl, engine);\n    return _this4;\n  }\n\n  (0, _createClass3.default)(PlayControlledScheduled, [{\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed, seek, lastSpeed) {\n      if (lastSpeed === 0 && speed !== 0) // start or seek\n        this.__engine.resetTime();else if (lastSpeed !== 0 && speed === 0) // stop\n        this.__engine.resetTime(Infinity);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__schedulingQueue.destroy();\n      (0, _get3.default)(PlayControlledScheduled.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledScheduled.prototype), 'destroy', this).call(this);\n    }\n  }]);\n  return PlayControlledScheduled;\n}(PlayControlled);\n\n// translates transported engine advancePosition into global scheduler times\n\n\nvar PlayControlledSchedulerHook = function (_TimeEngine2) {\n  (0, _inherits3.default)(PlayControlledSchedulerHook, _TimeEngine2);\n\n  function PlayControlledSchedulerHook(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlledSchedulerHook);\n\n    var _this5 = (0, _possibleConstructorReturn3.default)(this, (PlayControlledSchedulerHook.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledSchedulerHook)).call(this));\n\n    _this5.__playControl = playControl;\n    _this5.__engine = engine;\n\n    _this5.__nextPosition = Infinity;\n    playControl.__scheduler.add(_this5, Infinity);\n    return _this5;\n  }\n\n  (0, _createClass3.default)(PlayControlledSchedulerHook, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      var playControl = this.__playControl;\n      var engine = this.__engine;\n      var position = this.__nextPosition;\n      var nextPosition = engine.advancePosition(time, position, playControl.__speed);\n      var nextTime = playControl.__getTimeAtPosition(nextPosition);\n\n      this.__nextPosition = nextPosition;\n      return nextTime;\n    }\n  }, {\n    key: 'resetPosition',\n    value: function resetPosition() {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.__nextPosition;\n\n      var time = this.__playControl.__getTimeAtPosition(position);\n      this.__nextPosition = position;\n      this.resetTime(time);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__playControl.__scheduler.remove(this);\n      this.__playControl = null;\n      this.__engine = null;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__playControl.currentTime;\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__playControl.audioTime;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.__playControl.currentPosition;\n    }\n  }]);\n  return PlayControlledSchedulerHook;\n}(_TimeEngine5.default);\n\n// internal scheduling queue that returns the current position (and time) of the play control\n\n\nvar PlayControlledSchedulingQueue = function (_SchedulingQueue) {\n  (0, _inherits3.default)(PlayControlledSchedulingQueue, _SchedulingQueue);\n\n  function PlayControlledSchedulingQueue(playControl, engine) {\n    (0, _classCallCheck3.default)(this, PlayControlledSchedulingQueue);\n\n    var _this6 = (0, _possibleConstructorReturn3.default)(this, (PlayControlledSchedulingQueue.__proto__ || (0, _getPrototypeOf2.default)(PlayControlledSchedulingQueue)).call(this));\n\n    _this6.__playControl = playControl;\n    _this6.__engine = engine;\n\n    _this6.add(engine, Infinity);\n    playControl.__scheduler.add(_this6, Infinity);\n    return _this6;\n  }\n\n  (0, _createClass3.default)(PlayControlledSchedulingQueue, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.__playControl.__scheduler.remove(this);\n      this.remove(this.__engine);\n\n      this.__playControl = null;\n      this.__engine = null;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__playControl.currentTime;\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__playControl.audioTime;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.__playControl.currentPosition;\n    }\n  }]);\n  return PlayControlledSchedulingQueue;\n}(_SchedulingQueue3.default);\n\n/**\n * Extends Time Engine to provide playback control of a Time Engine instance.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-masters/master/examples/transport/index.html}\n *\n * @extends TimeEngine\n * @param {Object} scheduler - instance of Scheduler\n * @param {TimeEngine} engine - engine to control\n *\n * @example\n * import * as masters from 'waves-masters';\n *\n * const getTimeFunction = () => {\n *   const now = process.hrtime();\n *   return now[0] + now[1] * 1e-9;\n * }\n * const scheduler = new masters.Scheduler(getTimeFunction);\n * const playerEngine = new MyTimeEngine();\n * const playControl = new masters.PlayControl(scheduler, playerEngine);\n *\n * playControl.start();\n */\n\n\nvar PlayControl = function (_TimeEngine3) {\n  (0, _inherits3.default)(PlayControl, _TimeEngine3);\n\n  function PlayControl(scheduler, engine) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    (0, _classCallCheck3.default)(this, PlayControl);\n\n    var _this7 = (0, _possibleConstructorReturn3.default)(this, (PlayControl.__proto__ || (0, _getPrototypeOf2.default)(PlayControl)).call(this));\n\n    _this7.__scheduler = scheduler;\n\n    _this7.__playControlled = null;\n    _this7.__loopControl = null;\n    _this7.__loopStart = 0;\n    _this7.__loopEnd = 1;\n\n    // synchronized tie, position, and speed\n    _this7.__time = 0;\n    _this7.__position = 0;\n    _this7.__speed = 0;\n\n    // non-zero \"user\" speed\n    _this7.__playingSpeed = 1;\n\n    if (engine) _this7.__setEngine(engine);\n    return _this7;\n  }\n\n  (0, _createClass3.default)(PlayControl, [{\n    key: '__setEngine',\n    value: function __setEngine(engine) {\n      if (engine.master) throw new Error(\"object has already been added to a master\");\n\n      if (_TimeEngine5.default.implementsSpeedControlled(engine)) this.__playControlled = new PlayControlledSpeedControlled(this, engine);else if (_TimeEngine5.default.implementsTransported(engine)) this.__playControlled = new PlayControlledTransported(this, engine);else if (_TimeEngine5.default.implementsScheduled(engine)) this.__playControlled = new PlayControlledScheduled(this, engine);else throw new Error(\"object cannot be added to play control\");\n    }\n  }, {\n    key: '__resetEngine',\n    value: function __resetEngine() {\n      this.__playControlled.destroy();\n      this.__playControlled = null;\n    }\n\n    /**\n     * Calculate/extrapolate playing time for given position\n     *\n     * @param {Number} position position\n     * @return {Number} extrapolated time\n     * @private\n     */\n\n  }, {\n    key: '__getTimeAtPosition',\n    value: function __getTimeAtPosition(position) {\n      return this.__time + (position - this.__position) / this.__speed;\n    }\n\n    /**\n     * Calculate/extrapolate playing position for given time\n     *\n     * @param {Number} time time\n     * @return {Number} extrapolated position\n     * @private\n     */\n\n  }, {\n    key: '__getPositionAtTime',\n    value: function __getPositionAtTime(time) {\n      return this.__position + (time - this.__time) * this.__speed;\n    }\n  }, {\n    key: '__sync',\n    value: function __sync() {\n      var now = this.currentTime;\n      this.__position += (now - this.__time) * this.__speed;\n      this.__time = now;\n\n      return now;\n    }\n\n    /**\n     * Get current master time.\n     *\n     * @name currentTime\n     * @type {Number}\n     * @memberof PlayControl\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'set',\n    value: function set() {\n      var engine = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      var time = this.__sync();\n      var speed = this.__speed;\n\n      if (this.__playControlled !== null && this.__playControlled.__engine !== engine) {\n\n        this.syncSpeed(time, this.__position, 0);\n\n        if (this.__playControlled) this.__resetEngine();\n\n        if (this.__playControlled === null && engine !== null) {\n          this.__setEngine(engine);\n\n          if (speed !== 0) this.syncSpeed(time, this.__position, speed);\n        }\n      }\n    }\n\n    /**\n     * Sets the play control loop behavior.\n     *\n     * @type {Boolean}\n     * @name loop\n     * @memberof PlayControl\n     * @instance\n     */\n\n  }, {\n    key: 'setLoopBoundaries',\n\n\n    /**\n     * Sets loop start and end time.\n     *\n     * @param {Number} loopStart - loop start value.\n     * @param {Number} loopEnd - loop end value.\n     */\n    value: function setLoopBoundaries(loopStart, loopEnd) {\n      this.__loopStart = loopStart;\n      this.__loopEnd = loopEnd;\n\n      this.loop = this.loop;\n    }\n\n    /**\n     * Sets loop start value\n     *\n     * @type {Number}\n     * @name loopStart\n     * @memberof PlayControl\n     * @instance\n     */\n\n  }, {\n    key: 'syncSpeed',\n\n\n    // TimeEngine method (speed-controlled interface)\n    value: function syncSpeed(time, position, speed) {\n      var seek = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var lastSpeed = this.__speed;\n\n      if (speed !== lastSpeed || seek) {\n        if ((seek || lastSpeed === 0) && this.__loopControl) position = this.__loopControl.applyLoopBoundaries(position, speed);\n\n        this.__time = time;\n        this.__position = position;\n        this.__speed = speed;\n\n        if (this.__playControlled) this.__playControlled.syncSpeed(time, position, speed, seek, lastSpeed);\n\n        if (this.__loopControl) this.__loopControl.reschedule(speed);\n      }\n    }\n\n    /**\n     * Starts playback\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var time = this.__sync();\n      this.syncSpeed(time, this.__position, this.__playingSpeed);\n    }\n\n    /**\n     * Pauses playback and stays at the same position.\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      var time = this.__sync();\n      this.syncSpeed(time, this.__position, 0);\n    }\n\n    /**\n     * Stops playback and seeks to initial (0) position.\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var time = this.__sync();\n      this.syncSpeed(time, 0, 0, true);\n    }\n\n    /**\n     * If speed if provided, sets the playback speed. The speed value should\n     * be non-zero between -16 and -1/16 or between 1/16 and 16.\n     *\n     * @type {Number}\n     * @name speed\n     * @memberof PlayControl\n     * @instance\n     */\n\n  }, {\n    key: 'seek',\n\n\n    /**\n     * Set (jump to) playing position.\n     *\n     * @param {Number} position target position\n     */\n    value: function seek(position) {\n      var time = this.__sync();\n      this.__position = position;\n      this.syncSpeed(time, position, this.__speed, true);\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__scheduler.currentTime;\n    }\n\n    /**\n     * Get current master time.\n     *\n     * @name audioTime\n     * @type {Number}\n     * @memberof PlayControl\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__scheduler.audioTime;\n    }\n\n    /**\n     * Get current master position.\n     * This function will be replaced when the play-control is added to a master.\n     *\n     * @name currentPosition\n     * @type {Number}\n     * @memberof PlayControl\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n    }\n\n    /**\n     * Returns if the play control is running.\n     *\n     * @name running\n     * @type {Boolean}\n     * @memberof PlayControl\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'running',\n    get: function get() {\n      return !(this.__speed === 0);\n    }\n  }, {\n    key: 'loop',\n    set: function set(enable) {\n      if (enable && this.__loopStart > -Infinity && this.__loopEnd < Infinity) {\n        if (!this.__loopControl) {\n          this.__loopControl = new LoopControl(this);\n          this.__scheduler.add(this.__loopControl, Infinity);\n        }\n\n        if (this.__speed !== 0) {\n          var position = this.currentPosition;\n          var lower = Math.min(this.__loopStart, this.__loopEnd);\n          var upper = Math.max(this.__loopStart, this.__loopEnd);\n\n          if (this.__speed > 0 && position > upper) this.seek(upper);else if (this.__speed < 0 && position < lower) this.seek(lower);else this.__loopControl.reschedule(this.__speed);\n        }\n      } else if (this.__loopControl) {\n        this.__scheduler.remove(this.__loopControl);\n        this.__loopControl = null;\n      }\n    },\n    get: function get() {\n      return !!this.__loopControl;\n    }\n  }, {\n    key: 'loopStart',\n    set: function set(loopStart) {\n      this.setLoopBoundaries(loopStart, this.__loopEnd);\n    },\n    get: function get() {\n      return this.__loopStart;\n    }\n\n    /**\n     * Sets loop end value\n     *\n     * @type {Number}\n     * @name loopEnd\n     * @memberof PlayControl\n     * @instance\n     */\n\n  }, {\n    key: 'loopEnd',\n    set: function set(loopEnd) {\n      this.setLoopBoundaries(this.__loopStart, loopEnd);\n    },\n    get: function get() {\n      return this.__loopEnd;\n    }\n  }, {\n    key: 'speed',\n    set: function set(speed) {\n      var time = this.__sync();\n\n      if (speed >= 0) {\n        if (speed < 0.01) speed = 0.01;else if (speed > 100) speed = 100;\n      } else {\n        if (speed < -100) speed = -100;else if (speed > -0.01) speed = -0.01;\n      }\n\n      this.__playingSpeed = speed;\n\n      if (!this.master && this.__speed !== 0) this.syncSpeed(time, this.__position, speed);\n    },\n    get: function get() {\n      return this.__playingSpeed;\n    }\n  }]);\n  return PlayControl;\n}(_TimeEngine5.default);\n\nexports.default = PlayControl;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXlDb250cm9sLmpzIl0sIm5hbWVzIjpbIkVQU0lMT04iLCJMb29wQ29udHJvbCIsInBsYXlDb250cm9sIiwiX19wbGF5Q29udHJvbCIsInNwZWVkIiwibG93ZXIiLCJJbmZpbml0eSIsInVwcGVyIiwidGltZSIsInN5bmNTcGVlZCIsIl9fZ2V0VGltZUF0UG9zaXRpb24iLCJNYXRoIiwibWluIiwiX19sb29wU3RhcnQiLCJfX2xvb3BFbmQiLCJtYXgiLCJyZXNldFRpbWUiLCJwb3NpdGlvbiIsIlRpbWVFbmdpbmUiLCJQbGF5Q29udHJvbGxlZCIsImVuZ2luZSIsIm1hc3RlciIsIl9fZW5naW5lIiwic2VlayIsImxhc3RTcGVlZCIsImN1cnJlbnRUaW1lIiwiYXVkaW9UaW1lIiwiY3VycmVudFBvc2l0aW9uIiwiUGxheUNvbnRyb2xsZWRTcGVlZENvbnRyb2xsZWQiLCJQbGF5Q29udHJvbGxlZFRyYW5zcG9ydGVkIiwiX19zY2hlZHVsZXJIb29rIiwiUGxheUNvbnRyb2xsZWRTY2hlZHVsZXJIb29rIiwibmV4dFBvc2l0aW9uIiwic3luY1Bvc2l0aW9uIiwicmVzZXRQb3NpdGlvbiIsInVuZGVmaW5lZCIsIl9fc3luYyIsIl9fcG9zaXRpb24iLCJfX3NwZWVkIiwiZGVzdHJveSIsIlBsYXlDb250cm9sbGVkU2NoZWR1bGVkIiwiX19zY2hlZHVsaW5nUXVldWUiLCJQbGF5Q29udHJvbGxlZFNjaGVkdWxpbmdRdWV1ZSIsIl9fbmV4dFBvc2l0aW9uIiwiX19zY2hlZHVsZXIiLCJhZGQiLCJhZHZhbmNlUG9zaXRpb24iLCJuZXh0VGltZSIsInJlbW92ZSIsIlNjaGVkdWxpbmdRdWV1ZSIsIlBsYXlDb250cm9sIiwic2NoZWR1bGVyIiwib3B0aW9ucyIsIl9fcGxheUNvbnRyb2xsZWQiLCJfX2xvb3BDb250cm9sIiwiX190aW1lIiwiX19wbGF5aW5nU3BlZWQiLCJfX3NldEVuZ2luZSIsIkVycm9yIiwiaW1wbGVtZW50c1NwZWVkQ29udHJvbGxlZCIsImltcGxlbWVudHNUcmFuc3BvcnRlZCIsImltcGxlbWVudHNTY2hlZHVsZWQiLCJub3ciLCJfX3Jlc2V0RW5naW5lIiwibG9vcFN0YXJ0IiwibG9vcEVuZCIsImxvb3AiLCJhcHBseUxvb3BCb3VuZGFyaWVzIiwicmVzY2hlZHVsZSIsImVuYWJsZSIsInNldExvb3BCb3VuZGFyaWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxVQUFVLElBQWhCOztJQUVNQyxXOzs7QUFDSix1QkFBWUMsV0FBWixFQUF5QjtBQUFBOztBQUFBOztBQUd2QixVQUFLQyxhQUFMLEdBQXFCRCxXQUFyQjtBQUNBLFVBQUtFLEtBQUwsR0FBYSxDQUFiO0FBQ0EsVUFBS0MsS0FBTCxHQUFhLENBQUNDLFFBQWQ7QUFDQSxVQUFLQyxLQUFMLEdBQWFELFFBQWI7QUFOdUI7QUFPeEI7O0FBRUQ7Ozs7O2dDQUNZRSxJLEVBQU07QUFDaEIsVUFBTU4sY0FBYyxLQUFLQyxhQUF6QjtBQUNBLFVBQU1DLFFBQVEsS0FBS0EsS0FBbkI7QUFDQSxVQUFNQyxRQUFRLEtBQUtBLEtBQW5CO0FBQ0EsVUFBTUUsUUFBUSxLQUFLQSxLQUFuQjs7QUFFQSxVQUFJSCxRQUFRLENBQVosRUFDRUksUUFBUVIsT0FBUixDQURGLEtBR0VRLFFBQVFSLE9BQVI7O0FBRUYsVUFBSUksUUFBUSxDQUFaLEVBQWU7QUFDYkYsb0JBQVlPLFNBQVosQ0FBc0JELElBQXRCLEVBQTRCSCxLQUE1QixFQUFtQ0QsS0FBbkMsRUFBMEMsSUFBMUM7QUFDQSxlQUFPRixZQUFZUSxtQkFBWixDQUFnQ0gsS0FBaEMsSUFBeUNQLE9BQWhEO0FBQ0QsT0FIRCxNQUdPLElBQUlJLFFBQVEsQ0FBWixFQUFlO0FBQ3BCRixvQkFBWU8sU0FBWixDQUFzQkQsSUFBdEIsRUFBNEJELEtBQTVCLEVBQW1DSCxLQUFuQyxFQUEwQyxJQUExQztBQUNBLGVBQU9GLFlBQVlRLG1CQUFaLENBQWdDTCxLQUFoQyxJ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dWxpbmdRdWV1ZSBmcm9tICcuLi9jb3JlL1NjaGVkdWxpbmdRdWV1ZSc7XG5pbXBvcnQgVGltZUVuZ2luZSBmcm9tICcuLi9jb3JlL1RpbWVFbmdpbmUnO1xuXG5jb25zdCBFUFNJTE9OID0gMWUtODtcblxuY2xhc3MgTG9vcENvbnRyb2wgZXh0ZW5kcyBUaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3IocGxheUNvbnRyb2wpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fX3BsYXlDb250cm9sID0gcGxheUNvbnRyb2w7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgdGhpcy5sb3dlciA9IC1JbmZpbml0eTtcbiAgICB0aGlzLnVwcGVyID0gSW5maW5pdHk7XG4gIH1cblxuICAvLyBUaW1lRW5naW5lIG1ldGhvZCAoc2NoZWR1bGVkIGludGVyZmFjZSlcbiAgYWR2YW5jZVRpbWUodGltZSkge1xuICAgIGNvbnN0IHBsYXlDb250cm9sID0gdGhpcy5fX3BsYXlDb250cm9sO1xuICAgIGNvbnN0IHNwZWVkID0gdGhpcy5zcGVlZDtcbiAgICBjb25zdCBsb3dlciA9IHRoaXMubG93ZXI7XG4gICAgY29uc3QgdXBwZXIgPSB0aGlzLnVwcGVyO1xuXG4gICAgaWYgKHNwZWVkID4gMClcbiAgICAgIHRpbWUgKz0gRVBTSUxPTjtcbiAgICBlbHNlXG4gICAgICB0aW1lIC09IEVQU0lMT047XG5cbiAgICBpZiAoc3BlZWQgPiAwKSB7XG4gICAgICBwbGF5Q29udHJvbC5zeW5jU3BlZWQodGltZSwgbG93ZXIsIHNwZWVkLCB0cnVlKTtcbiAgICAgIHJldHVybiBwbGF5Q29udHJvbC5fX2dldFRpbWVBdFBvc2l0aW9uKHVwcGVyKSAtIEVQU0lMT047XG4gICAgfSBlbHNlIGlmIChzcGVlZCA8IDApIHtcbiAgICAgIHBsYXlDb250cm9sLnN5bmNTcGVlZCh0aW1lLCB1cHBlciwgc3BlZWQsIHRydWUpO1xuICAgICAgcmV0dXJuIHBsYXlDb250cm9sLl9fZ2V0VGltZUF0UG9zaXRpb24obG93ZXIpICsgRVBTSUxPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gSW5maW5pdHk7XG4gIH1cblxuICByZXNjaGVkdWxlKHNwZWVkKSB7XG4gICAgY29uc3QgcGxheUNvbnRyb2wgPSB0aGlzLl9fcGxheUNvbnRyb2w7XG4gICAgY29uc3QgbG93ZXIgPSBNYXRoLm1pbihwbGF5Q29udHJvbC5fX2xvb3BTdGFydCwgcGxheUNvbnRyb2wuX19sb29wRW5kKTtcbiAgICBjb25zdCB1cHBlciA9IE1hdGgubWF4KHBsYXlDb250cm9sLl9fbG9vcFN0YXJ0LCBwbGF5Q29udHJvbC5fX2xvb3BFbmQpO1xuXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMubG93ZXIgPSBsb3dlcjtcbiAgICB0aGlzLnVwcGVyID0gdXBwZXI7XG5cbiAgICBpZiAobG93ZXIgPT09IHVwcGVyKVxuICAgICAgc3BlZWQgPSAwO1xuXG4gICAgaWYgKHNwZWVkID4gMClcbiAgICAgIHRoaXMucmVzZXRUaW1lKHBsYXlDb250cm9sLl9fZ2V0VGltZUF0UG9zaXRpb24odXBwZXIpIC0gRVBTSUxPTik7XG4gICAgZWxzZSBpZiAoc3BlZWQgPCAwKVxuICAgICAgdGhpcy5yZXNldFRpbWUocGxheUNvbnRyb2wuX19nZXRUaW1lQXRQb3NpdGlvbihsb3dlcikgKyBFUFNJTE9OKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLnJlc2V0VGltZShJbmZpbml0eSk7XG4gIH1cblxuICBhcHBseUxvb3BCb3VuZGFyaWVzKHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIGNvbnN0IGxvd2VyID0gdGhpcy5sb3dlcjtcbiAgICBjb25zdCB1cHBlciA9IHRoaXMudXBwZXI7XG5cbiAgICBpZiAoc3BlZWQgPiAwICYmIHBvc2l0aW9uID49IHVwcGVyKVxuICAgICAgcmV0dXJuIGxvd2VyICsgKHBvc2l0aW9uIC0gbG93ZXIpICUgKHVwcGVyIC0gbG93ZXIpO1xuICAgIGVsc2UgaWYgKHNwZWVkIDwgMCAmJiBwb3NpdGlvbiA8IGxvd2VyKVxuICAgICAgcmV0dXJuIHVwcGVyIC0gKHVwcGVyIC0gcG9zaXRpb24pICUgKHVwcGVyIC0gbG93ZXIpO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG59XG5cbi8vIHBsYXkgY29udHJvbGxlZCBiYXNlIGNsYXNzXG5jbGFzcyBQbGF5Q29udHJvbGxlZCB7XG4gIGNvbnN0cnVjdG9yKHBsYXlDb250cm9sLCBlbmdpbmUpIHtcbiAgICB0aGlzLl9fcGxheUNvbnRyb2wgPSBwbGF5Q29udHJvbDtcblxuICAgIGVuZ2luZS5tYXN0ZXIgPSB0aGlzO1xuICAgIHRoaXMuX19lbmdpbmUgPSBlbmdpbmU7XG4gIH1cblxuICBzeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkLCBzZWVrLCBsYXN0U3BlZWQpIHtcbiAgICB0aGlzLl9fZW5naW5lLnN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQsIHNlZWspO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fcGxheUNvbnRyb2wuY3VycmVudFRpbWU7XG4gIH1cblxuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fcGxheUNvbnRyb2wuYXVkaW9UaW1lO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fX3BsYXlDb250cm9sLmN1cnJlbnRQb3NpdGlvbjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fX3BsYXlDb250cm9sID0gbnVsbDtcblxuICAgIHRoaXMuX19lbmdpbmUubWFzdGVyID0gbnVsbDtcbiAgICB0aGlzLl9fZW5naW5lID0gbnVsbDtcbiAgfVxufVxuXG4vLyBwbGF5IGNvbnRyb2wgZm9yIGVuZ2luZXMgaW1wbGVtZW50aW5nIHRoZSAqc3BlZWQtY29udHJvbGxlZCogaW50ZXJmYWNlXG5jbGFzcyBQbGF5Q29udHJvbGxlZFNwZWVkQ29udHJvbGxlZCBleHRlbmRzIFBsYXlDb250cm9sbGVkIHtcbiAgY29uc3RydWN0b3IocGxheUNvbnRyb2wsIGVuZ2luZSkge1xuICAgIHN1cGVyKHBsYXlDb250cm9sLCBlbmdpbmUpO1xuICB9XG59XG5cbi8vIHBsYXkgY29udHJvbCBmb3IgZW5naW5lcyBpbXBsbWVudGluZyB0aGUgKnRyYW5zcG9ydGVkKiBpbnRlcmZhY2VcbmNsYXNzIFBsYXlDb250cm9sbGVkVHJhbnNwb3J0ZWQgZXh0ZW5kcyBQbGF5Q29udHJvbGxlZCB7XG4gIGNvbnN0cnVjdG9yKHBsYXlDb250cm9sLCBlbmdpbmUpIHtcbiAgICBzdXBlcihwbGF5Q29udHJvbCwgZW5naW5lKTtcblxuICAgIHRoaXMuX19zY2hlZHVsZXJIb29rID0gbmV3IFBsYXlDb250cm9sbGVkU2NoZWR1bGVySG9vayhwbGF5Q29udHJvbCwgZW5naW5lKTtcbiAgfVxuXG4gIHN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQsIHNlZWssIGxhc3RTcGVlZCkge1xuICAgIGlmIChzcGVlZCAhPT0gbGFzdFNwZWVkIHx8IHNlZWspIHtcbiAgICAgIHZhciBuZXh0UG9zaXRpb247XG5cbiAgICAgIC8vIHJlc3luYyB0cmFuc3BvcnRlZCBlbmdpbmVzXG4gICAgICBpZiAoc2VlayB8fCBzcGVlZCAqIGxhc3RTcGVlZCA8IDApIHtcbiAgICAgICAgLy8gc2VlayBvciByZXZlcnNlIGRpcmVjdGlvblxuICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLl9fZW5naW5lLnN5bmNQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpO1xuICAgICAgfSBlbHNlIGlmIChsYXN0U3BlZWQgPT09IDApIHtcbiAgICAgICAgLy8gc3RhcnRcbiAgICAgICAgbmV4dFBvc2l0aW9uID0gdGhpcy5fX2VuZ2luZS5zeW5jUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKTtcbiAgICAgIH0gZWxzZSBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgICAgLy8gc3RvcCAvIHBhdXNlXG4gICAgICAgIHRoaXMuX19lbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICAgIG5leHRQb3NpdGlvbiA9IEluZmluaXR5O1xuXG4gICAgICAgIC8vIGlmICh0aGlzLl9fZW5naW5lLnN5bmNTcGVlZClcbiAgICAgICAgLy8gICB0aGlzLl9fZW5naW5lLnN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX19lbmdpbmUuc3luY1NwZWVkKSB7XG4gICAgICAgIC8vIGNoYW5nZSBzcGVlZCB3aXRob3V0IHJldmVyc2luZyBkaXJlY3Rpb25cbiAgICAgICAgdGhpcy5fX2VuZ2luZS5zeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX3NjaGVkdWxlckhvb2sucmVzZXRQb3NpdGlvbihuZXh0UG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0RW5naW5lUG9zaXRpb24oZW5naW5lLCBwb3NpdGlvbiA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcGxheUNvbnRyb2wgPSB0aGlzLl9fcGxheUNvbnRyb2w7XG4gICAgICB2YXIgdGltZSA9IHBsYXlDb250cm9sLl9fc3luYygpO1xuXG4gICAgICBwb3NpdGlvbiA9IHRoaXMuX19lbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHBsYXlDb250cm9sLl9fcG9zaXRpb24sIHBsYXlDb250cm9sLl9fc3BlZWQpO1xuICAgIH1cblxuICAgIHRoaXMuX19zY2hlZHVsZXJIb29rLnJlc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9fc2NoZWR1bGVySG9vay5kZXN0cm95KCk7XG4gICAgdGhpcy5fX3NjaGVkdWxlckhvb2sgPSBudWxsO1xuXG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8vIHBsYXkgY29udHJvbCBmb3IgdGltZSBlbmdpbmVzIGltcGxlbWVudGluZyB0aGUgKnNjaGVkdWxlZCogaW50ZXJmYWNlXG5jbGFzcyBQbGF5Q29udHJvbGxlZFNjaGVkdWxlZCBleHRlbmRzIFBsYXlDb250cm9sbGVkIHtcbiAgY29uc3RydWN0b3IocGxheUNvbnRyb2wsIGVuZ2luZSkge1xuICAgIHN1cGVyKHBsYXlDb250cm9sLCBlbmdpbmUpO1xuXG4gICAgLy8gc2NoZWR1bGluZyBxdWV1ZSBiZWNvbWVzIG1hc3RlciBvZiBlbmdpbmVcbiAgICBlbmdpbmUubWFzdGVyID0gbnVsbDtcbiAgICB0aGlzLl9fc2NoZWR1bGluZ1F1ZXVlID0gbmV3IFBsYXlDb250cm9sbGVkU2NoZWR1bGluZ1F1ZXVlKHBsYXlDb250cm9sLCBlbmdpbmUpO1xuICB9XG5cbiAgc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCwgc2VlaywgbGFzdFNwZWVkKSB7XG4gICAgaWYgKGxhc3RTcGVlZCA9PT0gMCAmJiBzcGVlZCAhPT0gMCkgLy8gc3RhcnQgb3Igc2Vla1xuICAgICAgdGhpcy5fX2VuZ2luZS5yZXNldFRpbWUoKTtcbiAgICBlbHNlIGlmIChsYXN0U3BlZWQgIT09IDAgJiYgc3BlZWQgPT09IDApIC8vIHN0b3BcbiAgICAgIHRoaXMuX19lbmdpbmUucmVzZXRUaW1lKEluZmluaXR5KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fX3NjaGVkdWxpbmdRdWV1ZS5kZXN0cm95KCk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8vIHRyYW5zbGF0ZXMgdHJhbnNwb3J0ZWQgZW5naW5lIGFkdmFuY2VQb3NpdGlvbiBpbnRvIGdsb2JhbCBzY2hlZHVsZXIgdGltZXNcbmNsYXNzIFBsYXlDb250cm9sbGVkU2NoZWR1bGVySG9vayBleHRlbmRzIFRpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihwbGF5Q29udHJvbCwgZW5naW5lKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX19wbGF5Q29udHJvbCA9IHBsYXlDb250cm9sO1xuICAgIHRoaXMuX19lbmdpbmUgPSBlbmdpbmU7XG5cbiAgICB0aGlzLl9fbmV4dFBvc2l0aW9uID0gSW5maW5pdHk7XG4gICAgcGxheUNvbnRyb2wuX19zY2hlZHVsZXIuYWRkKHRoaXMsIEluZmluaXR5KTtcbiAgfVxuXG4gIGFkdmFuY2VUaW1lKHRpbWUpIHtcbiAgICB2YXIgcGxheUNvbnRyb2wgPSB0aGlzLl9fcGxheUNvbnRyb2w7XG4gICAgdmFyIGVuZ2luZSA9IHRoaXMuX19lbmdpbmU7XG4gICAgdmFyIHBvc2l0aW9uID0gdGhpcy5fX25leHRQb3NpdGlvbjtcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gZW5naW5lLmFkdmFuY2VQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgcGxheUNvbnRyb2wuX19zcGVlZCk7XG4gICAgdmFyIG5leHRUaW1lID0gcGxheUNvbnRyb2wuX19nZXRUaW1lQXRQb3NpdGlvbihuZXh0UG9zaXRpb24pO1xuXG4gICAgdGhpcy5fX25leHRQb3NpdGlvbiA9IG5leHRQb3NpdGlvbjtcbiAgICByZXR1cm4gbmV4dFRpbWU7XG4gIH1cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19wbGF5Q29udHJvbC5jdXJyZW50VGltZTtcbiAgfVxuXG4gIGdldCBhdWRpb1RpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19wbGF5Q29udHJvbC5hdWRpb1RpbWU7XG4gIH1cblxuICBnZXQgY3VycmVudFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9fcGxheUNvbnRyb2wuY3VycmVudFBvc2l0aW9uO1xuICB9XG5cbiAgcmVzZXRQb3NpdGlvbihwb3NpdGlvbiA9IHRoaXMuX19uZXh0UG9zaXRpb24pIHtcbiAgICB2YXIgdGltZSA9IHRoaXMuX19wbGF5Q29udHJvbC5fX2dldFRpbWVBdFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB0aGlzLl9fbmV4dFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5yZXNldFRpbWUodGltZSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX19wbGF5Q29udHJvbC5fX3NjaGVkdWxlci5yZW1vdmUodGhpcyk7XG4gICAgdGhpcy5fX3BsYXlDb250cm9sID0gbnVsbDtcbiAgICB0aGlzLl9fZW5naW5lID0gbnVsbDtcbiAgfVxufVxuXG4vLyBpbnRlcm5hbCBzY2hlZHVsaW5nIHF1ZXVlIHRoYXQgcmV0dXJucyB0aGUgY3VycmVudCBwb3NpdGlvbiAoYW5kIHRpbWUpIG9mIHRoZSBwbGF5IGNvbnRyb2xcbmNsYXNzIFBsYXlDb250cm9sbGVkU2NoZWR1bGluZ1F1ZXVlIGV4dGVuZHMgU2NoZWR1bGluZ1F1ZXVlIHtcbiAgY29uc3RydWN0b3IocGxheUNvbnRyb2wsIGVuZ2luZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3BsYXlDb250cm9sID0gcGxheUNvbnRyb2w7XG4gICAgdGhpcy5fX2VuZ2luZSA9IGVuZ2luZTtcblxuICAgIHRoaXMuYWRkKGVuZ2luZSwgSW5maW5pdHkpO1xuICAgIHBsYXlDb250cm9sLl9fc2NoZWR1bGVyLmFkZCh0aGlzLCBJbmZpbml0eSk7XG4gIH1cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19wbGF5Q29udHJvbC5jdXJyZW50VGltZTtcbiAgfVxuXG4gIGdldCBhdWRpb1RpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19wbGF5Q29udHJvbC5hdWRpb1RpbWU7XG4gIH1cblxuICBnZXQgY3VycmVudFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9fcGxheUNvbnRyb2wuY3VycmVudFBvc2l0aW9uO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9fcGxheUNvbnRyb2wuX19zY2hlZHVsZXIucmVtb3ZlKHRoaXMpO1xuICAgIHRoaXMucmVtb3ZlKHRoaXMuX19lbmdpbmUpO1xuXG4gICAgdGhpcy5fX3BsYXlDb250cm9sID0gbnVsbDtcbiAgICB0aGlzLl9fZW5naW5lID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEV4dGVuZHMgVGltZSBFbmdpbmUgdG8gcHJvdmlkZSBwbGF5YmFjayBjb250cm9sIG9mIGEgVGltZSBFbmdpbmUgaW5zdGFuY2UuXG4gKlxuICogW2V4YW1wbGVde0BsaW5rIGh0dHBzOi8vcmF3Z2l0LmNvbS93YXZlc2pzL3dhdmVzLW1hc3RlcnMvbWFzdGVyL2V4YW1wbGVzL3RyYW5zcG9ydC9pbmRleC5odG1sfVxuICpcbiAqIEBleHRlbmRzIFRpbWVFbmdpbmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlZHVsZXIgLSBpbnN0YW5jZSBvZiBTY2hlZHVsZXJcbiAqIEBwYXJhbSB7VGltZUVuZ2luZX0gZW5naW5lIC0gZW5naW5lIHRvIGNvbnRyb2xcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgbWFzdGVycyBmcm9tICd3YXZlcy1tYXN0ZXJzJztcbiAqXG4gKiBjb25zdCBnZXRUaW1lRnVuY3Rpb24gPSAoKSA9PiB7XG4gKiAgIGNvbnN0IG5vdyA9IHByb2Nlc3MuaHJ0aW1lKCk7XG4gKiAgIHJldHVybiBub3dbMF0gKyBub3dbMV0gKiAxZS05O1xuICogfVxuICogY29uc3Qgc2NoZWR1bGVyID0gbmV3IG1hc3RlcnMuU2NoZWR1bGVyKGdldFRpbWVGdW5jdGlvbik7XG4gKiBjb25zdCBwbGF5ZXJFbmdpbmUgPSBuZXcgTXlUaW1lRW5naW5lKCk7XG4gKiBjb25zdCBwbGF5Q29udHJvbCA9IG5ldyBtYXN0ZXJzLlBsYXlDb250cm9sKHNjaGVkdWxlciwgcGxheWVyRW5naW5lKTtcbiAqXG4gKiBwbGF5Q29udHJvbC5zdGFydCgpO1xuICovXG5jbGFzcyBQbGF5Q29udHJvbCBleHRlbmRzIFRpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3RvcihzY2hlZHVsZXIsIGVuZ2luZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX19zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG5cbiAgICB0aGlzLl9fcGxheUNvbnRyb2xsZWQgPSBudWxsO1xuICAgIHRoaXMuX19sb29wQ29udHJvbCA9IG51bGw7XG4gICAgdGhpcy5fX2xvb3BTdGFydCA9IDA7XG4gICAgdGhpcy5fX2xvb3BFbmQgPSAxO1xuXG4gICAgLy8gc3luY2hyb25pemVkIHRpZSwgcG9zaXRpb24sIGFuZCBzcGVlZFxuICAgIHRoaXMuX190aW1lID0gMDtcbiAgICB0aGlzLl9fcG9zaXRpb24gPSAwO1xuICAgIHRoaXMuX19zcGVlZCA9IDA7XG5cbiAgICAvLyBub24temVybyBcInVzZXJcIiBzcGVlZFxuICAgIHRoaXMuX19wbGF5aW5nU3BlZWQgPSAxO1xuXG4gICAgaWYgKGVuZ2luZSlcbiAgICAgIHRoaXMuX19zZXRFbmdpbmUoZW5naW5lKTtcbiAgfVxuXG4gIF9fc2V0RW5naW5lKGVuZ2luZSkge1xuICAgIGlmIChlbmdpbmUubWFzdGVyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gYSBtYXN0ZXJcIik7XG5cbiAgICBpZiAoVGltZUVuZ2luZS5pbXBsZW1lbnRzU3BlZWRDb250cm9sbGVkKGVuZ2luZSkpXG4gICAgICB0aGlzLl9fcGxheUNvbnRyb2xsZWQgPSBuZXcgUGxheUNvbnRyb2xsZWRTcGVlZENvbnRyb2xsZWQodGhpcywgZW5naW5lKTtcbiAgICBlbHNlIGlmIChUaW1lRW5naW5lLmltcGxlbWVudHNUcmFuc3BvcnRlZChlbmdpbmUpKVxuICAgICAgdGhpcy5fX3BsYXlDb250cm9sbGVkID0gbmV3IFBsYXlDb250cm9sbGVkVHJhbnNwb3J0ZWQodGhpcywgZW5naW5lKTtcbiAgICBlbHNlIGlmIChUaW1lRW5naW5lLmltcGxlbWVudHNTY2hlZHVsZWQoZW5naW5lKSlcbiAgICAgIHRoaXMuX19wbGF5Q29udHJvbGxlZCA9IG5ldyBQbGF5Q29udHJvbGxlZFNjaGVkdWxlZCh0aGlzLCBlbmdpbmUpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBjYW5ub3QgYmUgYWRkZWQgdG8gcGxheSBjb250cm9sXCIpO1xuICB9XG5cbiAgX19yZXNldEVuZ2luZSgpIHtcbiAgICB0aGlzLl9fcGxheUNvbnRyb2xsZWQuZGVzdHJveSgpO1xuICAgIHRoaXMuX19wbGF5Q29udHJvbGxlZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlL2V4dHJhcG9sYXRlIHBsYXlpbmcgdGltZSBmb3IgZ2l2ZW4gcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIHBvc2l0aW9uXG4gICAqIEByZXR1cm4ge051bWJlcn0gZXh0cmFwb2xhdGVkIHRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9fZ2V0VGltZUF0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fX3RpbWUgKyAocG9zaXRpb24gLSB0aGlzLl9fcG9zaXRpb24pIC8gdGhpcy5fX3NwZWVkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZS9leHRyYXBvbGF0ZSBwbGF5aW5nIHBvc2l0aW9uIGZvciBnaXZlbiB0aW1lXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIHRpbWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBleHRyYXBvbGF0ZWQgcG9zaXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9fZ2V0UG9zaXRpb25BdFRpbWUodGltZSkge1xuICAgIHJldHVybiB0aGlzLl9fcG9zaXRpb24gKyAodGltZSAtIHRoaXMuX190aW1lKSAqIHRoaXMuX19zcGVlZDtcbiAgfVxuXG4gIF9fc3luYygpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgIHRoaXMuX19wb3NpdGlvbiArPSAobm93IC0gdGhpcy5fX3RpbWUpICogdGhpcy5fX3NwZWVkO1xuICAgIHRoaXMuX190aW1lID0gbm93O1xuXG4gICAgcmV0dXJuIG5vdztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBtYXN0ZXIgdGltZS5cbiAgICpcbiAgICogQG5hbWUgY3VycmVudFRpbWVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG1lbWJlcm9mIFBsYXlDb250cm9sXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3NjaGVkdWxlci5jdXJyZW50VGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBtYXN0ZXIgdGltZS5cbiAgICpcbiAgICogQG5hbWUgYXVkaW9UaW1lXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQbGF5Q29udHJvbFxuICAgKiBAaW5zdGFuY2VcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fc2NoZWR1bGVyLmF1ZGlvVGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBtYXN0ZXIgcG9zaXRpb24uXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZXBsYWNlZCB3aGVuIHRoZSBwbGF5LWNvbnRyb2wgaXMgYWRkZWQgdG8gYSBtYXN0ZXIuXG4gICAqXG4gICAqIEBuYW1lIGN1cnJlbnRQb3NpdGlvblxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGxheUNvbnRyb2xcbiAgICogQGluc3RhbmNlXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fX3Bvc2l0aW9uICsgKHRoaXMuX19zY2hlZHVsZXIuY3VycmVudFRpbWUgLSB0aGlzLl9fdGltZSkgKiB0aGlzLl9fc3BlZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpZiB0aGUgcGxheSBjb250cm9sIGlzIHJ1bm5pbmcuXG4gICAqXG4gICAqIEBuYW1lIHJ1bm5pbmdcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQbGF5Q29udHJvbFxuICAgKiBAaW5zdGFuY2VcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcnVubmluZygpIHtcbiAgICByZXR1cm4gISh0aGlzLl9fc3BlZWQgPT09IDApO1xuICB9XG5cbiAgc2V0KGVuZ2luZSA9IG51bGwpIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fX3N5bmMoKTtcbiAgICBjb25zdCBzcGVlZCA9IHRoaXMuX19zcGVlZDtcblxuICAgIGlmICh0aGlzLl9fcGxheUNvbnRyb2xsZWQgIT09IG51bGwgJiYgdGhpcy5fX3BsYXlDb250cm9sbGVkLl9fZW5naW5lICE9PSBlbmdpbmUpIHtcblxuICAgICAgdGhpcy5zeW5jU3BlZWQodGltZSwgdGhpcy5fX3Bvc2l0aW9uLCAwKTtcblxuICAgICAgaWYgKHRoaXMuX19wbGF5Q29udHJvbGxlZClcbiAgICAgICAgdGhpcy5fX3Jlc2V0RW5naW5lKCk7XG5cblxuICAgICAgaWYgKHRoaXMuX19wbGF5Q29udHJvbGxlZCA9PT0gbnVsbCAmJiBlbmdpbmUgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fX3NldEVuZ2luZShlbmdpbmUpO1xuXG4gICAgICAgIGlmIChzcGVlZCAhPT0gMClcbiAgICAgICAgICB0aGlzLnN5bmNTcGVlZCh0aW1lLCB0aGlzLl9fcG9zaXRpb24sIHNwZWVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcGxheSBjb250cm9sIGxvb3AgYmVoYXZpb3IuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAbmFtZSBsb29wXG4gICAqIEBtZW1iZXJvZiBQbGF5Q29udHJvbFxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHNldCBsb29wKGVuYWJsZSkge1xuICAgIGlmIChlbmFibGUgJiYgdGhpcy5fX2xvb3BTdGFydCA+IC1JbmZpbml0eSAmJiB0aGlzLl9fbG9vcEVuZCA8IEluZmluaXR5KSB7XG4gICAgICBpZiAoIXRoaXMuX19sb29wQ29udHJvbCkge1xuICAgICAgICB0aGlzLl9fbG9vcENvbnRyb2wgPSBuZXcgTG9vcENvbnRyb2wodGhpcyk7XG4gICAgICAgIHRoaXMuX19zY2hlZHVsZXIuYWRkKHRoaXMuX19sb29wQ29udHJvbCwgSW5maW5pdHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fX3NwZWVkICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb247XG4gICAgICAgIGNvbnN0IGxvd2VyID0gTWF0aC5taW4odGhpcy5fX2xvb3BTdGFydCwgdGhpcy5fX2xvb3BFbmQpO1xuICAgICAgICBjb25zdCB1cHBlciA9IE1hdGgubWF4KHRoaXMuX19sb29wU3RhcnQsIHRoaXMuX19sb29wRW5kKTtcblxuICAgICAgICBpZiAodGhpcy5fX3NwZWVkID4gMCAmJiBwb3NpdGlvbiA+IHVwcGVyKVxuICAgICAgICAgIHRoaXMuc2Vlayh1cHBlcik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX19zcGVlZCA8IDAgJiYgcG9zaXRpb24gPCBsb3dlcilcbiAgICAgICAgICB0aGlzLnNlZWsobG93ZXIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhpcy5fX2xvb3BDb250cm9sLnJlc2NoZWR1bGUodGhpcy5fX3NwZWVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX19sb29wQ29udHJvbCkge1xuICAgICAgdGhpcy5fX3NjaGVkdWxlci5yZW1vdmUodGhpcy5fX2xvb3BDb250cm9sKTtcbiAgICAgIHRoaXMuX19sb29wQ29udHJvbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGxvb3AoKSB7XG4gICAgcmV0dXJuICghIXRoaXMuX19sb29wQ29udHJvbCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBsb29wIHN0YXJ0IGFuZCBlbmQgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxvb3BTdGFydCAtIGxvb3Agc3RhcnQgdmFsdWUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsb29wRW5kIC0gbG9vcCBlbmQgdmFsdWUuXG4gICAqL1xuICBzZXRMb29wQm91bmRhcmllcyhsb29wU3RhcnQsIGxvb3BFbmQpIHtcbiAgICB0aGlzLl9fbG9vcFN0YXJ0ID0gbG9vcFN0YXJ0O1xuICAgIHRoaXMuX19sb29wRW5kID0gbG9vcEVuZDtcblxuICAgIHRoaXMubG9vcCA9IHRoaXMubG9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGxvb3Agc3RhcnQgdmFsdWVcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgbG9vcFN0YXJ0XG4gICAqIEBtZW1iZXJvZiBQbGF5Q29udHJvbFxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHNldCBsb29wU3RhcnQobG9vcFN0YXJ0KSB7XG4gICAgdGhpcy5zZXRMb29wQm91bmRhcmllcyhsb29wU3RhcnQsIHRoaXMuX19sb29wRW5kKTtcbiAgfVxuXG4gIGdldCBsb29wU3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19sb29wU3RhcnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBsb29wIGVuZCB2YWx1ZVxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbmFtZSBsb29wRW5kXG4gICAqIEBtZW1iZXJvZiBQbGF5Q29udHJvbFxuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHNldCBsb29wRW5kKGxvb3BFbmQpIHtcbiAgICB0aGlzLnNldExvb3BCb3VuZGFyaWVzKHRoaXMuX19sb29wU3RhcnQsIGxvb3BFbmQpO1xuICB9XG5cbiAgZ2V0IGxvb3BFbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19sb29wRW5kO1xuICB9XG5cbiAgLy8gVGltZUVuZ2luZSBtZXRob2QgKHNwZWVkLWNvbnRyb2xsZWQgaW50ZXJmYWNlKVxuICBzeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkLCBzZWVrID0gZmFsc2UpIHtcbiAgICBjb25zdCBsYXN0U3BlZWQgPSB0aGlzLl9fc3BlZWQ7XG5cbiAgICBpZiAoc3BlZWQgIT09IGxhc3RTcGVlZCB8fCBzZWVrKSB7XG4gICAgICBpZiAoKHNlZWsgfHwgbGFzdFNwZWVkID09PSAwKSAmJiB0aGlzLl9fbG9vcENvbnRyb2wpXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5fX2xvb3BDb250cm9sLmFwcGx5TG9vcEJvdW5kYXJpZXMocG9zaXRpb24sIHNwZWVkKTtcblxuICAgICAgdGhpcy5fX3RpbWUgPSB0aW1lO1xuICAgICAgdGhpcy5fX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICB0aGlzLl9fc3BlZWQgPSBzcGVlZDtcblxuICAgICAgaWYgKHRoaXMuX19wbGF5Q29udHJvbGxlZClcbiAgICAgICAgdGhpcy5fX3BsYXlDb250cm9sbGVkLnN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQsIHNlZWssIGxhc3RTcGVlZCk7XG5cbiAgICAgIGlmICh0aGlzLl9fbG9vcENvbnRyb2wpXG4gICAgICAgIHRoaXMuX19sb29wQ29udHJvbC5yZXNjaGVkdWxlKHNwZWVkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHBsYXliYWNrXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fX3N5bmMoKTtcbiAgICB0aGlzLnN5bmNTcGVlZCh0aW1lLCB0aGlzLl9fcG9zaXRpb24sIHRoaXMuX19wbGF5aW5nU3BlZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlcyBwbGF5YmFjayBhbmQgc3RheXMgYXQgdGhlIHNhbWUgcG9zaXRpb24uXG4gICAqL1xuICBwYXVzZSgpIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fX3N5bmMoKTtcbiAgICB0aGlzLnN5bmNTcGVlZCh0aW1lLCB0aGlzLl9fcG9zaXRpb24sIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHBsYXliYWNrIGFuZCBzZWVrcyB0byBpbml0aWFsICgwKSBwb3NpdGlvbi5cbiAgICovXG4gIHN0b3AoKSB7XG4gICAgY29uc3QgdGltZSA9IHRoaXMuX19zeW5jKCk7XG4gICAgdGhpcy5zeW5jU3BlZWQodGltZSwgMCwgMCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSWYgc3BlZWQgaWYgcHJvdmlkZWQsIHNldHMgdGhlIHBsYXliYWNrIHNwZWVkLiBUaGUgc3BlZWQgdmFsdWUgc2hvdWxkXG4gICAqIGJlIG5vbi16ZXJvIGJldHdlZW4gLTE2IGFuZCAtMS8xNiBvciBiZXR3ZWVuIDEvMTYgYW5kIDE2LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbmFtZSBzcGVlZFxuICAgKiBAbWVtYmVyb2YgUGxheUNvbnRyb2xcbiAgICogQGluc3RhbmNlXG4gICAqL1xuICBzZXQgc3BlZWQoc3BlZWQpIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fX3N5bmMoKTtcblxuICAgIGlmIChzcGVlZCA+PSAwKSB7XG4gICAgICBpZiAoc3BlZWQgPCAwLjAxKVxuICAgICAgICBzcGVlZCA9IDAuMDE7XG4gICAgICBlbHNlIGlmIChzcGVlZCA+IDEwMClcbiAgICAgICAgc3BlZWQgPSAxMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzcGVlZCA8IC0xMDApXG4gICAgICAgIHNwZWVkID0gLTEwMDtcbiAgICAgIGVsc2UgaWYgKHNwZWVkID4gLTAuMDEpXG4gICAgICAgIHNwZWVkID0gLTAuMDE7XG4gICAgfVxuXG4gICAgdGhpcy5fX3BsYXlpbmdTcGVlZCA9IHNwZWVkO1xuXG4gICAgaWYgKCF0aGlzLm1hc3RlciAmJiB0aGlzLl9fc3BlZWQgIT09IDApXG4gICAgICB0aGlzLnN5bmNTcGVlZCh0aW1lLCB0aGlzLl9fcG9zaXRpb24sIHNwZWVkKTtcbiAgfVxuXG4gIGdldCBzcGVlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3BsYXlpbmdTcGVlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgKGp1bXAgdG8pIHBsYXlpbmcgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiB0YXJnZXQgcG9zaXRpb25cbiAgICovXG4gIHNlZWsocG9zaXRpb24pIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fX3N5bmMoKTtcbiAgICB0aGlzLl9fcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgdGhpcy5fX3NwZWVkLCB0cnVlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5Q29udHJvbDtcbiJdfQ==","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","../core/SchedulingQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js","../core/TimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Scheduler.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Scheduler.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _SchedulingQueue2 = require('../core/SchedulingQueue');\n\nvar _SchedulingQueue3 = _interopRequireDefault(_SchedulingQueue2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('wavesjs:masters');\n\nfunction isFunction(functionToCheck) {\n  return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * The `Scheduler` class implements a master for `TimeEngine` instances\n * that implement the *scheduled* interface (such as the `Metronome` and\n * `GranularEngine`).\n *\n * A `Scheduler` can also schedule simple callback functions.\n * The class is based on recursive calls to `setTimeout` and uses the time\n * returned by the `getTimeFunction` passed as first argument as a logical time\n * passed to the `advanceTime` methods of the scheduled engines or to the\n * scheduled callback functions.\n * It extends the `SchedulingQueue` class that itself includes a `PriorityQueue`\n * to assure the order of the scheduled engines (see `SimpleScheduler` for a\n * simplified scheduler implementation without `PriorityQueue`).\n *\n * {@link https://rawgit.com/wavesjs/waves-masters/master/examples/scheduler/index.html}\n *\n * @param {Function} getTimeFunction - Function that must return a time in second.\n * @param {Object} [options={}] - default options.\n * @param {Number} [options.period=0.025] - period of the scheduler.\n * @param {Number} [options.lookahead=0.1] - lookahead of the scheduler.\n * @param {Number} [options.currentTimeToAudioTimeFunction] - function that convert\n *  `currentTime` to `audioTime`. Defaults to no-op.\n *\n * @see TimeEngine\n * @see SimpleScheduler\n *\n * @example\n * import * as masters from 'waves-masters';\n *\n * const getTimeFunction = () => preformance.now() / 1000;\n * const scheduler = new masters.Scheduler(getTimeFunction);\n *\n * scheduler.add(myEngine);\n */\n\nvar Scheduler = function (_SchedulingQueue) {\n  (0, _inherits3.default)(Scheduler, _SchedulingQueue);\n\n  function Scheduler(getTimeFunction) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, Scheduler);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Scheduler.__proto__ || (0, _getPrototypeOf2.default)(Scheduler)).call(this));\n\n    if (!isFunction(getTimeFunction)) throw new Error('Invalid argument `getTimeFunction`');\n\n    _this.getTimeFunction = getTimeFunction;\n\n    _this.__currentTime = null;\n    _this.__nextTime = Infinity;\n    _this.__timeout = null;\n\n    /**\n     * scheduler (setTimeout) period\n     * @type {Number}\n     * @name period\n     * @memberof Scheduler\n     * @instance\n     */\n    _this.period = options.period || 0.025;\n\n    /**\n     * scheduler lookahead time (> period)\n     * @type {Number}\n     * @name lookahead\n     * @memberof Scheduler\n     * @instance\n     */\n    _this.lookahead = options.lookahead || 0.1;\n\n    _this._currentTimeToAudioTimeFunction = options.currentTimeToAudioTimeFunction || function (currentTime) {\n      return currentTime;\n    };\n    return _this;\n  }\n\n  // setTimeout scheduling loop\n\n\n  (0, _createClass3.default)(Scheduler, [{\n    key: '__tick',\n    value: function __tick() {\n      var currentTime = this.getTimeFunction();\n      var time = this.__nextTime;\n\n      this.__timeout = null;\n\n      while (time <= currentTime + this.lookahead) {\n        this.__currentTime = time;\n        time = this.advanceTime(time);\n      }\n\n      this.__currentTime = null;\n      this.resetTime(time);\n    }\n  }, {\n    key: 'resetTime',\n    value: function resetTime() {\n      var _this2 = this;\n\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentTime;\n\n      if (this.master) {\n        this.master.reset(this, time);\n      } else {\n        if (this.__timeout) {\n          clearTimeout(this.__timeout);\n          this.__timeout = null;\n        }\n\n        if (time !== Infinity) {\n          if (this.__nextTime === Infinity) log('Scheduler Start');\n\n          var timeOutDelay = Math.max(time - this.lookahead - this.getTimeFunction(), this.period);\n\n          this.__timeout = setTimeout(function () {\n            _this2.__tick();\n          }, Math.ceil(timeOutDelay * 1000));\n        } else if (this.__nextTime !== Infinity) {\n          log('Scheduler Stop');\n        }\n\n        this.__nextTime = time;\n      }\n    }\n\n    /**\n     * Scheduler current logical time.\n     *\n     * @name currentTime\n     * @type {Number}\n     * @memberof Scheduler\n     * @instance\n     */\n\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      // @note - can this really happen, and if yes, in which case?\n      if (this.master) return this.master.currentTime;\n\n      return this.__currentTime || this.getTimeFunction() + this.lookahead;\n    }\n\n    /**\n     * Scheduler current audio time according to `currentTime`\n     *\n     * @name audioTime\n     * @type {Number}\n     * @memberif Scheduler\n     * @instance\n     */\n\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      // @note - add this as in\n      if (this.master) return this.master.audioTime;\n\n      return this._currentTimeToAudioTimeFunction(this.currentTime);\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      var master = this.master;\n\n      if (master && master.currentPosition !== undefined) return master.currentPosition;\n\n      return undefined;\n    }\n\n    // inherited from scheduling queue\n    /**\n     * Add a TimeEngine or a simple callback function to the scheduler at an\n     * optionally given time. Whether the add method is called with a TimeEngine\n     * or a callback function it returns a TimeEngine that can be used as argument\n     * of the methods remove and resetEngineTime. A TimeEngine added to a scheduler\n     * has to implement the scheduled interface. The callback function added to a\n     * scheduler will be called at the given time and with the given time as\n     * argument. The callback can return a new scheduling time (i.e. the next\n     * time when it will be called) or it can return Infinity to suspend scheduling\n     * without removing the function from the scheduler. A function that does\n     * not return a value (or returns null or 0) is removed from the scheduler\n     * and cannot be used as argument of the methods remove and resetEngineTime\n     * anymore.\n     *\n     * @name add\n     * @function\n     * @memberof Scheduler\n     * @instance\n     * @param {TimeEngine|Function} engine - Engine to add to the scheduler\n     * @param {Number} [time=this.currentTime] - Schedule time\n     */\n    /**\n     * Remove a TimeEngine from the scheduler that has been added to the\n     * scheduler using the add method.\n     *\n     * @name add\n     * @function\n     * @memberof Scheduler\n     * @instance\n     * @param {TimeEngine} engine - Engine to remove from the scheduler\n     * @param {Number} [time=this.currentTime] - Schedule time\n     */\n    /**\n     * Reschedule a scheduled time engine at a given time.\n     *\n     * @name resetEngineTime\n     * @function\n     * @memberof Scheduler\n     * @instance\n     * @param {TimeEngine} engine - Engine to reschedule\n     * @param {Number} time - Schedule time\n     */\n    /**\n     * Remove all scheduled callbacks and engines from the scheduler.\n     *\n     * @name clear\n     * @function\n     * @memberof Scheduler\n     * @instance\n     */\n\n  }]);\n  return Scheduler;\n}(_SchedulingQueue3.default);\n\nexports.default = Scheduler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjaGVkdWxlci5qcyJdLCJuYW1lcyI6WyJsb2ciLCJpc0Z1bmN0aW9uIiwiZnVuY3Rpb25Ub0NoZWNrIiwidG9TdHJpbmciLCJjYWxsIiwiU2NoZWR1bGVyIiwiZ2V0VGltZUZ1bmN0aW9uIiwib3B0aW9ucyIsIkVycm9yIiwiX19jdXJyZW50VGltZSIsIl9fbmV4dFRpbWUiLCJJbmZpbml0eSIsIl9fdGltZW91dCIsInBlcmlvZCIsImxvb2thaGVhZCIsIl9jdXJyZW50VGltZVRvQXVkaW9UaW1lRnVuY3Rpb24iLCJjdXJyZW50VGltZVRvQXVkaW9UaW1lRnVuY3Rpb24iLCJjdXJyZW50VGltZSIsInRpbWUiLCJhZHZhbmNlVGltZSIsInJlc2V0VGltZSIsIm1hc3RlciIsInJlc2V0IiwiY2xlYXJUaW1lb3V0IiwidGltZU91dERlbGF5IiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJfX3RpY2siLCJjZWlsIiwiYXVkaW9UaW1lIiwiY3VycmVudFBvc2l0aW9uIiwidW5kZWZpbmVkIiwiU2NoZWR1bGluZ1F1ZXVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE1BQU0scUJBQU0saUJBQU4sQ0FBWjs7QUFFQSxTQUFTQyxVQUFULENBQW9CQyxlQUFwQixFQUFxQztBQUNuQyxTQUFPQSxtQkFBbUIsR0FBR0MsUUFBSCxDQUFZQyxJQUFaLENBQWlCRixlQUFqQixNQUFzQyxtQkFBaEU7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrQ01HLFM7OztBQUNKLHFCQUFZQyxlQUFaLEVBQTJDO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQUE7O0FBQUE7O0FBR3pDLFFBQUksQ0FBQ04sV0FBV0ssZUFBWCxDQUFMLEVBQ0UsTUFBTSxJQUFJRSxLQUFKLENBQVUsb0NBQVYsQ0FBTjs7QUFFRixVQUFLRixlQUFMLEdBQXVCQSxlQUF2Qjs7QUFFQSxVQUFLRyxhQUFMLEdBQXFCLElBQXJCO0FBQ0EsVUFBS0MsVUFBTCxHQUFrQkMsUUFBbEI7QUFDQSxVQUFLQyxTQUFMLEdBQWlCLElBQWpCOztBQUVBOzs7Ozs7O0FBT0EsVUFBS0MsTUFBTCxHQUFjTixRQUFRTSxNQUFSLElBQW1CLEtBQWpDOztBQUVBOzs7Ozs7O0FBT0EsVUFBS0MsU0FBTCxHQUFpQlAsUUFBUU8sU0FBUixJQUFzQixHQUF2Qzs7QUFFQSxVQUFLQywrQkFBTCxHQUNFUixRQUFRUyw4QkFBUixJQUEwQyxVQUFTQyxXQUFULEVBQXNCO0FBQUUsYUFBT0EsV0FBUDtBQUFvQixLQUR4RjtBQTlCeUM7QUFnQzFDOztBQUVEOzs7Ozs2QkFDUztBQUNQLFVBQU1BLGNBQWMsS0FBS1gsZUFBTCxFQUFwQjtBQUNBLFVBQUlZLE9BQU8sS0FBS1IsVUFBaEI7O0FBRUEsV0FBS0UsU0FBTCxHQUFpQixJQUFqQjs7QUFFQSxhQUFPTSxRQUFRRCxjQUFjLEtBQUtILFNBQWxDLEVBQTZDO0FBQzNDLGFBQUtMLGFBQUwsR0FBcUJTLElBQXJCO0FBQ0FBLGVBQU8sS0FBS0MsV0FBTCxDQUFpQkQsSUFBakIsQ0FBUDtBQUNEOztBQUVELFdBQUtULGFBQUwsR0FBcUIsSUFBckI7QUFDQSxXQUFLVyxTQUFMLENBQWVGLElBQWY7QUFDRDs7O2dDQUVrQztBQUFBOztBQUFBLFVBQXpCQSxJQUF5Qix1RUFBbEIsS0FBS0QsV0FBYTs7QUFDakMsVUFBSSxLQUFLSSxNQUFULEVBQWlCO0FBQ2YsYUFBS0EsTUFBTCxDQUFZQyxLQUFaLENBQWtCLElBQWxCLEVBQXdCSixJQUF4QjtBQUNELE9BRkQsTUFFTztBQUNMLFlBQUksS0FBS04sU0FBVCxFQUFvQjtBQUNsQlcsdUJBQWEsS0FBS1gsU0FBbEI7QUFDQSxlQUFLQSxTQUFMLEdBQWlCLElBQWpCO0FBQ0Q7O0FBRUQsWUFBSU0sU0FBU1AsUUFBYixFQUF1QjtBQUNyQixjQUFJLEtBQUtELFVBQUwsS0FBb0JDLFFBQXhCLEVBQ0VYLElBQUksaUJBQUo7O0FBRUYsY0FBTXdCLGVBQWVDLEtBQUtDLEdBQUwsQ0FBVVIsT0FBTyxLQUFLSixTQUFaLEdBQXdCLEtBQUtSLGVBQUwsRUFBbEMsRUFBMkQsS0FBS08sTUFBaEUsQ0FBckI7O0FBRUEsZUFBS0QsU0FBTCxHQUFpQmUsV0FBVyxZQUFNO0FBQ2hDLG1CQUFLQyxNQUFMO0FBQ0QsV0FGZ0IsRUFFZEgsS0FBS0ksSUFBTCxDQUFVTCxlQUFlLElBQXpCLENBRmMsQ0FBakI7QUFHRCxTQVRELE1BU08sSUFBSSxLQUFLZCxVQUFMLEtBQW9CQyxRQUF4QixFQUFrQztBQUN2Q1gsY0FBSSxnQkFBSjtBQUNEOztBQUVELGFBQUtVLFVBQUwsR0FBa0JRLElBQWxCO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7Ozs7d0JBUWtCO0FBQ2hCO0FBQ0EsVUFBSSxLQUFLRyxNQUFULEVBQ0UsT0FBTyxLQUFLQSxNQUFMLENBQVlKLFdBQW5COztBQUVGLGFBQU8sS0FBS1IsYUFBTCxJQUFzQixLQUFLSCxlQUFMLEtBQXlCLEtBQUtRLFNBQTNEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7O3dCQVFnQjtBQUNkO0FBQ0EsVUFBSSxLQUFLTyxNQUFULEVBQ0UsT0FBTyxLQUFLQSxNQUFMLENBQVlTLFNBQW5COztBQUVGLGFBQU8sS0FBS2YsK0JBQUwsQ0FBcUMsS0FBS0UsV0FBMUMsQ0FBUDtBQUNEOzs7d0JBRXFCO0FBQ3BCLFVBQU1JLFNBQVMsS0FBS0EsTUFBcEI7O0FBRUEsVUFBSUEsVUFBVUEsT0FBT1UsZUFBUCxLQUEyQkMsU0FBekMsRUFDRSxPQUFPWCxPQUFPVSxlQUFkOztBQUVGLGFBQU9DLFNBQVA7QUFDRDs7QUFJRDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkE7Ozs7Ozs7Ozs7O0FBV0E7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7Ozs7RUFuS3NCQyx5Qjs7a0JBNktUNUIsUyIsImZpbGUiOiJTY2hlZHVsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IFNjaGVkdWxpbmdRdWV1ZSBmcm9tICcuLi9jb3JlL1NjaGVkdWxpbmdRdWV1ZSc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKCd3YXZlc2pzOm1hc3RlcnMnKTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiB7fS50b1N0cmluZy5jYWxsKGZ1bmN0aW9uVG9DaGVjaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogVGhlIGBTY2hlZHVsZXJgIGNsYXNzIGltcGxlbWVudHMgYSBtYXN0ZXIgZm9yIGBUaW1lRW5naW5lYCBpbnN0YW5jZXNcbiAqIHRoYXQgaW1wbGVtZW50IHRoZSAqc2NoZWR1bGVkKiBpbnRlcmZhY2UgKHN1Y2ggYXMgdGhlIGBNZXRyb25vbWVgIGFuZFxuICogYEdyYW51bGFyRW5naW5lYCkuXG4gKlxuICogQSBgU2NoZWR1bGVyYCBjYW4gYWxzbyBzY2hlZHVsZSBzaW1wbGUgY2FsbGJhY2sgZnVuY3Rpb25zLlxuICogVGhlIGNsYXNzIGlzIGJhc2VkIG9uIHJlY3Vyc2l2ZSBjYWxscyB0byBgc2V0VGltZW91dGAgYW5kIHVzZXMgdGhlIHRpbWVcbiAqIHJldHVybmVkIGJ5IHRoZSBgZ2V0VGltZUZ1bmN0aW9uYCBwYXNzZWQgYXMgZmlyc3QgYXJndW1lbnQgYXMgYSBsb2dpY2FsIHRpbWVcbiAqIHBhc3NlZCB0byB0aGUgYGFkdmFuY2VUaW1lYCBtZXRob2RzIG9mIHRoZSBzY2hlZHVsZWQgZW5naW5lcyBvciB0byB0aGVcbiAqIHNjaGVkdWxlZCBjYWxsYmFjayBmdW5jdGlvbnMuXG4gKiBJdCBleHRlbmRzIHRoZSBgU2NoZWR1bGluZ1F1ZXVlYCBjbGFzcyB0aGF0IGl0c2VsZiBpbmNsdWRlcyBhIGBQcmlvcml0eVF1ZXVlYFxuICogdG8gYXNzdXJlIHRoZSBvcmRlciBvZiB0aGUgc2NoZWR1bGVkIGVuZ2luZXMgKHNlZSBgU2ltcGxlU2NoZWR1bGVyYCBmb3IgYVxuICogc2ltcGxpZmllZCBzY2hlZHVsZXIgaW1wbGVtZW50YXRpb24gd2l0aG91dCBgUHJpb3JpdHlRdWV1ZWApLlxuICpcbiAqIHtAbGluayBodHRwczovL3Jhd2dpdC5jb20vd2F2ZXNqcy93YXZlcy1tYXN0ZXJzL21hc3Rlci9leGFtcGxlcy9zY2hlZHVsZXIvaW5kZXguaHRtbH1cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBnZXRUaW1lRnVuY3Rpb24gLSBGdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgdGltZSBpbiBzZWNvbmQuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gZGVmYXVsdCBvcHRpb25zLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBlcmlvZD0wLjAyNV0gLSBwZXJpb2Qgb2YgdGhlIHNjaGVkdWxlci5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sb29rYWhlYWQ9MC4xXSAtIGxvb2thaGVhZCBvZiB0aGUgc2NoZWR1bGVyLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmN1cnJlbnRUaW1lVG9BdWRpb1RpbWVGdW5jdGlvbl0gLSBmdW5jdGlvbiB0aGF0IGNvbnZlcnRcbiAqICBgY3VycmVudFRpbWVgIHRvIGBhdWRpb1RpbWVgLiBEZWZhdWx0cyB0byBuby1vcC5cbiAqXG4gKiBAc2VlIFRpbWVFbmdpbmVcbiAqIEBzZWUgU2ltcGxlU2NoZWR1bGVyXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIG1hc3RlcnMgZnJvbSAnd2F2ZXMtbWFzdGVycyc7XG4gKlxuICogY29uc3QgZ2V0VGltZUZ1bmN0aW9uID0gKCkgPT4gcHJlZm9ybWFuY2Uubm93KCkgLyAxMDAwO1xuICogY29uc3Qgc2NoZWR1bGVyID0gbmV3IG1hc3RlcnMuU2NoZWR1bGVyKGdldFRpbWVGdW5jdGlvbik7XG4gKlxuICogc2NoZWR1bGVyLmFkZChteUVuZ2luZSk7XG4gKi9cbmNsYXNzIFNjaGVkdWxlciBleHRlbmRzIFNjaGVkdWxpbmdRdWV1ZSB7XG4gIGNvbnN0cnVjdG9yKGdldFRpbWVGdW5jdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmICghaXNGdW5jdGlvbihnZXRUaW1lRnVuY3Rpb24pKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IGBnZXRUaW1lRnVuY3Rpb25gJyk7XG5cbiAgICB0aGlzLmdldFRpbWVGdW5jdGlvbiA9IGdldFRpbWVGdW5jdGlvbjtcblxuICAgIHRoaXMuX19jdXJyZW50VGltZSA9IG51bGw7XG4gICAgdGhpcy5fX25leHRUaW1lID0gSW5maW5pdHk7XG4gICAgdGhpcy5fX3RpbWVvdXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogc2NoZWR1bGVyIChzZXRUaW1lb3V0KSBwZXJpb2RcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBuYW1lIHBlcmlvZFxuICAgICAqIEBtZW1iZXJvZiBTY2hlZHVsZXJcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0aGlzLnBlcmlvZCA9IG9wdGlvbnMucGVyaW9kIHx8IMKgMC4wMjU7XG5cbiAgICAvKipcbiAgICAgKiBzY2hlZHVsZXIgbG9va2FoZWFkIHRpbWUgKD4gcGVyaW9kKVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgbG9va2FoZWFkXG4gICAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRoaXMubG9va2FoZWFkID0gb3B0aW9ucy5sb29rYWhlYWQgfHwgwqAwLjE7XG5cbiAgICB0aGlzLl9jdXJyZW50VGltZVRvQXVkaW9UaW1lRnVuY3Rpb24gPVxuICAgICAgb3B0aW9ucy5jdXJyZW50VGltZVRvQXVkaW9UaW1lRnVuY3Rpb24gfHzCoGZ1bmN0aW9uKGN1cnJlbnRUaW1lKSB7IHJldHVybiBjdXJyZW50VGltZSB9O1xuICB9XG5cbiAgLy8gc2V0VGltZW91dCBzY2hlZHVsaW5nIGxvb3BcbiAgX190aWNrKCkge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5nZXRUaW1lRnVuY3Rpb24oKTtcbiAgICBsZXQgdGltZSA9IHRoaXMuX19uZXh0VGltZTtcblxuICAgIHRoaXMuX190aW1lb3V0ID0gbnVsbDtcblxuICAgIHdoaWxlICh0aW1lIDw9IGN1cnJlbnRUaW1lICsgdGhpcy5sb29rYWhlYWQpIHtcbiAgICAgIHRoaXMuX19jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICB0aW1lID0gdGhpcy5hZHZhbmNlVGltZSh0aW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLl9fY3VycmVudFRpbWUgPSBudWxsO1xuICAgIHRoaXMucmVzZXRUaW1lKHRpbWUpO1xuICB9XG5cbiAgcmVzZXRUaW1lKHRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lKSB7XG4gICAgaWYgKHRoaXMubWFzdGVyKSB7XG4gICAgICB0aGlzLm1hc3Rlci5yZXNldCh0aGlzLCB0aW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuX190aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9fdGltZW91dCk7XG4gICAgICAgIHRoaXMuX190aW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWUgIT09IEluZmluaXR5KSB7XG4gICAgICAgIGlmICh0aGlzLl9fbmV4dFRpbWUgPT09IEluZmluaXR5KVxuICAgICAgICAgIGxvZygnU2NoZWR1bGVyIFN0YXJ0Jyk7XG5cbiAgICAgICAgY29uc3QgdGltZU91dERlbGF5ID0gTWF0aC5tYXgoKHRpbWUgLSB0aGlzLmxvb2thaGVhZCAtIHRoaXMuZ2V0VGltZUZ1bmN0aW9uKCkpLCB0aGlzLnBlcmlvZCk7XG5cbiAgICAgICAgdGhpcy5fX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9fdGljaygpO1xuICAgICAgICB9LCBNYXRoLmNlaWwodGltZU91dERlbGF5ICogMTAwMCkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9fbmV4dFRpbWUgIT09IEluZmluaXR5KSB7XG4gICAgICAgIGxvZygnU2NoZWR1bGVyIFN0b3AnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX25leHRUaW1lID0gdGltZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVyIGN1cnJlbnQgbG9naWNhbCB0aW1lLlxuICAgKlxuICAgKiBAbmFtZSBjdXJyZW50VGltZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2NoZWR1bGVyXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIC8vIEBub3RlIC0gY2FuIHRoaXMgcmVhbGx5IGhhcHBlbiwgYW5kIGlmIHllcywgaW4gd2hpY2ggY2FzZT9cbiAgICBpZiAodGhpcy5tYXN0ZXIpXG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXIuY3VycmVudFRpbWU7XG5cbiAgICByZXR1cm4gdGhpcy5fX2N1cnJlbnRUaW1lIHx8IHRoaXMuZ2V0VGltZUZ1bmN0aW9uKCkgKyB0aGlzLmxvb2thaGVhZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXIgY3VycmVudCBhdWRpbyB0aW1lIGFjY29yZGluZyB0byBgY3VycmVudFRpbWVgXG4gICAqXG4gICAqIEBuYW1lIGF1ZGlvVGltZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbWVtYmVyaWYgU2NoZWR1bGVyXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IGF1ZGlvVGltZSgpIHtcbiAgICAvLyBAbm90ZSAtIGFkZCB0aGlzIGFzIGluXG4gICAgaWYgKHRoaXMubWFzdGVyKVxuICAgICAgcmV0dXJuIHRoaXMubWFzdGVyLmF1ZGlvVGltZTtcblxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50VGltZVRvQXVkaW9UaW1lRnVuY3Rpb24odGhpcy5jdXJyZW50VGltZSk7XG4gIH1cblxuICBnZXQgY3VycmVudFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IG1hc3RlciA9IHRoaXMubWFzdGVyO1xuXG4gICAgaWYgKG1hc3RlciAmJiBtYXN0ZXIuY3VycmVudFBvc2l0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gbWFzdGVyLmN1cnJlbnRQb3NpdGlvbjtcblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuXG5cbiAgLy8gaW5oZXJpdGVkIGZyb20gc2NoZWR1bGluZyBxdWV1ZVxuICAvKipcbiAgICogQWRkIGEgVGltZUVuZ2luZSBvciBhIHNpbXBsZSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGUgc2NoZWR1bGVyIGF0IGFuXG4gICAqIG9wdGlvbmFsbHkgZ2l2ZW4gdGltZS4gV2hldGhlciB0aGUgYWRkIG1ldGhvZCBpcyBjYWxsZWQgd2l0aCBhIFRpbWVFbmdpbmVcbiAgICogb3IgYSBjYWxsYmFjayBmdW5jdGlvbiBpdCByZXR1cm5zIGEgVGltZUVuZ2luZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGFyZ3VtZW50XG4gICAqIG9mIHRoZSBtZXRob2RzIHJlbW92ZSBhbmQgcmVzZXRFbmdpbmVUaW1lLiBBIFRpbWVFbmdpbmUgYWRkZWQgdG8gYSBzY2hlZHVsZXJcbiAgICogaGFzIHRvIGltcGxlbWVudCB0aGUgc2NoZWR1bGVkIGludGVyZmFjZS4gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGFkZGVkIHRvIGFcbiAgICogc2NoZWR1bGVyIHdpbGwgYmUgY2FsbGVkIGF0IHRoZSBnaXZlbiB0aW1lIGFuZCB3aXRoIHRoZSBnaXZlbiB0aW1lIGFzXG4gICAqIGFyZ3VtZW50LiBUaGUgY2FsbGJhY2sgY2FuIHJldHVybiBhIG5ldyBzY2hlZHVsaW5nIHRpbWUgKGkuZS4gdGhlIG5leHRcbiAgICogdGltZSB3aGVuIGl0IHdpbGwgYmUgY2FsbGVkKSBvciBpdCBjYW4gcmV0dXJuIEluZmluaXR5IHRvIHN1c3BlbmQgc2NoZWR1bGluZ1xuICAgKiB3aXRob3V0IHJlbW92aW5nIHRoZSBmdW5jdGlvbiBmcm9tIHRoZSBzY2hlZHVsZXIuIEEgZnVuY3Rpb24gdGhhdCBkb2VzXG4gICAqIG5vdCByZXR1cm4gYSB2YWx1ZSAob3IgcmV0dXJucyBudWxsIG9yIDApIGlzIHJlbW92ZWQgZnJvbSB0aGUgc2NoZWR1bGVyXG4gICAqIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBhcmd1bWVudCBvZiB0aGUgbWV0aG9kcyByZW1vdmUgYW5kIHJlc2V0RW5naW5lVGltZVxuICAgKiBhbnltb3JlLlxuICAgKlxuICAgKiBAbmFtZSBhZGRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJvZiBTY2hlZHVsZXJcbiAgICogQGluc3RhbmNlXG4gICAqIEBwYXJhbSB7VGltZUVuZ2luZXxGdW5jdGlvbn0gZW5naW5lIC0gRW5naW5lIHRvIGFkZCB0byB0aGUgc2NoZWR1bGVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZT10aGlzLmN1cnJlbnRUaW1lXSAtIFNjaGVkdWxlIHRpbWVcbiAgICovXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBUaW1lRW5naW5lIGZyb20gdGhlIHNjaGVkdWxlciB0aGF0IGhhcyBiZWVuIGFkZGVkIHRvIHRoZVxuICAgKiBzY2hlZHVsZXIgdXNpbmcgdGhlIGFkZCBtZXRob2QuXG4gICAqXG4gICAqIEBuYW1lIGFkZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgKiBAaW5zdGFuY2VcbiAgICogQHBhcmFtIHtUaW1lRW5naW5lfSBlbmdpbmUgLSBFbmdpbmUgdG8gcmVtb3ZlIGZyb20gdGhlIHNjaGVkdWxlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWU9dGhpcy5jdXJyZW50VGltZV0gLSBTY2hlZHVsZSB0aW1lXG4gICAqL1xuICAvKipcbiAgICogUmVzY2hlZHVsZSBhIHNjaGVkdWxlZCB0aW1lIGVuZ2luZSBhdCBhIGdpdmVuIHRpbWUuXG4gICAqXG4gICAqIEBuYW1lIHJlc2V0RW5naW5lVGltZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgKiBAaW5zdGFuY2VcbiAgICogQHBhcmFtIHtUaW1lRW5naW5lfSBlbmdpbmUgLSBFbmdpbmUgdG8gcmVzY2hlZHVsZVxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSAtIFNjaGVkdWxlIHRpbWVcbiAgICovXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHNjaGVkdWxlZCBjYWxsYmFja3MgYW5kIGVuZ2luZXMgZnJvbSB0aGUgc2NoZWR1bGVyLlxuICAgKlxuICAgKiBAbmFtZSBjbGVhclxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlcm9mIFNjaGVkdWxlclxuICAgKiBAaW5zdGFuY2VcbiAgICovXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjaGVkdWxlcjtcbiJdfQ==","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","../core/SchedulingQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectList.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectList.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nvar _elements = require('../utils/elements');\n\nvar elements = _interopRequireWildcard(_elements);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  options: null,\n  default: null,\n  container: null,\n  callback: null\n\n  /**\n   * Drop-down list controller.\n   *\n   * @param {Object} config - Override default parameters.\n   * @param {String} config.label - Label of the controller.\n   * @param {Array} [config.options=null] - Values of the drop down list.\n   * @param {Number} [config.default=null] - Default value.\n   * @param {String|Element|basic-controller~Group} [config.container=null] -\n   *  Container of the controller.\n   * @param {Function} [config.callback=null] - Callback to be executed when the\n   *  value changes.\n   *\n   * @example\n   * import * as controllers from 'basic-controllers';\n   *\n   * const selectList = new controllers.SelectList({\n   *   label: 'SelectList',\n   *   options: ['standby', 'run', 'end'],\n   *   default: 'run',\n   *   container: '#container',\n   *   callback: (value, index) => console.log(value, index),\n   * });\n   */\n};\nvar SelectList = function (_display) {\n  _inherits(SelectList, _display);\n\n  function SelectList(config) {\n    _classCallCheck(this, SelectList);\n\n    var _this = _possibleConstructorReturn(this, (SelectList.__proto__ || Object.getPrototypeOf(SelectList)).call(this, 'select-list', defaults, config));\n\n    if (!Array.isArray(_this.params.options)) throw new Error('TriggerButton: Invalid option \"options\"');\n\n    _this._value = _this.params.default;\n\n    var options = _this.params.options;\n    var index = options.indexOf(_this._value);\n    _this._index = index === -1 ? 0 : index;\n    _this._maxIndex = options.length - 1;\n\n    _get(SelectList.prototype.__proto__ || Object.getPrototypeOf(SelectList.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Current value.\n   * @type {String}\n   */\n\n\n  _createClass(SelectList, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var _params = this.params,\n          label = _params.label,\n          options = _params.options;\n\n      var content = '\\n      <span class=\"label\">' + label + '</span>\\n      <div class=\"inner-wrapper\">\\n        ' + elements.arrowLeft + '\\n        <select>\\n        ' + options.map(function (option, index) {\n        return '<option value=\"' + option + '\">' + option + '</option>';\n      }).join('') + '\\n        <select>\\n        ' + elements.arrowRight + '\\n      </div>\\n    ';\n\n      this.$el = _get(SelectList.prototype.__proto__ || Object.getPrototypeOf(SelectList.prototype), 'render', this).call(this, this.type);\n      this.$el.classList.add('align-small');\n      this.$el.innerHTML = content;\n\n      this.$prev = this.$el.querySelector('.arrow-left');\n      this.$next = this.$el.querySelector('.arrow-right');\n      this.$select = this.$el.querySelector('select');\n      // set to default value\n      this.$select.value = options[this._index];\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$prev.addEventListener('click', function () {\n        var index = _this2._index - 1;\n        _this2._propagate(index);\n      }, false);\n\n      this.$next.addEventListener('click', function () {\n        var index = _this2._index + 1;\n        _this2._propagate(index);\n      }, false);\n\n      this.$select.addEventListener('change', function () {\n        var value = _this2.$select.value;\n        var index = _this2.params.options.indexOf(value);\n        _this2._propagate(index);\n      });\n    }\n\n    /** @private */\n\n  }, {\n    key: '_propagate',\n    value: function _propagate(index) {\n      if (index < 0 || index > this._maxIndex) return;\n\n      var value = this.params.options[index];\n      this._index = index;\n      this._value = value;\n      this.$select.value = value;\n\n      this.executeListeners(this._value, this._index);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.$select.value = value;\n      this._value = value;\n      this._index = this.params.options.indexOf(value);\n    }\n\n    /**\n     * Current option index.\n     * @type {Number}\n     */\n\n  }, {\n    key: 'index',\n    get: function get() {\n      return this._index;\n    },\n    set: function set(index) {\n      if (index < 0 || index > this._maxIndex) return;\n      this.value = this.params.options[index];\n    }\n  }]);\n\n  return SelectList;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = SelectList;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdExpc3QuanMiXSwibmFtZXMiOlsiZWxlbWVudHMiLCJkZWZhdWx0cyIsImxhYmVsIiwib3B0aW9ucyIsImRlZmF1bHQiLCJjb250YWluZXIiLCJjYWxsYmFjayIsIlNlbGVjdExpc3QiLCJjb25maWciLCJBcnJheSIsImlzQXJyYXkiLCJwYXJhbXMiLCJFcnJvciIsIl92YWx1ZSIsImluZGV4IiwiaW5kZXhPZiIsIl9pbmRleCIsIl9tYXhJbmRleCIsImxlbmd0aCIsImNvbnRlbnQiLCJhcnJvd0xlZnQiLCJtYXAiLCJvcHRpb24iLCJqb2luIiwiYXJyb3dSaWdodCIsIiRlbCIsInR5cGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCIkcHJldiIsInF1ZXJ5U2VsZWN0b3IiLCIkbmV4dCIsIiRzZWxlY3QiLCJ2YWx1ZSIsIl9iaW5kRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9wcm9wYWdhdGUiLCJleGVjdXRlTGlzdGVuZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztJQUFZQSxROzs7Ozs7Ozs7Ozs7QUFFWjs7QUFFQSxJQUFNQyxXQUFXO0FBQ2ZDLFNBQU8sUUFEUTtBQUVmQyxXQUFTLElBRk07QUFHZkMsV0FBUyxJQUhNO0FBSWZDLGFBQVcsSUFKSTtBQUtmQyxZQUFVOztBQUdaOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVJpQixDQUFqQjtJQStCTUMsVTs7O0FBQ0osc0JBQVlDLE1BQVosRUFBb0I7QUFBQTs7QUFBQSx3SEFDWixhQURZLEVBQ0dQLFFBREgsRUFDYU8sTUFEYjs7QUFHbEIsUUFBSSxDQUFDQyxNQUFNQyxPQUFOLENBQWMsTUFBS0MsTUFBTCxDQUFZUixPQUExQixDQUFMLEVBQ0UsTUFBTSxJQUFJUyxLQUFKLENBQVUseUNBQVYsQ0FBTjs7QUFFRixVQUFLQyxNQUFMLEdBQWMsTUFBS0YsTUFBTCxDQUFZUCxPQUExQjs7QUFFQSxRQUFNRCxVQUFVLE1BQUtRLE1B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QjtBQUNBLFdBQUtyQixNQUFMLEdBQWNxQixLQUFkO0FBQ0EsV0FBS2xCLE1BQUwsR0FBYyxLQUFLTCxNQUFMLENBQVlSLE9BQVosQ0FBb0JZLE9BQXBCLENBQTRCbUIsS0FBNUIsQ0FBZDtBQUNEOztBQUVEOzs7Ozs7O3dCQUlZO0FBQ1YsYUFBTyxLQUFLbEIsTUFBWjtBQUNELEs7c0JBRVNGLEssRUFBTztBQUNmLFVBQUlBLFFBQVEsQ0FBUixJQUFhQSxRQUFRLEtBQUtHLFNBQTlCLEVBQXlDO0FBQ3pDLFdBQUtpQixLQUFMLEdBQWEsS0FBS3ZCLE1BQUwsQ0FBWVIsT0FBWixDQUFvQlcsS0FBcEIsQ0FBYjtBQUNEOzs7O0VBMUNzQiwrQzs7a0JBMEdWUCxVIiwiZmlsZSI6IlNlbGVjdExpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuaW1wb3J0ICogYXMgZWxlbWVudHMgZnJvbSAnLi4vdXRpbHMvZWxlbWVudHMnO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBvcHRpb25zOiBudWxsLFxuICBkZWZhdWx0OiBudWxsLFxuICBjb250YWluZXI6IG51bGwsXG4gIGNhbGxiYWNrOiBudWxsLFxufVxuXG4vKipcbiAqIERyb3AtZG93biBsaXN0IGNvbnRyb2xsZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIE92ZXJyaWRlIGRlZmF1bHQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcubGFiZWwgLSBMYWJlbCBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcub3B0aW9ucz1udWxsXSAtIFZhbHVlcyBvZiB0aGUgZHJvcCBkb3duIGxpc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kZWZhdWx0PW51bGxdIC0gRGVmYXVsdCB2YWx1ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8YmFzaWMtY29udHJvbGxlcn5Hcm91cH0gW2NvbmZpZy5jb250YWluZXI9bnVsbF0gLVxuICogIENvbnRhaW5lciBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuY2FsbGJhY2s9bnVsbF0gLSBDYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIHRoZVxuICogIHZhbHVlIGNoYW5nZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJ2Jhc2ljLWNvbnRyb2xsZXJzJztcbiAqXG4gKiBjb25zdCBzZWxlY3RMaXN0ID0gbmV3IGNvbnRyb2xsZXJzLlNlbGVjdExpc3Qoe1xuICogICBsYWJlbDogJ1NlbGVjdExpc3QnLFxuICogICBvcHRpb25zOiBbJ3N0YW5kYnknLCAncnVuJywgJ2VuZCddLFxuICogICBkZWZhdWx0OiAncnVuJyxcbiAqICAgY29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gKiAgIGNhbGxiYWNrOiAodmFsdWUsIGluZGV4KSA9PiBjb25zb2xlLmxvZyh2YWx1ZSwgaW5kZXgpLFxuICogfSk7XG4gKi9cbmNsYXNzIFNlbGVjdExpc3QgZXh0ZW5kcyBkaXNwbGF5KEJhc2VDb21wb25lbnQpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ3NlbGVjdC1saXN0JywgZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wYXJhbXMub3B0aW9ucykpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyaWdnZXJCdXR0b246IEludmFsaWQgb3B0aW9uIFwib3B0aW9uc1wiJyk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMucGFyYW1zLmRlZmF1bHQ7XG5cbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5wYXJhbXMub3B0aW9ucztcbiAgICBjb25zdCBpbmRleCA9IG9wdGlvbnMuaW5kZXhPZih0aGlzLl92YWx1ZSk7XG4gICAgdGhpcy5faW5kZXggPSBpbmRleCA9PT0gLTEgP8KgMCA6IGluZGV4O1xuICAgIHRoaXMuX21heEluZGV4ID0gb3B0aW9ucy5sZW5ndGggLSAxO1xuXG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgdmFsdWUuXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy4kc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl9pbmRleCA9IHRoaXMucGFyYW1zLm9wdGlvbnMuaW5kZXhPZih2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCBvcHRpb24gaW5kZXguXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgaW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2luZGV4O1xuICB9XG5cbiAgc2V0IGluZGV4KGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuX21heEluZGV4KSByZXR1cm47XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMucGFyYW1zLm9wdGlvbnNbaW5kZXhdO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhYmVsLCBvcHRpb25zwqB9ID0gdGhpcy5wYXJhbXM7XG4gICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci13cmFwcGVyXCI+XG4gICAgICAgICR7ZWxlbWVudHMuYXJyb3dMZWZ0fVxuICAgICAgICA8c2VsZWN0PlxuICAgICAgICAke29wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPVwiJHtvcHRpb259XCI+JHtvcHRpb259PC9vcHRpb24+YDtcbiAgICAgICAgfSkuam9pbignJyl9XG4gICAgICAgIDxzZWxlY3Q+XG4gICAgICAgICR7ZWxlbWVudHMuYXJyb3dSaWdodH1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICB0aGlzLiRlbCA9IHN1cGVyLnJlbmRlcih0aGlzLnR5cGUpO1xuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2FsaWduLXNtYWxsJyk7XG4gICAgdGhpcy4kZWwuaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgIHRoaXMuJHByZXYgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctbGVmdCcpO1xuICAgIHRoaXMuJG5leHQgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctcmlnaHQnKTtcbiAgICB0aGlzLiRzZWxlY3QgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcbiAgICAvLyBzZXQgdG8gZGVmYXVsdCB2YWx1ZVxuICAgIHRoaXMuJHNlbGVjdC52YWx1ZSA9IG9wdGlvbnNbdGhpcy5faW5kZXhdO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgIHJldHVybiB0aGlzLiRlbDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRwcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9pbmRleCAtIDE7XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoaW5kZXgpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIHRoaXMuJG5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGV4ICsgMTtcbiAgICAgIHRoaXMuX3Byb3BhZ2F0ZShpbmRleCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgdGhpcy4kc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy4kc2VsZWN0LnZhbHVlO1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBhcmFtcy5vcHRpb25zLmluZGV4T2YodmFsdWUpO1xuICAgICAgdGhpcy5fcHJvcGFnYXRlKGluZGV4KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfcHJvcGFnYXRlKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fMKgaW5kZXggPiB0aGlzLl9tYXhJbmRleCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnBhcmFtcy5vcHRpb25zW2luZGV4XTtcbiAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy4kc2VsZWN0LnZhbHVlID0gdmFsdWU7XG5cbiAgICB0aGlzLmV4ZWN1dGVMaXN0ZW5lcnModGhpcy5fdmFsdWUsIHRoaXMuX2luZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RMaXN0O1xuIl19","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","../utils/elements":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Toggle.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Toggle.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nvar _elements = require('../utils/elements');\n\nvar elements = _interopRequireWildcard(_elements);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&bnsp;',\n  active: false,\n  container: null,\n  callback: null\n};\n\n/**\n * On/Off controller.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} config.label - Label of the controller.\n * @param {Array} [config.active=false] - Default state of the toggle.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n * @param {Function} [config.callback=null] - Callback to be executed when the\n *  value changes.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const toggle = new controllers.Toggle({\n *   label: 'My Toggle',\n *   active: false,\n *   container: '#container',\n *   callback: (active) => console.log(active),\n * });\n */\n\nvar Toggle = function (_display) {\n  _inherits(Toggle, _display);\n\n  function Toggle(config) {\n    _classCallCheck(this, Toggle);\n\n    var _this = _possibleConstructorReturn(this, (Toggle.__proto__ || Object.getPrototypeOf(Toggle)).call(this, 'toggle', defaults, config));\n\n    _this._active = _this.params.active;\n\n    _get(Toggle.prototype.__proto__ || Object.getPrototypeOf(Toggle.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Value of the toggle\n   * @type {Boolean}\n   */\n\n\n  _createClass(Toggle, [{\n    key: '_updateBtn',\n\n\n    /** @private */\n    value: function _updateBtn() {\n      var method = this.active ? 'add' : 'remove';\n      this.$toggle.classList[method]('active');\n    }\n\n    /** @private */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var content = '\\n      <span class=\"label\">' + this.params.label + '</span>\\n      <div class=\"inner-wrapper\">\\n        ' + elements.toggle + '\\n      </div>';\n\n      this.$el = _get(Toggle.prototype.__proto__ || Object.getPrototypeOf(Toggle.prototype), 'render', this).call(this);\n      this.$el.classList.add('align-small');\n      this.$el.innerHTML = content;\n\n      this.$toggle = this.$el.querySelector('.toggle-element');\n      // initialize state\n      this.active = this._active;\n      this.bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      var _this2 = this;\n\n      this.$toggle.addEventListener('click', function (e) {\n        e.preventDefault();\n\n        _this2.active = !_this2.active;\n        _this2.executeListeners(_this2._active);\n      });\n    }\n  }, {\n    key: 'value',\n    set: function set(bool) {\n      this.active = bool;\n    },\n    get: function get() {\n      return this._active;\n    }\n\n    /**\n     * Alias for `value`.\n     * @type {Boolean}\n     */\n\n  }, {\n    key: 'active',\n    set: function set(bool) {\n      this._active = bool;\n      this._updateBtn();\n    },\n    get: function get() {\n      return this._active;\n    }\n  }]);\n\n  return Toggle;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = Toggle;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvZ2dsZS5qcyJdLCJuYW1lcyI6WyJlbGVtZW50cyIsImRlZmF1bHRzIiwibGFiZWwiLCJhY3RpdmUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsIlRvZ2dsZSIsImNvbmZpZyIsIl9hY3RpdmUiLCJwYXJhbXMiLCJtZXRob2QiLCIkdG9nZ2xlIiwiY2xhc3NMaXN0IiwiY29udGVudCIsInRvZ2dsZSIsIiRlbCIsImFkZCIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3IiLCJiaW5kRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImV4ZWN1dGVMaXN0ZW5lcnMiLCJib29sIiwiX3VwZGF0ZUJ0biJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7SUFBWUEsUTs7Ozs7Ozs7Ozs7O0FBRVo7O0FBRUEsSUFBTUMsV0FBVztBQUNmQyxTQUFPLFFBRFE7QUFFZkMsVUFBUSxLQUZPO0FBR2ZDLGFBQVcsSUFISTtBQUlmQyxZQUFVO0FBSkssQ0FBakI7O0FBT0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQk1DLE07OztBQUNKLGtCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUEsZ0hBQ1osUUFEWSxFQUNGTixRQURFLEVBQ1FNLE1BRFI7O0FBR2xCLFVBQUtDLE9BQUwsR0FBZSxNQUFLQyxNQUFMLENBQVlOLE1BQTNCOztBQUVBO0FBTGtCO0FBTW5COztBQUVEOzs7Ozs7Ozs7O0FBeUJBO2lDQUNhO0FBQ1gsVUFBSU8sU0FBUyxLQUFLUCxNQUFMLEdBQWMsS0FBZCxHQUFzQixRQUFuQztBQUNBLFdBQUtRLE9BQUwsQ0FBYUMsU0FBYixDQUF1QkYsTUFBdkIsRUFBK0IsUUFBL0I7QUFDRDs7QUFFRDs7Ozs2QkFDUztBQUNQLFVBQUlHLDJDQUNvQixLQUFLSixNQUFMLENBQVlQLEtBRGhDLDREQUdFRixTQUFTYyxNQUhYLG1CQUFKOztBQU1BLFdBQUtDLEdBQUw7QUFDQSxXQUFLQSxHQUFMLENBQVNILFNBQVQsQ0FBbUJJLEdBQW5CLENBQXVCLGFBQXZCO0FBQ0EsV0FBS0QsR0FBTCxDQUFTRSxTQUFULEdBQXFCSixPQUFyQjs7QUFFQSxXQUFLRixPQUFMLEdBQWUsS0FBS0ksR0FBTCxDQUFTRyxhQUFULENBQXVCLGlCQUF2QixDQUFmO0FBQ0E7QUFDQSxXQUFLZixNQUFMLEdBQWMsS0FBS0ssT0FBbkI7QUFDQSxXQUFLVyxVQUFMOztBQUVBLGFBQU8sS0FBS0osR0FBWjtBQUNEOztBQUVEOzs7O2lDQUNhO0FBQUE7O0FBQ1gsV0FBS0osT0FBTCxDQUFhUyxnQkFBYixDQUE4QixPQUE5QixFQUF1QyxVQUFDQyxDQUFELEVBQU87QUFDNUNBLFVBQUVDLGNBQUY7O0FBRUEsZUFBS25CLE1BQUwsR0FBYyxDQUFDLE9BQUtBLE1BQXBCO0FBQ0EsZUFBS29CLGdCQUFMLENBQXNCLE9BQUtmLE9BQTNCO0FBQ0QsT0FMRDtBQU1EOzs7c0JBdkRTZ0IsSSxFQUFNO0FBQ2QsV0FBS3JCLE1BQUwsR0FBY3FCLElBQWQ7QUFDRCxLO3dCQUVXO0FBQ1YsYUFBTyxLQUFLaEIsT0FBWjtBQUNEOztBQUVEOzs7Ozs7O3NCQUlXZ0IsSSxFQUFNO0FBQ2YsV0FBS2hCLE9BQUwsR0FBZWdCLElBQWY7QUFDQSxXQUFLQyxVQUFMO0FBQ0QsSzt3QkFFWTtBQUNYLGFBQU8sS0FBS2pCLE9BQVo7QUFDRDs7OztFQWhDa0IsK0M7O2tCQXVFTkYsTSIsImZpbGUiOiJUb2dnbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuaW1wb3J0ICogYXMgZWxlbWVudHMgZnJvbSAnLi4vdXRpbHMvZWxlbWVudHMnO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmYm5zcDsnLFxuICBhY3RpdmU6IGZhbHNlLFxuICBjb250YWluZXI6IG51bGwsXG4gIGNhbGxiYWNrOiBudWxsLFxufTtcblxuLyoqXG4gKiBPbi9PZmYgY29udHJvbGxlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gT3ZlcnJpZGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5sYWJlbCAtIExhYmVsIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5hY3RpdmU9ZmFsc2VdIC0gRGVmYXVsdCBzdGF0ZSBvZiB0aGUgdG9nZ2xlLlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxiYXNpYy1jb250cm9sbGVyfkdyb3VwfSBbY29uZmlnLmNvbnRhaW5lcj1udWxsXSAtXG4gKiAgQ29udGFpbmVyIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5jYWxsYmFjaz1udWxsXSAtIENhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlXG4gKiAgdmFsdWUgY2hhbmdlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgY29udHJvbGxlcnMgZnJvbSAnYmFzaWMtY29udHJvbGxlcnMnO1xuICpcbiAqIGNvbnN0IHRvZ2dsZSA9IG5ldyBjb250cm9sbGVycy5Ub2dnbGUoe1xuICogICBsYWJlbDogJ015IFRvZ2dsZScsXG4gKiAgIGFjdGl2ZTogZmFsc2UsXG4gKiAgIGNvbnRhaW5lcjogJyNjb250YWluZXInLFxuICogICBjYWxsYmFjazogKGFjdGl2ZSkgPT4gY29uc29sZS5sb2coYWN0aXZlKSxcbiAqIH0pO1xuICovXG5jbGFzcyBUb2dnbGUgZXh0ZW5kcyBkaXNwbGF5KEJhc2VDb21wb25lbnQpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ3RvZ2dsZScsIGRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgdGhpcy5fYWN0aXZlID0gdGhpcy5wYXJhbXMuYWN0aXZlO1xuXG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHRoZSB0b2dnbGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBzZXQgdmFsdWUoYm9vbCkge1xuICAgIHRoaXMuYWN0aXZlID0gYm9vbDtcbiAgfVxuXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBgdmFsdWVgLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHNldCBhY3RpdmUoYm9vbCkge1xuICAgIHRoaXMuX2FjdGl2ZSA9IGJvb2w7XG4gICAgdGhpcy5fdXBkYXRlQnRuKCk7XG4gIH1cblxuICBnZXQgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX3VwZGF0ZUJ0bigpIHtcbiAgICB2YXIgbWV0aG9kID0gdGhpcy5hY3RpdmUgPyAnYWRkJyA6ICdyZW1vdmUnO1xuICAgIHRoaXMuJHRvZ2dsZS5jbGFzc0xpc3RbbWV0aG9kXSgnYWN0aXZlJyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjb250ZW50ID0gYFxuICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbFwiPiR7dGhpcy5wYXJhbXMubGFiZWx9PC9zcGFuPlxuICAgICAgPGRpdiBjbGFzcz1cImlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgJHtlbGVtZW50cy50b2dnbGV9XG4gICAgICA8L2Rpdj5gO1xuXG4gICAgdGhpcy4kZWwgPSBzdXBlci5yZW5kZXIoKTtcbiAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKCdhbGlnbi1zbWFsbCcpO1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGNvbnRlbnQ7XG5cbiAgICB0aGlzLiR0b2dnbGUgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcudG9nZ2xlLWVsZW1lbnQnKTtcbiAgICAvLyBpbml0aWFsaXplIHN0YXRlXG4gICAgdGhpcy5hY3RpdmUgPSB0aGlzLl9hY3RpdmU7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG5cbiAgICByZXR1cm4gdGhpcy4kZWw7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiR0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZTtcbiAgICAgIHRoaXMuZXhlY3V0ZUxpc3RlbmVycyh0aGlzLl9hY3RpdmUpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvZ2dsZTtcbiJdfQ==","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","../utils/elements":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/DragAndDrop.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/DragAndDrop.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: 'Drag and drop audio files',\n  labelProcess: 'process...',\n  audioContext: null,\n  container: null,\n  callback: null\n};\n\n/**\n * Drag and drop zone for audio files returning `AudioBuffer`s and/or JSON\n * descriptor data.\n *\n * @param {Object} config - Override default parameters.\n * @param {String} [config.label='Drag and drop audio files'] - Label of the\n *  controller.\n * @param {String} [config.labelProcess='process...'] - Label of the controller\n *  while audio files are decoded.\n * @param {AudioContext} [config.audioContext=null] - Optionnal audio context\n *  to use in order to decode audio files.\n * @param {String|Element|basic-controller~Group} [config.container=null] -\n *  Container of the controller.\n * @param {Function} [config.callback=null] - Callback to be executed when the\n *  value changes.\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const dragAndDrop = new controllers.DragAndDrop({\n *   container: '#container',\n *   callback: (results) => console.log(results),\n * });\n */\n\nvar DragAndDrop = function (_display) {\n  _inherits(DragAndDrop, _display);\n\n  function DragAndDrop(options) {\n    _classCallCheck(this, DragAndDrop);\n\n    var _this = _possibleConstructorReturn(this, (DragAndDrop.__proto__ || Object.getPrototypeOf(DragAndDrop)).call(this, 'drag-and-drop', defaults, options));\n\n    _this._value = null;\n\n    if (!_this.params.audioContext) _this.params.audioContext = new AudioContext();\n\n    _get(DragAndDrop.prototype.__proto__ || Object.getPrototypeOf(DragAndDrop.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Get the last results\n   * @type {Object<String, AudioBuffer|JSON>}\n   * @readonly\n   */\n\n\n  _createClass(DragAndDrop, [{\n    key: 'render',\n    value: function render() {\n      var label = this.params.label;\n\n      var content = '\\n      <div class=\"drop-zone\">\\n        <p class=\"label\">' + label + '</p>\\n      </div>\\n    ';\n\n      this.$el = _get(DragAndDrop.prototype.__proto__ || Object.getPrototypeOf(DragAndDrop.prototype), 'render', this).call(this);\n      this.$el.innerHTML = content;\n      this.$dropZone = this.$el.querySelector('.drop-zone');\n      this.$label = this.$el.querySelector('.label');\n\n      this._bindEvents();\n\n      return this.$el;\n    }\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$dropZone.addEventListener('dragover', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this2.$dropZone.classList.add('drag');\n        e.dataTransfer.dropEffect = 'copy';\n      }, false);\n\n      this.$dropZone.addEventListener('dragleave', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this2.$dropZone.classList.remove('drag');\n      }, false);\n\n      this.$dropZone.addEventListener('drop', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        var files = Array.from(e.dataTransfer.files);\n        var audioFiles = files.filter(function (file) {\n          if (/^audio/.test(file.type)) {\n            file.shortType = 'audio';\n            return true;\n          } else if (/json$/.test(file.type)) {\n            file.shortType = 'json';\n            return true;\n          }\n\n          return false;\n        });\n\n        var results = {};\n        var counter = 0;\n\n        _this2.$label.textContent = _this2.params.labelProcess;\n\n        var testEnd = function testEnd() {\n          counter += 1;\n\n          if (counter === audioFiles.length) {\n            _this2._value = results;\n            _this2.executeListeners(results);\n\n            _this2.$dropZone.classList.remove('drag');\n            _this2.$label.textContent = _this2.params.label;\n          }\n        };\n\n        files.forEach(function (file, index) {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            if (file.shortType === 'json') {\n              results[file.name] = JSON.parse(e.target.result);\n              testEnd();\n            } else if (file.shortType === 'audio') {\n              _this2.params.audioContext.decodeAudioData(e.target.result).then(function (audioBuffer) {\n                results[file.name] = audioBuffer;\n                testEnd();\n              }).catch(function (err) {\n                results[file.name] = null;\n                testEnd();\n              });\n            }\n          };\n\n          if (file.shortType === 'json') reader.readAsText(file);else if (file.shortType === 'audio') reader.readAsArrayBuffer(file);\n        });\n      }, false);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    }\n  }]);\n\n  return DragAndDrop;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = DragAndDrop;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRyYWdBbmREcm9wLmpzIl0sIm5hbWVzIjpbIkF1ZGlvQ29udGV4dCIsIndpbmRvdyIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImRlZmF1bHRzIiwibGFiZWwiLCJsYWJlbFByb2Nlc3MiLCJhdWRpb0NvbnRleHQiLCJjb250YWluZXIiLCJjYWxsYmFjayIsIkRyYWdBbmREcm9wIiwib3B0aW9ucyIsIl92YWx1ZSIsInBhcmFtcyIsImNvbnRlbnQiLCIkZWwiLCJpbm5lckhUTUwiLCIkZHJvcFpvbmUiLCJxdWVyeVNlbGVjdG9yIiwiJGxhYmVsIiwiX2JpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsInJlbW92ZSIsImZpbGVzIiwiQXJyYXkiLCJmcm9tIiwiYXVkaW9GaWxlcyIsImZpbHRlciIsImZpbGUiLCJ0ZXN0IiwidHlwZSIsInNob3J0VHlwZSIsInJlc3VsdHMiLCJjb3VudGVyIiwidGV4dENvbnRlbnQiLCJ0ZXN0RW5kIiwibGVuZ3RoIiwiZXhlY3V0ZUxpc3RlbmVycyIsImZvckVhY2giLCJpbmRleCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJuYW1lIiwiSlNPTiIsInBhcnNlIiwidGFyZ2V0IiwicmVzdWx0IiwiZGVjb2RlQXVkaW9EYXRhIiwidGhlbiIsImF1ZGlvQnVmZmVyIiwiY2F0Y2giLCJlcnIiLCJyZWFkQXNUZXh0IiwicmVhZEFzQXJyYXlCdWZmZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxlQUFnQkMsT0FBT0QsWUFBUCxJQUF1QkMsT0FBT0Msa0JBQXBEOztBQUVBOztBQUVBLElBQU1DLFdBQVc7QUFDZkMsU0FBTywyQkFEUTtBQUVmQyxnQkFBYyxZQUZDO0FBR2ZDLGdCQUFjLElBSEM7QUFJ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dCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuXG5jb25zdCBBdWRpb0NvbnRleHQgPSAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTtcblxuLyoqIEBtb2R1bGUgYmFzaWMtY29udHJvbGxlcnMgKi9cblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGxhYmVsOiAnRHJhZyBhbmQgZHJvcCBhdWRpbyBmaWxlcycsXG4gIGxhYmVsUHJvY2VzczogJ3Byb2Nlc3MuLi4nLFxuICBhdWRpb0NvbnRleHQ6IG51bGwsXG4gIGNvbnRhaW5lcjogbnVsbCxcbiAgY2FsbGJhY2s6IG51bGwsXG59O1xuXG4vKipcbiAqIERyYWcgYW5kIGRyb3Agem9uZSBmb3IgYXVkaW8gZmlsZXMgcmV0dXJuaW5nIGBBdWRpb0J1ZmZlcmBzIGFuZC9vciBKU09OXG4gKiBkZXNjcmlwdG9yIGRhdGEuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIE92ZXJyaWRlIGRlZmF1bHQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxhYmVsPSdEcmFnIGFuZCBkcm9wIGF1ZGlvIGZpbGVzJ10gLSBMYWJlbCBvZiB0aGVcbiAqICBjb250cm9sbGVyLlxuICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGFiZWxQcm9jZXNzPSdwcm9jZXNzLi4uJ10gLSBMYWJlbCBvZiB0aGUgY29udHJvbGxlclxuICogIHdoaWxlIGF1ZGlvIGZpbGVzIGFyZSBkZWNvZGVkLlxuICogQHBhcmFtIHtBdWRpb0NvbnRleHR9IFtjb25maWcuYXVkaW9Db250ZXh0PW51bGxdIC0gT3B0aW9ubmFsIGF1ZGlvIGNvbnRleHRcbiAqICB0byB1c2UgaW4gb3JkZXIgdG8gZGVjb2RlIGF1ZGlvIGZpbGVzLlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudHxiYXNpYy1jb250cm9sbGVyfkdyb3VwfSBbY29uZmlnLmNvbnRhaW5lcj1udWxsXSAtXG4gKiAgQ29udGFpbmVyIG9mIHRoZSBjb250cm9sbGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5jYWxsYmFjaz1udWxsXSAtIENhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlXG4gKiAgdmFsdWUgY2hhbmdlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgY29udHJvbGxlcnMgZnJvbSAnYmFzaWMtY29udHJvbGxlcnMnO1xuICpcbiAqIGNvbnN0IGRyYWdBbmREcm9wID0gbmV3IGNvbnRyb2xsZXJzLkRyYWdBbmREcm9wKHtcbiAqICAgY29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gKiAgIGNhbGxiYWNrOiAocmVzdWx0cykgPT4gY29uc29sZS5sb2cocmVzdWx0cyksXG4gKiB9KTtcbiAqL1xuY2xhc3MgRHJhZ0FuZERyb3AgZXh0ZW5kcyBkaXNwbGF5KEJhc2VDb21wb25lbnQpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCdkcmFnLWFuZC1kcm9wJywgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuXG4gICAgaWYgKCF0aGlzLnBhcmFtcy5hdWRpb0NvbnRleHQpXG4gICAgICB0aGlzLnBhcmFtcy5hdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG5cbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXN0IHJlc3VsdHNcbiAgICogQHR5cGUge09iamVjdDxTdHJpbmcsIEF1ZGlvQnVmZmVyfEpTT04+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYWJlbCB9ID0gdGhpcy5wYXJhbXM7XG4gICAgY29uc3QgY29udGVudCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJkcm9wLXpvbmVcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJsYWJlbFwiPiR7bGFiZWx9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIHRoaXMuJGVsID0gc3VwZXIucmVuZGVyKCk7XG4gICAgdGhpcy4kZWwuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB0aGlzLiRkcm9wWm9uZSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLXpvbmUnKTtcbiAgICB0aGlzLiRsYWJlbCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5sYWJlbCcpO1xuXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy4kZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgdGhpcy4kZHJvcFpvbmUuY2xhc3NMaXN0LmFkZCgnZHJhZycpO1xuICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JztcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB0aGlzLiRkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgdGhpcy4kZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZycpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIHRoaXMuJGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICAgIGNvbnN0IGF1ZGlvRmlsZXMgPSBmaWxlcy5maWx0ZXIoKGZpbGUpID0+IHtcbiAgICAgICAgaWYgKC9eYXVkaW8vLnRlc3QoZmlsZS50eXBlKSkge1xuICAgICAgICAgIGZpbGUuc2hvcnRUeXBlID0gJ2F1ZGlvJztcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgvanNvbiQvLnRlc3QoZmlsZS50eXBlKSkge1xuICAgICAgICAgIGZpbGUuc2hvcnRUeXBlID0gJ2pzb24nO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSB7fTtcbiAgICAgIGxldCBjb3VudGVyID0gMDtcblxuICAgICAgdGhpcy4kbGFiZWwudGV4dENvbnRlbnQgPSB0aGlzLnBhcmFtcy5sYWJlbFByb2Nlc3M7XG5cbiAgICAgIGNvbnN0IHRlc3RFbmQgPSAoKSA9PiB7XG4gICAgICAgIGNvdW50ZXIgKz0gMTtcblxuICAgICAgICBpZiAoY291bnRlciA9PT0gYXVkaW9GaWxlcy5sZW5ndGgpwqB7XG4gICAgICAgICAgdGhpcy5fdmFsdWUgPSByZXN1bHRzXG4gICAgICAgICAgdGhpcy5leGVjdXRlTGlzdGVuZXJzKHJlc3VsdHMpO1xuXG4gICAgICAgICAgdGhpcy4kZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZycpO1xuICAgICAgICAgIHRoaXMuJGxhYmVsLnRleHRDb250ZW50ID0gdGhpcy5wYXJhbXMubGFiZWw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZS5zaG9ydFR5cGUgPT09ICdqc29uJykge1xuICAgICAgICAgICAgcmVzdWx0c1tmaWxlLm5hbWVdID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgdGVzdEVuZCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmlsZS5zaG9ydFR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmF1ZGlvQ29udGV4dFxuICAgICAgICAgICAgICAuZGVjb2RlQXVkaW9EYXRhKGUudGFyZ2V0LnJlc3VsdClcbiAgICAgICAgICAgICAgLnRoZW4oKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1tmaWxlLm5hbWVdID0gYXVkaW9CdWZmZXI7XG4gICAgICAgICAgICAgICAgdGVzdEVuZCgpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbZmlsZS5uYW1lXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGVzdEVuZCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsZS5zaG9ydFR5cGUgPT09ICdqc29uJylcbiAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgICAgZWxzZSBpZiAoZmlsZS5zaG9ydFR5cGUgPT09ICdhdWRpbycpXG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgICAgfSk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdBbmREcm9wO1xuIl19","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/container.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/container.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar separator = '/';\n\nfunction getHead(path) {\n  return path.split(separator)[0];\n}\n\nfunction getTail(path) {\n  var parts = path.split(separator);\n  parts.shift();\n  return parts.join(separator);\n}\n\nvar container = function container(superclass) {\n  return function (_superclass) {\n    _inherits(_class, _superclass);\n\n    function _class() {\n      var _ref;\n\n      _classCallCheck(this, _class);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args)));\n\n      _this.elements = new Set();\n\n      // sure of that ?\n      delete _this._listeners;\n      delete _this._groupListeners;\n      return _this;\n    }\n\n    /**\n     * Return one of the group children according to its `id`, `null` otherwise.\n     * @private\n     */\n\n\n    _createClass(_class, [{\n      key: '_getHead',\n      value: function _getHead(id) {}\n    }, {\n      key: '_getTail',\n      value: function _getTail(id) {}\n\n      /**\n       * Return a child of the group recursively according to the given `id`,\n       * `null` otherwise.\n       * @private\n       */\n\n    }, {\n      key: 'getComponent',\n      value: function getComponent(id) {\n        var head = getHead(id);\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var component = _step.value;\n\n            if (head === component.id) {\n              if (head === id) return component;else if (component.type = 'group') return component.getComponent(getTail(id));else throw new Error('Undefined component ' + id);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        throw new Error('Undefined component ' + id);\n      }\n\n      /**\n       * Add Listener on each components of the group.\n       *\n       * @param {String} id - Path to component id.\n       * @param {Function} callback - Function to execute.\n       */\n\n    }, {\n      key: 'addListener',\n      value: function addListener(id, callback) {\n        if (arguments.length === 1) {\n          callback = id;\n          this._addGroupListener('', '', callback);\n        } else {\n          this._addGroupListener(id, '', callback);\n        }\n      }\n\n      /** @private */\n\n    }, {\n      key: '_addGroupListener',\n      value: function _addGroupListener(id, callId, callback) {\n        if (id) {\n          var componentId = getHead(id);\n          var component = this.getComponent(componentId);\n\n          if (component) {\n            id = getTail(id);\n            component._addGroupListener(id, callId, callback);\n          } else {\n            throw new Error('Undefined component ' + this.rootId + '/' + componentId);\n          }\n        } else {\n          this.elements.forEach(function (component) {\n            var _callId = callId; // create a new branche\n            _callId += callId === '' ? component.id : separator + component.id;\n            component._addGroupListener(id, _callId, callback);\n          });\n        }\n      }\n    }]);\n\n    return _class;\n  }(superclass);\n};\n\nexports.default = container;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhaW5lci5qcyJdLCJuYW1lcyI6WyJzZXBhcmF0b3IiLCJnZXRIZWFkIiwicGF0aCIsInNwbGl0IiwiZ2V0VGFpbCIsInBhcnRzIiwic2hpZnQiLCJqb2luIiwiY29udGFpbmVyIiwic3VwZXJjbGFzcyIsImFyZ3MiLCJlbGVtZW50cyIsIlNldCIsIl9saXN0ZW5lcnMiLCJfZ3JvdXBMaXN0ZW5lcnMiLCJpZCIsImhlYWQiLCJjb21wb25lbnQiLCJ0eXBlIiwiZ2V0Q29tcG9uZW50IiwiRXJyb3IiLCJjYWxsYmFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9hZGRHcm91cExpc3RlbmVyIiwiY2FsbElkIiwiY29tcG9uZW50SWQiLCJyb290SWQiLCJmb3JFYWNoIiwiX2NhbGxJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFNQSxZQUFZLEdBQWxCOztBQUVBLFNBQVNDLE9BQVQsQ0FBaUJDLElBQWpCLEVBQXVCO0FBQ3JCLFNBQU9BLEtBQUtDLEtBQUwsQ0FBV0gsU0FBWCxFQUFzQixDQUF0QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0ksT0FBVCxDQUFpQkYsSUFBakIsRUFBdUI7QUFDckIsTUFBTUcsUUFBUUgsS0FBS0MsS0FBTCxDQUFXSCxTQUFYLENBQWQ7QUFDQUssUUFBTUMsS0FBTjtBQUNBLFNBQU9ELE1BQU1FLElBQU4sQ0FBV1AsU0FBWCxDQUFQO0FBQ0Q7O0FBRUQsSUFBTVEsWUFBWSxTQUFaQSxTQUFZLENBQUNDLFVBQUQ7QUFBQTtBQUFBOztBQUNoQixzQkFBcUI7QUFBQTs7QUFBQTs7QUFBQSx3Q0FBTkMsSUFBTTtBQUFOQSxZQUFNO0FBQUE7O0FBQUEsNklBQ1ZBLElBRFU7O0FBR25CLFlBQUtDLFFBQUwsR0FBZ0IsSUFBSUMsR0FBSixFQUFoQjs7QUFFQTtBQUNBLGFBQU8sTUFBS0MsVUFBWjtBQUNBLGFBQU8sTUFBS0MsZUFBWjtBQVBtQjtBQVFwQjs7QUFFRDs7Ozs7O0FBWGdCO0FBQUE7QUFBQSwrQkFlUEMsRUFmTyxFQWVILENBRVo7QUFqQmU7QUFBQTtBQUFBLCtCQW1CUEEsRUFuQk8sRUFtQkgsQ0FFWjs7QUFFRDs7Ozs7O0FBdkJnQjtBQUFBO0FBQUEsbUNBNEJIQSxFQTVCRyxFQTRCQztBQUNmLFlBQU1DLE9BQU9mLFFBQVFjLEVBQVIsQ0FBYjs7QUFEZTtBQUFBO0FBQUE7O0FBQUE7QUFHZiwrQkFBc0IsS0FBS0osUUFBM0IsOEhBQXFDO0FBQUEsZ0JBQTVCTSxTQUE0Qjs7QUFDbkMsZ0JBQUlELFNBQVNDLFVBQVVGLEVBQXZCLEVBQTJCO0FBQ3pCLGtCQUFJQyxTQUFTRCxFQUFiLEVBQ0UsT0FBT0UsU0FBUCxDQURGLEtBRUssSUFBSUEsVUFBVUMsSUFBVixHQUFpQixPQUFyQixFQUNILE9BQU9ELFVBQVVFLFlBQVYsQ0FBdUJmLFFBQVFXLEVBQVIsQ0FBdkIsQ0FBUCxDQURHLEtBR0gsTUFBTSxJQUFJSyxLQUFKLDBCQUFpQ0wsRUFBakMsQ0FBTjtBQUNIO0FBQ0Y7QUFaYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWNmLGNBQU0sSUFBSUssS0FBSiwwQkFBaUNMLEVBQWpDLENBQU47QUFDRDs7QUFFRDs7Ozs7OztBQTdDZ0I7QUFBQTtBQUFBLGtDQW1ESkEsRUFuREksRUFtREFNLFFBbkRBLEVBbURVO0FBQ3hCLFlBQUlDLFVBQVVDLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUJGLHFCQUFXTixFQUFYO0FBQ0EsZUFBS1MsaUJBQUwsQ0FBdUIsRUFBdkIsRUFBMkIsRUFBM0IsRUFBK0JILFFBQS9CO0FBQ0QsU0FIRCxNQUdPO0FBQ0wsZUFBS0csaUJBQUwsQ0FBdUJULEVBQXZCLEVBQTJCLEVBQTNCLEVBQStCTSxRQUEvQjtBQUNEO0FBQ0Y7O0FBRUQ7O0FBNURnQjtBQUFBO0FBQUEsd0NBNkRFTixFQTdERixFQTZETVUsTUE3RE4sRUE2RGNKLFFBN0RkLEVBNkR3QjtBQUN0QyxZQUFJTixFQUFKLEVBQVE7QUFDTixjQUFNVyxjQUFjekIsUUFBUWMsRUFBUixDQUFwQjtBQUNBLGNBQU1FLFlBQVksS0FBS0UsWUFBTCxDQUFrQk8sV0FBbEIsQ0FBbEI7O0FBRUEsY0FBSVQsU0FBSixFQUFlO0FBQ2JGLGlCQUFLWCxRQUFRVyxFQUFSLENBQUw7QUFDQUUsc0JBQVVPLGlCQUFWLENBQTRCVCxFQUE1QixFQUFnQ1UsTUFBaEMsRUFBd0NKLFFBQXhDO0FBQ0QsV0FIRCxNQUdPO0FBQ0wsa0JBQU0sSUFBSUQsS0FBSiwwQkFBaUMsS0FBS08sTUFBdEMsU0FBZ0RELFdBQWhELENBQU47QUFDRDtBQUNGLFNBVkQsTUFVTztBQUNMLGVBQUtmLFFBQUwsQ0FBY2lCLE9BQWQsQ0FBc0IsVUFBQ1gsU0FBRCxFQUFlO0FBQ25DLGdCQUFJWSxVQUFVSixNQUFkLENBRG1DLENBQ2I7QUFDdEJJLHVCQUFZSixXQUFXLEVBQVosR0FBa0JSLFVBQVVGLEVBQTVCLEdBQWlDZixZQUFZaUIsVUFBVUYsRUFBbEU7QUFDQUUsc0JBQVVPLGlCQUFWLENBQTRCVCxFQUE1QixFQUFnQ2MsT0FBaEMsRUFBeUNSLFFBQXpDO0FBQ0QsV0FKRDtBQUtEO0FBQ0Y7QUEvRWU7O0FBQUE7QUFBQSxJQUE4QlosVUFBOUI7QUFBQSxDQUFsQjs7a0JBa0ZlRCxTIiwiZmlsZSI6ImNvbnRhaW5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3Qgc2VwYXJhdG9yID0gJy8nO1xuXG5mdW5jdGlvbiBnZXRIZWFkKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguc3BsaXQoc2VwYXJhdG9yKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFpbChwYXRoKSB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpO1xuICBwYXJ0cy5zaGlmdCgpO1xuICByZXR1cm4gcGFydHMuam9pbihzZXBhcmF0b3IpO1xufVxuXG5jb25zdCBjb250YWluZXIgPSAoc3VwZXJjbGFzcykgPT4gY2xhc3MgZXh0ZW5kcyBzdXBlcmNsYXNzIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgdGhpcy5lbGVtZW50cyA9IG5ldyBTZXQoKTtcblxuICAgIC8vIHN1cmUgb2YgdGhhdCA/XG4gICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVycztcbiAgICBkZWxldGUgdGhpcy5fZ3JvdXBMaXN0ZW5lcnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIG9uZSBvZiB0aGUgZ3JvdXAgY2hpbGRyZW4gYWNjb3JkaW5nIHRvIGl0cyBgaWRgLCBgbnVsbGAgb3RoZXJ3aXNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEhlYWQoaWQpIHtcblxuICB9XG5cbiAgX2dldFRhaWwoaWQpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNoaWxkIG9mIHRoZSBncm91cCByZWN1cnNpdmVseSBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGBpZGAsXG4gICAqIGBudWxsYCBvdGhlcndpc2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDb21wb25lbnQoaWQpIHtcbiAgICBjb25zdCBoZWFkID0gZ2V0SGVhZChpZCk7XG5cbiAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgdGhpcy5lbGVtZW50cykge1xuICAgICAgaWYgKGhlYWQgPT09IGNvbXBvbmVudC5pZCkge1xuICAgICAgICBpZiAoaGVhZCA9PT0gaWQpXG4gICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgZWxzZSBpZiAoY29tcG9uZW50LnR5cGUgPSAnZ3JvdXAnKVxuICAgICAgICAgIHJldHVybiBjb21wb25lbnQuZ2V0Q29tcG9uZW50KGdldFRhaWwoaWQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5kZWZpbmVkIGNvbXBvbmVudCAke2lkfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihgVW5kZWZpbmVkIGNvbXBvbmVudCAke2lkfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBMaXN0ZW5lciBvbiBlYWNoIGNvbXBvbmVudHMgb2YgdGhlIGdyb3VwLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBQYXRoIHRvIGNvbXBvbmVudCBpZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlLlxuICAgKi9cbiAgYWRkTGlzdGVuZXIoaWQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNhbGxiYWNrID0gaWQ7XG4gICAgICB0aGlzLl9hZGRHcm91cExpc3RlbmVyKCcnLCAnJywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRHcm91cExpc3RlbmVyKGlkLCAnJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfYWRkR3JvdXBMaXN0ZW5lcihpZCwgY2FsbElkLCBjYWxsYmFjaykge1xuICAgIGlmIChpZCkge1xuICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBnZXRIZWFkKGlkKTtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNvbXBvbmVudElkKTtcblxuICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBpZCA9IGdldFRhaWwoaWQpO1xuICAgICAgICBjb21wb25lbnQuX2FkZEdyb3VwTGlzdGVuZXIoaWQsIGNhbGxJZCwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmRlZmluZWQgY29tcG9uZW50ICR7dGhpcy5yb290SWR9LyR7Y29tcG9uZW50SWR9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiB7XG4gICAgICAgIGxldCBfY2FsbElkID0gY2FsbElkOyAvLyBjcmVhdGUgYSBuZXcgYnJhbmNoZVxuICAgICAgICBfY2FsbElkICs9IChjYWxsSWQgPT09ICcnKSA/IGNvbXBvbmVudC5pZCA6IHNlcGFyYXRvciArIGNvbXBvbmVudC5pZDtcbiAgICAgICAgY29tcG9uZW50Ll9hZGRHcm91cExpc3RlbmVyKGlkLCBfY2FsbElkLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29udGFpbmVyO1xuIl19","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/factory.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/factory.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _BaseComponent = require('./components/BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _Group = require('./components/Group');\n\nvar _Group2 = _interopRequireDefault(_Group);\n\nvar _NumberBox = require('./components/NumberBox');\n\nvar _NumberBox2 = _interopRequireDefault(_NumberBox);\n\nvar _SelectButtons = require('./components/SelectButtons');\n\nvar _SelectButtons2 = _interopRequireDefault(_SelectButtons);\n\nvar _SelectList = require('./components/SelectList');\n\nvar _SelectList2 = _interopRequireDefault(_SelectList);\n\nvar _Slider = require('./components/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _Text = require('./components/Text');\n\nvar _Text2 = _interopRequireDefault(_Text);\n\nvar _Title = require('./components/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Toggle = require('./components/Toggle');\n\nvar _Toggle2 = _interopRequireDefault(_Toggle);\n\nvar _TriggerButtons = require('./components/TriggerButtons');\n\nvar _TriggerButtons2 = _interopRequireDefault(_TriggerButtons);\n\nvar _container2 = require('./mixins/container');\n\nvar _container3 = _interopRequireDefault(_container2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// map type names to constructors\nvar typeCtorMap = {\n  'group': _Group2.default,\n  'number-box': _NumberBox2.default,\n  'select-buttons': _SelectButtons2.default,\n  'select-list': _SelectList2.default,\n  'slider': _Slider2.default,\n  'text': _Text2.default,\n  'title': _Title2.default,\n  'toggle': _Toggle2.default,\n  'trigger-buttons': _TriggerButtons2.default\n};\n\nvar defaults = {\n  container: 'body'\n};\n\nvar Control = function (_container) {\n  _inherits(Control, _container);\n\n  function Control(config) {\n    _classCallCheck(this, Control);\n\n    var _this = _possibleConstructorReturn(this, (Control.__proto__ || Object.getPrototypeOf(Control)).call(this, 'control', defaults, config));\n\n    var $container = _this.params.container;\n\n    if (typeof $container === 'string') $container = document.querySelector($container);\n\n    _this.$container = $container;\n    return _this;\n  }\n\n  return Control;\n}((0, _container3.default)(_BaseComponent2.default));\n\n/** @module basic-controllers */\n\n/**\n * Create a whole control surface from a json definition.\n *\n * @param {String|Element} container - Container of the controls.\n * @param {Object} - Definitions for the controls.\n * @return {Object} - A `Control` instance that behaves like a group without graphic.\n * @static\n *\n * @example\n * import * as controllers from 'basic-controllers';\n *\n * const definitions = [\n *   {\n *     id: 'my-slider',\n *     type: 'slider',\n *     label: 'My Slider',\n *     size: 'large',\n *     min: 0,\n *     max: 1000,\n *     step: 1,\n *     default: 253,\n *   }, {\n *     id: 'my-group',\n *     type: 'group',\n *     label: 'Group',\n *     default: 'opened',\n *     elements: [\n *       {\n *         id: 'my-number',\n *         type: 'number-box',\n *         default: 0.4,\n *         min: -1,\n *         max: 1,\n *         step: 0.01,\n *       }\n *     ],\n *   }\n * ];\n *\n * const controls = controllers.create('#container', definitions);\n *\n * // add a listener on all the component inside `my-group`\n * controls.addListener('my-group', (id, value) => console.log(id, value));\n *\n * // retrieve the instance of `my-number`\n * const myNumber = controls.getComponent('my-group/my-number');\n */\n\n\nfunction create(container, definitions) {\n\n  function _parse(container, definitions) {\n    definitions.forEach(function (def, index) {\n      var type = def.type;\n      var ctor = typeCtorMap[type];\n      var config = Object.assign({}, def);\n\n      //\n      config.container = container;\n      delete config.type;\n\n      var component = new ctor(config);\n\n      if (type === 'group') _parse(component, config.elements);\n    });\n  };\n\n  var _root = new Control({ container: container });\n  _parse(_root, definitions);\n\n  return _root;\n}\n\nexports.default = create;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhY3RvcnkuanMiXSwibmFtZXMiOlsidHlwZUN0b3JNYXAiLCJkZWZhdWx0cyIsImNvbnRhaW5lciIsIkNvbnRyb2wiLCJjb25maWciLCIkY29udGFpbmVyIiwicGFyYW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlIiwiZGVmaW5pdGlvbnMiLCJfcGFyc2UiLCJmb3JFYWNoIiwiZGVmIiwiaW5kZXgiLCJ0eXBlIiwiY3RvciIsIk9iamVjdCIsImFzc2lnbiIsImNvbXBvbmVudCIsImVsZW1lbnRzIiwiX3Jvb3QiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0EsSUFBTUEsY0FBYztBQUNsQiwwQkFEa0I7QUFFbEIsbUNBRmtCO0FBR2xCLDJDQUhrQjtBQUlsQixxQ0FKa0I7QUFLbEIsNEJBTGtCO0FBTWxCLHdCQU5rQjtBQU9sQiwwQkFQa0I7QUFRbEIsNEJBUmtCO0FBU2xCO0FBVGtCLENBQXBCOztBQVlBLElBQU1DLFdBQVc7QUFDZkMsYUFBVztBQURJLENBQWpCOztJQUlNQyxPOzs7QUFDSixtQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLGtIQUNaLFNBRFksRUFDREgsUUFEQyxFQUNTRyxNQURUOztBQUdsQixRQUFJQyxhQUFhLE1BQUtDLE1BQUwsQ0FBWUosU0FBN0I7O0FBRUEsUUFBSSxPQUFPRyxVQUFQLEtBQXNCLFFBQTFCLEVBQ0VBLGFBQWFFLFNBQVNDLGFBQVQsQ0FBdUJILFVBQXZCLENBQWI7O0FBRUYsVUFBS0EsVUFBTCxHQUFrQkEsVUFBbEI7QUFSa0I7QUFTbkI7OztFQVZtQixpRDs7QUFhdEI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQ0EsU0FBU0ksTUFBVCxDQUFnQlAsU0FBaEIsRUFBMkJRLFdBQTNCLEVBQXdDOztBQUV0QyxXQUFTQyxNQUFULENBQWdCVCxTQUFoQixFQUEyQlEsV0FBM0IsRUFBd0M7QUFDdENBLGdCQUFZRSxPQUFaLENBQW9CLFVBQUNDLEdBQUQsRUFBTUMsS0FBTixFQUFnQjtBQUNsQyxVQUFNQyxPQUFPRixJQUFJRSxJQUFqQjtBQUNBLFVBQU1DLE9BQU9oQixZQUFZZSxJQUFaLENBQWI7QUFDQSxVQUFNWCxTQUFTYSxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQkwsR0FBbEIsQ0FBZjs7QUFFQTtBQUNBVCxhQUFPRixTQUFQLEdBQW1CQSxTQUFuQjtBQUNBLGFBQU9FLE9BQU9XLElBQWQ7O0FBRUEsVUFBTUksWUFBWSxJQUFJSCxJQUFKLENBQVNaLE1BQVQsQ0FBbEI7O0FBRUEsVUFBSVcsU0FBUyxPQUFiLEVBQ0VKLE9BQU9RLFNBQVAsRUFBa0JmLE9BQU9nQixRQUF6QjtBQUNILEtBYkQ7QUFjRDs7QUFFRCxNQUFNQyxRQUFRLElBQUlsQixPQUFKLENBQVksRUFBRUQsV0FBV0EsU0FBYixFQUFaLENBQWQ7QUFDQVMsU0FBT1UsS0FBUCxFQUFjWCxXQUFkOztBQUVBLFNBQU9XLEtBQVA7QUFDRDs7a0JBRWNaLE0iLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9CYXNlQ29tcG9uZW50JztcbmltcG9ydCBHcm91cCBmcm9tICcuL2NvbXBvbmVudHMvR3JvdXAnO1xuaW1wb3J0IE51bWJlckJveCBmcm9tICcuL2NvbXBvbmVudHMvTnVtYmVyQm94JztcbmltcG9ydCBTZWxlY3RCdXR0b25zIGZyb20gJy4vY29tcG9uZW50cy9TZWxlY3RCdXR0b25zJztcbmltcG9ydCBTZWxlY3RMaXN0IGZyb20gJy4vY29tcG9uZW50cy9TZWxlY3RMaXN0JztcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9jb21wb25lbnRzL1NsaWRlcic7XG5pbXBvcnQgVGV4dCBmcm9tICcuL2NvbXBvbmVudHMvVGV4dCc7XG5pbXBvcnQgVGl0bGUgZnJvbSAnLi9jb21wb25lbnRzL1RpdGxlJztcbmltcG9ydCBUb2dnbGUgZnJvbSAnLi9jb21wb25lbnRzL1RvZ2dsZSc7XG5pbXBvcnQgVHJpZ2dlckJ1dHRvbnMgZnJvbSAnLi9jb21wb25lbnRzL1RyaWdnZXJCdXR0b25zJztcblxuaW1wb3J0IGNvbnRhaW5lciBmcm9tICcuL21peGlucy9jb250YWluZXInO1xuXG4vLyBtYXAgdHlwZSBuYW1lcyB0byBjb25zdHJ1Y3RvcnNcbmNvbnN0IHR5cGVDdG9yTWFwID0ge1xuICAnZ3JvdXAnOiBHcm91cCxcbiAgJ251bWJlci1ib3gnOiBOdW1iZXJCb3gsXG4gICdzZWxlY3QtYnV0dG9ucyc6IFNlbGVjdEJ1dHRvbnMsXG4gICdzZWxlY3QtbGlzdCc6IFNlbGVjdExpc3QsXG4gICdzbGlkZXInOiBTbGlkZXIsXG4gICd0ZXh0JzogVGV4dCxcbiAgJ3RpdGxlJzogVGl0bGUsXG4gICd0b2dnbGUnOiBUb2dnbGUsXG4gICd0cmlnZ2VyLWJ1dHRvbnMnOiBUcmlnZ2VyQnV0dG9ucyxcbn07XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBjb250YWluZXI6ICdib2R5Jyxcbn07XG5cbmNsYXNzIENvbnRyb2wgZXh0ZW5kcyBjb250YWluZXIoQmFzZUNvbXBvbmVudCkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcignY29udHJvbCcsIGRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgbGV0ICRjb250YWluZXIgPSB0aGlzLnBhcmFtcy5jb250YWluZXI7XG5cbiAgICBpZiAodHlwZW9mICRjb250YWluZXIgPT09ICdzdHJpbmcnKVxuICAgICAgJGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJGNvbnRhaW5lcik7XG5cbiAgICB0aGlzLiRjb250YWluZXIgPSAkY29udGFpbmVyO1xuICB9XG59XG5cbi8qKiBAbW9kdWxlIGJhc2ljLWNvbnRyb2xsZXJzICovXG5cbi8qKlxuICogQ3JlYXRlIGEgd2hvbGUgY29udHJvbCBzdXJmYWNlIGZyb20gYSBqc29uIGRlZmluaXRpb24uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIG9mIHRoZSBjb250cm9scy5cbiAqIEBwYXJhbSB7T2JqZWN0fSAtIERlZmluaXRpb25zIGZvciB0aGUgY29udHJvbHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IC0gQSBgQ29udHJvbGAgaW5zdGFuY2UgdGhhdCBiZWhhdmVzIGxpa2UgYSBncm91cCB3aXRob3V0IGdyYXBoaWMuXG4gKiBAc3RhdGljXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJ2Jhc2ljLWNvbnRyb2xsZXJzJztcbiAqXG4gKiBjb25zdCBkZWZpbml0aW9ucyA9IFtcbiAqICAge1xuICogICAgIGlkOiAnbXktc2xpZGVyJyxcbiAqICAgICB0eXBlOiAnc2xpZGVyJyxcbiAqICAgICBsYWJlbDogJ015IFNsaWRlcicsXG4gKiAgICAgc2l6ZTogJ2xhcmdlJyxcbiAqICAgICBtaW46IDAsXG4gKiAgICAgbWF4OiAxMDAwLFxuICogICAgIHN0ZXA6IDEsXG4gKiAgICAgZGVmYXVsdDogMjUzLFxuICogICB9LCB7XG4gKiAgICAgaWQ6ICdteS1ncm91cCcsXG4gKiAgICAgdHlwZTogJ2dyb3VwJyxcbiAqICAgICBsYWJlbDogJ0dyb3VwJyxcbiAqICAgICBkZWZhdWx0OiAnb3BlbmVkJyxcbiAqICAgICBlbGVtZW50czogW1xuICogICAgICAge1xuICogICAgICAgICBpZDogJ215LW51bWJlcicsXG4gKiAgICAgICAgIHR5cGU6ICdudW1iZXItYm94JyxcbiAqICAgICAgICAgZGVmYXVsdDogMC40LFxuICogICAgICAgICBtaW46IC0xLFxuICogICAgICAgICBtYXg6IDEsXG4gKiAgICAgICAgIHN0ZXA6IDAuMDEsXG4gKiAgICAgICB9XG4gKiAgICAgXSxcbiAqICAgfVxuICogXTtcbiAqXG4gKiBjb25zdCBjb250cm9scyA9IGNvbnRyb2xsZXJzLmNyZWF0ZSgnI2NvbnRhaW5lcicsIGRlZmluaXRpb25zKTtcbiAqXG4gKiAvLyBhZGQgYSBsaXN0ZW5lciBvbiBhbGwgdGhlIGNvbXBvbmVudCBpbnNpZGUgYG15LWdyb3VwYFxuICogY29udHJvbHMuYWRkTGlzdGVuZXIoJ215LWdyb3VwJywgKGlkLCB2YWx1ZSkgPT4gY29uc29sZS5sb2coaWQsIHZhbHVlKSk7XG4gKlxuICogLy8gcmV0cmlldmUgdGhlIGluc3RhbmNlIG9mIGBteS1udW1iZXJgXG4gKiBjb25zdCBteU51bWJlciA9IGNvbnRyb2xzLmdldENvbXBvbmVudCgnbXktZ3JvdXAvbXktbnVtYmVyJyk7XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShjb250YWluZXIsIGRlZmluaXRpb25zKSB7XG5cbiAgZnVuY3Rpb24gX3BhcnNlKGNvbnRhaW5lciwgZGVmaW5pdGlvbnMpIHtcbiAgICBkZWZpbml0aW9ucy5mb3JFYWNoKChkZWYsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gZGVmLnR5cGU7XG4gICAgICBjb25zdCBjdG9yID0gdHlwZUN0b3JNYXBbdHlwZV07XG4gICAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBkZWYpO1xuXG4gICAgICAvL1xuICAgICAgY29uZmlnLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgIGRlbGV0ZSBjb25maWcudHlwZTtcblxuICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IGN0b3IoY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGUgPT09ICdncm91cCcpXG4gICAgICAgIF9wYXJzZShjb21wb25lbnQsIGNvbmZpZy5lbGVtZW50cyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgX3Jvb3QgPSBuZXcgQ29udHJvbCh7IGNvbnRhaW5lcjogY29udGFpbmVyIH0pO1xuICBfcGFyc2UoX3Jvb3QsIGRlZmluaXRpb25zKTtcblxuICByZXR1cm4gX3Jvb3Q7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZTtcbiJdfQ==","deps":{"./components/BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","./components/SelectButtons":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js","./components/SelectList":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectList.js","./components/NumberBox":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js","./components/Text":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Text.js","./components/Slider":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Slider.js","./components/Title":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Title.js","./components/TriggerButtons":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js","./components/Toggle":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Toggle.js","./components/Group":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Group.js","./mixins/container":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/container.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceOrientationModule.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceOrientationModule.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _DOMEventSubmodule = require('./DOMEventSubmodule');\n\nvar _DOMEventSubmodule2 = _interopRequireDefault(_DOMEventSubmodule);\n\nvar _InputModule2 = require('./InputModule');\n\nvar _InputModule3 = _interopRequireDefault(_InputModule2);\n\nvar _MotionInput = require('./MotionInput');\n\nvar _MotionInput2 = _interopRequireDefault(_MotionInput);\n\nvar _platform = require('platform');\n\nvar _platform2 = _interopRequireDefault(_platform);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Converts degrees to radians.\n *\n * @param {number} deg - Angle in degrees.\n * @return {number}\n */\nfunction degToRad(deg) {\n  return deg * Math.PI / 180;\n}\n\n/**\n * Converts radians to degrees.\n *\n * @param {number} rad - Angle in radians.\n * @return {number}\n */\nfunction radToDeg(rad) {\n  return rad * 180 / Math.PI;\n}\n\n/**\n * Normalizes a 3 x 3 matrix.\n *\n * @param {number[]} m - Matrix to normalize, represented by an array of length 9.\n * @return {number[]}\n */\nfunction normalize(m) {\n  var det = m[0] * m[4] * m[8] + m[1] * m[5] * m[6] + m[2] * m[3] * m[7] - m[0] * m[5] * m[7] - m[1] * m[3] * m[8] - m[2] * m[4] * m[6];\n\n  for (var i = 0; i < m.length; i++) {\n    m[i] /= det;\n  }return m;\n}\n\n/**\n * Converts a Euler angle `[alpha, beta, gamma]` to the W3C specification, where:\n * - `alpha` is in [0; +360[;\n * - `beta` is in [-180; +180[;\n * - `gamma` is in [-90; +90[.\n *\n * @param {number[]} eulerAngle - Euler angle to unify, represented by an array of length 3 (`[alpha, beta, gamma]`).\n * @see {@link http://www.w3.org/TR/orientation-event/}\n */\nfunction unify(eulerAngle) {\n  // Cf. W3C specification (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n  // and Euler angles Wikipedia page (http://en.wikipedia.org/wiki/Euler_angles).\n  //\n  // W3C convention: Tait–Bryan angles Z-X'-Y'', where:\n  //   alpha is in [0; +360[,\n  //   beta is in [-180; +180[,\n  //   gamma is in [-90; +90[.\n\n  var alphaIsValid = typeof eulerAngle[0] === 'number';\n\n  var _alpha = alphaIsValid ? degToRad(eulerAngle[0]) : 0;\n  var _beta = degToRad(eulerAngle[1]);\n  var _gamma = degToRad(eulerAngle[2]);\n\n  var cA = Math.cos(_alpha);\n  var cB = Math.cos(_beta);\n  var cG = Math.cos(_gamma);\n  var sA = Math.sin(_alpha);\n  var sB = Math.sin(_beta);\n  var sG = Math.sin(_gamma);\n\n  var alpha = void 0,\n      beta = void 0,\n      gamma = void 0;\n\n  var m = [cA * cG - sA * sB * sG, -cB * sA, cA * sG + cG * sA * sB, cG * sA + cA * sB * sG, cA * cB, sA * sG - cA * cG * sB, -cB * sG, sB, cB * cG];\n  normalize(m);\n\n  // Since we want gamma in [-90; +90[, cG >= 0.\n  if (m[8] > 0) {\n    // Case 1: m[8] > 0 <=> cB > 0                 (and cG != 0)\n    //                  <=> beta in ]-pi/2; +pi/2[ (and cG != 0)\n    alpha = Math.atan2(-m[1], m[4]);\n    beta = Math.asin(m[7]); // asin returns a number between -pi/2 and +pi/2 => OK\n    gamma = Math.atan2(-m[6], m[8]);\n  } else if (m[8] < 0) {\n    // Case 2: m[8] < 0 <=> cB < 0                            (and cG != 0)\n    //                  <=> beta in [-pi; -pi/2[ U ]+pi/2; +pi] (and cG != 0)\n\n    // Since cB < 0 and cB is in m[1] and m[4], the point is flipped by 180 degrees.\n    // Hence, we have to multiply both arguments of atan2 by -1 in order to revert\n    // the point in its original position (=> another flip by 180 degrees).\n    alpha = Math.atan2(m[1], -m[4]);\n    beta = -Math.asin(m[7]);\n    beta += beta >= 0 ? -Math.PI : Math.PI; // asin returns a number between -pi/2 and pi/2 => make sure beta in [-pi; -pi/2[ U ]+pi/2; +pi]\n    gamma = Math.atan2(m[6], -m[8]); // same remark as for alpha, multiplication by -1\n  } else {\n    // Case 3: m[8] = 0 <=> cB = 0 or cG = 0\n    if (m[6] > 0) {\n      // Subcase 1: cG = 0 and cB > 0\n      //            cG = 0 <=> sG = -1 <=> gamma = -pi/2 => m[6] = cB\n      //            Hence, m[6] > 0 <=> cB > 0 <=> beta in ]-pi/2; +pi/2[\n      alpha = Math.atan2(-m[1], m[4]);\n      beta = Math.asin(m[7]); // asin returns a number between -pi/2 and +pi/2 => OK\n      gamma = -Math.PI / 2;\n    } else if (m[6] < 0) {\n      // Subcase 2: cG = 0 and cB < 0\n      //            cG = 0 <=> sG = -1 <=> gamma = -pi/2 => m[6] = cB\n      //            Hence, m[6] < 0 <=> cB < 0 <=> beta in [-pi; -pi/2[ U ]+pi/2; +pi]\n      alpha = Math.atan2(m[1], -m[4]); // same remark as for alpha in a case above\n      beta = -Math.asin(m[7]);\n      beta += beta >= 0 ? -Math.PI : Math.PI; // asin returns a number between -pi/2 and +pi/2 => make sure beta in [-pi; -pi/2[ U ]+pi/2; +pi]\n      gamma = -Math.PI / 2;\n    } else {\n      // Subcase 3: cB = 0\n      // In the case where cos(beta) = 0 (i.e. beta = -pi/2 or beta = pi/2),\n      // we have the gimbal lock problem: in that configuration, only the angle\n      // alpha + gamma (if beta = +pi/2) or alpha - gamma (if beta = -pi/2)\n      // are uniquely defined: alpha and gamma can take an infinity of values.\n      // For convenience, let's set gamma = 0 (and thus sin(gamma) = 0).\n      // (As a consequence of the gimbal lock problem, there is a discontinuity\n      // in alpha and gamma.)\n      alpha = Math.atan2(m[3], m[0]);\n      beta = m[7] > 0 ? Math.PI / 2 : -Math.PI / 2;\n      gamma = 0;\n    }\n  }\n\n  // atan2 returns a number between -pi and pi => make sure that alpha is in [0, 2*pi[.\n  alpha += alpha < 0 ? 2 * Math.PI : 0;\n\n  eulerAngle[0] = alphaIsValid ? radToDeg(alpha) : null;\n  eulerAngle[1] = radToDeg(beta);\n  eulerAngle[2] = radToDeg(gamma);\n}\n\n/**\n * Converts a Euler angle `[alpha, beta, gamma]` to a Euler angle where:\n * - `alpha` is in [0; +360[;\n * - `beta` is in [-90; +90[;\n * - `gamma` is in [-180; +180[.\n *\n * @param {number[]} eulerAngle - Euler angle to convert, represented by an array of length 3 (`[alpha, beta, gamma]`).\n */\nfunction unifyAlt(eulerAngle) {\n  // Convention here: Tait–Bryan angles Z-X'-Y'', where:\n  //   alpha is in [0; +360[,\n  //   beta is in [-90; +90[,\n  //   gamma is in [-180; +180[.\n\n  var alphaIsValid = typeof eulerAngle[0] === 'number';\n\n  var _alpha = alphaIsValid ? degToRad(eulerAngle[0]) : 0;\n  var _beta = degToRad(eulerAngle[1]);\n  var _gamma = degToRad(eulerAngle[2]);\n\n  var cA = Math.cos(_alpha);\n  var cB = Math.cos(_beta);\n  var cG = Math.cos(_gamma);\n  var sA = Math.sin(_alpha);\n  var sB = Math.sin(_beta);\n  var sG = Math.sin(_gamma);\n\n  var alpha = void 0,\n      beta = void 0,\n      gamma = void 0;\n\n  var m = [cA * cG - sA * sB * sG, -cB * sA, cA * sG + cG * sA * sB, cG * sA + cA * sB * sG, cA * cB, sA * sG - cA * cG * sB, -cB * sG, sB, cB * cG];\n  normalize(m);\n\n  alpha = Math.atan2(-m[1], m[4]);\n  alpha += alpha < 0 ? 2 * Math.PI : 0; // atan2 returns a number between -pi and +pi => make sure alpha is in [0, 2*pi[.\n  beta = Math.asin(m[7]); // asin returns a number between -pi/2 and pi/2 => OK\n  gamma = Math.atan2(-m[6], m[8]); // atan2 returns a number between -pi and +pi => OK\n\n  eulerAngle[0] = alphaIsValid ? radToDeg(alpha) : null;\n  eulerAngle[1] = radToDeg(beta);\n  eulerAngle[2] = radToDeg(gamma);\n}\n\n/**\n * `DeviceOrientationModule` singleton.\n * The `DeviceOrientationModule` singleton provides the raw values\n * of the orientation provided by the `DeviceMotion` event.\n * It also instantiate the `Orientation` submodule that unifies those\n * values across platforms by making them compliant with {@link\n * http://www.w3.org/TR/orientation-event/|the W3C standard} (*i.e.*\n * the `alpha` angle between `0` and `360` degrees, the `beta` angle\n * between `-180` and `180` degrees, and `gamma` between `-90` and\n * `90` degrees), as well as the `OrientationAlt` submodules (with\n * the `alpha` angle between `0` and `360` degrees, the `beta` angle\n * between `-90` and `90` degrees, and `gamma` between `-180` and\n * `180` degrees).\n * When the `orientation` raw values are not provided by the sensors,\n * this modules tries to recalculate `beta` and `gamma` from the\n * `AccelerationIncludingGravity` module, if available (in that case,\n * the `alpha` angle is impossible to retrieve since the compass is\n * not available).\n *\n * @class DeviceMotionModule\n * @extends InputModule\n */\n\nvar DeviceOrientationModule = function (_InputModule) {\n  _inherits(DeviceOrientationModule, _InputModule);\n\n  /**\n   * Creates the `DeviceOrientation` module instance.\n   *\n   * @constructor\n   */\n  function DeviceOrientationModule() {\n    _classCallCheck(this, DeviceOrientationModule);\n\n    /**\n     * Raw values coming from the `deviceorientation` event sent by this module.\n     *\n     * @this DeviceOrientationModule\n     * @type {number[]}\n     * @default [null, null, null]\n     */\n    var _this = _possibleConstructorReturn(this, (DeviceOrientationModule.__proto__ || Object.getPrototypeOf(DeviceOrientationModule)).call(this, 'deviceorientation'));\n\n    _this.event = [null, null, null];\n\n    /**\n     * The `Orientation` module.\n     * Provides unified values of the orientation compliant with {@link\n     * http://www.w3.org/TR/orientation-event/|the W3C standard}\n     * (`alpha` in `[0, 360]`, beta in `[-180, +180]`, `gamma` in `[-90, +90]`).\n     *\n     * @this DeviceOrientationModule\n     * @type {DOMEventSubmodule}\n     */\n    _this.orientation = new _DOMEventSubmodule2.default(_this, 'orientation');\n\n    /**\n     * The `OrientationAlt` module.\n     * Provides alternative values of the orientation\n     * (`alpha` in `[0, 360]`, beta in `[-90, +90]`, `gamma` in `[-180, +180]`).\n     *\n     * @this DeviceOrientationModule\n     * @type {DOMEventSubmodule}\n     */\n    _this.orientationAlt = new _DOMEventSubmodule2.default(_this, 'orientationAlt');\n\n    /**\n     * Required submodules / events.\n     *\n     * @this DeviceOrientationModule\n     * @type {object}\n     * @property {bool} orientation - Indicates whether the `orientation` unified values are required or not (defaults to `false`).\n     * @property {bool} orientationAlt - Indicates whether the `orientationAlt` values are required or not (defaults to `false`).\n     */\n    _this.required = {\n      orientation: false,\n      orientationAlt: false\n    };\n\n    /**\n     * Resolve function of the module's promise.\n     *\n     * @this DeviceOrientationModule\n     * @type {function}\n     * @default null\n     * @see DeviceOrientationModule#init\n     */\n    _this._promiseResolve = null;\n\n    /**\n     * Gravity vector calculated from the `accelerationIncludingGravity` unified values.\n     *\n     * @this DeviceOrientationModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._estimatedGravity = [0, 0, 0];\n\n    _this._processFunction = null;\n    _this._process = _this._process.bind(_this);\n    _this._deviceorientationCheck = _this._deviceorientationCheck.bind(_this);\n    _this._deviceorientationListener = _this._deviceorientationListener.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Sensor check on initialization of the module.\n   * This method:\n   * - checks whether the `orientation` values are valid or not;\n   * - (in the case where orientation raw values are not provided)\n   *   tries to calculate the orientation from the\n   *   `accelerationIncludingGravity` unified values.\n   *\n   * @param {DeviceMotionEvent} e - First `'devicemotion'` event caught, on which the check is done.\n   */\n\n\n  _createClass(DeviceOrientationModule, [{\n    key: '_deviceorientationCheck',\n    value: function _deviceorientationCheck(e) {\n      // clear timeout (anti-Firefox bug solution, window event deviceorientation being nver called)\n      // set the set timeout in init() function\n      clearTimeout(this._checkTimeoutId);\n\n      this.isProvided = true;\n\n      // Sensor availability for the orientation and alternative orientation\n      var rawValuesProvided = typeof e.alpha === 'number' && typeof e.beta === 'number' && typeof e.gamma === 'number';\n      this.orientation.isProvided = rawValuesProvided;\n      this.orientationAlt.isProvided = rawValuesProvided;\n\n      // TODO(?): get pseudo-period\n\n      // swap the process function to the\n      this._processFunction = this._deviceorientationListener;\n\n      // If orientation or alternative orientation are not provided by raw sensors but required,\n      // try to calculate them with `accelerationIncludingGravity` unified values\n      if (this.required.orientation && !this.orientation.isProvided || this.required.orientationAlt && !this.orientationAlt.isProvided) this._tryAccelerationIncludingGravityFallback();else this._promiseResolve(this);\n    }\n\n    /**\n     * `'deviceorientation'` event callback.\n     * This method emits an event with the raw `'deviceorientation'` values,\n     * and emits events with the unified `orientation` and / or the\n     * `orientationAlt` values if they are required.\n     *\n     * @param {DeviceOrientationEvent} e - `'deviceorientation'` event the values are calculated from.\n     */\n\n  }, {\n    key: '_deviceorientationListener',\n    value: function _deviceorientationListener(e) {\n      // 'deviceorientation' event (raw values)\n      var outEvent = this.event;\n\n      outEvent[0] = e.alpha;\n      outEvent[1] = e.beta;\n      outEvent[2] = e.gamma;\n\n      if (this.listeners.size > 0) this.emit(outEvent);\n\n      // 'orientation' event (unified values)\n      if (this.orientation.listeners.size > 0 && this.required.orientation && this.orientation.isProvided) {\n        // On iOS, the `alpha` value is initialized at `0` on the first `deviceorientation` event\n        // so we keep that reference in memory to calculate the North later on\n        if (!this.orientation._webkitCompassHeadingReference && e.webkitCompassHeading && _platform2.default.os.family === 'iOS') this.orientation._webkitCompassHeadingReference = e.webkitCompassHeading;\n\n        var _outEvent = this.orientation.event;\n\n        _outEvent[0] = e.alpha;\n        _outEvent[1] = e.beta;\n        _outEvent[2] = e.gamma;\n\n        // On iOS, replace the `alpha` value by the North value and unify the angles\n        // (the default representation of the angles on iOS is not compliant with the W3C specification)\n        if (this.orientation._webkitCompassHeadingReference && _platform2.default.os.family === 'iOS') {\n          _outEvent[0] += 360 - this.orientation._webkitCompassHeadingReference;\n          unify(_outEvent);\n        }\n\n        this.orientation.emit(_outEvent);\n      }\n\n      // 'orientationAlt' event\n      if (this.orientationAlt.listeners.size > 0 && this.required.orientationAlt && this.orientationAlt.isProvided) {\n        // On iOS, the `alpha` value is initialized at `0` on the first `deviceorientation` event\n        // so we keep that reference in memory to calculate the North later on\n        if (!this.orientationAlt._webkitCompassHeadingReference && e.webkitCompassHeading && _platform2.default.os.family === 'iOS') this.orientationAlt._webkitCompassHeadingReference = e.webkitCompassHeading;\n\n        var _outEvent2 = this.orientationAlt.event;\n\n        _outEvent2[0] = e.alpha;\n        _outEvent2[1] = e.beta;\n        _outEvent2[2] = e.gamma;\n\n        // On iOS, replace the `alpha` value by the North value but do not convert the angles\n        // (the default representation of the angles on iOS is compliant with the alternative representation)\n        if (this.orientationAlt._webkitCompassHeadingReference && _platform2.default.os.family === 'iOS') {\n          _outEvent2[0] -= this.orientationAlt._webkitCompassHeadingReference;\n          _outEvent2[0] += _outEvent2[0] < 0 ? 360 : 0; // make sure `alpha` is in [0, +360[\n        }\n\n        // On Android, transform the angles to the alternative representation\n        // (the default representation of the angles on Android is compliant with the W3C specification)\n        if (_platform2.default.os.family === 'Android') unifyAlt(_outEvent2);\n\n        this.orientationAlt.emit(_outEvent2);\n      }\n    }\n\n    /**\n     * Checks whether `beta` and `gamma` can be calculated from the `accelerationIncludingGravity` values or not.\n     */\n\n  }, {\n    key: '_tryAccelerationIncludingGravityFallback',\n    value: function _tryAccelerationIncludingGravityFallback() {\n      var _this2 = this;\n\n      _MotionInput2.default.requireModule('accelerationIncludingGravity').then(function (accelerationIncludingGravity) {\n        if (accelerationIncludingGravity.isValid) {\n          console.log(\"WARNING (motion-input): The 'deviceorientation' event does not exist or does not provide values in your browser, so the orientation of the device is estimated from DeviceMotion's 'accelerationIncludingGravity' event. Since the compass is not available, only the `beta` and `gamma` angles are provided (`alpha` is null).\");\n\n          if (_this2.required.orientation) {\n            _this2.orientation.isCalculated = true;\n            _this2.orientation.period = accelerationIncludingGravity.period;\n\n            _MotionInput2.default.addListener('accelerationIncludingGravity', function (accelerationIncludingGravity) {\n              _this2._calculateBetaAndGammaFromAccelerationIncludingGravity(accelerationIncludingGravity);\n            });\n          }\n\n          if (_this2.required.orientationAlt) {\n            _this2.orientationAlt.isCalculated = true;\n            _this2.orientationAlt.period = accelerationIncludingGravity.period;\n\n            _MotionInput2.default.addListener('accelerationIncludingGravity', function (accelerationIncludingGravity) {\n              _this2._calculateBetaAndGammaFromAccelerationIncludingGravity(accelerationIncludingGravity, true);\n            });\n          }\n        }\n\n        _this2._promiseResolve(_this2);\n      });\n    }\n\n    /**\n     * Calculates and emits `beta` and `gamma` values as a fallback of the `orientation` and / or `orientationAlt` events, from the `accelerationIncludingGravity` unified values.\n     *\n     * @param {number[]} accelerationIncludingGravity - Latest `accelerationIncludingGravity raw values.\n     * @param {bool} [alt=false] - Indicates whether we need the alternate representation of the angles or not.\n     */\n\n  }, {\n    key: '_calculateBetaAndGammaFromAccelerationIncludingGravity',\n    value: function _calculateBetaAndGammaFromAccelerationIncludingGravity(accelerationIncludingGravity) {\n      var alt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var k = 0.8;\n\n      // Low pass filter to estimate the gravity\n      this._estimatedGravity[0] = k * this._estimatedGravity[0] + (1 - k) * accelerationIncludingGravity[0];\n      this._estimatedGravity[1] = k * this._estimatedGravity[1] + (1 - k) * accelerationIncludingGravity[1];\n      this._estimatedGravity[2] = k * this._estimatedGravity[2] + (1 - k) * accelerationIncludingGravity[2];\n\n      var _gX = this._estimatedGravity[0];\n      var _gY = this._estimatedGravity[1];\n      var _gZ = this._estimatedGravity[2];\n\n      var norm = Math.sqrt(_gX * _gX + _gY * _gY + _gZ * _gZ);\n\n      _gX /= norm;\n      _gY /= norm;\n      _gZ /= norm;\n\n      // Adopting the following conventions:\n      // - each matrix operates by pre-multiplying column vectors,\n      // - each matrix represents an active rotation,\n      // - each matrix represents the composition of intrinsic rotations,\n      // the rotation matrix representing the composition of a rotation\n      // about the x-axis by an angle beta and a rotation about the y-axis\n      // by an angle gamma is:\n      //\n      // [ cos(gamma)               ,  0          ,  sin(gamma)              ,\n      //   sin(beta) * sin(gamma)   ,  cos(beta)  ,  -cos(gamma) * sin(beta) ,\n      //   -cos(beta) * sin(gamma)  ,  sin(beta)  ,  cos(beta) * cos(gamma)  ].\n      //\n      // Hence, the projection of the normalized gravity g = [0, 0, 1]\n      // in the device's reference frame corresponds to:\n      //\n      // gX = -cos(beta) * sin(gamma),\n      // gY = sin(beta),\n      // gZ = cos(beta) * cos(gamma),\n      //\n      // so beta = asin(gY) and gamma = atan2(-gX, gZ).\n\n      // Beta & gamma equations (we approximate [gX, gY, gZ] by [_gX, _gY, _gZ])\n      var beta = radToDeg(Math.asin(_gY)); // beta is in [-pi/2; pi/2[\n      var gamma = radToDeg(Math.atan2(-_gX, _gZ)); // gamma is in [-pi; pi[\n\n      if (alt) {\n        // In that case, there is nothing to do since the calculations above gave the angle in the right ranges\n        var outEvent = this.orientationAlt.event;\n        outEvent[0] = null;\n        outEvent[1] = beta;\n        outEvent[2] = gamma;\n\n        this.orientationAlt.emit(outEvent);\n      } else {\n        // Here we have to unify the angles to get the ranges compliant with the W3C specification\n        var _outEvent3 = this.orientation.event;\n        _outEvent3[0] = null;\n        _outEvent3[1] = beta;\n        _outEvent3[2] = gamma;\n        unify(_outEvent3);\n\n        this.orientation.emit(_outEvent3);\n      }\n    }\n  }, {\n    key: '_process',\n    value: function _process(data) {\n      this._processFunction(data);\n    }\n\n    /**\n     * Initializes of the module.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'init',\n    value: function init() {\n      var _this3 = this;\n\n      return _get(DeviceOrientationModule.prototype.__proto__ || Object.getPrototypeOf(DeviceOrientationModule.prototype), 'init', this).call(this, function (resolve) {\n        _this3._promiseResolve = resolve;\n\n        if (window.DeviceOrientationEvent) {\n          _this3._processFunction = _this3._deviceorientationCheck;\n          window.addEventListener('deviceorientation', _this3._process, false);\n          // set fallback timeout for Firefox (its window never calling the DeviceOrientation event, a \n          // require of the DeviceOrientation service will result in the require promise never being resolved\n          // hence the Experiment start() method never called)\n          _this3._checkTimeoutId = setTimeout(function () {\n            return resolve(_this3);\n          }, 500);\n        } else if (_this3.required.orientation) {\n          _this3._tryAccelerationIncludingGravityFallback();\n        } else {\n          resolve(_this3);\n        }\n      });\n    }\n  }]);\n\n  return DeviceOrientationModule;\n}(_InputModule3.default);\n\nexports.default = new DeviceOrientationModule();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRldmljZU9yaWVudGF0aW9uTW9kdWxlLmpzIl0sIm5hbWVzIjpbImRlZ1RvUmFkIiwiZGVnIiwiTWF0aCIsIlBJIiwicmFkVG9EZWciLCJyYWQiLCJub3JtYWxpemUiLCJtIiwiZGV0IiwiaSIsImxlbmd0aCIsInVuaWZ5IiwiZXVsZXJBbmdsZSIsImFscGhhSXNWYWxpZCIsIl9hbHBoYSIsIl9iZXRhIiwiX2dhbW1hIiwiY0EiLCJjb3MiLCJjQiIsImNHIiwic0EiLCJzaW4iLCJzQiIsInNHIiwiYWxwaGEiLCJiZXRhIiwiZ2FtbWEiLCJhdGFuMiIsImFzaW4iLCJ1bmlmeUFsdCIsIkRldmljZU9yaWVudGF0aW9uTW9kdWxlIiwiZXZlbnQiLCJvcmllbnRhdGlvbiIsIm9yaWVudGF0aW9uQWx0IiwicmVxdWlyZWQiLCJfcHJvbWlzZVJlc29sdmUiLCJfZXN0aW1hdGVkR3Jhdml0eSIsIl9wcm9jZXNzRnVuY3Rpb24iLCJfcHJvY2VzcyIsImJpbmQiLCJfZGV2aWNlb3JpZW50YXRpb25DaGVjayIsIl9kZXZpY2VvcmllbnRhdGlvbkxpc3RlbmVyIiwiZSIsImNsZWFyVGltZW91dCIsIl9jaGVja1RpbWVvdXRJZCIsImlzUHJvdmlkZWQiLCJyYXdWYWx1ZXNQcm92aWRlZCIsIl90cnlBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5RmFsbGJhY2siLCJvdXRFdmVudCIsImxpc3RlbmVycyIsInNpemUiLCJlbWl0IiwiX3dlYmtpdENvbXBhc3NIZWFkaW5nUmVmZXJlbmNlIiwid2Via2l0Q29tcGFzc0hlYWRpbmciLCJvcyIsImZhbWlseSIsInJlcXVpcmVNb2R1bGUiLCJ0aGVuIiwiYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSIsImlzVmFsaWQiLCJjb25zb2xlIiwibG9nIiwiaXNDYWxjdWxhdGVkIiwicGVyaW9kIiwiYWRkTGlzdGVuZXIiLCJfY2FsY3VsYXRlQmV0YUFuZEdhbW1hRnJvbUFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJhbHQiLCJrIiwiX2dYIiwiX2dZIiwiX2daIiwibm9ybSIsInNxcnQiLCJkYXRhIiwicmVzb2x2ZSIsIndpbmRvdyIsIkRldmljZU9yaWVudGF0aW9uRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7O0FBTUEsU0FBU0EsUUFBVCxDQUFrQkMsR0FBbEIsRUFBdUI7QUFDckIsU0FBT0EsTUFBTUMsS0FBS0MsRUFBWCxHQUFnQixHQUF2QjtBQUNEOztBQUVEOzs7Ozs7QUFNQSxTQUFTQyxRQUFULENBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixTQUFPQSxNQUFNLEdBQU4sR0FBWUgsS0FBS0MsRUFBeEI7QUFDRDs7QUFFRDs7Ozs7O0FBTUEsU0FBU0csU0FBVCxDQUFtQkMsQ0FBbkIsRUFBc0I7QUFDcEIsTUFBTUMsTUFBTUQsRUFBRSxDQUFGLElBQU9BLEVBQUUsQ0FBRixDQUFQLEdBQWNBLEVBQUUsQ0FBRixDQUFkLEdBQXFCQSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQVAsR0FBY0EsRUFBRSxDQUFGLENBQW5DLEdBQTBDQSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQVAsR0FBY0EsRUFBRSxDQUFGLENBQXhELEdBQStEQSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQVAsR0FBY0EsRUFBRSxDQUFGLENBQTdFLEdBQW9GQSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQVAsR0FBY0EsRUFBRSxDQUFGLENBQWxHLEdBQXlHQSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQVAsR0FBY0EsRUFBRSxDQUFGLENBQW5JOztBQUVBLE9BQUssSUFBSUUsSUFBSSxDQUFiLEVBQWdCQSxJQUFJRixFQUFFRyxNQUF0QixFQUE4QkQsR0FBOUI7QUFDRUYsTUFBRUUsQ0FBRixLQUFRRCxHQUFSO0FBREYsR0FHQSxPQUFPRCxDQUFQO0FB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LGNBQU1zQyxVQUFOOztBQUVBLGFBQUtoQixXQUFMLENBQWlCbUIsSUFBakIsQ0FBc0JILFVBQXRCO0FBQ0Q7QUFDRjs7OzZCQUVReUIsSSxFQUFNO0FBQ2IsV0FBS3BDLGdCQUFMLENBQXNCb0MsSUFBdEI7QUFDRDs7QUFFRDs7Ozs7Ozs7MkJBS087QUFBQTs7QUFDTCxvSkFBa0IsVUFBQ0MsT0FBRCxFQUFhO0FBQzdCLGVBQUt2QyxlQUFMLEdBQXVCdUMsT0FBdkI7O0FBRUEsWUFBSUMsT0FBT0Msc0JBQVgsRUFBbUM7QUFDakMsaUJBQUt2QyxnQkFBTCxHQUF3QixPQUFLRyx1QkFBN0I7QUFDQW1DLGlCQUFPRSxnQkFBUCxDQUF3QixtQkFBeEIsRUFBNkMsT0FBS3ZDLFFBQWxELEVBQTRELEtBQTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQUtNLGVBQUwsR0FBdUJrQyxXQUFXO0FBQUEsbUJBQU1KLGVBQU47QUFBQSxXQUFYLEVBQWdDLEdBQWhDLENBQXZCO0FBQ0QsU0FQRCxNQU9PLElBQUksT0FBS3hDLFFBQUwsQ0FBY0YsV0FBbEIsRUFBK0I7QUFDcEMsaUJBQUtlLHdDQUFMO0FBQ0QsU0FGTSxNQUVBO0FBQ0wyQjtBQUNEO0FBQ0YsT0FmRDtBQWdCRDs7Ozs7O2tCQUdZLElBQUk1Qyx1QkFBSixFIiwiZmlsZSI6IkRldmljZU9yaWVudGF0aW9uTW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERPTUV2ZW50U3VibW9kdWxlIGZyb20gJy4vRE9NRXZlbnRTdWJtb2R1bGUnO1xuaW1wb3J0IElucHV0TW9kdWxlIGZyb20gJy4vSW5wdXRNb2R1bGUnO1xuaW1wb3J0IE1vdGlvbklucHV0IGZyb20gJy4vTW90aW9uSW5wdXQnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJ3BsYXRmb3JtJztcblxuLyoqXG4gKiBDb252ZXJ0cyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRlZyAtIEFuZ2xlIGluIGRlZ3JlZXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGRlZ1RvUmFkKGRlZykge1xuICByZXR1cm4gZGVnICogTWF0aC5QSSAvIDE4MDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCAtIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHJhZFRvRGVnKHJhZCkge1xuICByZXR1cm4gcmFkICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBOb3JtYWxpemVzIGEgMyB4IDMgbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IG0gLSBNYXRyaXggdG8gbm9ybWFsaXplLCByZXByZXNlbnRlZCBieSBhbiBhcnJheSBvZiBsZW5ndGggOS5cbiAqIEByZXR1cm4ge251bWJlcltdfVxuICovXG5mdW5jdGlvbiBub3JtYWxpemUobSkge1xuICBjb25zdCBkZXQgPSBtWzBdICogbVs0XSAqIG1bOF0gKyBtWzFdICogbVs1XSAqIG1bNl0gKyBtWzJdICogbVszXSAqIG1bN10gLSBtWzBdICogbVs1XSAqIG1bN10gLSBtWzFdICogbVszXSAqIG1bOF0gLSBtWzJdICogbVs0XSAqIG1bNl07XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSsrKVxuICAgIG1baV0gLz0gZGV0O1xuXG4gIHJldHVybiBtO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgRXVsZXIgYW5nbGUgYFthbHBoYSwgYmV0YSwgZ2FtbWFdYCB0byB0aGUgVzNDIHNwZWNpZmljYXRpb24sIHdoZXJlOlxuICogLSBgYWxwaGFgIGlzIGluIFswOyArMzYwWztcbiAqIC0gYGJldGFgIGlzIGluIFstMTgwOyArMTgwWztcbiAqIC0gYGdhbW1hYCBpcyBpbiBbLTkwOyArOTBbLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IGV1bGVyQW5nbGUgLSBFdWxlciBhbmdsZSB0byB1bmlmeSwgcmVwcmVzZW50ZWQgYnkgYW4gYXJyYXkgb2YgbGVuZ3RoIDMgKGBbYWxwaGEsIGJldGEsIGdhbW1hXWApLlxuICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy53My5vcmcvVFIvb3JpZW50YXRpb24tZXZlbnQvfVxuICovXG5mdW5jdGlvbiB1bmlmeShldWxlckFuZ2xlKSB7XG4gIC8vIENmLiBXM0Mgc3BlY2lmaWNhdGlvbiAoaHR0cDovL3czYy5naXRodWIuaW8vZGV2aWNlb3JpZW50YXRpb24vc3BlYy1zb3VyY2Utb3JpZW50YXRpb24uaHRtbClcbiAgLy8gYW5kIEV1bGVyIGFuZ2xlcyBXaWtpcGVkaWEgcGFnZSAoaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWxlcl9hbmdsZXMpLlxuICAvL1xuICAvLyBXM0MgY29udmVudGlvbjogVGFpdOKAk0JyeWFuIGFuZ2xlcyBaLVgnLVknJywgd2hlcmU6XG4gIC8vICAgYWxwaGEgaXMgaW4gWzA7ICszNjBbLFxuICAvLyAgIGJldGEgaXMgaW4gWy0xODA7ICsxODBbLFxuICAvLyAgIGdhbW1hIGlzIGluIFstOTA7ICs5MFsuXG5cbiAgY29uc3QgYWxwaGFJc1ZhbGlkID0gKHR5cGVvZiBldWxlckFuZ2xlWzBdID09PSAnbnVtYmVyJyk7XG5cbiAgY29uc3QgX2FscGhhID0gKGFscGhhSXNWYWxpZCA/IGRlZ1RvUmFkKGV1bGVyQW5nbGVbMF0pIDogMCk7XG4gIGNvbnN0IF9iZXRhID0gZGVnVG9SYWQoZXVsZXJBbmdsZVsxXSk7XG4gIGNvbnN0IF9nYW1tYSA9IGRlZ1RvUmFkKGV1bGVyQW5nbGVbMl0pO1xuXG4gIGNvbnN0IGNBID0gTWF0aC5jb3MoX2FscGhhKTtcbiAgY29uc3QgY0IgPSBNYXRoLmNvcyhfYmV0YSk7XG4gIGNvbnN0IGNHID0gTWF0aC5jb3MoX2dhbW1hKTtcbiAgY29uc3Qgc0EgPSBNYXRoLnNpbihfYWxwaGEpO1xuICBjb25zdCBzQiA9IE1hdGguc2luKF9iZXRhKTtcbiAgY29uc3Qgc0cgPSBNYXRoLnNpbihfZ2FtbWEpO1xuXG4gIGxldCBhbHBoYSwgYmV0YSwgZ2FtbWE7XG5cbiAgbGV0IG0gPSBbXG4gICAgY0EgKiBjRyAtIHNBICogc0IgKiBzRyxcbiAgICAtY0IgKiBzQSxcbiAgICBjQSAqIHNHICsgY0cgKiBzQSAqIHNCLFxuICAgIGNHICogc0EgKyBjQSAqIHNCICogc0csXG4gICAgY0EgKiBjQixcbiAgICBzQSAqIHNHIC0gY0EgKiBjRyAqIHNCLFxuICAgIC1jQiAqIHNHLFxuICAgIHNCLFxuICAgIGNCICogY0dcbiAgXTtcbiAgbm9ybWFsaXplKG0pO1xuXG4gIC8vIFNpbmNlIHdlIHdhbnQgZ2FtbWEgaW4gWy05MDsgKzkwWywgY0cgPj0gMC5cbiAgaWYgKG1bOF0gPiAwKSB7XG4gICAgLy8gQ2FzZSAxOiBtWzhdID4gMCA8PT4gY0IgPiAwICAgICAgICAgICAgICAgICAoYW5kIGNHICE9IDApXG4gICAgLy8gICAgICAgICAgICAgICAgICA8PT4gYmV0YSBpbiBdLXBpLzI7ICtwaS8yWyAoYW5kIGNHICE9IDApXG4gICAgYWxwaGEgPSBNYXRoLmF0YW4yKC1tWzFdLCBtWzRdKTtcbiAgICBiZXRhID0gTWF0aC5hc2luKG1bN10pOyAvLyBhc2luIHJldHVybnMgYSBudW1iZXIgYmV0d2VlbiAtcGkvMiBhbmQgK3BpLzIgPT4gT0tcbiAgICBnYW1tYSA9IE1hdGguYXRhbjIoLW1bNl0sIG1bOF0pO1xuICB9IGVsc2UgaWYgKG1bOF0gPCAwKSB7XG4gICAgLy8gQ2FzZSAyOiBtWzhdIDwgMCA8PT4gY0IgPCAwICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbmQgY0cgIT0gMClcbiAgICAvLyAgICAgICAgICAgICAgICAgIDw9PiBiZXRhIGluIFstcGk7IC1waS8yWyBVIF0rcGkvMjsgK3BpXSAoYW5kIGNHICE9IDApXG5cbiAgICAvLyBTaW5jZSBjQiA8IDAgYW5kIGNCIGlzIGluIG1bMV0gYW5kIG1bNF0sIHRoZSBwb2ludCBpcyBmbGlwcGVkIGJ5IDE4MCBkZWdyZWVzLlxuICAgIC8vIEhlbmNlLCB3ZSBoYXZlIHRvIG11bHRpcGx5IGJvdGggYXJndW1lbnRzIG9mIGF0YW4yIGJ5IC0xIGluIG9yZGVyIHRvIHJldmVydFxuICAgIC8vIHRoZSBwb2ludCBpbiBpdHMgb3JpZ2luYWwgcG9zaXRpb24gKD0+IGFub3RoZXIgZmxpcCBieSAxODAgZGVncmVlcykuXG4gICAgYWxwaGEgPSBNYXRoLmF0YW4yKG1bMV0sIC1tWzRdKTtcbiAgICBiZXRhID0gLU1hdGguYXNpbihtWzddKTtcbiAgICBiZXRhICs9IChiZXRhID49IDApID8gLU1hdGguUEkgOiBNYXRoLlBJOyAvLyBhc2luIHJldHVybnMgYSBudW1iZXIgYmV0d2VlbiAtcGkvMiBhbmQgcGkvMiA9PiBtYWtlIHN1cmUgYmV0YSBpbiBbLXBpOyAtcGkvMlsgVSBdK3BpLzI7ICtwaV1cbiAgICBnYW1tYSA9IE1hdGguYXRhbjIobVs2XSwgLW1bOF0pOyAvLyBzYW1lIHJlbWFyayBhcyBmb3IgYWxwaGEsIG11bHRpcGxpY2F0aW9uIGJ5IC0xXG4gIH0gZWxzZSB7XG4gICAgLy8gQ2FzZSAzOiBtWzhdID0gMCA8PT4gY0IgPSAwIG9yIGNHID0gMFxuICAgIGlmIChtWzZdID4gMCkge1xuICAgICAgLy8gU3ViY2FzZSAxOiBjRyA9IDAgYW5kIGNCID4gMFxuICAgICAgLy8gICAgICAgICAgICBjRyA9IDAgPD0+IHNHID0gLTEgPD0+IGdhbW1hID0gLXBpLzIgPT4gbVs2XSA9IGNCXG4gICAgICAvLyAgICAgICAgICAgIEhlbmNlLCBtWzZdID4gMCA8PT4gY0IgPiAwIDw9PiBiZXRhIGluIF0tcGkvMjsgK3BpLzJbXG4gICAgICBhbHBoYSA9IE1hdGguYXRhbjIoLW1bMV0sIG1bNF0pO1xuICAgICAgYmV0YSA9IE1hdGguYXNpbihtWzddKTsgLy8gYXNpbiByZXR1cm5zIGEgbnVtYmVyIGJldHdlZW4gLXBpLzIgYW5kICtwaS8yID0+IE9LXG4gICAgICBnYW1tYSA9IC1NYXRoLlBJIC8gMjtcbiAgICB9IGVsc2UgaWYgKG1bNl0gPCAwKSB7XG4gICAgICAvLyBTdWJjYXNlIDI6IGNHID0gMCBhbmQgY0IgPCAwXG4gICAgICAvLyAgICAgICAgICAgIGNHID0gMCA8PT4gc0cgPSAtMSA8PT4gZ2FtbWEgPSAtcGkvMiA9PiBtWzZdID0gY0JcbiAgICAgIC8vICAgICAgICAgICAgSGVuY2UsIG1bNl0gPCAwIDw9PiBjQiA8IDAgPD0+IGJldGEgaW4gWy1waTsgLXBpLzJbIFUgXStwaS8yOyArcGldXG4gICAgICBhbHBoYSA9IE1hdGguYXRhbjIobVsxXSwgLW1bNF0pOyAvLyBzYW1lIHJlbWFyayBhcyBmb3IgYWxwaGEgaW4gYSBjYXNlIGFib3ZlXG4gICAgICBiZXRhID0gLU1hdGguYXNpbihtWzddKTtcbiAgICAgIGJldGEgKz0gKGJldGEgPj0gMCkgPyAtTWF0aC5QSSA6IE1hdGguUEk7IC8vIGFzaW4gcmV0dXJucyBhIG51bWJlciBiZXR3ZWVuIC1waS8yIGFuZCArcGkvMiA9PiBtYWtlIHN1cmUgYmV0YSBpbiBbLXBpOyAtcGkvMlsgVSBdK3BpLzI7ICtwaV1cbiAgICAgIGdhbW1hID0gLU1hdGguUEkgLyAyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdWJjYXNlIDM6IGNCID0gMFxuICAgICAgLy8gSW4gdGhlIGNhc2Ugd2hlcmUgY29zKGJldGEpID0gMCAoaS5lLiBiZXRhID0gLXBpLzIgb3IgYmV0YSA9IHBpLzIpLFxuICAgICAgLy8gd2UgaGF2ZSB0aGUgZ2ltYmFsIGxvY2sgcHJvYmxlbTogaW4gdGhhdCBjb25maWd1cmF0aW9uLCBvbmx5IHRoZSBhbmdsZVxuICAgICAgLy8gYWxwaGEgKyBnYW1tYSAoaWYgYmV0YSA9ICtwaS8yKSBvciBhbHBoYSAtIGdhbW1hIChpZiBiZXRhID0gLXBpLzIpXG4gICAgICAvLyBhcmUgdW5pcXVlbHkgZGVmaW5lZDogYWxwaGEgYW5kIGdhbW1hIGNhbiB0YWtlIGFuIGluZmluaXR5IG9mIHZhbHVlcy5cbiAgICAgIC8vIEZvciBjb252ZW5pZW5jZSwgbGV0J3Mgc2V0IGdhbW1hID0gMCAoYW5kIHRodXMgc2luKGdhbW1hKSA9IDApLlxuICAgICAgLy8gKEFzIGEgY29uc2VxdWVuY2Ugb2YgdGhlIGdpbWJhbCBsb2NrIHByb2JsZW0sIHRoZXJlIGlzIGEgZGlzY29udGludWl0eVxuICAgICAgLy8gaW4gYWxwaGEgYW5kIGdhbW1hLilcbiAgICAgIGFscGhhID0gTWF0aC5hdGFuMihtWzNdLCBtWzBdKTtcbiAgICAgIGJldGEgPSAobVs3XSA+IDApID8gTWF0aC5QSSAvIDIgOiAtTWF0aC5QSSAvIDI7XG4gICAgICBnYW1tYSA9IDA7XG4gICAgfVxuICB9XG5cbiAgLy8gYXRhbjIgcmV0dXJucyBhIG51bWJlciBiZXR3ZWVuIC1waSBhbmQgcGkgPT4gbWFrZSBzdXJlIHRoYXQgYWxwaGEgaXMgaW4gWzAsIDIqcGlbLlxuICBhbHBoYSArPSAoYWxwaGEgPCAwKSA/IDIgKiBNYXRoLlBJIDogMDtcblxuICBldWxlckFuZ2xlWzBdID0gKGFscGhhSXNWYWxpZCA/IHJhZFRvRGVnKGFscGhhKSA6IG51bGwpO1xuICBldWxlckFuZ2xlWzFdID0gcmFkVG9EZWcoYmV0YSk7XG4gIGV1bGVyQW5nbGVbMl0gPSByYWRUb0RlZyhnYW1tYSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBFdWxlciBhbmdsZSBgW2FscGhhLCBiZXRhLCBnYW1tYV1gIHRvIGEgRXVsZXIgYW5nbGUgd2hlcmU6XG4gKiAtIGBhbHBoYWAgaXMgaW4gWzA7ICszNjBbO1xuICogLSBgYmV0YWAgaXMgaW4gWy05MDsgKzkwWztcbiAqIC0gYGdhbW1hYCBpcyBpbiBbLTE4MDsgKzE4MFsuXG4gKlxuICogQHBhcmFtIHtudW1iZXJbXX0gZXVsZXJBbmdsZSAtIEV1bGVyIGFuZ2xlIHRvIGNvbnZlcnQsIHJlcHJlc2VudGVkIGJ5IGFuIGFycmF5IG9mIGxlbmd0aCAzIChgW2FscGhhLCBiZXRhLCBnYW1tYV1gKS5cbiAqL1xuZnVuY3Rpb24gdW5pZnlBbHQoZXVsZXJBbmdsZSkge1xuICAvLyBDb252ZW50aW9uIGhlcmU6IFRhaXTigJNCcnlhbiBhbmdsZXMgWi1YJy1ZJycsIHdoZXJlOlxuICAvLyAgIGFscGhhIGlzIGluIFswOyArMzYwWyxcbiAgLy8gICBiZXRhIGlzIGluIFstOTA7ICs5MFssXG4gIC8vICAgZ2FtbWEgaXMgaW4gWy0xODA7ICsxODBbLlxuXG4gIGNvbnN0IGFscGhhSXNWYWxpZCA9ICh0eXBlb2YgZXVsZXJBbmdsZVswXSA9PT0gJ251bWJlcicpO1xuXG4gIGNvbnN0IF9hbHBoYSA9IChhbHBoYUlzVmFsaWQgPyBkZWdUb1JhZChldWxlckFuZ2xlWzBdKSA6IDApO1xuICBjb25zdCBfYmV0YSA9IGRlZ1RvUmFkKGV1bGVyQW5nbGVbMV0pO1xuICBjb25zdCBfZ2FtbWEgPSBkZWdUb1JhZChldWxlckFuZ2xlWzJdKTtcblxuICBjb25zdCBjQSA9IE1hdGguY29zKF9hbHBoYSk7XG4gIGNvbnN0IGNCID0gTWF0aC5jb3MoX2JldGEpO1xuICBjb25zdCBjRyA9IE1hdGguY29zKF9nYW1tYSk7XG4gIGNvbnN0IHNBID0gTWF0aC5zaW4oX2FscGhhKTtcbiAgY29uc3Qgc0IgPSBNYXRoLnNpbihfYmV0YSk7XG4gIGNvbnN0IHNHID0gTWF0aC5zaW4oX2dhbW1hKTtcblxuICBsZXQgYWxwaGEsIGJldGEsIGdhbW1hO1xuXG4gIGxldCBtID0gW1xuICAgIGNBICogY0cgLSBzQSAqIHNCICogc0csXG4gICAgLWNCICogc0EsXG4gICAgY0EgKiBzRyArIGNHICogc0EgKiBzQixcbiAgICBjRyAqIHNBICsgY0EgKiBzQiAqIHNHLFxuICAgIGNBICogY0IsXG4gICAgc0EgKiBzRyAtIGNBICogY0cgKiBzQixcbiAgICAtY0IgKiBzRyxcbiAgICBzQixcbiAgICBjQiAqIGNHXG4gIF07XG4gIG5vcm1hbGl6ZShtKTtcblxuICBhbHBoYSA9IE1hdGguYXRhbjIoLW1bMV0sIG1bNF0pO1xuICBhbHBoYSArPSAoYWxwaGEgPCAwKSA/IDIgKiBNYXRoLlBJIDogMDsgLy8gYXRhbjIgcmV0dXJucyBhIG51bWJlciBiZXR3ZWVuIC1waSBhbmQgK3BpID0+IG1ha2Ugc3VyZSBhbHBoYSBpcyBpbiBbMCwgMipwaVsuXG4gIGJldGEgPSBNYXRoLmFzaW4obVs3XSk7IC8vIGFzaW4gcmV0dXJucyBhIG51bWJlciBiZXR3ZWVuIC1waS8yIGFuZCBwaS8yID0+IE9LXG4gIGdhbW1hID0gTWF0aC5hdGFuMigtbVs2XSwgbVs4XSk7IC8vIGF0YW4yIHJldHVybnMgYSBudW1iZXIgYmV0d2VlbiAtcGkgYW5kICtwaSA9PiBPS1xuXG4gIGV1bGVyQW5nbGVbMF0gPSAoYWxwaGFJc1ZhbGlkID8gcmFkVG9EZWcoYWxwaGEpIDogbnVsbCk7XG4gIGV1bGVyQW5nbGVbMV0gPSByYWRUb0RlZyhiZXRhKTtcbiAgZXVsZXJBbmdsZVsyXSA9IHJhZFRvRGVnKGdhbW1hKTtcbn1cblxuLyoqXG4gKiBgRGV2aWNlT3JpZW50YXRpb25Nb2R1bGVgIHNpbmdsZXRvbi5cbiAqIFRoZSBgRGV2aWNlT3JpZW50YXRpb25Nb2R1bGVgIHNpbmdsZXRvbiBwcm92aWRlcyB0aGUgcmF3IHZhbHVlc1xuICogb2YgdGhlIG9yaWVudGF0aW9uIHByb3ZpZGVkIGJ5IHRoZSBgRGV2aWNlTW90aW9uYCBldmVudC5cbiAqIEl0IGFsc28gaW5zdGFudGlhdGUgdGhlIGBPcmllbnRhdGlvbmAgc3VibW9kdWxlIHRoYXQgdW5pZmllcyB0aG9zZVxuICogdmFsdWVzIGFjcm9zcyBwbGF0Zm9ybXMgYnkgbWFraW5nIHRoZW0gY29tcGxpYW50IHdpdGgge0BsaW5rXG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi9vcmllbnRhdGlvbi1ldmVudC98dGhlIFczQyBzdGFuZGFyZH0gKCppLmUuKlxuICogdGhlIGBhbHBoYWAgYW5nbGUgYmV0d2VlbiBgMGAgYW5kIGAzNjBgIGRlZ3JlZXMsIHRoZSBgYmV0YWAgYW5nbGVcbiAqIGJldHdlZW4gYC0xODBgIGFuZCBgMTgwYCBkZWdyZWVzLCBhbmQgYGdhbW1hYCBiZXR3ZWVuIGAtOTBgIGFuZFxuICogYDkwYCBkZWdyZWVzKSwgYXMgd2VsbCBhcyB0aGUgYE9yaWVudGF0aW9uQWx0YCBzdWJtb2R1bGVzICh3aXRoXG4gKiB0aGUgYGFscGhhYCBhbmdsZSBiZXR3ZWVuIGAwYCBhbmQgYDM2MGAgZGVncmVlcywgdGhlIGBiZXRhYCBhbmdsZVxuICogYmV0d2VlbiBgLTkwYCBhbmQgYDkwYCBkZWdyZWVzLCBhbmQgYGdhbW1hYCBiZXR3ZWVuIGAtMTgwYCBhbmRcbiAqIGAxODBgIGRlZ3JlZXMpLlxuICogV2hlbiB0aGUgYG9yaWVudGF0aW9uYCByYXcgdmFsdWVzIGFyZSBub3QgcHJvdmlkZWQgYnkgdGhlIHNlbnNvcnMsXG4gKiB0aGlzIG1vZHVsZXMgdHJpZXMgdG8gcmVjYWxjdWxhdGUgYGJldGFgIGFuZCBgZ2FtbWFgIGZyb20gdGhlXG4gKiBgQWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAgbW9kdWxlLCBpZiBhdmFpbGFibGUgKGluIHRoYXQgY2FzZSxcbiAqIHRoZSBgYWxwaGFgIGFuZ2xlIGlzIGltcG9zc2libGUgdG8gcmV0cmlldmUgc2luY2UgdGhlIGNvbXBhc3MgaXNcbiAqIG5vdCBhdmFpbGFibGUpLlxuICpcbiAqIEBjbGFzcyBEZXZpY2VNb3Rpb25Nb2R1bGVcbiAqIEBleHRlbmRzIElucHV0TW9kdWxlXG4gKi9cbmNsYXNzIERldmljZU9yaWVudGF0aW9uTW9kdWxlIGV4dGVuZHMgSW5wdXRNb2R1bGUge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBgRGV2aWNlT3JpZW50YXRpb25gIG1vZHVsZSBpbnN0YW5jZS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZGV2aWNlb3JpZW50YXRpb24nKTtcblxuICAgIC8qKlxuICAgICAqIFJhdyB2YWx1ZXMgY29taW5nIGZyb20gdGhlIGBkZXZpY2VvcmllbnRhdGlvbmAgZXZlbnQgc2VudCBieSB0aGlzIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU9yaWVudGF0aW9uTW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFtudWxsLCBudWxsLCBudWxsXVxuICAgICAqL1xuICAgIHRoaXMuZXZlbnQgPSBbbnVsbCwgbnVsbCwgbnVsbF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE9yaWVudGF0aW9uYCBtb2R1bGUuXG4gICAgICogUHJvdmlkZXMgdW5pZmllZCB2YWx1ZXMgb2YgdGhlIG9yaWVudGF0aW9uIGNvbXBsaWFudCB3aXRoIHtAbGlua1xuICAgICAqIGh0dHA6Ly93d3cudzMub3JnL1RSL29yaWVudGF0aW9uLWV2ZW50L3x0aGUgVzNDIHN0YW5kYXJkfVxuICAgICAqIChgYWxwaGFgIGluIGBbMCwgMzYwXWAsIGJldGEgaW4gYFstMTgwLCArMTgwXWAsIGBnYW1tYWAgaW4gYFstOTAsICs5MF1gKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU9yaWVudGF0aW9uTW9kdWxlXG4gICAgICogQHR5cGUge0RPTUV2ZW50U3VibW9kdWxlfVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBuZXcgRE9NRXZlbnRTdWJtb2R1bGUodGhpcywgJ29yaWVudGF0aW9uJyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE9yaWVudGF0aW9uQWx0YCBtb2R1bGUuXG4gICAgICogUHJvdmlkZXMgYWx0ZXJuYXRpdmUgdmFsdWVzIG9mIHRoZSBvcmllbnRhdGlvblxuICAgICAqIChgYWxwaGFgIGluIGBbMCwgMzYwXWAsIGJldGEgaW4gYFstOTAsICs5MF1gLCBgZ2FtbWFgIGluIGBbLTE4MCwgKzE4MF1gKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU9yaWVudGF0aW9uTW9kdWxlXG4gICAgICogQHR5cGUge0RPTUV2ZW50U3VibW9kdWxlfVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50YXRpb25BbHQgPSBuZXcgRE9NRXZlbnRTdWJtb2R1bGUodGhpcywgJ29yaWVudGF0aW9uQWx0Jyk7XG5cbiAgICAvKipcbiAgICAgKiBSZXF1aXJlZCBzdWJtb2R1bGVzIC8gZXZlbnRzLlxuICAgICAqXG4gICAgICogQHRoaXMgRGV2aWNlT3JpZW50YXRpb25Nb2R1bGVcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbH0gb3JpZW50YXRpb24gLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgYG9yaWVudGF0aW9uYCB1bmlmaWVkIHZhbHVlcyBhcmUgcmVxdWlyZWQgb3Igbm90IChkZWZhdWx0cyB0byBgZmFsc2VgKS5cbiAgICAgKiBAcHJvcGVydHkge2Jvb2x9IG9yaWVudGF0aW9uQWx0IC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGBvcmllbnRhdGlvbkFsdGAgdmFsdWVzIGFyZSByZXF1aXJlZCBvciBub3QgKGRlZmF1bHRzIHRvIGBmYWxzZWApLlxuICAgICAqL1xuICAgIHRoaXMucmVxdWlyZWQgPSB7XG4gICAgICBvcmllbnRhdGlvbjogZmFsc2UsXG4gICAgICBvcmllbnRhdGlvbkFsdDogZmFsc2VcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSBmdW5jdGlvbiBvZiB0aGUgbW9kdWxlJ3MgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU9yaWVudGF0aW9uTW9kdWxlXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKiBAc2VlIERldmljZU9yaWVudGF0aW9uTW9kdWxlI2luaXRcbiAgICAgKi9cbiAgICB0aGlzLl9wcm9taXNlUmVzb2x2ZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBHcmF2aXR5IHZlY3RvciBjYWxjdWxhdGVkIGZyb20gdGhlIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCB1bmlmaWVkIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU9yaWVudGF0aW9uTW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFswLCAwLCAwXVxuICAgICAqL1xuICAgIHRoaXMuX2VzdGltYXRlZEdyYXZpdHkgPSBbMCwgMCwgMF07XG5cbiAgICB0aGlzLl9wcm9jZXNzRnVuY3Rpb24gPSBudWxsO1xuICAgIHRoaXMuX3Byb2Nlc3MgPSB0aGlzLl9wcm9jZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZGV2aWNlb3JpZW50YXRpb25DaGVjayA9IHRoaXMuX2RldmljZW9yaWVudGF0aW9uQ2hlY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kZXZpY2VvcmllbnRhdGlvbkxpc3RlbmVyID0gdGhpcy5fZGV2aWNlb3JpZW50YXRpb25MaXN0ZW5lci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbnNvciBjaGVjayBvbiBpbml0aWFsaXphdGlvbiBvZiB0aGUgbW9kdWxlLlxuICAgKiBUaGlzIG1ldGhvZDpcbiAgICogLSBjaGVja3Mgd2hldGhlciB0aGUgYG9yaWVudGF0aW9uYCB2YWx1ZXMgYXJlIHZhbGlkIG9yIG5vdDtcbiAgICogLSAoaW4gdGhlIGNhc2Ugd2hlcmUgb3JpZW50YXRpb24gcmF3IHZhbHVlcyBhcmUgbm90IHByb3ZpZGVkKVxuICAgKiAgIHRyaWVzIHRvIGNhbGN1bGF0ZSB0aGUgb3JpZW50YXRpb24gZnJvbSB0aGVcbiAgICogICBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAgdW5pZmllZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RGV2aWNlTW90aW9uRXZlbnR9IGUgLSBGaXJzdCBgJ2RldmljZW1vdGlvbidgIGV2ZW50IGNhdWdodCwgb24gd2hpY2ggdGhlIGNoZWNrIGlzIGRvbmUuXG4gICAqL1xuICBfZGV2aWNlb3JpZW50YXRpb25DaGVjayhlKSB7XG4gICAgLy8gY2xlYXIgdGltZW91dCAoYW50aS1GaXJlZm94IGJ1ZyBzb2x1dGlvbiwgd2luZG93IGV2ZW50IGRldmljZW9yaWVudGF0aW9uIGJlaW5nIG52ZXIgY2FsbGVkKVxuICAgIC8vIHNldCB0aGUgc2V0IHRpbWVvdXQgaW4gaW5pdCgpIGZ1bmN0aW9uXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NoZWNrVGltZW91dElkKTtcblxuICAgIHRoaXMuaXNQcm92aWRlZCA9IHRydWU7XG5cbiAgICAvLyBTZW5zb3IgYXZhaWxhYmlsaXR5IGZvciB0aGUgb3JpZW50YXRpb24gYW5kIGFsdGVybmF0aXZlIG9yaWVudGF0aW9uXG4gICAgY29uc3QgcmF3VmFsdWVzUHJvdmlkZWQgPSAoKHR5cGVvZiBlLmFscGhhID09PSAnbnVtYmVyJykgJiYgKHR5cGVvZiBlLmJldGEgPT09ICdudW1iZXInKSAmJiAodHlwZW9mIGUuZ2FtbWEgPT09ICdudW1iZXInKSk7XG4gICAgdGhpcy5vcmllbnRhdGlvbi5pc1Byb3ZpZGVkID0gcmF3VmFsdWVzUHJvdmlkZWQ7XG4gICAgdGhpcy5vcmllbnRhdGlvbkFsdC5pc1Byb3ZpZGVkID0gcmF3VmFsdWVzUHJvdmlkZWQ7XG5cbiAgICAvLyBUT0RPKD8pOiBnZXQgcHNldWRvLXBlcmlvZFxuXG4gICAgLy8gc3dhcCB0aGUgcHJvY2VzcyBmdW5jdGlvbiB0byB0aGVcbiAgICB0aGlzLl9wcm9jZXNzRnVuY3Rpb24gPSB0aGlzLl9kZXZpY2VvcmllbnRhdGlvbkxpc3RlbmVyO1xuXG4gICAgLy8gSWYgb3JpZW50YXRpb24gb3IgYWx0ZXJuYXRpdmUgb3JpZW50YXRpb24gYXJlIG5vdCBwcm92aWRlZCBieSByYXcgc2Vuc29ycyBidXQgcmVxdWlyZWQsXG4gICAgLy8gdHJ5IHRvIGNhbGN1bGF0ZSB0aGVtIHdpdGggYGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgIHVuaWZpZWQgdmFsdWVzXG4gICAgaWYgKCh0aGlzLnJlcXVpcmVkLm9yaWVudGF0aW9uICYmICF0aGlzLm9yaWVudGF0aW9uLmlzUHJvdmlkZWQpIHx8ICh0aGlzLnJlcXVpcmVkLm9yaWVudGF0aW9uQWx0ICYmICF0aGlzLm9yaWVudGF0aW9uQWx0LmlzUHJvdmlkZWQpKVxuICAgICAgdGhpcy5fdHJ5QWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eUZhbGxiYWNrKCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fcHJvbWlzZVJlc29sdmUodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogYCdkZXZpY2VvcmllbnRhdGlvbidgIGV2ZW50IGNhbGxiYWNrLlxuICAgKiBUaGlzIG1ldGhvZCBlbWl0cyBhbiBldmVudCB3aXRoIHRoZSByYXcgYCdkZXZpY2VvcmllbnRhdGlvbidgIHZhbHVlcyxcbiAgICogYW5kIGVtaXRzIGV2ZW50cyB3aXRoIHRoZSB1bmlmaWVkIGBvcmllbnRhdGlvbmAgYW5kIC8gb3IgdGhlXG4gICAqIGBvcmllbnRhdGlvbkFsdGAgdmFsdWVzIGlmIHRoZXkgYXJlIHJlcXVpcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RldmljZU9yaWVudGF0aW9uRXZlbnR9IGUgLSBgJ2RldmljZW9yaWVudGF0aW9uJ2AgZXZlbnQgdGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBmcm9tLlxuICAgKi9cbiAgX2RldmljZW9yaWVudGF0aW9uTGlzdGVuZXIoZSkge1xuICAgIC8vICdkZXZpY2VvcmllbnRhdGlvbicgZXZlbnQgKHJhdyB2YWx1ZXMpXG4gICAgbGV0IG91dEV2ZW50ID0gdGhpcy5ldmVudDtcblxuICAgIG91dEV2ZW50WzBdID0gZS5hbHBoYTtcbiAgICBvdXRFdmVudFsxXSA9IGUuYmV0YTtcbiAgICBvdXRFdmVudFsyXSA9IGUuZ2FtbWE7XG5cbiAgICBpZiAodGhpcy5saXN0ZW5lcnMuc2l6ZSA+IDApXG4gICAgICB0aGlzLmVtaXQob3V0RXZlbnQpO1xuXG4gICAgLy8gJ29yaWVudGF0aW9uJyBldmVudCAodW5pZmllZCB2YWx1ZXMpXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb24ubGlzdGVuZXJzLnNpemUgPiAwICYmXG4gICAgICAgIHRoaXMucmVxdWlyZWQub3JpZW50YXRpb24gJiZcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5pc1Byb3ZpZGVkXG4gICAgKSB7XG4gICAgICAvLyBPbiBpT1MsIHRoZSBgYWxwaGFgIHZhbHVlIGlzIGluaXRpYWxpemVkIGF0IGAwYCBvbiB0aGUgZmlyc3QgYGRldmljZW9yaWVudGF0aW9uYCBldmVudFxuICAgICAgLy8gc28gd2Uga2VlcCB0aGF0IHJlZmVyZW5jZSBpbiBtZW1vcnkgdG8gY2FsY3VsYXRlIHRoZSBOb3J0aCBsYXRlciBvblxuICAgICAgaWYgKCF0aGlzLm9yaWVudGF0aW9uLl93ZWJraXRDb21wYXNzSGVhZGluZ1JlZmVyZW5jZSAmJiBlLndlYmtpdENvbXBhc3NIZWFkaW5nICYmIHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ2lPUycpXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uX3dlYmtpdENvbXBhc3NIZWFkaW5nUmVmZXJlbmNlID0gZS53ZWJraXRDb21wYXNzSGVhZGluZztcblxuICAgICAgbGV0IG91dEV2ZW50ID0gdGhpcy5vcmllbnRhdGlvbi5ldmVudDtcblxuICAgICAgb3V0RXZlbnRbMF0gPSBlLmFscGhhO1xuICAgICAgb3V0RXZlbnRbMV0gPSBlLmJldGE7XG4gICAgICBvdXRFdmVudFsyXSA9IGUuZ2FtbWE7XG5cbiAgICAgIC8vIE9uIGlPUywgcmVwbGFjZSB0aGUgYGFscGhhYCB2YWx1ZSBieSB0aGUgTm9ydGggdmFsdWUgYW5kIHVuaWZ5IHRoZSBhbmdsZXNcbiAgICAgIC8vICh0aGUgZGVmYXVsdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5nbGVzIG9uIGlPUyBpcyBub3QgY29tcGxpYW50IHdpdGggdGhlIFczQyBzcGVjaWZpY2F0aW9uKVxuICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24uX3dlYmtpdENvbXBhc3NIZWFkaW5nUmVmZXJlbmNlICYmIHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ2lPUycpIHtcbiAgICAgICAgb3V0RXZlbnRbMF0gKz0gMzYwIC0gdGhpcy5vcmllbnRhdGlvbi5fd2Via2l0Q29tcGFzc0hlYWRpbmdSZWZlcmVuY2U7XG4gICAgICAgIHVuaWZ5KG91dEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcmllbnRhdGlvbi5lbWl0KG91dEV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyAnb3JpZW50YXRpb25BbHQnIGV2ZW50XG4gICAgaWYgKHRoaXMub3JpZW50YXRpb25BbHQubGlzdGVuZXJzLnNpemUgPiAwICYmXG4gICAgICAgIHRoaXMucmVxdWlyZWQub3JpZW50YXRpb25BbHQgJiZcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbkFsdC5pc1Byb3ZpZGVkXG4gICAgKSB7XG4gICAgICAvLyBPbiBpT1MsIHRoZSBgYWxwaGFgIHZhbHVlIGlzIGluaXRpYWxpemVkIGF0IGAwYCBvbiB0aGUgZmlyc3QgYGRldmljZW9yaWVudGF0aW9uYCBldmVudFxuICAgICAgLy8gc28gd2Uga2VlcCB0aGF0IHJlZmVyZW5jZSBpbiBtZW1vcnkgdG8gY2FsY3VsYXRlIHRoZSBOb3J0aCBsYXRlciBvblxuICAgICAgaWYgKCF0aGlzLm9yaWVudGF0aW9uQWx0Ll93ZWJraXRDb21wYXNzSGVhZGluZ1JlZmVyZW5jZSAmJiBlLndlYmtpdENvbXBhc3NIZWFkaW5nICYmIHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ2lPUycpXG4gICAgICAgIHRoaXMub3JpZW50YXRpb25BbHQuX3dlYmtpdENvbXBhc3NIZWFkaW5nUmVmZXJlbmNlID0gZS53ZWJraXRDb21wYXNzSGVhZGluZztcblxuICAgICAgbGV0IG91dEV2ZW50ID0gdGhpcy5vcmllbnRhdGlvbkFsdC5ldmVudDtcblxuICAgICAgb3V0RXZlbnRbMF0gPSBlLmFscGhhO1xuICAgICAgb3V0RXZlbnRbMV0gPSBlLmJldGE7XG4gICAgICBvdXRFdmVudFsyXSA9IGUuZ2FtbWE7XG5cbiAgICAgIC8vIE9uIGlPUywgcmVwbGFjZSB0aGUgYGFscGhhYCB2YWx1ZSBieSB0aGUgTm9ydGggdmFsdWUgYnV0IGRvIG5vdCBjb252ZXJ0IHRoZSBhbmdsZXNcbiAgICAgIC8vICh0aGUgZGVmYXVsdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5nbGVzIG9uIGlPUyBpcyBjb21wbGlhbnQgd2l0aCB0aGUgYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb24pXG4gICAgICBpZiAodGhpcy5vcmllbnRhdGlvbkFsdC5fd2Via2l0Q29tcGFzc0hlYWRpbmdSZWZlcmVuY2UgJiYgcGxhdGZvcm0ub3MuZmFtaWx5ID09PSAnaU9TJyl7XG4gICAgICAgIG91dEV2ZW50WzBdIC09IHRoaXMub3JpZW50YXRpb25BbHQuX3dlYmtpdENvbXBhc3NIZWFkaW5nUmVmZXJlbmNlO1xuICAgICAgICBvdXRFdmVudFswXSArPSAob3V0RXZlbnRbMF0gPCAwKSA/IDM2MCA6IDA7IC8vIG1ha2Ugc3VyZSBgYWxwaGFgIGlzIGluIFswLCArMzYwW1xuICAgICAgfVxuXG4gICAgICAvLyBPbiBBbmRyb2lkLCB0cmFuc2Zvcm0gdGhlIGFuZ2xlcyB0byB0aGUgYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb25cbiAgICAgIC8vICh0aGUgZGVmYXVsdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5nbGVzIG9uIEFuZHJvaWQgaXMgY29tcGxpYW50IHdpdGggdGhlIFczQyBzcGVjaWZpY2F0aW9uKVxuICAgICAgaWYgKHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ0FuZHJvaWQnKVxuICAgICAgICB1bmlmeUFsdChvdXRFdmVudCk7XG5cbiAgICAgIHRoaXMub3JpZW50YXRpb25BbHQuZW1pdChvdXRFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGBiZXRhYCBhbmQgYGdhbW1hYCBjYW4gYmUgY2FsY3VsYXRlZCBmcm9tIHRoZSBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAgdmFsdWVzIG9yIG5vdC5cbiAgICovXG4gIF90cnlBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5RmFsbGJhY2soKSB7XG4gICAgTW90aW9uSW5wdXQucmVxdWlyZU1vZHVsZSgnYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eScpXG4gICAgICAudGhlbigoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSkgPT4ge1xuICAgICAgICBpZiAoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS5pc1ZhbGlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJXQVJOSU5HIChtb3Rpb24taW5wdXQpOiBUaGUgJ2RldmljZW9yaWVudGF0aW9uJyBldmVudCBkb2VzIG5vdCBleGlzdCBvciBkb2VzIG5vdCBwcm92aWRlIHZhbHVlcyBpbiB5b3VyIGJyb3dzZXIsIHNvIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgZGV2aWNlIGlzIGVzdGltYXRlZCBmcm9tIERldmljZU1vdGlvbidzICdhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5JyBldmVudC4gU2luY2UgdGhlIGNvbXBhc3MgaXMgbm90IGF2YWlsYWJsZSwgb25seSB0aGUgYGJldGFgIGFuZCBgZ2FtbWFgIGFuZ2xlcyBhcmUgcHJvdmlkZWQgKGBhbHBoYWAgaXMgbnVsbCkuXCIpO1xuXG4gICAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQub3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24uaXNDYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24ucGVyaW9kID0gYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS5wZXJpb2Q7XG5cbiAgICAgICAgICAgIE1vdGlvbklucHV0LmFkZExpc3RlbmVyKCdhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5JywgKGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQmV0YUFuZEdhbW1hRnJvbUFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5yZXF1aXJlZC5vcmllbnRhdGlvbkFsdCkge1xuICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbkFsdC5pc0NhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbkFsdC5wZXJpb2QgPSBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LnBlcmlvZDtcblxuICAgICAgICAgICAgTW90aW9uSW5wdXQuYWRkTGlzdGVuZXIoJ2FjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHknLCAoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCZXRhQW5kR2FtbWFGcm9tQWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eShhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb21pc2VSZXNvbHZlKHRoaXMpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBhbmQgZW1pdHMgYGJldGFgIGFuZCBgZ2FtbWFgIHZhbHVlcyBhcyBhIGZhbGxiYWNrIG9mIHRoZSBgb3JpZW50YXRpb25gIGFuZCAvIG9yIGBvcmllbnRhdGlvbkFsdGAgZXZlbnRzLCBmcm9tIHRoZSBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAgdW5pZmllZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgLSBMYXRlc3QgYGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgcmF3IHZhbHVlcy5cbiAgICogQHBhcmFtIHtib29sfSBbYWx0PWZhbHNlXSAtIEluZGljYXRlcyB3aGV0aGVyIHdlIG5lZWQgdGhlIGFsdGVybmF0ZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5nbGVzIG9yIG5vdC5cbiAgICovXG4gIF9jYWxjdWxhdGVCZXRhQW5kR2FtbWFGcm9tQWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eShhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LCBhbHQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGsgPSAwLjg7XG5cbiAgICAvLyBMb3cgcGFzcyBmaWx0ZXIgdG8gZXN0aW1hdGUgdGhlIGdyYXZpdHlcbiAgICB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzBdID0gayAqIHRoaXMuX2VzdGltYXRlZEdyYXZpdHlbMF0gKyAoMSAtIGspICogYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVswXTtcbiAgICB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzFdID0gayAqIHRoaXMuX2VzdGltYXRlZEdyYXZpdHlbMV0gKyAoMSAtIGspICogYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsxXTtcbiAgICB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzJdID0gayAqIHRoaXMuX2VzdGltYXRlZEdyYXZpdHlbMl0gKyAoMSAtIGspICogYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsyXTtcblxuICAgIGxldCBfZ1ggPSB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzBdO1xuICAgIGxldCBfZ1kgPSB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzFdO1xuICAgIGxldCBfZ1ogPSB0aGlzLl9lc3RpbWF0ZWRHcmF2aXR5WzJdO1xuXG4gICAgY29uc3Qgbm9ybSA9IE1hdGguc3FydChfZ1ggKiBfZ1ggKyBfZ1kgKiBfZ1kgKyBfZ1ogKiBfZ1opO1xuXG4gICAgX2dYIC89IG5vcm07XG4gICAgX2dZIC89IG5vcm07XG4gICAgX2daIC89IG5vcm07XG5cbiAgICAvLyBBZG9wdGluZyB0aGUgZm9sbG93aW5nIGNvbnZlbnRpb25zOlxuICAgIC8vIC0gZWFjaCBtYXRyaXggb3BlcmF0ZXMgYnkgcHJlLW11bHRpcGx5aW5nIGNvbHVtbiB2ZWN0b3JzLFxuICAgIC8vIC0gZWFjaCBtYXRyaXggcmVwcmVzZW50cyBhbiBhY3RpdmUgcm90YXRpb24sXG4gICAgLy8gLSBlYWNoIG1hdHJpeCByZXByZXNlbnRzIHRoZSBjb21wb3NpdGlvbiBvZiBpbnRyaW5zaWMgcm90YXRpb25zLFxuICAgIC8vIHRoZSByb3RhdGlvbiBtYXRyaXggcmVwcmVzZW50aW5nIHRoZSBjb21wb3NpdGlvbiBvZiBhIHJvdGF0aW9uXG4gICAgLy8gYWJvdXQgdGhlIHgtYXhpcyBieSBhbiBhbmdsZSBiZXRhIGFuZCBhIHJvdGF0aW9uIGFib3V0IHRoZSB5LWF4aXNcbiAgICAvLyBieSBhbiBhbmdsZSBnYW1tYSBpczpcbiAgICAvL1xuICAgIC8vIFsgY29zKGdhbW1hKSAgICAgICAgICAgICAgICwgIDAgICAgICAgICAgLCAgc2luKGdhbW1hKSAgICAgICAgICAgICAgLFxuICAgIC8vICAgc2luKGJldGEpICogc2luKGdhbW1hKSAgICwgIGNvcyhiZXRhKSAgLCAgLWNvcyhnYW1tYSkgKiBzaW4oYmV0YSkgLFxuICAgIC8vICAgLWNvcyhiZXRhKSAqIHNpbihnYW1tYSkgICwgIHNpbihiZXRhKSAgLCAgY29zKGJldGEpICogY29zKGdhbW1hKSAgXS5cbiAgICAvL1xuICAgIC8vIEhlbmNlLCB0aGUgcHJvamVjdGlvbiBvZiB0aGUgbm9ybWFsaXplZCBncmF2aXR5IGcgPSBbMCwgMCwgMV1cbiAgICAvLyBpbiB0aGUgZGV2aWNlJ3MgcmVmZXJlbmNlIGZyYW1lIGNvcnJlc3BvbmRzIHRvOlxuICAgIC8vXG4gICAgLy8gZ1ggPSAtY29zKGJldGEpICogc2luKGdhbW1hKSxcbiAgICAvLyBnWSA9IHNpbihiZXRhKSxcbiAgICAvLyBnWiA9IGNvcyhiZXRhKSAqIGNvcyhnYW1tYSksXG4gICAgLy9cbiAgICAvLyBzbyBiZXRhID0gYXNpbihnWSkgYW5kIGdhbW1hID0gYXRhbjIoLWdYLCBnWikuXG5cbiAgICAvLyBCZXRhICYgZ2FtbWEgZXF1YXRpb25zICh3ZSBhcHByb3hpbWF0ZSBbZ1gsIGdZLCBnWl0gYnkgW19nWCwgX2dZLCBfZ1pdKVxuICAgIGxldCBiZXRhID0gcmFkVG9EZWcoTWF0aC5hc2luKF9nWSkpOyAvLyBiZXRhIGlzIGluIFstcGkvMjsgcGkvMltcbiAgICBsZXQgZ2FtbWEgPSByYWRUb0RlZyhNYXRoLmF0YW4yKC1fZ1gsIF9nWikpOyAvLyBnYW1tYSBpcyBpbiBbLXBpOyBwaVtcblxuICAgIGlmIChhbHQpIHtcbiAgICAgIC8vIEluIHRoYXQgY2FzZSwgdGhlcmUgaXMgbm90aGluZyB0byBkbyBzaW5jZSB0aGUgY2FsY3VsYXRpb25zIGFib3ZlIGdhdmUgdGhlIGFuZ2xlIGluIHRoZSByaWdodCByYW5nZXNcbiAgICAgIGxldCBvdXRFdmVudCA9IHRoaXMub3JpZW50YXRpb25BbHQuZXZlbnQ7XG4gICAgICBvdXRFdmVudFswXSA9IG51bGw7XG4gICAgICBvdXRFdmVudFsxXSA9IGJldGE7XG4gICAgICBvdXRFdmVudFsyXSA9IGdhbW1hO1xuXG4gICAgICB0aGlzLm9yaWVudGF0aW9uQWx0LmVtaXQob3V0RXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBIZXJlIHdlIGhhdmUgdG8gdW5pZnkgdGhlIGFuZ2xlcyB0byBnZXQgdGhlIHJhbmdlcyBjb21wbGlhbnQgd2l0aCB0aGUgVzNDIHNwZWNpZmljYXRpb25cbiAgICAgIGxldCBvdXRFdmVudCA9IHRoaXMub3JpZW50YXRpb24uZXZlbnQ7XG4gICAgICBvdXRFdmVudFswXSA9IG51bGw7XG4gICAgICBvdXRFdmVudFsxXSA9IGJldGE7XG4gICAgICBvdXRFdmVudFsyXSA9IGdhbW1hO1xuICAgICAgdW5pZnkob3V0RXZlbnQpO1xuXG4gICAgICB0aGlzLm9yaWVudGF0aW9uLmVtaXQob3V0RXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9wcm9jZXNzKGRhdGEpIHtcbiAgICB0aGlzLl9wcm9jZXNzRnVuY3Rpb24oZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgb2YgdGhlIG1vZHVsZS5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGluaXQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuX3Byb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgICAgaWYgKHdpbmRvdy5EZXZpY2VPcmllbnRhdGlvbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGdW5jdGlvbiA9IHRoaXMuX2RldmljZW9yaWVudGF0aW9uQ2hlY2s7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIHRoaXMuX3Byb2Nlc3MsIGZhbHNlKTtcbiAgICAgICAgLy8gc2V0IGZhbGxiYWNrIHRpbWVvdXQgZm9yIEZpcmVmb3ggKGl0cyB3aW5kb3cgbmV2ZXIgY2FsbGluZyB0aGUgRGV2aWNlT3JpZW50YXRpb24gZXZlbnQsIGEgXG4gICAgICAgIC8vIHJlcXVpcmUgb2YgdGhlIERldmljZU9yaWVudGF0aW9uIHNlcnZpY2Ugd2lsbCByZXN1bHQgaW4gdGhlIHJlcXVpcmUgcHJvbWlzZSBuZXZlciBiZWluZyByZXNvbHZlZFxuICAgICAgICAvLyBoZW5jZSB0aGUgRXhwZXJpbWVudCBzdGFydCgpIG1ldGhvZCBuZXZlciBjYWxsZWQpXG4gICAgICAgIHRoaXMuX2NoZWNrVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHRoaXMpLCA1MDApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcXVpcmVkLm9yaWVudGF0aW9uKSB7XG4gICAgICAgIHRoaXMuX3RyeUFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlGYWxsYmFjaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgRGV2aWNlT3JpZW50YXRpb25Nb2R1bGUoKTtcbiJdfQ==","deps":{"./MotionInput":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js","./InputModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js","./DOMEventSubmodule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js","platform":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/platform/platform.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Transport.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Transport.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _PriorityQueue = require('../core/PriorityQueue');\n\nvar _PriorityQueue2 = _interopRequireDefault(_PriorityQueue);\n\nvar _SchedulingQueue2 = require('../core/SchedulingQueue');\n\nvar _SchedulingQueue3 = _interopRequireDefault(_SchedulingQueue2);\n\nvar _TimeEngine4 = require('../core/TimeEngine');\n\nvar _TimeEngine5 = _interopRequireDefault(_TimeEngine4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction addDuplet(firstArray, secondArray, firstElement, secondElement) {\n  firstArray.push(firstElement);\n  secondArray.push(secondElement);\n}\n\nfunction removeDuplet(firstArray, secondArray, firstElement) {\n  var index = firstArray.indexOf(firstElement);\n\n  if (index >= 0) {\n    var secondElement = secondArray[index];\n\n    firstArray.splice(index, 1);\n    secondArray.splice(index, 1);\n\n    return secondElement;\n  }\n\n  return null;\n}\n\n// The Transported call is the base class of the adapters between\n// different types of engines (i.e. transported, scheduled, play-controlled)\n// The adapters are at the same time masters for the engines added to the transport\n// and transported TimeEngines inserted into the transport's position-based pritority queue.\n\nvar Transported = function (_TimeEngine) {\n  (0, _inherits3.default)(Transported, _TimeEngine);\n\n  function Transported(transport, engine, start, duration, offset) {\n    var stretch = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n    (0, _classCallCheck3.default)(this, Transported);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Transported.__proto__ || (0, _getPrototypeOf2.default)(Transported)).call(this));\n\n    _this.master = transport;\n\n    _this.__engine = engine;\n    engine.master = _this;\n\n    _this.__startPosition = start;\n    _this.__endPosition = !isFinite(duration) ? Infinity : start + duration;\n    _this.__offsetPosition = start + offset;\n    _this.__stretchPosition = stretch;\n    _this.__isRunning = false;\n    return _this;\n  }\n\n  (0, _createClass3.default)(Transported, [{\n    key: 'setBoundaries',\n    value: function setBoundaries(start, duration) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var stretch = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n      this.__startPosition = start;\n      this.__endPosition = start + duration;\n      this.__offsetPosition = start + offset;\n      this.__stretchPosition = stretch;\n      this.resetPosition();\n    }\n  }, {\n    key: 'start',\n    value: function start(time, position, speed) {}\n  }, {\n    key: 'stop',\n    value: function stop(time, position) {}\n  }, {\n    key: 'resetPosition',\n    value: function resetPosition(position) {\n      if (position !== undefined) position += this.__offsetPosition;\n\n      this.master.resetEnginePosition(this, position);\n    }\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(time, position, speed) {\n      if (speed > 0) {\n        if (position < this.__startPosition) {\n\n          if (this.__isRunning) this.stop(time, position - this.__offsetPosition);\n\n          this.__isRunning = false;\n          return this.__startPosition;\n        } else if (position < this.__endPosition) {\n          this.start(time, position - this.__offsetPosition, speed);\n\n          this.__isRunning = true;\n          return this.__endPosition;\n        }\n      } else {\n        if (position > this.__endPosition) {\n          if (this.__isRunning) // if engine is running\n            this.stop(time, position - this.__offsetPosition);\n\n          this.__isRunning = false;\n          return this.__endPosition;\n        } else if (position > this.__startPosition) {\n          this.start(time, position - this.__offsetPosition, speed);\n\n          this.__isRunning = true;\n          return this.__startPosition;\n        }\n      }\n\n      if (this.__isRunning) // if engine is running\n        this.stop(time, position);\n\n      this.__isRunning = false;\n      return Infinity * speed;\n    }\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(time, position, speed) {\n      if (!this.__isRunning) {\n        this.start(time, position - this.__offsetPosition, speed);\n        this.__isRunning = true;\n\n        if (speed > 0) return this.__endPosition;\n\n        return this.__startPosition;\n      }\n\n      // stop engine\n      this.stop(time, position - this.__offsetPosition);\n\n      this.__isRunning = false;\n      return Infinity * speed;\n    }\n  }, {\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed) {\n      if (speed === 0) {\n        this.stop(time, position - this.__offsetPosition);\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.master = null;\n\n      this.__engine.master = null;\n      this.__engine = null;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.master.currentTime;\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.master.audioTime;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.master.currentPosition - this.__offsetPosition;\n    }\n  }]);\n  return Transported;\n}(_TimeEngine5.default);\n\n// TransportedTransported\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\n// @note - does not handle properly __startPosition and __endPosition\n\n\nvar TransportedTransported = function (_Transported) {\n  (0, _inherits3.default)(TransportedTransported, _Transported);\n\n  function TransportedTransported(transport, engine, startPosition, endPosition, offsetPosition) {\n    (0, _classCallCheck3.default)(this, TransportedTransported);\n    return (0, _possibleConstructorReturn3.default)(this, (TransportedTransported.__proto__ || (0, _getPrototypeOf2.default)(TransportedTransported)).call(this, transport, engine, startPosition, endPosition, offsetPosition));\n  }\n\n  // @todo - handle this.__running to start and stop properly the scheduled engines\n\n\n  (0, _createClass3.default)(TransportedTransported, [{\n    key: 'syncPosition',\n    value: function syncPosition(time, position, speed) {\n      var nextPosition = null; // Infinity * speed; // default return\n\n      if (speed > 0) {\n\n        if (position < this.__startPosition) {\n          // sync engine at `_startPosition`\n          nextPosition = this.__offsetPosition + this.__engine.syncPosition(time, this.__startPosition - this.__offsetPosition, speed);\n          this.__isRunning = true;\n        } else if (position < this.__endPosition) {\n          // sync engine at `position`\n          nextPosition = this.__offsetPosition + this.__engine.syncPosition(time, position - this.__offsetPosition, speed);\n          this.__isRunning = true;\n        } else {\n          this.__engine.syncPosition(time, position - this.__offsetPosition, 0);\n\n          this.__isRunning = false;\n          nextPosition = Infinity * speed;\n        }\n\n        // if somehow the engine asked to be called after `endPosition`, clamp value\n        if (this.__isRunning && nextPosition > this.__endPosition) {\n          nextPosition = this.__endPosition;\n        }\n      } else if (speed < 0) {\n\n        if (position > this.__endPosition) {\n          nextPosition = this.__offsetPosition + this.__engine.syncPosition(time, this.__endPosition - this.__offsetPosition, speed);\n          this.__isRunning = true;\n        } else if (position > this.__startPosition) {\n          nextPosition = this.__offsetPosition + this.__engine.syncPosition(time, position - this.__offsetPosition, speed);\n          this.__isRunning = true;\n        } else {\n          this.__engine.syncPosition(time, position - this.__offsetPosition, 0);\n\n          this.__isRunning = false;\n          nextPosition = Infinity * speed;\n        }\n\n        // if somehow the engine asked to be called before `startPosition`, clamp value\n        if (this.__isRunning && nextPosition < this.__startPosition) {\n          nextPosition = this.__startPosition;\n        }\n      } else {\n        this.__engine.syncPosition(time, position - this.__offsetPosition, 0);\n\n        this.__isRunning = false;\n        nextPosition = Infinity;\n      }\n\n      return nextPosition;\n    }\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(time, position, speed) {\n      // ceil or floor `position` at 10^-9 to prevent float arithmetics errors\n      // that make the transported go to infinite loops\n      if (speed > 0) {\n        position = Math.ceil(position * 1e9) * 1e-9;\n      } else if (speed < 0) {\n        position = Math.floor(position * 1e9) * 1e-9;\n      }\n\n      // stop engine if outside boundaries\n      if (speed > 0 && position >= this.__endPosition && this.__isRunning) {\n        // stop engine at __endPosition\n        this.__engine.syncPosition(time, this.__endPosition - this.__offsetPosition, 0);\n        this.__isRunning = false;\n\n        return Infinity * speed; //\n      } else if (speed < 0 && position < this.__startPosition && this.__isRunning) {\n        this.__engine.syncPosition(time, this.__startPosition - this.__offsetPosition, 0);\n        this.__isRunning = false;\n\n        return Infinity * speed; //\n      }\n\n      // define next position and clamp to boundaries\n      position = this.__offsetPosition + this.__engine.advancePosition(time, position - this.__offsetPosition, speed);\n\n      // stop engine if outside boundaries - will call advancePosition once more\n      // and thus `syncPosition` (cf. line 218 - 228)\n      if (speed > 0 && position > this.__endPosition) {\n        position = this.__endPosition;\n      } else if (speed < 0 && position < this.__startPosition) {\n        position = this.__startPosition;\n      }\n\n      return position;\n    }\n  }, {\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed) {\n      if (this.__engine.syncSpeed) {\n        this.__engine.syncSpeed(time, position, speed);\n      }\n    }\n  }, {\n    key: 'resetEnginePosition',\n    value: function resetEnginePosition(engine) {\n      var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n      if (position !== undefined) {\n        position += this.__offsetPosition;\n      }\n\n      this.master.resetEnginePosition(this, position);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__engine.syncPosition(this.master.currentTime, this.master.currentPosition, 0);\n      (0, _get3.default)(TransportedTransported.prototype.__proto__ || (0, _getPrototypeOf2.default)(TransportedTransported.prototype), 'destroy', this).call(this);\n    }\n  }]);\n  return TransportedTransported;\n}(Transported);\n\n// TransportedSpeedControlled\n// has to start and stop the speed-controlled engines when the transport hits the engine's start and end position\n\n\nvar TransportedSpeedControlled = function (_Transported2) {\n  (0, _inherits3.default)(TransportedSpeedControlled, _Transported2);\n\n  function TransportedSpeedControlled(transport, engine, startPosition, endPosition, offsetPosition) {\n    (0, _classCallCheck3.default)(this, TransportedSpeedControlled);\n    return (0, _possibleConstructorReturn3.default)(this, (TransportedSpeedControlled.__proto__ || (0, _getPrototypeOf2.default)(TransportedSpeedControlled)).call(this, transport, engine, startPosition, endPosition, offsetPosition));\n  }\n\n  (0, _createClass3.default)(TransportedSpeedControlled, [{\n    key: 'start',\n    value: function start(time, position, speed) {\n      this.__engine.syncSpeed(time, position, speed, true);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(time, position) {\n      this.__engine.syncSpeed(time, position, 0);\n    }\n  }, {\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed) {\n      if (this.__isRunning) this.__engine.syncSpeed(time, position, speed);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__engine.syncSpeed(this.master.currentTime, this.master.currentPosition - this.__offsetPosition, 0);\n      (0, _get3.default)(TransportedSpeedControlled.prototype.__proto__ || (0, _getPrototypeOf2.default)(TransportedSpeedControlled.prototype), 'destroy', this).call(this);\n    }\n  }]);\n  return TransportedSpeedControlled;\n}(Transported);\n\n// TransportedScheduled\n// has to switch on and off the scheduled engines when the transport hits the engine's start and end position\n\n\nvar TransportedScheduled = function (_Transported3) {\n  (0, _inherits3.default)(TransportedScheduled, _Transported3);\n\n  function TransportedScheduled(transport, engine, startPosition, endPosition, offsetPosition) {\n    (0, _classCallCheck3.default)(this, TransportedScheduled);\n\n    // scheduling queue becomes master of engine\n    var _this4 = (0, _possibleConstructorReturn3.default)(this, (TransportedScheduled.__proto__ || (0, _getPrototypeOf2.default)(TransportedScheduled)).call(this, transport, engine, startPosition, endPosition, offsetPosition));\n\n    engine.master = null;\n    transport.__schedulingQueue.add(engine, Infinity);\n    return _this4;\n  }\n\n  (0, _createClass3.default)(TransportedScheduled, [{\n    key: 'start',\n    value: function start(time, position, speed) {\n      this.master.__schedulingQueue.resetEngineTime(this.__engine, time);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(time, position) {\n      this.master.__schedulingQueue.resetEngineTime(this.__engine, Infinity);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.master.__schedulingQueue.remove(this.__engine);\n      (0, _get3.default)(TransportedScheduled.prototype.__proto__ || (0, _getPrototypeOf2.default)(TransportedScheduled.prototype), 'destroy', this).call(this);\n    }\n  }]);\n  return TransportedScheduled;\n}(Transported);\n\n// translates advancePosition of *transported* engines into global scheduler times\n\n\nvar TransportSchedulerHook = function (_TimeEngine2) {\n  (0, _inherits3.default)(TransportSchedulerHook, _TimeEngine2);\n\n  function TransportSchedulerHook(transport) {\n    (0, _classCallCheck3.default)(this, TransportSchedulerHook);\n\n    var _this5 = (0, _possibleConstructorReturn3.default)(this, (TransportSchedulerHook.__proto__ || (0, _getPrototypeOf2.default)(TransportSchedulerHook)).call(this));\n\n    _this5.__transport = transport;\n\n    _this5.__nextPosition = Infinity;\n    _this5.__nextTime = Infinity;\n    transport.__scheduler.add(_this5, Infinity);\n    return _this5;\n  }\n\n  // TimeEngine method (scheduled interface)\n\n\n  (0, _createClass3.default)(TransportSchedulerHook, [{\n    key: 'advanceTime',\n    value: function advanceTime(time) {\n      var transport = this.__transport;\n      var position = this.__nextPosition;\n      var speed = transport.__speed;\n      var nextPosition = transport.advancePosition(time, position, speed);\n      var nextTime = transport.__getTimeAtPosition(nextPosition);\n\n      this.__nextPosition = nextPosition;\n      this.__nextTime = nextTime;\n\n      return nextTime;\n    }\n  }, {\n    key: 'resetPosition',\n    value: function resetPosition() {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.__nextPosition;\n\n      var transport = this.__transport;\n      var time = transport.__getTimeAtPosition(position);\n\n      this.__nextPosition = position;\n      this.__nextTime = time;\n\n      this.resetTime(time);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.__transport.__scheduler.remove(this);\n      this.__transport = null;\n    }\n  }]);\n  return TransportSchedulerHook;\n}(_TimeEngine5.default);\n\n// internal scheduling queue that returns the current position (and time) of the transport\n\n\nvar TransportSchedulingQueue = function (_SchedulingQueue) {\n  (0, _inherits3.default)(TransportSchedulingQueue, _SchedulingQueue);\n\n  function TransportSchedulingQueue(transport) {\n    (0, _classCallCheck3.default)(this, TransportSchedulingQueue);\n\n    var _this6 = (0, _possibleConstructorReturn3.default)(this, (TransportSchedulingQueue.__proto__ || (0, _getPrototypeOf2.default)(TransportSchedulingQueue)).call(this));\n\n    _this6.__transport = transport;\n    transport.__scheduler.add(_this6, Infinity);\n    return _this6;\n  }\n\n  (0, _createClass3.default)(TransportSchedulingQueue, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.__transport.__scheduler.remove(this);\n      this.__transport = null;\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__transport.currentTime;\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__transport.audioTime;\n    }\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      return this.__transport.currentPosition;\n    }\n  }]);\n  return TransportSchedulingQueue;\n}(_SchedulingQueue3.default);\n\n/**\n * Provides position-based scheduling of TimeEngine instances.\n *\n * [example]{@link https://rawgit.com/wavesjs/waves-masters/master/examples/transport/index.html}\n *\n *\n * @param {Object} scheduler - instance of Scheduler\n *\n * @example\n * import * as masters from 'waves-masters';\n *\n * const getTimeFunction = () => {\n *   const now = process.hrtime();\n *   return now[0] + now[1] * 1e-9;\n * }\n * const scheduler = new masters.Scheduler(getTimeFunction);\n * const transport = new masters.Transport(scheduler);\n * const playControl = new masters.PlayControl(scheduler, transport);\n * const myEngine = new MyEngine();\n * const yourEngine = new yourEngine();\n *\n * transport.add(myEngine);\n * transport.add(yourEngine);\n *\n * playControl.start();\n */\n\n\nvar Transport = function (_TimeEngine3) {\n  (0, _inherits3.default)(Transport, _TimeEngine3);\n\n  function Transport(scheduler) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, Transport);\n\n    var _this7 = (0, _possibleConstructorReturn3.default)(this, (Transport.__proto__ || (0, _getPrototypeOf2.default)(Transport)).call(this));\n\n    if (!scheduler) throw new Error('Invalid argument `scheduler`, should be an instance of `Scheduler`');\n\n    _this7.__engines = [];\n    _this7.__transported = [];\n\n    _this7.__scheduler = scheduler;\n    _this7.__schedulerHook = new TransportSchedulerHook(_this7);\n    _this7.__transportedQueue = new _PriorityQueue2.default();\n    _this7.__schedulingQueue = new TransportSchedulingQueue(_this7);\n\n    // syncronized time, position, and speed\n    _this7.__time = 0;\n    _this7.__position = 0;\n    _this7.__speed = 0;\n    return _this7;\n  }\n\n  (0, _createClass3.default)(Transport, [{\n    key: '__getTimeAtPosition',\n    value: function __getTimeAtPosition(position) {\n      if (this.__speed === 0) return +Infinity;else return this.__time + (position - this.__position) / this.__speed;\n    }\n  }, {\n    key: '__getPositionAtTime',\n    value: function __getPositionAtTime(time) {\n      return this.__position + (time - this.__time) * this.__speed;\n    }\n  }, {\n    key: '__syncTransportedPosition',\n    value: function __syncTransportedPosition(time, position, speed) {\n      var numTransportedEngines = this.__transported.length;\n      var nextPosition = Infinity * speed;\n\n      if (numTransportedEngines > 0) {\n        this.__transportedQueue.clear();\n        this.__transportedQueue.reverse = speed < 0;\n\n        for (var i = 0; i < numTransportedEngines; i++) {\n          var engine = this.__transported[i];\n          var nextEnginePosition = engine.syncPosition(time, position, speed);\n          this.__transportedQueue.insert(engine, nextEnginePosition);\n        }\n\n        nextPosition = this.__transportedQueue.time;\n      }\n\n      return nextPosition;\n    }\n  }, {\n    key: '__syncTransportedSpeed',\n    value: function __syncTransportedSpeed(time, position, speed) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this.__transported), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var transported = _step.value;\n\n          transported.syncSpeed(time, position, speed);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n\n    /**\n     * Get current master time.\n     *\n     * @type {Number}\n     * @name currentTime\n     * @memberof Transport\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'resetPosition',\n\n\n    /**\n     * Reset next transport position\n     *\n     * @param {Number} next - transport position\n     */\n    value: function resetPosition(position) {\n      var master = this.master;\n\n      if (master && master.resetEnginePosition !== undefined) master.resetEnginePosition(this, position);else this.__schedulerHook.resetPosition(position);\n    }\n\n    /**\n     * Implementation of the transported time engine interface.\n     *\n     * @param {Number} time\n     * @param {Number} position\n     * @param {Number} speed\n     */\n\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(time, position, speed) {\n      this.__time = time;\n      this.__position = position;\n      this.__speed = speed;\n\n      return this.__syncTransportedPosition(time, position, speed);\n    }\n\n    /**\n     * Implementation of the transported time engine interface.\n     *\n     * @param {Number} time\n     * @param {Number} position\n     * @param {Number} speed\n     */\n\n  }, {\n    key: 'advancePosition',\n    value: function advancePosition(time, position, speed) {\n      var engine = this.__transportedQueue.head;\n      var nextEnginePosition = engine.advancePosition(time, position, speed);\n      return this.__transportedQueue.move(engine, nextEnginePosition);\n    }\n\n    /**\n     * Implementation of the transported time engine interface.\n     *\n     * @param {Number} time\n     * @param {Number} position\n     * @param {Number} speed\n     * @param {Boolean} [seek=false]\n     */\n\n  }, {\n    key: 'syncSpeed',\n    value: function syncSpeed(time, position, speed) {\n      var seek = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var lastSpeed = this.__speed;\n\n      this.__time = time;\n      this.__position = position;\n      this.__speed = speed;\n\n      if (speed !== lastSpeed || seek) {\n        var nextPosition = void 0;\n\n        // resync transported engines\n        if (seek || speed * lastSpeed < 0) {\n          // seek or reverse direction\n          nextPosition = this.__syncTransportedPosition(time, position, speed);\n        } else if (lastSpeed === 0) {\n          // start\n          nextPosition = this.__syncTransportedPosition(time, position, speed);\n        } else if (speed === 0) {\n          // stop\n          nextPosition = Infinity;\n          this.__syncTransportedPosition(time, position, speed);\n        } else {\n          // change speed without reversing direction\n          this.__syncTransportedSpeed(time, position, speed);\n        }\n\n        this.resetPosition(nextPosition);\n      }\n    }\n\n    /**\n     * Add a time engine to the transport.\n     *\n     * @param {Object} engine - engine to be added to the transport\n     * @param {Number} position - start position\n     */\n\n  }, {\n    key: 'add',\n    value: function add(engine) {\n      var startPosition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var endPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n      var offsetPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n      var transported = null;\n\n      if (offsetPosition === -Infinity) offsetPosition = 0;\n\n      if (engine.master) throw new Error(\"object has already been added to a master\");\n\n      if (_TimeEngine5.default.implementsTransported(engine)) transported = new TransportedTransported(this, engine, startPosition, endPosition, offsetPosition);else if (_TimeEngine5.default.implementsSpeedControlled(engine)) transported = new TransportedSpeedControlled(this, engine, startPosition, endPosition, offsetPosition);else if (_TimeEngine5.default.implementsScheduled(engine)) transported = new TransportedScheduled(this, engine, startPosition, endPosition, offsetPosition);else throw new Error(\"object cannot be added to a transport\");\n\n      if (transported) {\n        var speed = this.__speed;\n\n        addDuplet(this.__engines, this.__transported, engine, transported);\n\n        if (speed !== 0) {\n          // sync and start\n          var nextEnginePosition = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n          var nextPosition = this.__transportedQueue.insert(transported, nextEnginePosition);\n\n          this.resetPosition(nextPosition);\n        }\n      }\n\n      return transported;\n    }\n\n    /**\n     * Remove a time engine from the transport.\n     *\n     * @param {object} engineOrTransported - engine or transported to be removed from the transport\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(engineOrTransported) {\n      var engine = engineOrTransported;\n      var transported = removeDuplet(this.__engines, this.__transported, engineOrTransported);\n\n      if (!transported) {\n        engine = removeDuplet(this.__transported, this.__engines, engineOrTransported);\n        transported = engineOrTransported;\n      }\n\n      if (engine && transported) {\n        var nextPosition = this.__transportedQueue.remove(transported);\n\n        transported.destroy();\n\n        if (this.__speed !== 0) this.resetPosition(nextPosition);\n      } else {\n        throw new Error(\"object has not been added to this transport\");\n      }\n    }\n\n    /**\n     * Reset position of the given engine.\n     *\n     * @param {TimeEngine} transported - Engine to reset\n     * @param {Number} position - New position\n     */\n\n  }, {\n    key: 'resetEnginePosition',\n    value: function resetEnginePosition(transported) {\n      var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n      var speed = this.__speed;\n\n      if (speed !== 0) {\n        if (position === undefined) position = transported.syncPosition(this.currentTime, this.currentPosition, speed);\n\n        var nextPosition = null;\n\n        // the priority queue does not keep track of the elements that are\n        // inserted at Infinity, so we need to reinsert transported engine in\n        // this case.\n        // @note - this could probably be more clean\n        //       - probably the priority queue should keep these references\n        if (!this.__transportedQueue.has(transported)) {\n          nextPosition = this.__transportedQueue.insert(transported, position);\n        } else {\n          nextPosition = this.__transportedQueue.move(transported, position);\n        }\n\n        this.resetPosition(nextPosition);\n      }\n    }\n\n    /**\n     * Remove all time engines from the transport.\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.syncSpeed(this.currentTime, this.currentPosition, 0);\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(this.__transported), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var transported = _step2.value;\n\n          transported.destroy();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this.__scheduler.currentTime;\n    }\n\n    /**\n     * Get master audio time.\n     *\n     * @type {Number}\n     * @name currentTime\n     * @memberof Transport\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this.__scheduler.audioTime;\n    }\n\n    /**\n     * Get current master position. This getter will be replaced when the transport\n     * is added to a master (i.e. transport or play-control).\n     *\n     * @type {Number}\n     * @name currentPosition\n     * @memberof Transport\n     * @instance\n     * @readonly\n     */\n\n  }, {\n    key: 'currentPosition',\n    get: function get() {\n      var master = this.master;\n\n      if (master && master.currentPosition !== undefined) return master.currentPosition;\n\n      return this.__position + (this.__scheduler.currentTime - this.__time) * this.__speed;\n    }\n  }]);\n  return Transport;\n}(_TimeEngine5.default);\n\nexports.default = Transport;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyYW5zcG9ydC5qcyJdLCJuYW1lcyI6WyJhZGREdXBsZXQiLCJmaXJzdEFycmF5Iiwic2Vjb25kQXJyYXkiLCJmaXJzdEVsZW1lbnQiLCJzZWNvbmRFbGVtZW50IiwicHVzaCIsInJlbW92ZUR1cGxldCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIlRyYW5zcG9ydGVkIiwidHJhbnNwb3J0IiwiZW5naW5lIiwic3RhcnQiLCJkdXJhdGlvbiIsIm9mZnNldCIsInN0cmV0Y2giLCJtYXN0ZXIiLCJfX2VuZ2luZSIsIl9fc3RhcnRQb3NpdGlvbiIsIl9fZW5kUG9zaXRpb24iLCJpc0Zpbml0ZSIsIkluZmluaXR5IiwiX19vZmZzZXRQb3NpdGlvbiIsIl9fc3RyZXRjaFBvc2l0aW9uIiwiX19pc1J1bm5pbmciLCJyZXNldFBvc2l0aW9uIiwidGltZSIsInBvc2l0aW9uIiwic3BlZWQiLCJ1bmRlZmluZWQiLCJyZXNldEVuZ2luZVBvc2l0aW9uIiwic3RvcCIsImN1cnJlbnRUaW1lIiwiYXVkaW9UaW1lIiwiY3VycmVudFBvc2l0aW9uIiwiVGltZUVuZ2luZSIsIlRyYW5zcG9ydGVkVHJhbnNwb3J0ZWQiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJvZmZzZXRQb3NpdGlvbiIsIm5leHRQb3NpdGlvbiIsInN5bmNQb3NpdGlvbiIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJhZHZhbmNlUG9zaXRpb24iLCJzeW5jU3BlZWQiLCJUcmFuc3BvcnRlZFNwZWVkQ29udHJvbGxlZCIsIlRyYW5zcG9ydGVkU2NoZWR1bGVkIiwiX19zY2hlZHVsaW5nUXVldWUiLCJhZGQiLCJyZXNldEVuZ2luZVRpbWUiLCJyZW1vdmUiLCJUcmFuc3BvcnRTY2hlZHVsZXJIb29rIiwiX190cmFuc3BvcnQiLCJfX25leHRQb3NpdGlvbiIsIl9fbmV4dFRpbWUiLCJfX3NjaGVkdWxlciIsIl9fc3BlZWQiLCJuZXh0VGltZSIsIl9fZ2V0VGltZUF0UG9zaXRpb24iLCJyZXNldFRpbWUiLCJUcmFuc3BvcnRTY2hlZHVsaW5nUXVldWUiLCJTY2hlZHVsaW5nUXVldWUiLCJUcmFuc3BvcnQiLCJzY2hlZHVsZXIiLCJvcHRpb25zIiwiRXJyb3IiLCJfX2VuZ2luZXMiLCJfX3RyYW5zcG9ydGVkIiwiX19zY2hlZHVsZXJIb29rIiwiX190cmFuc3BvcnRlZFF1ZXVlIiwiUHJpb3JpdHlRdWV1ZSIsIl9fdGltZSIsIl9fcG9zaXRpb24iLCJudW1UcmFuc3BvcnRlZEVuZ2luZXMiLCJsZW5ndGgiLCJjbGVhciIsInJldmVyc2UiLCJpIiwibmV4dEVuZ2luZVBvc2l0aW9uIiwiaW5zZXJ0IiwidHJhbnNwb3J0ZWQiLCJfX3N5bmNUcmFuc3BvcnRlZFBvc2l0aW9uIiwiaGVhZCIsIm1vdmUiLCJzZWVrIiwibGFzdFNwZWVkIiwiX19zeW5jVHJhbnNwb3J0ZWRTcGVlZCIsImltcGxlbWVudHNUcmFuc3BvcnRlZCIsImltcGxlbWVudHNTcGVlZENvbnRyb2xsZWQiLCJpbXBsZW1lbnRzU2NoZWR1bGVkIiwiZW5naW5lT3JUcmFuc3BvcnRlZCIsImRlc3Ryb3kiLCJoYXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUdBLFNBQVNBLFNBQVQsQ0FBbUJDLFVBQW5CLEVBQStCQyxXQUEvQixFQUE0Q0MsWUFBNUMsRUFBMERDLGFBQTFELEVBQXlFO0FBQ3ZFSCxhQUFXSSxJQUFYLENBQWdCRixZQUFoQjtBQUNBRCxjQUFZRyxJQUFaLENBQWlCRCxhQUFqQjtBQUNEOztBQUVELFNBQVNFLFlBQVQsQ0FBc0JMLFVBQXRCLEVBQWtDQyxXQUFsQyxFQUErQ0MsWUFBL0MsRUFBNkQ7QUFDM0QsTUFBTUksUUFBUU4sV0FBV08sT0FBWCxDQUFtQkwsWUFBbkIsQ0FBZDs7QUFFQSxNQUFJSSxTQUFTLENBQWIsRUFBZ0I7QUFDZCxRQUFNSCxnQkFBZ0JGLFlBQVlLLEtBQVosQ0FBdEI7O0FBRUFOLGVBQVdRLE1BQVgs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QUFwQixFQUFpQyxLQUFLRSxlQUF0QyxFQUF1RCxDQUF2RDs7QUFETTtBQUFBO0FBQUE7O0FBQUE7QUFHTix5REFBd0IsS0FBS21DLGFBQTdCO0FBQUEsY0FBU2EsV0FBVDs7QUFDRUEsc0JBQVlXLE9BQVo7QUFERjtBQUhNO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLUDs7O3dCQTdOaUI7QUFDaEIsYUFBTyxLQUFLcEMsV0FBTCxDQUFpQnpCLFdBQXhCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Ozt3QkFTZ0I7QUFDZCxhQUFPLEtBQUt5QixXQUFMLENBQWlCeEIsU0FBeEI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozt3QkFVc0I7QUFDcEIsVUFBTWpCLFNBQVMsS0FBS0EsTUFBcEI7O0FBRUEsVUFBSUEsVUFBVUEsT0FBT2tCLGVBQVAsS0FBMkJMLFNBQXpDLEVBQ0UsT0FBT2IsT0FBT2tCLGVBQWQ7O0FBRUYsYUFBTyxLQUFLd0MsVUFBTCxHQUFrQixDQUFDLEtBQUtqQixXQUFMLENBQWlCekIsV0FBakIsR0FBK0IsS0FBS3lDLE1BQXJDLElBQStDLEtBQUtmLE9BQTdFO0FBQ0Q7OztFQXBHcUJ2QixvQjs7a0JBa1NUNkIsUyIsImZpbGUiOiJUcmFuc3BvcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJpb3JpdHlRdWV1ZSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5UXVldWUnO1xuaW1wb3J0IFNjaGVkdWxpbmdRdWV1ZSBmcm9tICcuLi9jb3JlL1NjaGVkdWxpbmdRdWV1ZSc7XG5pbXBvcnQgVGltZUVuZ2luZSBmcm9tICcuLi9jb3JlL1RpbWVFbmdpbmUnO1xuXG5cbmZ1bmN0aW9uIGFkZER1cGxldChmaXJzdEFycmF5LCBzZWNvbmRBcnJheSwgZmlyc3RFbGVtZW50LCBzZWNvbmRFbGVtZW50KSB7XG4gIGZpcnN0QXJyYXkucHVzaChmaXJzdEVsZW1lbnQpO1xuICBzZWNvbmRBcnJheS5wdXNoKHNlY29uZEVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVEdXBsZXQoZmlyc3RBcnJheSwgc2Vjb25kQXJyYXksIGZpcnN0RWxlbWVudCkge1xuICBjb25zdCBpbmRleCA9IGZpcnN0QXJyYXkuaW5kZXhPZihmaXJzdEVsZW1lbnQpO1xuXG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgY29uc3Qgc2Vjb25kRWxlbWVudCA9IHNlY29uZEFycmF5W2luZGV4XTtcblxuICAgIGZpcnN0QXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBzZWNvbmRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgcmV0dXJuIHNlY29uZEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVGhlIFRyYW5zcG9ydGVkIGNhbGwgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgdGhlIGFkYXB0ZXJzIGJldHdlZW5cbi8vIGRpZmZlcmVudCB0eXBlcyBvZiBlbmdpbmVzIChpLmUuIHRyYW5zcG9ydGVkLCBzY2hlZHVsZWQsIHBsYXktY29udHJvbGxlZClcbi8vIFRoZSBhZGFwdGVycyBhcmUgYXQgdGhlIHNhbWUgdGltZSBtYXN0ZXJzIGZvciB0aGUgZW5naW5lcyBhZGRlZCB0byB0aGUgdHJhbnNwb3J0XG4vLyBhbmQgdHJhbnNwb3J0ZWQgVGltZUVuZ2luZXMgaW5zZXJ0ZWQgaW50byB0aGUgdHJhbnNwb3J0J3MgcG9zaXRpb24tYmFzZWQgcHJpdG9yaXR5IHF1ZXVlLlxuY2xhc3MgVHJhbnNwb3J0ZWQgZXh0ZW5kcyBUaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3IodHJhbnNwb3J0LCBlbmdpbmUsIHN0YXJ0LCBkdXJhdGlvbiwgb2Zmc2V0LCBzdHJldGNoID0gMSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tYXN0ZXIgPSB0cmFuc3BvcnQ7XG5cbiAgICB0aGlzLl9fZW5naW5lID0gZW5naW5lO1xuICAgIGVuZ2luZS5tYXN0ZXIgPSB0aGlzO1xuXG4gICAgdGhpcy5fX3N0YXJ0UG9zaXRpb24gPSBzdGFydDtcbiAgICB0aGlzLl9fZW5kUG9zaXRpb24gPSAhaXNGaW5pdGUoZHVyYXRpb24pID8gSW5maW5pdHkgOiBzdGFydCArIGR1cmF0aW9uO1xuICAgIHRoaXMuX19vZmZzZXRQb3NpdGlvbiA9IHN0YXJ0ICsgb2Zmc2V0O1xuICAgIHRoaXMuX19zdHJldGNoUG9zaXRpb24gPSBzdHJldGNoO1xuICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHNldEJvdW5kYXJpZXMoc3RhcnQsIGR1cmF0aW9uLCBvZmZzZXQgPSAwLCBzdHJldGNoID0gMSkge1xuICAgIHRoaXMuX19zdGFydFBvc2l0aW9uID0gc3RhcnQ7XG4gICAgdGhpcy5fX2VuZFBvc2l0aW9uID0gc3RhcnQgKyBkdXJhdGlvbjtcbiAgICB0aGlzLl9fb2Zmc2V0UG9zaXRpb24gPSBzdGFydCArIG9mZnNldDtcbiAgICB0aGlzLl9fc3RyZXRjaFBvc2l0aW9uID0gc3RyZXRjaDtcbiAgICB0aGlzLnJlc2V0UG9zaXRpb24oKTtcbiAgfVxuXG4gIHN0YXJ0KHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge31cbiAgc3RvcCh0aW1lLCBwb3NpdGlvbikge31cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFzdGVyLmN1cnJlbnRUaW1lO1xuICB9XG5cbiAgZ2V0IGF1ZGlvVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXN0ZXIuYXVkaW9UaW1lO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXN0ZXIuY3VycmVudFBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uO1xuICB9XG5cbiAgcmVzZXRQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgcG9zaXRpb24gKz0gdGhpcy5fX29mZnNldFBvc2l0aW9uO1xuXG4gICAgdGhpcy5tYXN0ZXIucmVzZXRFbmdpbmVQb3NpdGlvbih0aGlzLCBwb3NpdGlvbik7XG4gIH1cblxuICBzeW5jUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgaWYgKHNwZWVkID4gMCkge1xuICAgICAgaWYgKHBvc2l0aW9uIDwgdGhpcy5fX3N0YXJ0UG9zaXRpb24pIHtcblxuICAgICAgICBpZiAodGhpcy5fX2lzUnVubmluZylcbiAgICAgICAgICB0aGlzLnN0b3AodGltZSwgcG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19zdGFydFBvc2l0aW9uO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA8IHRoaXMuX19lbmRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnN0YXJ0KHRpbWUsIHBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uLCBzcGVlZCk7XG5cbiAgICAgICAgdGhpcy5fX2lzUnVubmluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9fZW5kUG9zaXRpb247XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwb3NpdGlvbiA+IHRoaXMuX19lbmRQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5fX2lzUnVubmluZykgLy8gaWYgZW5naW5lIGlzIHJ1bm5pbmdcbiAgICAgICAgICB0aGlzLnN0b3AodGltZSwgcG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19lbmRQb3NpdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPiB0aGlzLl9fc3RhcnRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnN0YXJ0KHRpbWUsIHBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uLCBzcGVlZCk7XG5cbiAgICAgICAgdGhpcy5fX2lzUnVubmluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9fc3RhcnRQb3NpdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fX2lzUnVubmluZykgLy8gaWYgZW5naW5lIGlzIHJ1bm5pbmdcbiAgICAgIHRoaXMuc3RvcCh0aW1lLCBwb3NpdGlvbik7XG5cbiAgICB0aGlzLl9faXNSdW5uaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIEluZmluaXR5ICogc3BlZWQ7XG4gIH1cblxuICBhZHZhbmNlUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgaWYgKCF0aGlzLl9faXNSdW5uaW5nKSB7XG4gICAgICB0aGlzLnN0YXJ0KHRpbWUsIHBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICB0aGlzLl9faXNSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHNwZWVkID4gMClcbiAgICAgICAgcmV0dXJuIHRoaXMuX19lbmRQb3NpdGlvbjtcblxuICAgICAgcmV0dXJuIHRoaXMuX19zdGFydFBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIHN0b3AgZW5naW5lXG4gICAgdGhpcy5zdG9wKHRpbWUsIHBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uKTtcblxuICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gSW5maW5pdHkgKiBzcGVlZDtcbiAgfVxuXG4gIHN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHRoaXMuc3RvcCh0aW1lLCBwb3NpdGlvbiAtIHRoaXMuX19vZmZzZXRQb3NpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1hc3RlciA9IG51bGw7XG5cbiAgICB0aGlzLl9fZW5naW5lLm1hc3RlciA9IG51bGw7XG4gICAgdGhpcy5fX2VuZ2luZSA9IG51bGw7XG4gIH1cbn1cblxuLy8gVHJhbnNwb3J0ZWRUcmFuc3BvcnRlZFxuLy8gaGFzIHRvIHN3aXRjaCBvbiBhbmQgb2ZmIHRoZSBzY2hlZHVsZWQgZW5naW5lcyB3aGVuIHRoZSB0cmFuc3BvcnQgaGl0cyB0aGUgZW5naW5lJ3Mgc3RhcnQgYW5kIGVuZCBwb3NpdGlvblxuLy8gQG5vdGUgLSBkb2VzIG5vdCBoYW5kbGUgcHJvcGVybHkgX19zdGFydFBvc2l0aW9uIGFuZCBfX2VuZFBvc2l0aW9uXG5jbGFzcyBUcmFuc3BvcnRlZFRyYW5zcG9ydGVkIGV4dGVuZHMgVHJhbnNwb3J0ZWQge1xuICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQsIGVuZ2luZSwgc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24sIG9mZnNldFBvc2l0aW9uKSB7XG4gICAgc3VwZXIodHJhbnNwb3J0LCBlbmdpbmUsIHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbik7XG4gIH1cblxuICAvLyBAdG9kbyAtIGhhbmRsZSB0aGlzLl9fcnVubmluZyB0byBzdGFydCBhbmQgc3RvcCBwcm9wZXJseSB0aGUgc2NoZWR1bGVkIGVuZ2luZXNcbiAgc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIGxldCBuZXh0UG9zaXRpb24gPSBudWxsOyAvLyBJbmZpbml0eSAqIHNwZWVkOyAvLyBkZWZhdWx0IHJldHVyblxuXG4gICAgaWYgKHNwZWVkID4gMCkge1xuXG4gICAgICBpZiAocG9zaXRpb24gPCB0aGlzLl9fc3RhcnRQb3NpdGlvbikge1xuICAgICAgICAvLyBzeW5jIGVuZ2luZSBhdCBgX3N0YXJ0UG9zaXRpb25gXG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHRoaXMuX19vZmZzZXRQb3NpdGlvbiArIHRoaXMuX19lbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHRoaXMuX19zdGFydFBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA8IHRoaXMuX19lbmRQb3NpdGlvbikge1xuICAgICAgICAvLyBzeW5jIGVuZ2luZSBhdCBgcG9zaXRpb25gXG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHRoaXMuX19vZmZzZXRQb3NpdGlvbiArIHRoaXMuX19lbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uIC0gdGhpcy5fX29mZnNldFBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2VuZ2luZS5zeW5jUG9zaXRpb24odGltZSwgcG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24sIDApO1xuXG4gICAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgbmV4dFBvc2l0aW9uID0gSW5maW5pdHkgKiBzcGVlZDtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgc29tZWhvdyB0aGUgZW5naW5lIGFza2VkIHRvIGJlIGNhbGxlZCBhZnRlciBgZW5kUG9zaXRpb25gLCBjbGFtcCB2YWx1ZVxuICAgICAgaWYgKHRoaXMuX19pc1J1bm5pbmcgJiYgbmV4dFBvc2l0aW9uID4gdGhpcy5fX2VuZFBvc2l0aW9uKSB7XG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHRoaXMuX19lbmRQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoc3BlZWQgPCAwKSB7XG5cbiAgICAgIGlmIChwb3NpdGlvbiA+IHRoaXMuX19lbmRQb3NpdGlvbikge1xuICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24gKyB0aGlzLl9fZW5naW5lLnN5bmNQb3NpdGlvbih0aW1lLCB0aGlzLl9fZW5kUG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24sIHNwZWVkKTtcbiAgICAgICAgdGhpcy5fX2lzUnVubmluZyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID4gdGhpcy5fX3N0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgbmV4dFBvc2l0aW9uID0gdGhpcy5fX29mZnNldFBvc2l0aW9uICsgdGhpcy5fX2VuZ2luZS5zeW5jUG9zaXRpb24odGltZSwgcG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24sIHNwZWVkKTtcbiAgICAgICAgdGhpcy5fX2lzUnVubmluZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fZW5naW5lLnN5bmNQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiAtIHRoaXMuX19vZmZzZXRQb3NpdGlvbiwgMCk7XG5cbiAgICAgICAgdGhpcy5fX2lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICBuZXh0UG9zaXRpb24gPSBJbmZpbml0eSAqIHNwZWVkO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBzb21laG93IHRoZSBlbmdpbmUgYXNrZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBgc3RhcnRQb3NpdGlvbmAsIGNsYW1wIHZhbHVlXG4gICAgICBpZiAodGhpcy5fX2lzUnVubmluZyAmJiBuZXh0UG9zaXRpb24gPCB0aGlzLl9fc3RhcnRQb3NpdGlvbikge1xuICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLl9fc3RhcnRQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fZW5naW5lLnN5bmNQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiAtIHRoaXMuX19vZmZzZXRQb3NpdGlvbiwgMCk7XG5cbiAgICAgIHRoaXMuX19pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgIG5leHRQb3NpdGlvbiA9IEluZmluaXR5O1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0UG9zaXRpb247XG4gIH1cblxuICBhZHZhbmNlUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgLy8gY2VpbCBvciBmbG9vciBgcG9zaXRpb25gIGF0IDEwXi05IHRvIHByZXZlbnQgZmxvYXQgYXJpdGhtZXRpY3MgZXJyb3JzXG4gICAgLy8gdGhhdCBtYWtlIHRoZSB0cmFuc3BvcnRlZCBnbyB0byBpbmZpbml0ZSBsb29wc1xuICAgIGlmIChzcGVlZCA+IDApIHtcbiAgICAgIHBvc2l0aW9uID0gTWF0aC5jZWlsKHBvc2l0aW9uICogMWU5KSAqIDFlLTk7XG4gICAgfSBlbHNlIGlmIChzcGVlZCA8IDApIHtcbiAgICAgIHBvc2l0aW9uID0gTWF0aC5mbG9vcihwb3NpdGlvbiAqIDFlOSkgKiAxZS05O1xuICAgIH1cblxuICAgIC8vIHN0b3AgZW5naW5lIGlmIG91dHNpZGUgYm91bmRhcmllc1xuICAgIGlmIChzcGVlZCA+IDAgJiYgcG9zaXRpb24gPj0gdGhpcy5fX2VuZFBvc2l0aW9uICYmIHRoaXMuX19pc1J1bm5pbmcpIHtcbiAgICAgIC8vIHN0b3AgZW5naW5lIGF0IF9fZW5kUG9zaXRpb25cbiAgICAgIHRoaXMuX19lbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHRoaXMuX19lbmRQb3NpdGlvbiAtIHRoaXMuX19vZmZzZXRQb3NpdGlvbiwgMCk7XG4gICAgICB0aGlzLl9faXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgIHJldHVybiBJbmZpbml0eSAqIHNwZWVkOyAvL1xuICAgIH0gZWxzZSBpZiAoc3BlZWQgPCAwICYmIHBvc2l0aW9uIDwgdGhpcy5fX3N0YXJ0UG9zaXRpb24gJiYgdGhpcy5fX2lzUnVubmluZykge1xuICAgICAgdGhpcy5fX2VuZ2luZS5zeW5jUG9zaXRpb24odGltZSwgdGhpcy5fX3N0YXJ0UG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24sIDApO1xuICAgICAgdGhpcy5fX2lzUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICByZXR1cm4gSW5maW5pdHkgKiBzcGVlZDsgLy9cbiAgICB9XG5cbiAgICAvLyBkZWZpbmUgbmV4dCBwb3NpdGlvbiBhbmQgY2xhbXAgdG8gYm91bmRhcmllc1xuICAgIHBvc2l0aW9uID0gdGhpcy5fX29mZnNldFBvc2l0aW9uICsgdGhpcy5fX2VuZ2luZS5hZHZhbmNlUG9zaXRpb24odGltZSwgcG9zaXRpb24gLSB0aGlzLl9fb2Zmc2V0UG9zaXRpb24sIHNwZWVkKTtcblxuICAgIC8vIHN0b3AgZW5naW5lIGlmIG91dHNpZGUgYm91bmRhcmllcyAtIHdpbGwgY2FsbCBhZHZhbmNlUG9zaXRpb24gb25jZSBtb3JlXG4gICAgLy8gYW5kIHRodXMgYHN5bmNQb3NpdGlvbmAgKGNmLiBsaW5lIDIxOCAtIDIyOClcbiAgICBpZiAoc3BlZWQgPiAwICYmIHBvc2l0aW9uID4gdGhpcy5fX2VuZFBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbiA9IHRoaXMuX19lbmRQb3NpdGlvbjtcbiAgICB9IGVsc2UgaWYgKHNwZWVkIDwgMCAmJiBwb3NpdGlvbiA8IHRoaXMuX19zdGFydFBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbiA9IHRoaXMuX19zdGFydFBvc2l0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIHN5bmNTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICBpZiAodGhpcy5fX2VuZ2luZS5zeW5jU3BlZWQpIHtcbiAgICAgIHRoaXMuX19lbmdpbmUuc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRFbmdpbmVQb3NpdGlvbihlbmdpbmUsIHBvc2l0aW9uID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBvc2l0aW9uICs9IHRoaXMuX19vZmZzZXRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICB0aGlzLm1hc3Rlci5yZXNldEVuZ2luZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fX2VuZ2luZS5zeW5jUG9zaXRpb24odGhpcy5tYXN0ZXIuY3VycmVudFRpbWUsIHRoaXMubWFzdGVyLmN1cnJlbnRQb3NpdGlvbiwgMCk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8vIFRyYW5zcG9ydGVkU3BlZWRDb250cm9sbGVkXG4vLyBoYXMgdG8gc3RhcnQgYW5kIHN0b3AgdGhlIHNwZWVkLWNvbnRyb2xsZWQgZW5naW5lcyB3aGVuIHRoZSB0cmFuc3BvcnQgaGl0cyB0aGUgZW5naW5lJ3Mgc3RhcnQgYW5kIGVuZCBwb3NpdGlvblxuY2xhc3MgVHJhbnNwb3J0ZWRTcGVlZENvbnRyb2xsZWQgZXh0ZW5kcyBUcmFuc3BvcnRlZCB7XG4gIGNvbnN0cnVjdG9yKHRyYW5zcG9ydCwgZW5naW5lLCBzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgb2Zmc2V0UG9zaXRpb24pIHtcbiAgICBzdXBlcih0cmFuc3BvcnQsIGVuZ2luZSwgc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24sIG9mZnNldFBvc2l0aW9uKTtcbiAgfVxuXG4gIHN0YXJ0KHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIHRoaXMuX19lbmdpbmUuc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCwgdHJ1ZSk7XG4gIH1cblxuICBzdG9wKHRpbWUsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5fX2VuZ2luZS5zeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIDApO1xuICB9XG5cbiAgc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIGlmICh0aGlzLl9faXNSdW5uaW5nKVxuICAgICAgdGhpcy5fX2VuZ2luZS5zeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fX2VuZ2luZS5zeW5jU3BlZWQodGhpcy5tYXN0ZXIuY3VycmVudFRpbWUsIHRoaXMubWFzdGVyLmN1cnJlbnRQb3NpdGlvbiAtIHRoaXMuX19vZmZzZXRQb3NpdGlvbiwgMCk7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5cbi8vIFRyYW5zcG9ydGVkU2NoZWR1bGVkXG4vLyBoYXMgdG8gc3dpdGNoIG9uIGFuZCBvZmYgdGhlIHNjaGVkdWxlZCBlbmdpbmVzIHdoZW4gdGhlIHRyYW5zcG9ydCBoaXRzIHRoZSBlbmdpbmUncyBzdGFydCBhbmQgZW5kIHBvc2l0aW9uXG5jbGFzcyBUcmFuc3BvcnRlZFNjaGVkdWxlZCBleHRlbmRzIFRyYW5zcG9ydGVkIHtcbiAgY29uc3RydWN0b3IodHJhbnNwb3J0LCBlbmdpbmUsIHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbikge1xuICAgIHN1cGVyKHRyYW5zcG9ydCwgZW5naW5lLCBzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgb2Zmc2V0UG9zaXRpb24pO1xuXG4gICAgLy8gc2NoZWR1bGluZyBxdWV1ZSBiZWNvbWVzIG1hc3RlciBvZiBlbmdpbmVcbiAgICBlbmdpbmUubWFzdGVyID0gbnVsbDtcbiAgICB0cmFuc3BvcnQuX19zY2hlZHVsaW5nUXVldWUuYWRkKGVuZ2luZSwgSW5maW5pdHkpO1xuICB9XG5cbiAgc3RhcnQodGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgdGhpcy5tYXN0ZXIuX19zY2hlZHVsaW5nUXVldWUucmVzZXRFbmdpbmVUaW1lKHRoaXMuX19lbmdpbmUsIHRpbWUpO1xuICB9XG5cbiAgc3RvcCh0aW1lLCBwb3NpdGlvbikge1xuICAgIHRoaXMubWFzdGVyLl9fc2NoZWR1bGluZ1F1ZXVlLnJlc2V0RW5naW5lVGltZSh0aGlzLl9fZW5naW5lLCBJbmZpbml0eSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMubWFzdGVyLl9fc2NoZWR1bGluZ1F1ZXVlLnJlbW92ZSh0aGlzLl9fZW5naW5lKTtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cbn1cblxuLy8gdHJhbnNsYXRlcyBhZHZhbmNlUG9zaXRpb24gb2YgKnRyYW5zcG9ydGVkKiBlbmdpbmVzIGludG8gZ2xvYmFsIHNjaGVkdWxlciB0aW1lc1xuY2xhc3MgVHJhbnNwb3J0U2NoZWR1bGVySG9vayBleHRlbmRzIFRpbWVFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fX3RyYW5zcG9ydCA9IHRyYW5zcG9ydDtcblxuICAgIHRoaXMuX19uZXh0UG9zaXRpb24gPSBJbmZpbml0eTtcbiAgICB0aGlzLl9fbmV4dFRpbWUgPSBJbmZpbml0eTtcbiAgICB0cmFuc3BvcnQuX19zY2hlZHVsZXIuYWRkKHRoaXMsIEluZmluaXR5KTtcbiAgfVxuXG4gIC8vIFRpbWVFbmdpbmUgbWV0aG9kIChzY2hlZHVsZWQgaW50ZXJmYWNlKVxuICBhZHZhbmNlVGltZSh0aW1lKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0ID0gdGhpcy5fX3RyYW5zcG9ydDtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX19uZXh0UG9zaXRpb247XG4gICAgY29uc3Qgc3BlZWQgPSB0cmFuc3BvcnQuX19zcGVlZDtcbiAgICBjb25zdCBuZXh0UG9zaXRpb24gPSB0cmFuc3BvcnQuYWR2YW5jZVBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgY29uc3QgbmV4dFRpbWUgPSB0cmFuc3BvcnQuX19nZXRUaW1lQXRQb3NpdGlvbihuZXh0UG9zaXRpb24pO1xuXG4gICAgdGhpcy5fX25leHRQb3NpdGlvbiA9IG5leHRQb3NpdGlvbjtcbiAgICB0aGlzLl9fbmV4dFRpbWUgPSBuZXh0VGltZTtcblxuICAgIHJldHVybiBuZXh0VGltZTtcbiAgfVxuXG4gIHJlc2V0UG9zaXRpb24ocG9zaXRpb24gPSB0aGlzLl9fbmV4dFBvc2l0aW9uKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0ID0gdGhpcy5fX3RyYW5zcG9ydDtcbiAgICBjb25zdCB0aW1lID0gdHJhbnNwb3J0Ll9fZ2V0VGltZUF0UG9zaXRpb24ocG9zaXRpb24pO1xuXG4gICAgdGhpcy5fX25leHRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuX19uZXh0VGltZSA9IHRpbWU7XG5cbiAgICB0aGlzLnJlc2V0VGltZSh0aW1lKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fX3RyYW5zcG9ydC5fX3NjaGVkdWxlci5yZW1vdmUodGhpcyk7XG4gICAgdGhpcy5fX3RyYW5zcG9ydCA9IG51bGw7XG4gIH1cbn1cblxuLy8gaW50ZXJuYWwgc2NoZWR1bGluZyBxdWV1ZSB0aGF0IHJldHVybnMgdGhlIGN1cnJlbnQgcG9zaXRpb24gKGFuZCB0aW1lKSBvZiB0aGUgdHJhbnNwb3J0XG5jbGFzcyBUcmFuc3BvcnRTY2hlZHVsaW5nUXVldWUgZXh0ZW5kcyBTY2hlZHVsaW5nUXVldWUge1xuICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fX3RyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB0cmFuc3BvcnQuX19zY2hlZHVsZXIuYWRkKHRoaXMsIEluZmluaXR5KTtcbiAgfVxuXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RyYW5zcG9ydC5jdXJyZW50VGltZTtcbiAgfVxuXG4gIGdldCBhdWRpb1RpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190cmFuc3BvcnQuYXVkaW9UaW1lO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RyYW5zcG9ydC5jdXJyZW50UG9zaXRpb247XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX190cmFuc3BvcnQuX19zY2hlZHVsZXIucmVtb3ZlKHRoaXMpO1xuICAgIHRoaXMuX190cmFuc3BvcnQgPSBudWxsO1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXMgcG9zaXRpb24tYmFzZWQgc2NoZWR1bGluZyBvZiBUaW1lRW5naW5lIGluc3RhbmNlcy5cbiAqXG4gKiBbZXhhbXBsZV17QGxpbmsgaHR0cHM6Ly9yYXdnaXQuY29tL3dhdmVzanMvd2F2ZXMtbWFzdGVycy9tYXN0ZXIvZXhhbXBsZXMvdHJhbnNwb3J0L2luZGV4Lmh0bWx9XG4gKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlZHVsZXIgLSBpbnN0YW5jZSBvZiBTY2hlZHVsZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgbWFzdGVycyBmcm9tICd3YXZlcy1tYXN0ZXJzJztcbiAqXG4gKiBjb25zdCBnZXRUaW1lRnVuY3Rpb24gPSAoKSA9PiB7XG4gKiAgIGNvbnN0IG5vdyA9IHByb2Nlc3MuaHJ0aW1lKCk7XG4gKiAgIHJldHVybiBub3dbMF0gKyBub3dbMV0gKiAxZS05O1xuICogfVxuICogY29uc3Qgc2NoZWR1bGVyID0gbmV3IG1hc3RlcnMuU2NoZWR1bGVyKGdldFRpbWVGdW5jdGlvbik7XG4gKiBjb25zdCB0cmFuc3BvcnQgPSBuZXcgbWFzdGVycy5UcmFuc3BvcnQoc2NoZWR1bGVyKTtcbiAqIGNvbnN0IHBsYXlDb250cm9sID0gbmV3IG1hc3RlcnMuUGxheUNvbnRyb2woc2NoZWR1bGVyLCB0cmFuc3BvcnQpO1xuICogY29uc3QgbXlFbmdpbmUgPSBuZXcgTXlFbmdpbmUoKTtcbiAqIGNvbnN0IHlvdXJFbmdpbmUgPSBuZXcgeW91ckVuZ2luZSgpO1xuICpcbiAqIHRyYW5zcG9ydC5hZGQobXlFbmdpbmUpO1xuICogdHJhbnNwb3J0LmFkZCh5b3VyRW5naW5lKTtcbiAqXG4gKiBwbGF5Q29udHJvbC5zdGFydCgpO1xuICovXG5jbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBUaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Ioc2NoZWR1bGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgaWYgKCFzY2hlZHVsZXIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgYHNjaGVkdWxlcmAsIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBgU2NoZWR1bGVyYCcpO1xuXG4gICAgdGhpcy5fX2VuZ2luZXMgPSBbXTtcbiAgICB0aGlzLl9fdHJhbnNwb3J0ZWQgPSBbXTtcblxuICAgIHRoaXMuX19zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgdGhpcy5fX3NjaGVkdWxlckhvb2sgPSBuZXcgVHJhbnNwb3J0U2NoZWR1bGVySG9vayh0aGlzKTtcbiAgICB0aGlzLl9fdHJhbnNwb3J0ZWRRdWV1ZSA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgdGhpcy5fX3NjaGVkdWxpbmdRdWV1ZSA9IG5ldyBUcmFuc3BvcnRTY2hlZHVsaW5nUXVldWUodGhpcyk7XG5cbiAgICAvLyBzeW5jcm9uaXplZCB0aW1lLCBwb3NpdGlvbiwgYW5kIHNwZWVkXG4gICAgdGhpcy5fX3RpbWUgPSAwO1xuICAgIHRoaXMuX19wb3NpdGlvbiA9IDA7XG4gICAgdGhpcy5fX3NwZWVkID0gMDtcbiAgfVxuXG4gIF9fZ2V0VGltZUF0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBpZiAodGhpcy5fX3NwZWVkID09PSAwKVxuICAgICAgcmV0dXJuICtJbmZpbml0eTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdGhpcy5fX3RpbWUgKyAocG9zaXRpb24gLSB0aGlzLl9fcG9zaXRpb24pIC8gdGhpcy5fX3NwZWVkO1xuICB9XG5cbiAgX19nZXRQb3NpdGlvbkF0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX19wb3NpdGlvbiArICh0aW1lIC0gdGhpcy5fX3RpbWUpICogdGhpcy5fX3NwZWVkO1xuICB9XG5cbiAgX19zeW5jVHJhbnNwb3J0ZWRQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICBjb25zdCBudW1UcmFuc3BvcnRlZEVuZ2luZXMgPSB0aGlzLl9fdHJhbnNwb3J0ZWQubGVuZ3RoO1xuICAgIGxldCBuZXh0UG9zaXRpb24gPSBJbmZpbml0eSAqIHNwZWVkO1xuXG4gICAgaWYgKG51bVRyYW5zcG9ydGVkRW5naW5lcyA+IDApIHtcbiAgICAgIHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLmNsZWFyKCk7XG4gICAgICB0aGlzLl9fdHJhbnNwb3J0ZWRRdWV1ZS5yZXZlcnNlID0gKHNwZWVkIDwgMCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVHJhbnNwb3J0ZWRFbmdpbmVzOyBpKyspIHtcbiAgICAgICAgY29uc3QgZW5naW5lID0gdGhpcy5fX3RyYW5zcG9ydGVkW2ldO1xuICAgICAgICBjb25zdCBuZXh0RW5naW5lUG9zaXRpb24gPSBlbmdpbmUuc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICAgIHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLmluc2VydChlbmdpbmUsIG5leHRFbmdpbmVQb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIG5leHRQb3NpdGlvbiA9IHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLnRpbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHRQb3NpdGlvbjtcbiAgfVxuXG4gIF9fc3luY1RyYW5zcG9ydGVkU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkKSB7XG4gICAgZm9yIChsZXQgdHJhbnNwb3J0ZWQgb2YgdGhpcy5fX3RyYW5zcG9ydGVkKVxuICAgICAgdHJhbnNwb3J0ZWQuc3luY1NwZWVkKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgbWFzdGVyIHRpbWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBuYW1lIGN1cnJlbnRUaW1lXG4gICAqIEBtZW1iZXJvZiBUcmFuc3BvcnRcbiAgICogQGluc3RhbmNlXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fc2NoZWR1bGVyLmN1cnJlbnRUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtYXN0ZXIgYXVkaW8gdGltZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQG5hbWUgY3VycmVudFRpbWVcbiAgICogQG1lbWJlcm9mIFRyYW5zcG9ydFxuICAgKiBAaW5zdGFuY2VcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9fc2NoZWR1bGVyLmF1ZGlvVGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBtYXN0ZXIgcG9zaXRpb24uIFRoaXMgZ2V0dGVyIHdpbGwgYmUgcmVwbGFjZWQgd2hlbiB0aGUgdHJhbnNwb3J0XG4gICAqIGlzIGFkZGVkIHRvIGEgbWFzdGVyIChpLmUuIHRyYW5zcG9ydCBvciBwbGF5LWNvbnRyb2wpLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAbmFtZSBjdXJyZW50UG9zaXRpb25cbiAgICogQG1lbWJlcm9mIFRyYW5zcG9ydFxuICAgKiBAaW5zdGFuY2VcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgY3VycmVudFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IG1hc3RlciA9IHRoaXMubWFzdGVyO1xuXG4gICAgaWYgKG1hc3RlciAmJiBtYXN0ZXIuY3VycmVudFBvc2l0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gbWFzdGVyLmN1cnJlbnRQb3NpdGlvbjtcblxuICAgIHJldHVybiB0aGlzLl9fcG9zaXRpb24gKyAodGhpcy5fX3NjaGVkdWxlci5jdXJyZW50VGltZSAtIHRoaXMuX190aW1lKSAqIHRoaXMuX19zcGVlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBuZXh0IHRyYW5zcG9ydCBwb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gbmV4dCAtIHRyYW5zcG9ydCBwb3NpdGlvblxuICAgKi9cbiAgcmVzZXRQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGNvbnN0IG1hc3RlciA9IHRoaXMubWFzdGVyO1xuXG4gICAgaWYgKG1hc3RlciAmJiBtYXN0ZXIucmVzZXRFbmdpbmVQb3NpdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgbWFzdGVyLnJlc2V0RW5naW5lUG9zaXRpb24odGhpcywgcG9zaXRpb24pO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuX19zY2hlZHVsZXJIb29rLnJlc2V0UG9zaXRpb24ocG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSB0cmFuc3BvcnRlZCB0aW1lIGVuZ2luZSBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gc3BlZWRcbiAgICovXG4gIHN5bmNQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpIHtcbiAgICB0aGlzLl9fdGltZSA9IHRpbWU7XG4gICAgdGhpcy5fX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5fX3NwZWVkID0gc3BlZWQ7XG5cbiAgICByZXR1cm4gdGhpcy5fX3N5bmNUcmFuc3BvcnRlZFBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gIH1cblxuICAvKipcbiAgICogSW1wbGVtZW50YXRpb24gb2YgdGhlIHRyYW5zcG9ydGVkIHRpbWUgZW5naW5lIGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzcGVlZFxuICAgKi9cbiAgYWR2YW5jZVBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCkge1xuICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLmhlYWQ7XG4gICAgY29uc3QgbmV4dEVuZ2luZVBvc2l0aW9uID0gZW5naW5lLmFkdmFuY2VQb3NpdGlvbih0aW1lLCBwb3NpdGlvbiwgc3BlZWQpO1xuICAgIHJldHVybiB0aGlzLl9fdHJhbnNwb3J0ZWRRdWV1ZS5tb3ZlKGVuZ2luZSwgbmV4dEVuZ2luZVBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgdHJhbnNwb3J0ZWQgdGltZSBlbmdpbmUgaW50ZXJmYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNwZWVkXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NlZWs9ZmFsc2VdXG4gICAqL1xuICBzeW5jU3BlZWQodGltZSwgcG9zaXRpb24sIHNwZWVkLCBzZWVrID0gZmFsc2UpIHtcbiAgICBjb25zdCBsYXN0U3BlZWQgPSB0aGlzLl9fc3BlZWQ7XG5cbiAgICB0aGlzLl9fdGltZSA9IHRpbWU7XG4gICAgdGhpcy5fX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5fX3NwZWVkID0gc3BlZWQ7XG5cbiAgICBpZiAoc3BlZWQgIT09IGxhc3RTcGVlZCB8fCBzZWVrKSB7XG4gICAgICBsZXQgbmV4dFBvc2l0aW9uO1xuXG4gICAgICAvLyByZXN5bmMgdHJhbnNwb3J0ZWQgZW5naW5lc1xuICAgICAgaWYgKHNlZWsgfHwgc3BlZWQgKiBsYXN0U3BlZWQgPCAwKSB7XG4gICAgICAgIC8vIHNlZWsgb3IgcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAgICAgbmV4dFBvc2l0aW9uID0gdGhpcy5fX3N5bmNUcmFuc3BvcnRlZFBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICB9IGVsc2UgaWYgKGxhc3RTcGVlZCA9PT0gMCkge1xuICAgICAgICAvLyBzdGFydFxuICAgICAgICBuZXh0UG9zaXRpb24gPSB0aGlzLl9fc3luY1RyYW5zcG9ydGVkUG9zaXRpb24odGltZSwgcG9zaXRpb24sIHNwZWVkKTtcbiAgICAgIH0gZWxzZSBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgICAgLy8gc3RvcFxuICAgICAgICBuZXh0UG9zaXRpb24gPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5fX3N5bmNUcmFuc3BvcnRlZFBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uLCBzcGVlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjaGFuZ2Ugc3BlZWQgd2l0aG91dCByZXZlcnNpbmcgZGlyZWN0aW9uXG4gICAgICAgIHRoaXMuX19zeW5jVHJhbnNwb3J0ZWRTcGVlZCh0aW1lLCBwb3NpdGlvbiwgc3BlZWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc2V0UG9zaXRpb24obmV4dFBvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdGltZSBlbmdpbmUgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVuZ2luZSAtIGVuZ2luZSB0byBiZSBhZGRlZCB0byB0aGUgdHJhbnNwb3J0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIHN0YXJ0IHBvc2l0aW9uXG4gICAqL1xuICBhZGQoZW5naW5lLCBzdGFydFBvc2l0aW9uID0gMCwgZW5kUG9zaXRpb24gPSBJbmZpbml0eSwgb2Zmc2V0UG9zaXRpb24gPSAwKSB7XG4gICAgbGV0IHRyYW5zcG9ydGVkID0gbnVsbDtcblxuICAgIGlmIChvZmZzZXRQb3NpdGlvbiA9PT0gLUluZmluaXR5KVxuICAgICAgb2Zmc2V0UG9zaXRpb24gPSAwO1xuXG4gICAgaWYgKGVuZ2luZS5tYXN0ZXIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvYmplY3QgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byBhIG1hc3RlclwiKTtcblxuICAgIGlmIChUaW1lRW5naW5lLmltcGxlbWVudHNUcmFuc3BvcnRlZChlbmdpbmUpKVxuICAgICAgdHJhbnNwb3J0ZWQgPSBuZXcgVHJhbnNwb3J0ZWRUcmFuc3BvcnRlZCh0aGlzLCBlbmdpbmUsIHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbik7XG4gICAgZWxzZSBpZiAoVGltZUVuZ2luZS5pbXBsZW1lbnRzU3BlZWRDb250cm9sbGVkKGVuZ2luZSkpXG4gICAgICB0cmFuc3BvcnRlZCA9IG5ldyBUcmFuc3BvcnRlZFNwZWVkQ29udHJvbGxlZCh0aGlzLCBlbmdpbmUsIHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbik7XG4gICAgZWxzZSBpZiAoVGltZUVuZ2luZS5pbXBsZW1lbnRzU2NoZWR1bGVkKGVuZ2luZSkpXG4gICAgICB0cmFuc3BvcnRlZCA9IG5ldyBUcmFuc3BvcnRlZFNjaGVkdWxlZCh0aGlzLCBlbmdpbmUsIHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbik7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGNhbm5vdCBiZSBhZGRlZCB0byBhIHRyYW5zcG9ydFwiKTtcblxuICAgIGlmICh0cmFuc3BvcnRlZCkge1xuICAgICAgY29uc3Qgc3BlZWQgPSB0aGlzLl9fc3BlZWQ7XG5cbiAgICAgIGFkZER1cGxldCh0aGlzLl9fZW5naW5lcywgdGhpcy5fX3RyYW5zcG9ydGVkLCBlbmdpbmUsIHRyYW5zcG9ydGVkKTtcblxuICAgICAgaWYgKHNwZWVkICE9PSAwKSB7XG4gICAgICAgIC8vIHN5bmMgYW5kIHN0YXJ0XG4gICAgICAgIGNvbnN0IG5leHRFbmdpbmVQb3NpdGlvbiA9IHRyYW5zcG9ydGVkLnN5bmNQb3NpdGlvbih0aGlzLmN1cnJlbnRUaW1lLCB0aGlzLmN1cnJlbnRQb3NpdGlvbiwgc3BlZWQpO1xuICAgICAgICBjb25zdCBuZXh0UG9zaXRpb24gPSB0aGlzLl9fdHJhbnNwb3J0ZWRRdWV1ZS5pbnNlcnQodHJhbnNwb3J0ZWQsIG5leHRFbmdpbmVQb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5yZXNldFBvc2l0aW9uKG5leHRQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zcG9ydGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHRpbWUgZW5naW5lIGZyb20gdGhlIHRyYW5zcG9ydC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGVuZ2luZU9yVHJhbnNwb3J0ZWQgLSBlbmdpbmUgb3IgdHJhbnNwb3J0ZWQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSB0cmFuc3BvcnRcbiAgICovXG4gIHJlbW92ZShlbmdpbmVPclRyYW5zcG9ydGVkKSB7XG4gICAgbGV0IGVuZ2luZSA9IGVuZ2luZU9yVHJhbnNwb3J0ZWQ7XG4gICAgbGV0IHRyYW5zcG9ydGVkID0gcmVtb3ZlRHVwbGV0KHRoaXMuX19lbmdpbmVzLCB0aGlzLl9fdHJhbnNwb3J0ZWQsIGVuZ2luZU9yVHJhbnNwb3J0ZWQpO1xuXG4gICAgaWYgKCF0cmFuc3BvcnRlZCkge1xuICAgICAgZW5naW5lID0gcmVtb3ZlRHVwbGV0KHRoaXMuX190cmFuc3BvcnRlZCwgdGhpcy5fX2VuZ2luZXMsIGVuZ2luZU9yVHJhbnNwb3J0ZWQpO1xuICAgICAgdHJhbnNwb3J0ZWQgPSBlbmdpbmVPclRyYW5zcG9ydGVkO1xuICAgIH1cblxuICAgIGlmIChlbmdpbmUgJiYgdHJhbnNwb3J0ZWQpIHtcbiAgICAgIGNvbnN0IG5leHRQb3NpdGlvbiA9IHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLnJlbW92ZSh0cmFuc3BvcnRlZCk7XG5cbiAgICAgIHRyYW5zcG9ydGVkLmRlc3Ryb3koKTtcblxuICAgICAgaWYgKHRoaXMuX19zcGVlZCAhPT0gMClcbiAgICAgICAgdGhpcy5yZXNldFBvc2l0aW9uKG5leHRQb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCBoYXMgbm90IGJlZW4gYWRkZWQgdG8gdGhpcyB0cmFuc3BvcnRcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHBvc2l0aW9uIG9mIHRoZSBnaXZlbiBlbmdpbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7VGltZUVuZ2luZX0gdHJhbnNwb3J0ZWQgLSBFbmdpbmUgdG8gcmVzZXRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gTmV3IHBvc2l0aW9uXG4gICAqL1xuICByZXNldEVuZ2luZVBvc2l0aW9uKHRyYW5zcG9ydGVkLCBwb3NpdGlvbiA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHNwZWVkID0gdGhpcy5fX3NwZWVkO1xuXG4gICAgaWYgKHNwZWVkICE9PSAwKSB7XG4gICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZClcbiAgICAgICAgcG9zaXRpb24gPSB0cmFuc3BvcnRlZC5zeW5jUG9zaXRpb24odGhpcy5jdXJyZW50VGltZSwgdGhpcy5jdXJyZW50UG9zaXRpb24sIHNwZWVkKTtcblxuICAgICAgbGV0IG5leHRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAgIC8vIHRoZSBwcmlvcml0eSBxdWV1ZSBkb2VzIG5vdCBrZWVwIHRyYWNrIG9mIHRoZSBlbGVtZW50cyB0aGF0IGFyZVxuICAgICAgLy8gaW5zZXJ0ZWQgYXQgSW5maW5pdHksIHNvIHdlIG5lZWQgdG8gcmVpbnNlcnQgdHJhbnNwb3J0ZWQgZW5naW5lIGluXG4gICAgICAvLyB0aGlzIGNhc2UuXG4gICAgICAvLyBAbm90ZSAtIHRoaXMgY291bGQgcHJvYmFibHkgYmUgbW9yZSBjbGVhblxuICAgICAgLy8gICAgICAgLSBwcm9iYWJseSB0aGUgcHJpb3JpdHkgcXVldWUgc2hvdWxkIGtlZXAgdGhlc2UgcmVmZXJlbmNlc1xuICAgICAgaWYgKCF0aGlzLl9fdHJhbnNwb3J0ZWRRdWV1ZS5oYXModHJhbnNwb3J0ZWQpKSB7XG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHRoaXMuX190cmFuc3BvcnRlZFF1ZXVlLmluc2VydCh0cmFuc3BvcnRlZCwgcG9zaXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFBvc2l0aW9uID0gdGhpcy5fX3RyYW5zcG9ydGVkUXVldWUubW92ZSh0cmFuc3BvcnRlZCwgcG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc2V0UG9zaXRpb24obmV4dFBvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCB0aW1lIGVuZ2luZXMgZnJvbSB0aGUgdHJhbnNwb3J0LlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5zeW5jU3BlZWQodGhpcy5jdXJyZW50VGltZSwgdGhpcy5jdXJyZW50UG9zaXRpb24sIDApO1xuXG4gICAgZm9yIChsZXQgdHJhbnNwb3J0ZWQgb2YgdGhpcy5fX3RyYW5zcG9ydGVkKVxuICAgICAgdHJhbnNwb3J0ZWQuZGVzdHJveSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zcG9ydDtcbiJdfQ==","deps":{"babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","../core/TimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","../core/PriorityQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js","../core/SchedulingQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles-declarations.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles-declarations.js","source":"module.exports = \" .basic-controllers { } .basic-controllers { width: 100%; max-width: 800px; height: 34px; padding: 3px; margin: 4px 0; background-color: #efefef; border: 1px solid #aaaaaa; box-sizing: border-box; border-radius: 2px; display: block; color: #464646; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .basic-controllers .label { font: italic normal 1.2em Quicksand, arial, sans-serif; line-height: 26px; overflow: hidden; text-align: right; padding: 0 8px 0 0; display: block; box-sizing: border-box; width: 24%; float: left; white-space: nowrap; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none; user-select: none; } .basic-controllers .inner-wrapper { display: -webkit-inline-flex; display: inline-flex; -webkit-flex-wrap: no-wrap; flex-wrap: no-wrap; width: 76%; float: left; } .basic-controllers.small { height: 48px; } .basic-controllers.small:not(.align-small) { height: auto; } .basic-controllers.small:not(.align-small) .label { width: 100%; float: none; text-align: left; line-height: 40px; } .basic-controllers.small:not(.align-small) .inner-wrapper { width: 100%; float: none; } .basic-controllers.small.align-small .label { display: block; margin-right: 20px; text-align: left; line-height: 40px; } .basic-controllers.small.align-small .inner-wrapper { display: inline-block; width: auto; } .basic-controllers .arrow-right, .basic-controllers .arrow-left { border-radius: 2px; width: 14px; height: 26px; cursor: pointer; background-color: #464646; } .basic-controllers .arrow-right line, .basic-controllers .arrow-left line { stroke-width: 3px; stroke: #ffffff; } .basic-controllers .arrow-right:hover, .basic-controllers .arrow-left:hover { background-color: #686868; } .basic-controllers .arrow-right:active, .basic-controllers .arrow-left:active { background-color: #909090; } .basic-controllers .small-arrow-right, .basic-controllers .small-arrow-bottom { width: 26px; height: 26px; cursor: pointer; } .basic-controllers .small-arrow-right path, .basic-controllers .small-arrow-bottom path { fill: #909090; } .basic-controllers .small-arrow-right:hover path, .basic-controllers .small-arrow-bottom:hover path { fill: #686868; } .basic-controllers .toggle-element { width: 26px; height: 26px; border-radius: 2px; background-color: #464646; cursor: pointer; } .basic-controllers .toggle-element:hover { background-color: #686868; } .basic-controllers .toggle-element line { stroke-width: 3px; } .basic-controllers .toggle-element .x { display: none; } .basic-controllers .toggle-element.active .x { display: block; } .basic-controllers .btn { display: block; text-align: center; font: normal normal 12px arial; text-decoration: none; height: 26px; line-height: 26px; background-color: #464646; border: none; color: #ffffff; margin: 0 4px 0 0; padding: 0; box-sizing: border-box; border-radius: 2px; cursor: pointer; -webkit-flex-grow: 1; flex-grow: 1; } .basic-controllers .btn:last-child { margin: 0; } .basic-controllers .btn:hover { background-color: #686868; } .basic-controllers .btn:active, .basic-controllers .btn.active { background-color: #909090; } .basic-controllers .btn:focus { outline: none; } .basic-controllers .number { height: 26px; display: inline-block; position: relative; font: normal normal 1.2em Quicksand, arial, sans-serif; vertical-align: top; border: none; background: none; color: #464646; padding: 0 4px; margin: 0; background-color: #f9f9f9; border-radius: 2px; box-sizing: border-box; } .basic-controllers .number:focus { outline: none; } .basic-controllers select { height: 26px; line-height: 26px; background-color: #f9f9f9; border-radius: 2px; border: none; vertical-align: top; padding: 0; margin: 0; } .basic-controllers select:focus { outline: none; } .basic-controllers input[type=text] { width: 100%; height: 26px; line-height: 26px; border: 0; padding: 0 4px; background-color: #f9f9f9; border-radius: 2px; color: #565656; } .basic-controllers.small .arrow-right, .basic-controllers.small .arrow-left { width: 24px; height: 40px; } .basic-controllers.small .toggle-element { width: 40px; height: 40px; } .basic-controllers.small .btn { height: 40px; line-height: 40px; } .basic-controllers.small .number { height: 40px; } .basic-controllers.small select { height: 40px; line-height: 40px; } .basic-controllers.small input[type=text] { height: 40px; line-height: 40px; } .basic-controllers.title { border: none !important; margin-bottom: 0; margin-top: 8px; padding-top: 8px; padding-bottom: 0; background-color: transparent !important; height: 25px; } .basic-controllers.title .label { font: normal bold 1.3em Quicksand, arial, sans-serif; height: 100%; overflow: hidden; text-align: left; padding: 0; width: 100%; box-sizing: border-box; -webkit-flex-grow: 1; flex-grow: 1; } .basic-controllers.group { height: auto; background-color: white; } .basic-controllers.group .group-header .label { font: normal bold 1.3em Quicksand, arial, sans-serif; height: 26px; line-height: 26px; overflow: hidden; text-align: left; padding: 0 0 0 36px; width: 100%; box-sizing: border-box; -webkit-flex-grow: 1; flex-grow: 1; float: none; cursor: pointer; } .basic-controllers.group .group-header .small-arrow-right { width: 26px; height: 26px; position: absolute; } .basic-controllers.group .group-header .small-arrow-bottom { width: 26px; height: 26px; position: absolute; } .basic-controllers.group .group-content { overflow: hidden; } .basic-controllers.group .group-content > div { margin: 4px auto; } .basic-controllers.group .group-content > div:last-child { margin-bottom: 0; } .basic-controllers.group.opened .group-header .small-arrow-right { display: none; } .basic-controllers.group.opened .group-header .small-arrow-bottom { display: block; } .basic-controllers.group.opened .group-content { display: block; } .basic-controllers.group.closed .group-header .small-arrow-right { display: block; } .basic-controllers.group.closed .group-header .small-arrow-bottom { display: none; } .basic-controllers.group.closed .group-content { display: none; } .basic-controllers.slider .range { height: 26px; display: inline-block; margin: 0; -webkit-flex-grow: 4; flex-grow: 4; position: relative; } .basic-controllers.slider .range canvas { position: absolute; top: 0; left: 0; } .basic-controllers.slider .number-wrapper { display: inline; height: 26px; text-align: right; -webkit-flex-grow: 3; flex-grow: 3; } .basic-controllers.slider .number-wrapper .number { left: 5px; width: 54px; text-align: right; } .basic-controllers.slider .number-wrapper .unit { font: italic normal 1em Quicksand, arial, sans-serif; line-height: 26px; height: 26px; width: 30px; display: inline-block; position: relative; padding-left: 5px; padding-right: 5px; color: #565656; } .basic-controllers.slider .number-wrapper .unit sup { line-height: 7px; } .basic-controllers.slider.slider-large .range { -webkit-flex-grow: 50; flex-grow: 50; } .basic-controllers.slider.slider-large .number-wrapper { -webkit-flex-grow: 1; flex-grow: 1; } .basic-controllers.slider.slider-small .range { -webkit-flex-grow: 2; flex-grow: 2; } .basic-controllers.slider.slider-small .number-wrapper { -webkit-flex-grow: 4; flex-grow: 4; } .basic-controllers.small.slider .range { height: 40px; } .basic-controllers.small.slider .number-wrapper { height: 40px; } .basic-controllers.small.slider .number-wrapper .unit { line-height: 40px; height: 40px; } .basic-controllers.number-box .number { width: 120px; margin: 0 10px; vertical-align: top; } .basic-controllers.select-list select { margin: 0 10px; width: 120px; font: normal normal 1.2em Quicksand, arial, sans-serif; color: #464646; } .basic-controllers.select-buttons .btn:first-of-type { margin-left: 4px; } .basic-controllers.text input[type=text] { font: normal normal 1.2em Quicksand, arial, sans-serif; color: #464646; } .basic-controllers.drag-and-drop { width: 100%; text-align: center; font-weight: bold; height: 100px; } .basic-controllers.drag-and-drop .drop-zone { border: 1px dotted #c4c4c4; border-radius: 2px; transition: background 200ms; height: 90px; } .basic-controllers.drag-and-drop .drop-zone.drag { background-color: #c4c4c4; } .basic-controllers.drag-and-drop .label { display: block; width: 100%; height: 90px; line-height: 90px; margin: 0; padding: 0; text-align: center; } .basic-controllers.drag-and-drop.process .label { display: none; } .basic-controllers.small.drag-and-drop { height: 120px; } .basic-controllers.small.drag-and-drop .drop-zone { height: 110px; } .basic-controllers.small.drag-and-drop .label { display: block; width: 100%; height: 110px; line-height: 110px; margin: 0; padding: 0; text-align: center; } .basic-controllers.grey { background-color: #363636; border: 1px solid #585858; color: rgba(255, 255, 255, 0.95); } .basic-controllers.grey .toggle-element { background-color: #efefef; } .basic-controllers.grey .toggle-element line { stroke: #363636; } .basic-controllers.grey .toggle-element:hover { background-color: #cdcdcd; } .basic-controllers.grey .arrow-right, .basic-controllers.grey .arrow-left { background-color: #efefef; } .basic-controllers.grey .arrow-right line, .basic-controllers.grey .arrow-left line { stroke: #363636; } .basic-controllers.grey .arrow-right:hover, .basic-controllers.grey .arrow-left:hover { background-color: #cdcdcd; } .basic-controllers.grey .arrow-right:active, .basic-controllers.grey .arrow-left:active { background-color: #ababab; } .basic-controllers.grey .small-arrow-right path, .basic-controllers.grey .small-arrow-bottom path { fill: #ababab; } .basic-controllers.grey .small-arrow-right:hover path, .basic-controllers.grey .small-arrow-bottom:hover path { fill: #cdcdcd; } .basic-controllers.grey .number, .basic-controllers.grey select, .basic-controllers.grey input[type=text] { color: rgba(255, 255, 255, 0.95); background-color: #454545; } .basic-controllers.grey .btn { background-color: #efefef; color: #363636; } .basic-controllers.grey .btn:hover { background-color: #cdcdcd; } .basic-controllers.grey .btn:active, .basic-controllers.grey .btn.active { background-color: #ababab; } .basic-controllers.grey.slider .inner-wrapper .number-wrapper .unit { color: #bcbcbc; } .basic-controllers.grey.group { background-color: #505050; } .basic-controllers.grey.drag-and-drop .drop-zone { border: 1px dotted #727272; } .basic-controllers.grey.drag-and-drop .drop-zone.drag { background-color: #727272; } .basic-controllers.dark { background-color: #242424; border: 1px solid #282828; color: #ffffff; } .basic-controllers.dark .toggle-element { background-color: #464646; } .basic-controllers.dark .toggle-element line { stroke: #ffffff; } .basic-controllers.dark .toggle-element:hover { background-color: #686868; } .basic-controllers.dark .arrow-right, .basic-controllers.dark .arrow-left { background-color: #464646; } .basic-controllers.dark .arrow-right line, .basic-controllers.dark .arrow-left line { stroke: #ffffff; } .basic-controllers.dark .arrow-right:hover, .basic-controllers.dark .arrow-left:hover { background-color: #686868; } .basic-controllers.dark .arrow-right:active, .basic-controllers.dark .arrow-left:active { background-color: #909090; } .basic-controllers.dark .small-arrow-right path, .basic-controllers.dark .small-arrow-bottom path { fill: #909090; } .basic-controllers.dark .small-arrow-right:hover path, .basic-controllers.dark .small-arrow-bottom:hover path { fill: #686868; } .basic-controllers.dark .number, .basic-controllers.dark select, .basic-controllers.dark input[type=text] { color: #ffffff; background-color: #333333; } .basic-controllers.dark .btn { background-color: #464646; color: #ffffff; } .basic-controllers.dark .btn:hover { background-color: #686868; } .basic-controllers.dark .btn:active, .basic-controllers.dark .btn.active { background-color: #909090; } .basic-controllers.dark.slider .inner-wrapper .number-wrapper .unit { color: #cdcdcd; } .basic-controllers.dark.group { background-color: #3e3e3e; } .basic-controllers.dark.drag-and-drop .drop-zone { border: 1px dotted #424242; } .basic-controllers.dark.drag-and-drop .drop-zone.drag { background-color: #424242; } \";","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ns = undefined;\nexports.disable = disable;\nexports.insertStyleSheet = insertStyleSheet;\n\nvar _package = require('../../package.json');\n\nvar _stylesDeclarations = require('./styles-declarations.js');\n\nvar _stylesDeclarations2 = _interopRequireDefault(_stylesDeclarations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ns = exports.ns = _package.name.replace('@ircam/', '');\n\nvar nsClass = '.' + ns;\nvar _disabled = false;\n\nfunction disable() {\n  _disabled = true;\n}\n\nfunction insertStyleSheet() {\n  if (_disabled) return;\n\n  var $css = document.createElement('style');\n  $css.setAttribute('data-namespace', ns);\n  $css.type = 'text/css';\n\n  if ($css.styleSheet) $css.styleSheet.cssText = _stylesDeclarations2.default;else $css.appendChild(document.createTextNode(_stylesDeclarations2.default));\n\n  // insert before link or styles if exists\n  var $link = document.head.querySelector('link');\n  var $style = document.head.querySelector('style');\n\n  if ($link) document.head.insertBefore($css, $link);else if ($style) document.head.insertBefore($css, $style);else document.head.appendChild($css);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlcy5qcyJdLCJuYW1lcyI6WyJkaXNhYmxlIiwiaW5zZXJ0U3R5bGVTaGVldCIsIm5zIiwicmVwbGFjZSIsIm5zQ2xhc3MiLCJfZGlzYWJsZWQiLCIkY3NzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidHlwZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIiRsaW5rIiwiaGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCIkc3R5bGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiI7Ozs7OztRQVFnQkEsTyxHQUFBQSxPO1FBSUFDLGdCLEdBQUFBLGdCOztBQVpoQjs7QUFDQTs7Ozs7O0FBRU8sSUFBTUMsa0JBQUssY0FBS0MsT0FBTCxDQUFhLFNBQWIsRUFBd0IsRUFBeEIsQ0FBWDs7QUFFUCxJQUFNQyxnQkFBY0YsRUFBcEI7QUFDQSxJQUFJRyxZQUFZLEtBQWhCOztBQUVPLFNBQVNMLE9BQVQsR0FBbUI7QUFDeEJLLGNBQVksSUFBWjtBQUNEOztBQUVNLFNBQVNKLGdCQUFULEdBQTRCO0FBQ2pDLE1BQUlJLFNBQUosRUFBZTs7QUFFZixNQUFNQyxPQUFPQyxTQUFTQyxhQUFULENBQXVCLE9BQXZCLENBQWI7QUFDQUYsT0FBS0csWUFBTCxDQUFrQixnQkFBbEIsRUFBb0NQLEVBQXBDO0FBQ0FJLE9BQUtJLElBQUwsR0FBWSxVQUFaOztBQUVBLE1BQUlKLEtBQUtLLFVBQVQsRUFDRUwsS0FBS0ssVUFBTCxDQUFnQkMsT0FBaEIsZ0NBREYsS0FHRU4sS0FBS08sV0FBTCxDQUFpQk4sU0FBU08sY0FBVCw4QkFBakI7O0FBRUY7QUFDQSxNQUFNQyxRQUFRUixTQUFTUyxJQUFULENBQWNDLGFBQWQsQ0FBNEIsTUFBNUIsQ0FBZDtBQUNBLE1BQU1DLFNBQVNYLFNBQVNTLElBQVQsQ0FBY0MsYUFBZCxDQUE0QixPQUE1QixDQUFmOztBQUVBLE1BQUlGLEtBQUosRUFDRVIsU0FBU1MsSUFBVCxDQUFjRyxZQUFkLENBQTJCYixJQUEzQixFQUFpQ1MsS0FBakMsRUFERixLQUVLLElBQUlHLE1BQUosRUFDSFgsU0FBU1MsSUFBVCxDQUFjRyxZQUFkLENBQTJCYixJQUEzQixFQUFpQ1ksTUFBakMsRUFERyxLQUdIWCxTQUFTUyxJQUFULENBQWNILFdBQWQsQ0FBMEJQLElBQTFCO0FBQ0giLCJmaWxlIjoic3R5bGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmFtZSB9IGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLWRlY2xhcmF0aW9ucy5qcyc7XG5cbmV4cG9ydCBjb25zdCBucyA9IG5hbWUucmVwbGFjZSgnQGlyY2FtLycsICcnKTtcblxuY29uc3QgbnNDbGFzcyA9IGAuJHtuc31gO1xubGV0IF9kaXNhYmxlZCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgX2Rpc2FibGVkID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFN0eWxlU2hlZXQoKSB7XG4gIGlmIChfZGlzYWJsZWQpIHJldHVybjtcblxuICBjb25zdCAkY3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgJGNzcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZXNwYWNlJywgbnMpO1xuICAkY3NzLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gIGlmICgkY3NzLnN0eWxlU2hlZXQpXG4gICAgJGNzcy5zdHlsZVNoZWV0LmNzc1RleHQgPSBzdHlsZXM7XG4gIGVsc2VcbiAgICAkY3NzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlcykpO1xuXG4gIC8vIGluc2VydCBiZWZvcmUgbGluayBvciBzdHlsZXMgaWYgZXhpc3RzXG4gIGNvbnN0ICRsaW5rID0gZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rJyk7XG4gIGNvbnN0ICRzdHlsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcblxuICBpZiAoJGxpbmspXG4gICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUoJGNzcywgJGxpbmspO1xuICBlbHNlIGlmICgkc3R5bGUpXG4gICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUoJGNzcywgJHN0eWxlKTtcbiAgZWxzZVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJGNzcyk7XG59XG5cbiJdfQ==","deps":{"../../package.json":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/package.json","./styles-declarations.js":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles-declarations.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js","source":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toggle = exports.toggle = \"\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"toggle-element\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 50 50\\\" preserveAspectRatio=\\\"none\\\">\\n      <g class=\\\"x\\\">\\n        <line x1=\\\"8\\\" y1=\\\"8\\\" x2=\\\"42\\\" y2=\\\"42\\\" stroke=\\\"white\\\" />\\n        <line x1=\\\"8\\\" y1=\\\"42\\\" x2=\\\"42\\\" y2=\\\"8\\\" stroke=\\\"white\\\" />\\n      </g>\\n  </svg>\\n\";\n\nvar arrowRight = exports.arrowRight = \"\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"arrow-right\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 50 50\\\" preserveAspectRatio=\\\"none\\\">\\n    <line x1=\\\"10\\\" y1=\\\"10\\\" x2=\\\"40\\\" y2=\\\"25\\\" />\\n    <line x1=\\\"10\\\" y1=\\\"40\\\" x2=\\\"40\\\" y2=\\\"25\\\" />\\n  </svg>\\n\";\n\nvar arrowLeft = exports.arrowLeft = \"\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"arrow-left\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 50 50\\\" preserveAspectRatio=\\\"none\\\">\\n    <line x1=\\\"40\\\" y1=\\\"10\\\" x2=\\\"10\\\" y2=\\\"25\\\" />\\n    <line x1=\\\"40\\\" y1=\\\"40\\\" x2=\\\"10\\\" y2=\\\"25\\\" />\\n  </svg>\\n\";\n\nvar smallArrowRight = exports.smallArrowRight = \"\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"small-arrow-right\\\" viewBox=\\\"0 0 50 50\\\">\\n    <path d=\\\"M 20 15 L 35 25 L 20 35 Z\\\" />\\n  </svg>\\n\";\n\nvar smallArrowBottom = exports.smallArrowBottom = \"\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"small-arrow-bottom\\\" viewBox=\\\"0 0 50 50\\\">\\n    <path d=\\\"M 15 17 L 35 17 L 25 32 Z\\\" />\\n  </svg>\\n\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVsZW1lbnRzLmpzIl0sIm5hbWVzIjpbInRvZ2dsZSIsImFycm93UmlnaHQiLCJhcnJvd0xlZnQiLCJzbWFsbEFycm93UmlnaHQiLCJzbWFsbEFycm93Qm90dG9tIl0sIm1hcHBpbmdzIjoiOzs7OztBQUNPLElBQU1BLHVXQUFOOztBQVNBLElBQU1DLG1TQUFOOztBQU9BLElBQU1DLGdTQUFOOztBQU9BLElBQU1DLHdNQUFOOztBQU1BLElBQU1DLDJNQUFOIiwiZmlsZSI6ImVsZW1lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3QgdG9nZ2xlID0gYFxuICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzcz1cInRvZ2dsZS1lbGVtZW50XCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgNTAgNTBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiPlxuICAgICAgPGcgY2xhc3M9XCJ4XCI+XG4gICAgICAgIDxsaW5lIHgxPVwiOFwiIHkxPVwiOFwiIHgyPVwiNDJcIiB5Mj1cIjQyXCIgc3Ryb2tlPVwid2hpdGVcIiAvPlxuICAgICAgICA8bGluZSB4MT1cIjhcIiB5MT1cIjQyXCIgeDI9XCI0MlwiIHkyPVwiOFwiIHN0cm9rZT1cIndoaXRlXCIgLz5cbiAgICAgIDwvZz5cbiAgPC9zdmc+XG5gO1xuXG5leHBvcnQgY29uc3QgYXJyb3dSaWdodCA9IGBcbiAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJhcnJvdy1yaWdodFwiIHZlcnNpb249XCIxLjFcIiB2aWV3Qm94PVwiMCAwIDUwIDUwXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIj5cbiAgICA8bGluZSB4MT1cIjEwXCIgeTE9XCIxMFwiIHgyPVwiNDBcIiB5Mj1cIjI1XCIgLz5cbiAgICA8bGluZSB4MT1cIjEwXCIgeTE9XCI0MFwiIHgyPVwiNDBcIiB5Mj1cIjI1XCIgLz5cbiAgPC9zdmc+XG5gO1xuXG5leHBvcnQgY29uc3QgYXJyb3dMZWZ0ID0gYFxuICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzcz1cImFycm93LWxlZnRcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCA1MCA1MFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCI+XG4gICAgPGxpbmUgeDE9XCI0MFwiIHkxPVwiMTBcIiB4Mj1cIjEwXCIgeTI9XCIyNVwiIC8+XG4gICAgPGxpbmUgeDE9XCI0MFwiIHkxPVwiNDBcIiB4Mj1cIjEwXCIgeTI9XCIyNVwiIC8+XG4gIDwvc3ZnPlxuYDtcblxuZXhwb3J0IGNvbnN0IHNtYWxsQXJyb3dSaWdodCA9IGBcbiAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJzbWFsbC1hcnJvdy1yaWdodFwiIHZpZXdCb3g9XCIwIDAgNTAgNTBcIj5cbiAgICA8cGF0aCBkPVwiTSAyMCAxNSBMIDM1IDI1IEwgMjAgMzUgWlwiIC8+XG4gIDwvc3ZnPlxuYDtcblxuZXhwb3J0IGNvbnN0IHNtYWxsQXJyb3dCb3R0b20gPSBgXG4gIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzPVwic21hbGwtYXJyb3ctYm90dG9tXCIgdmlld0JveD1cIjAgMCA1MCA1MFwiPlxuICAgIDxwYXRoIGQ9XCJNIDE1IDE3IEwgMzUgMTcgTCAyNSAzMiBaXCIgLz5cbiAgPC9zdmc+XG5gO1xuXG5cblxuIl19","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/platform/platform.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/platform/platform.js","source":"(function (global){(function (){\n/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Waterfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {\n          os || (os = data[0].os || null);\n          try {\n            data[1] = context.require('ringo/engine').version;\n            version = data[1].join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if (data[0].global.system == context.system) {\n              name = 'Narwhal';\n            }\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          } else {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version)\n            version = version ? version[0] : 'unknown';\n          }\n        }\n        else if (rhino) {\n          name = 'Rhino';\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9wbGF0Zm9ybS9wbGF0Zm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFBsYXRmb3JtLmpzIDxodHRwczovL210aHMuYmUvcGxhdGZvcm0+XG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE2IEJlbmphbWluIFRhbiA8aHR0cHM6Ly9kZW1vbmVhdXguZ2l0aHViLmlvLz5cbiAqIENvcHlyaWdodCAyMDExLTIwMTMgSm9obi1EYXZpZCBEYWx0b24gPGh0dHA6Ly9hbGx5b3VjYW5sZWV0LmNvbS8+XG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbXRocy5iZS9taXQ+XG4gKi9cbjsoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiogVXNlZCB0byBkZXRlcm1pbmUgaWYgdmFsdWVzIGFyZSBvZiB0aGUgbGFuZ3VhZ2UgdHlwZSBgT2JqZWN0YC4gKi9cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgICdmdW5jdGlvbic6IHRydWUsXG4gICAgJ29iamVjdCc6IHRydWVcbiAgfTtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSAob2JqZWN0VHlwZXNbdHlwZW9mIHdpbmRvd10gJiYgd2luZG93KSB8fCB0aGlzO1xuXG4gIC8qKiBCYWNrdXAgcG9zc2libGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIG9sZFJvb3QgPSByb290O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSBhbmQgdXNlIGl0IGFzIGByb290YC4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSBmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlICYmIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuICBpZiAoZnJlZUdsb2JhbCAmJiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsKSkge1xuICAgIHJvb3QgPSBmcmVlR2xvYmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgdGhlIG1heGltdW0gbGVuZ3RoIG9mIGFuIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgKiBTZWUgdGhlIFtFUzYgc3BlY10oaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGgpXG4gICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICB2YXIgbWF4U2FmZUludGVnZXIgPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG4gIC8qKiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gZGV0ZWN0IE9wZXJhLiAqL1xuICB2YXIgcmVPcGVyYSA9IC9cXGJPcGVyYS87XG5cbiAgLyoqIFBvc3NpYmxlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciB0aGlzQmluZGluZyA9IHRoaXM7XG5cbiAgLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAvKiogVXNlZCB0byBjaGVjayBmb3Igb3duIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LiAqL1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBpbnRlcm5hbCBgW1tDbGFzc11dYCBvZiB2YWx1ZXMuICovXG4gIHZhciB0b1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyBhIHN0cmluZyB2YWx1ZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgIHN0cmluZyA9IFN0cmluZyhzdHJpbmcpO1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gIH1cblxuICAvKipcbiAgICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNsZWFuIHVwIHRoZSBPUyBuYW1lLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3MgVGhlIE9TIG5hbWUgdG8gY2xlYW4gdXAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcGF0dGVybl0gQSBgUmVnRXhwYCBwYXR0ZXJuIG1hdGNoaW5nIHRoZSBPUyBuYW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXSBBIGxhYmVsIGZvciB0aGUgT1MuXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhbnVwT1Mob3MsIHBhdHRlcm4sIGxhYmVsKSB7XG4gICAgLy8gUGxhdGZvcm0gdG9rZW5zIGFyZSBkZWZpbmVkIGF0OlxuICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNzUwMyhWUy44NSkuYXNweFxuICAgIC8vIGh0dHA6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMDgxMTIyMDUzOTUwL2h0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNzUwMyhWUy44NSkuYXNweFxuICAgIHZhciBkYXRhID0ge1xuICAgICAgJzEwLjAnOiAnMTAnLFxuICAgICAgJzYuNCc6ICAnMTAgVGVjaG5pY2FsIFByZXZpZXcnLFxuICAgICAgJzYuMyc6ICAnOC4xJyxcbiAgICAgICc2LjInOiAgJzgnLFxuICAgICAgJzYuMSc6ICAnU2VydmVyIDIwMDggUjIgLyA3JyxcbiAgICAgICc2LjAnOiAgJ1NlcnZlciAyMDA4IC8gVmlzdGEnLFxuICAgICAgJzUuMic6ICAnU2VydmVyIDIwMDMgLyBYUCA2NC1iaXQnLFxuICAgICAgJzUuMSc6ICAnWFAnLFxuICAgICAgJzUuMDEnOiAnMjAwMCBTUDEnLFxuICAgICAgJzUuMCc6ICAnMjAwMCcsXG4gICAgICAnNC4wJzogICdOVCcsXG4gICAgICAnNC45MCc6ICdNRSdcbiAgICB9O1xuICAgIC8vIERldGVjdCBXaW5kb3dzIHZlcnNpb24gZnJvbSBwbGF0Zm9ybSB0b2tlbnMuXG4gICAgaWYgKHBhdHRlcm4gJiYgbGFiZWwgJiYgL15XaW4vaS50ZXN0KG9zKSAmJiAhL15XaW5kb3dzIFBob25lIC9pLnRlc3Qob3MpICYmXG4gICAgICAgIChkYXRhID0gZGF0YVsvW1xcZC5dKyQvLmV4ZWMob3MpXSkpIHtcbiAgICAgIG9zID0gJ1dpbmRvd3MgJyArIGRhdGE7XG4gICAgfVxuICAgIC8vIENvcnJlY3QgY2hhcmFjdGVyIGNhc2UgYW5kIGNsZWFudXAgc3RyaW5nLlxuICAgIG9zID0gU3RyaW5nKG9zKTtcblxuICAgIGlmIChwYXR0ZXJuICYmIGxhYmVsKSB7XG4gICAgICBvcyA9IG9zLnJlcGxhY2UoUmVnRXhwKHBhdHRlcm4sICdpJyksIGxhYmVsKTtcbiAgICB9XG5cbiAgICBvcyA9IGZvcm1hdChcbiAgICAgIG9zLnJlcGxhY2UoLyBjZSQvaSwgJyBDRScpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJocHcvaSwgJ3dlYicpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJNYWNpbnRvc2hcXGIvLCAnTWFjIE9TJylcbiAgICAgICAgLnJlcGxhY2UoL19Qb3dlclBDXFxiL2ksICcgT1MnKVxuICAgICAgICAucmVwbGFjZSgvXFxiKE9TIFgpIFteIFxcZF0rL2ksICckMScpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJNYWMgKE9TIFgpXFxiLywgJyQxJylcbiAgICAgICAgLnJlcGxhY2UoL1xcLyhcXGQpLywgJyAkMScpXG4gICAgICAgIC5yZXBsYWNlKC9fL2csICcuJylcbiAgICAgICAgLnJlcGxhY2UoLyg/OiBCZVBDfFsgLl0qZmNbIFxcZC5dKykkL2ksICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxieDg2XFwuNjRcXGIvZ2ksICd4ODZfNjQnKVxuICAgICAgICAucmVwbGFjZSgvXFxiKFdpbmRvd3MgUGhvbmUpIE9TXFxiLywgJyQxJylcbiAgICAgICAgLnJlcGxhY2UoL1xcYihDaHJvbWUgT1MgXFx3KykgW1xcZC5dK1xcYi8sICckMScpXG4gICAgICAgIC5zcGxpdCgnIG9uICcpWzBdXG4gICAgKTtcblxuICAgIHJldHVybiBvcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpdGVyYXRpb24gdXRpbGl0eSBmb3IgYXJyYXlzIGFuZCBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBlYWNoKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gb2JqZWN0ID8gb2JqZWN0Lmxlbmd0aCA6IDA7XG5cbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPiAtMSAmJiBsZW5ndGggPD0gbWF4U2FmZUludGVnZXIpIHtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKG9iamVjdFtpbmRleF0sIGluZGV4LCBvYmplY3QpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3JPd24ob2JqZWN0LCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyaW0gYW5kIGNvbmRpdGlvbmFsbHkgY2FwaXRhbGl6ZSBzdHJpbmcgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gZm9ybWF0LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdChzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSB0cmltKHN0cmluZyk7XG4gICAgcmV0dXJuIC9eKD86d2ViT1N8aSg/Ok9TfFApKS8udGVzdChzdHJpbmcpXG4gICAgICA/IHN0cmluZ1xuICAgICAgOiBjYXBpdGFsaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcywgZXhlY3V0aW5nIHRoZSBgY2FsbGJhY2tgIGZvciBlYWNoLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gZXhlY3V0ZWQgcGVyIG93biBwcm9wZXJ0eS5cbiAgICovXG4gIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgIGNhbGxiYWNrKG9iamVjdFtrZXldLCBrZXksIG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGludGVybmFsIGBbW0NsYXNzXV1gIG9mIGEgdmFsdWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYFtbQ2xhc3NdXWAuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRDbGFzc09mKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGxcbiAgICAgID8gY2FwaXRhbGl6ZSh2YWx1ZSlcbiAgICAgIDogdG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhvc3Qgb2JqZWN0cyBjYW4gcmV0dXJuIHR5cGUgdmFsdWVzIHRoYXQgYXJlIGRpZmZlcmVudCBmcm9tIHRoZWlyIGFjdHVhbFxuICAgKiBkYXRhIHR5cGUuIFRoZSBvYmplY3RzIHdlIGFyZSBjb25jZXJuZWQgd2l0aCB1c3VhbGx5IHJldHVybiBub24tcHJpbWl0aXZlXG4gICAqIHR5cGVzIG9mIFwib2JqZWN0XCIsIFwiZnVuY3Rpb25cIiwgb3IgXCJ1bmtub3duXCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvd25lciBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgcHJvcGVydHkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXMgYSBub24tcHJpbWl0aXZlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0hvc3RUeXBlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB2YXIgdHlwZSA9IG9iamVjdCAhPSBudWxsID8gdHlwZW9mIG9iamVjdFtwcm9wZXJ0eV0gOiAnbnVtYmVyJztcbiAgICByZXR1cm4gIS9eKD86Ym9vbGVhbnxudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZCkkLy50ZXN0KHR5cGUpICYmXG4gICAgICAodHlwZSA9PSAnb2JqZWN0JyA/ICEhb2JqZWN0W3Byb3BlcnR5XSA6IHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgc3RyaW5nIGZvciB1c2UgaW4gYSBgUmVnRXhwYCBieSBtYWtpbmcgaHlwaGVucyBhbmQgc3BhY2VzIG9wdGlvbmFsLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcXVhbGlmeS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHF1YWxpZmllZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBxdWFsaWZ5KHN0cmluZykge1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC8oWyAtXSkoPyEkKS9nLCAnJDE/Jyk7XG4gIH1cblxuICAvKipcbiAgICogQSBiYXJlLWJvbmVzIGBBcnJheSNyZWR1Y2VgIGxpa2UgdXRpbGl0eSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Kn0gVGhlIGFjY3VtdWxhdGVkIHJlc3VsdC5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZHVjZShhcnJheSwgY2FsbGJhY2spIHtcbiAgICB2YXIgYWNjdW11bGF0b3IgPSBudWxsO1xuICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBhcnJheSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBmcm9tIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvXiArfCArJC9nLCAnJyk7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBwbGF0Zm9ybSBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFt1YT1uYXZpZ2F0b3IudXNlckFnZW50XSBUaGUgdXNlciBhZ2VudCBzdHJpbmcgb3JcbiAgICogIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBIHBsYXRmb3JtIG9iamVjdC5cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlKHVhKSB7XG5cbiAgICAvKiogVGhlIGVudmlyb25tZW50IGNvbnRleHQgb2JqZWN0LiAqL1xuICAgIHZhciBjb250ZXh0ID0gcm9vdDtcblxuICAgIC8qKiBVc2VkIHRvIGZsYWcgd2hlbiBhIGN1c3RvbSBjb250ZXh0IGlzIHByb3ZpZGVkLiAqL1xuICAgIHZhciBpc0N1c3RvbUNvbnRleHQgPSB1YSAmJiB0eXBlb2YgdWEgPT0gJ29iamVjdCcgJiYgZ2V0Q2xhc3NPZih1YSkgIT0gJ1N0cmluZyc7XG5cbiAgICAvLyBKdWdnbGUgYXJndW1lbnRzLlxuICAgIGlmIChpc0N1c3RvbUNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQgPSB1YTtcbiAgICAgIHVhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKiogQnJvd3NlciBuYXZpZ2F0b3Igb2JqZWN0LiAqL1xuICAgIHZhciBuYXYgPSBjb250ZXh0Lm5hdmlnYXRvciB8fCB7fTtcblxuICAgIC8qKiBCcm93c2VyIHVzZXIgYWdlbnQgc3RyaW5nLiAqL1xuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50IHx8ICcnO1xuXG4gICAgdWEgfHwgKHVhID0gdXNlckFnZW50KTtcblxuICAgIC8qKiBVc2VkIHRvIGZsYWcgd2hlbiBgdGhpc0JpbmRpbmdgIGlzIHRoZSBbTW9kdWxlU2NvcGVdLiAqL1xuICAgIHZhciBpc01vZHVsZVNjb3BlID0gaXNDdXN0b21Db250ZXh0IHx8IHRoaXNCaW5kaW5nID09IG9sZFJvb3Q7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYnJvd3NlciBpcyBsaWtlIENocm9tZS4gKi9cbiAgICB2YXIgbGlrZUNocm9tZSA9IGlzQ3VzdG9tQ29udGV4dFxuICAgICAgPyAhIW5hdi5saWtlQ2hyb21lXG4gICAgICA6IC9cXGJDaHJvbWVcXGIvLnRlc3QodWEpICYmICEvaW50ZXJuYWx8XFxuL2kudGVzdCh0b1N0cmluZy50b1N0cmluZygpKTtcblxuICAgIC8qKiBJbnRlcm5hbCBgW1tDbGFzc11dYCB2YWx1ZSBzaG9ydGN1dHMuICovXG4gICAgdmFyIG9iamVjdENsYXNzID0gJ09iamVjdCcsXG4gICAgICAgIGFpclJ1bnRpbWVDbGFzcyA9IGlzQ3VzdG9tQ29udGV4dCA/IG9iamVjdENsYXNzIDogJ1NjcmlwdEJyaWRnaW5nUHJveHlPYmplY3QnLFxuICAgICAgICBlbnZpcm9DbGFzcyA9IGlzQ3VzdG9tQ29udGV4dCA/IG9iamVjdENsYXNzIDogJ0Vudmlyb25tZW50JyxcbiAgICAgICAgamF2YUNsYXNzID0gKGlzQ3VzdG9tQ29udGV4dCAmJiBjb250ZXh0LmphdmEpID8gJ0phdmFQYWNrYWdlJyA6IGdldENsYXNzT2YoY29udGV4dC5qYXZhKSxcbiAgICAgICAgcGhhbnRvbUNsYXNzID0gaXNDdXN0b21Db250ZXh0ID8gb2JqZWN0Q2xhc3MgOiAnUnVudGltZU9iamVjdCc7XG5cbiAgICAvKiogRGV0ZWN0IEphdmEgZW52aXJvbm1lbnRzLiAqL1xuICAgIHZhciBqYXZhID0gL1xcYkphdmEvLnRlc3QoamF2YUNsYXNzKSAmJiBjb250ZXh0LmphdmE7XG5cbiAgICAvKiogRGV0ZWN0IFJoaW5vLiAqL1xuICAgIHZhciByaGlubyA9IGphdmEgJiYgZ2V0Q2xhc3NPZihjb250ZXh0LmVudmlyb25tZW50KSA9PSBlbnZpcm9DbGFzcztcblxuICAgIC8qKiBBIGNoYXJhY3RlciB0byByZXByZXNlbnQgYWxwaGEuICovXG4gICAgdmFyIGFscGhhID0gamF2YSA/ICdhJyA6ICdcXHUwM2IxJztcblxuICAgIC8qKiBBIGNoYXJhY3RlciB0byByZXByZXNlbnQgYmV0YS4gKi9cbiAgICB2YXIgYmV0YSA9IGphdmEgPyAnYicgOiAnXFx1MDNiMic7XG5cbiAgICAvKiogQnJvd3NlciBkb2N1bWVudCBvYmplY3QuICovXG4gICAgdmFyIGRvYyA9IGNvbnRleHQuZG9jdW1lbnQgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgT3BlcmEgYnJvd3NlciAoUHJlc3RvLWJhc2VkKS5cbiAgICAgKiBodHRwOi8vd3d3Lmhvd3RvY3JlYXRlLmNvLnVrL29wZXJhU3R1ZmYvb3BlcmFPYmplY3QuaHRtbFxuICAgICAqIGh0dHA6Ly9kZXYub3BlcmEuY29tL2FydGljbGVzL3ZpZXcvb3BlcmEtbWluaS13ZWItY29udGVudC1hdXRob3JpbmctZ3VpZGVsaW5lcy8jb3BlcmFtaW5pXG4gICAgICovXG4gICAgdmFyIG9wZXJhID0gY29udGV4dC5vcGVyYW1pbmkgfHwgY29udGV4dC5vcGVyYTtcblxuICAgIC8qKiBPcGVyYSBgW1tDbGFzc11dYC4gKi9cbiAgICB2YXIgb3BlcmFDbGFzcyA9IHJlT3BlcmEudGVzdChvcGVyYUNsYXNzID0gKGlzQ3VzdG9tQ29udGV4dCAmJiBvcGVyYSkgPyBvcGVyYVsnW1tDbGFzc11dJ10gOiBnZXRDbGFzc09mKG9wZXJhKSlcbiAgICAgID8gb3BlcmFDbGFzc1xuICAgICAgOiAob3BlcmEgPSBudWxsKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgdXNlZCBvdmVyIHRoZSBzY3JpcHQncyBsaWZldGltZS4gKi9cbiAgICB2YXIgZGF0YTtcblxuICAgIC8qKiBUaGUgQ1BVIGFyY2hpdGVjdHVyZS4gKi9cbiAgICB2YXIgYXJjaCA9IHVhO1xuXG4gICAgLyoqIFBsYXRmb3JtIGRlc2NyaXB0aW9uIGFycmF5LiAqL1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IFtdO1xuXG4gICAgLyoqIFBsYXRmb3JtIGFscGhhL2JldGEgaW5kaWNhdG9yLiAqL1xuICAgIHZhciBwcmVyZWxlYXNlID0gbnVsbDtcblxuICAgIC8qKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBlbnZpcm9ubWVudCBmZWF0dXJlcyBzaG91bGQgYmUgdXNlZCB0byByZXNvbHZlIHRoZSBwbGF0Zm9ybS4gKi9cbiAgICB2YXIgdXNlRmVhdHVyZXMgPSB1YSA9PSB1c2VyQWdlbnQ7XG5cbiAgICAvKiogVGhlIGJyb3dzZXIvZW52aXJvbm1lbnQgdmVyc2lvbi4gKi9cbiAgICB2YXIgdmVyc2lvbiA9IHVzZUZlYXR1cmVzICYmIG9wZXJhICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09ICdmdW5jdGlvbicgJiYgb3BlcmEudmVyc2lvbigpO1xuXG4gICAgLyoqIEEgZmxhZyB0byBpbmRpY2F0ZSBpZiB0aGUgT1MgZW5kcyB3aXRoIFwiLyBWZXJzaW9uXCIgKi9cbiAgICB2YXIgaXNTcGVjaWFsQ2FzZWRPUztcblxuICAgIC8qIERldGVjdGFibGUgbGF5b3V0IGVuZ2luZXMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIGxheW91dCA9IGdldExheW91dChbXG4gICAgICB7ICdsYWJlbCc6ICdFZGdlSFRNTCcsICdwYXR0ZXJuJzogJ0VkZ2UnIH0sXG4gICAgICAnVHJpZGVudCcsXG4gICAgICB7ICdsYWJlbCc6ICdXZWJLaXQnLCAncGF0dGVybic6ICdBcHBsZVdlYktpdCcgfSxcbiAgICAgICdpQ2FiJyxcbiAgICAgICdQcmVzdG8nLFxuICAgICAgJ05ldEZyb250JyxcbiAgICAgICdUYXNtYW4nLFxuICAgICAgJ0tIVE1MJyxcbiAgICAgICdHZWNrbydcbiAgICBdKTtcblxuICAgIC8qIERldGVjdGFibGUgYnJvd3NlciBuYW1lcyAob3JkZXIgaXMgaW1wb3J0YW50KS4gKi9cbiAgICB2YXIgbmFtZSA9IGdldE5hbWUoW1xuICAgICAgJ0Fkb2JlIEFJUicsXG4gICAgICAnQXJvcmEnLFxuICAgICAgJ0F2YW50IEJyb3dzZXInLFxuICAgICAgJ0JyZWFjaCcsXG4gICAgICAnQ2FtaW5vJyxcbiAgICAgICdFbGVjdHJvbicsXG4gICAgICAnRXBpcGhhbnknLFxuICAgICAgJ0Zlbm5lYycsXG4gICAgICAnRmxvY2snLFxuICAgICAgJ0dhbGVvbicsXG4gICAgICAnR3JlZW5Ccm93c2VyJyxcbiAgICAgICdpQ2FiJyxcbiAgICAgICdJY2V3ZWFzZWwnLFxuICAgICAgJ0stTWVsZW9uJyxcbiAgICAgICdLb25xdWVyb3InLFxuICAgICAgJ0x1bmFzY2FwZScsXG4gICAgICAnTWF4dGhvbicsXG4gICAgICB7ICdsYWJlbCc6ICdNaWNyb3NvZnQgRWRnZScsICdwYXR0ZXJuJzogJ0VkZ2UnIH0sXG4gICAgICAnTWlkb3JpJyxcbiAgICAgICdOb29rIEJyb3dzZXInLFxuICAgICAgJ1BhbGVNb29uJyxcbiAgICAgICdQaGFudG9tSlMnLFxuICAgICAgJ1JhdmVuJyxcbiAgICAgICdSZWtvbnEnLFxuICAgICAgJ1JvY2tNZWx0JyxcbiAgICAgIHsgJ2xhYmVsJzogJ1NhbXN1bmcgSW50ZXJuZXQnLCAncGF0dGVybic6ICdTYW1zdW5nQnJvd3NlcicgfSxcbiAgICAgICdTZWFNb25rZXknLFxuICAgICAgeyAnbGFiZWwnOiAnU2lsaycsICdwYXR0ZXJuJzogJyg/OkNsb3VkOXxTaWxrLUFjY2VsZXJhdGVkKScgfSxcbiAgICAgICdTbGVpcG5pcicsXG4gICAgICAnU2xpbUJyb3dzZXInLFxuICAgICAgeyAnbGFiZWwnOiAnU1JXYXJlIElyb24nLCAncGF0dGVybic6ICdJcm9uJyB9LFxuICAgICAgJ1N1bnJpc2UnLFxuICAgICAgJ1N3aWZ0Zm94JyxcbiAgICAgICdXYXRlcmZveCcsXG4gICAgICAnV2ViUG9zaXRpdmUnLFxuICAgICAgJ09wZXJhIE1pbmknLFxuICAgICAgeyAnbGFiZWwnOiAnT3BlcmEgTWluaScsICdwYXR0ZXJuJzogJ09QaU9TJyB9LFxuICAgICAgJ09wZXJhJyxcbiAgICAgIHsgJ2xhYmVsJzogJ09wZXJhJywgJ3BhdHRlcm4nOiAnT1BSJyB9LFxuICAgICAgJ0Nocm9tZScsXG4gICAgICB7ICdsYWJlbCc6ICdDaHJvbWUgTW9iaWxlJywgJ3BhdHRlcm4nOiAnKD86Q3JpT1N8Q3JNbyknIH0sXG4gICAgICB7ICdsYWJlbCc6ICdGaXJlZm94JywgJ3BhdHRlcm4nOiAnKD86RmlyZWZveHxNaW5lZmllbGQpJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnRmlyZWZveCBmb3IgaU9TJywgJ3BhdHRlcm4nOiAnRnhpT1MnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdJRScsICdwYXR0ZXJuJzogJ0lFTW9iaWxlJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnSUUnLCAncGF0dGVybic6ICdNU0lFJyB9LFxuICAgICAgJ1NhZmFyaSdcbiAgICBdKTtcblxuICAgIC8qIERldGVjdGFibGUgcHJvZHVjdHMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIHByb2R1Y3QgPSBnZXRQcm9kdWN0KFtcbiAgICAgIHsgJ2xhYmVsJzogJ0JsYWNrQmVycnknLCAncGF0dGVybic6ICdCQjEwJyB9LFxuICAgICAgJ0JsYWNrQmVycnknLFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFMnLCAncGF0dGVybic6ICdHVC1JOTAwMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTMicsICdwYXR0ZXJuJzogJ0dULUk5MTAwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFMzJywgJ3BhdHRlcm4nOiAnR1QtSTkzMDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzQnLCAncGF0dGVybic6ICdHVC1JOTUwMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNScsICdwYXR0ZXJuJzogJ1NNLUc5MDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzYnLCAncGF0dGVybic6ICdTTS1HOTIwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM2IEVkZ2UnLCAncGF0dGVybic6ICdTTS1HOTI1JyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM3JywgJ3BhdHRlcm4nOiAnU00tRzkzMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNyBFZGdlJywgJ3BhdHRlcm4nOiAnU00tRzkzNScgfSxcbiAgICAgICdHb29nbGUgVFYnLFxuICAgICAgJ0x1bWlhJyxcbiAgICAgICdpUGFkJyxcbiAgICAgICdpUG9kJyxcbiAgICAgICdpUGhvbmUnLFxuICAgICAgJ0tpbmRsZScsXG4gICAgICB7ICdsYWJlbCc6ICdLaW5kbGUgRmlyZScsICdwYXR0ZXJuJzogJyg/OkNsb3VkOXxTaWxrLUFjY2VsZXJhdGVkKScgfSxcbiAgICAgICdOZXh1cycsXG4gICAgICAnTm9vaycsXG4gICAgICAnUGxheUJvb2snLFxuICAgICAgJ1BsYXlTdGF0aW9uIFZpdGEnLFxuICAgICAgJ1BsYXlTdGF0aW9uJyxcbiAgICAgICdUb3VjaFBhZCcsXG4gICAgICAnVHJhbnNmb3JtZXInLFxuICAgICAgeyAnbGFiZWwnOiAnV2lpIFUnLCAncGF0dGVybic6ICdXaWlVJyB9LFxuICAgICAgJ1dpaScsXG4gICAgICAnWGJveCBPbmUnLFxuICAgICAgeyAnbGFiZWwnOiAnWGJveCAzNjAnLCAncGF0dGVybic6ICdYYm94JyB9LFxuICAgICAgJ1hvb20nXG4gICAgXSk7XG5cbiAgICAvKiBEZXRlY3RhYmxlIG1hbnVmYWN0dXJlcnMuICovXG4gICAgdmFyIG1hbnVmYWN0dXJlciA9IGdldE1hbnVmYWN0dXJlcih7XG4gICAgICAnQXBwbGUnOiB7ICdpUGFkJzogMSwgJ2lQaG9uZSc6IDEsICdpUG9kJzogMSB9LFxuICAgICAgJ0FyY2hvcyc6IHt9LFxuICAgICAgJ0FtYXpvbic6IHsgJ0tpbmRsZSc6IDEsICdLaW5kbGUgRmlyZSc6IDEgfSxcbiAgICAgICdBc3VzJzogeyAnVHJhbnNmb3JtZXInOiAxIH0sXG4gICAgICAnQmFybmVzICYgTm9ibGUnOiB7ICdOb29rJzogMSB9LFxuICAgICAgJ0JsYWNrQmVycnknOiB7ICdQbGF5Qm9vayc6IDEgfSxcbiAgICAgICdHb29nbGUnOiB7ICdHb29nbGUgVFYnOiAxLCAnTmV4dXMnOiAxIH0sXG4gICAgICAnSFAnOiB7ICdUb3VjaFBhZCc6IDEgfSxcbiAgICAgICdIVEMnOiB7fSxcbiAgICAgICdMRyc6IHt9LFxuICAgICAgJ01pY3Jvc29mdCc6IHsgJ1hib3gnOiAxLCAnWGJveCBPbmUnOiAxIH0sXG4gICAgICAnTW90b3JvbGEnOiB7ICdYb29tJzogMSB9LFxuICAgICAgJ05pbnRlbmRvJzogeyAnV2lpIFUnOiAxLCAgJ1dpaSc6IDEgfSxcbiAgICAgICdOb2tpYSc6IHsgJ0x1bWlhJzogMSB9LFxuICAgICAgJ1NhbXN1bmcnOiB7ICdHYWxheHkgUyc6IDEsICdHYWxheHkgUzInOiAxLCAnR2FsYXh5IFMzJzogMSwgJ0dhbGF4eSBTNCc6IDEgfSxcbiAgICAgICdTb255JzogeyAnUGxheVN0YXRpb24nOiAxLCAnUGxheVN0YXRpb24gVml0YSc6IDEgfVxuICAgIH0pO1xuXG4gICAgLyogRGV0ZWN0YWJsZSBvcGVyYXRpbmcgc3lzdGVtcyAob3JkZXIgaXMgaW1wb3J0YW50KS4gKi9cbiAgICB2YXIgb3MgPSBnZXRPUyhbXG4gICAgICAnV2luZG93cyBQaG9uZScsXG4gICAgICAnQW5kcm9pZCcsXG4gICAgICAnQ2VudE9TJyxcbiAgICAgIHsgJ2xhYmVsJzogJ0Nocm9tZSBPUycsICdwYXR0ZXJuJzogJ0NyT1MnIH0sXG4gICAgICAnRGViaWFuJyxcbiAgICAgICdGZWRvcmEnLFxuICAgICAgJ0ZyZWVCU0QnLFxuICAgICAgJ0dlbnRvbycsXG4gICAgICAnSGFpa3UnLFxuICAgICAgJ0t1YnVudHUnLFxuICAgICAgJ0xpbnV4IE1pbnQnLFxuICAgICAgJ09wZW5CU0QnLFxuICAgICAgJ1JlZCBIYXQnLFxuICAgICAgJ1N1U0UnLFxuICAgICAgJ1VidW50dScsXG4gICAgICAnWHVidW50dScsXG4gICAgICAnQ3lnd2luJyxcbiAgICAgICdTeW1iaWFuIE9TJyxcbiAgICAgICdocHdPUycsXG4gICAgICAnd2ViT1MgJyxcbiAgICAgICd3ZWJPUycsXG4gICAgICAnVGFibGV0IE9TJyxcbiAgICAgICdUaXplbicsXG4gICAgICAnTGludXgnLFxuICAgICAgJ01hYyBPUyBYJyxcbiAgICAgICdNYWNpbnRvc2gnLFxuICAgICAgJ01hYycsXG4gICAgICAnV2luZG93cyA5ODsnLFxuICAgICAgJ1dpbmRvd3MgJ1xuICAgIF0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIGxheW91dCBlbmdpbmUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgbGF5b3V0IGVuZ2luZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMYXlvdXQoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIGd1ZXNzKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgUmVnRXhwKCdcXFxcYicgKyAoXG4gICAgICAgICAgZ3Vlc3MucGF0dGVybiB8fCBxdWFsaWZ5KGd1ZXNzKVxuICAgICAgICApICsgJ1xcXFxiJywgJ2knKS5leGVjKHVhKSAmJiAoZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIG1hbnVmYWN0dXJlciBmcm9tIGFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGd1ZXNzZXMgQW4gb2JqZWN0IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgbWFudWZhY3R1cmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hbnVmYWN0dXJlcihndWVzc2VzKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKGd1ZXNzZXMsIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgICAvLyBMb29rdXAgdGhlIG1hbnVmYWN0dXJlciBieSBwcm9kdWN0IG9yIHNjYW4gdGhlIFVBIGZvciB0aGUgbWFudWZhY3R1cmVyLlxuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IChcbiAgICAgICAgICB2YWx1ZVtwcm9kdWN0XSB8fFxuICAgICAgICAgIHZhbHVlWy9eW2Etel0rKD86ICtbYS16XStcXGIpKi9pLmV4ZWMocHJvZHVjdCldIHx8XG4gICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBxdWFsaWZ5KGtleSkgKyAnKD86XFxcXGJ8XFxcXHcqXFxcXGQpJywgJ2knKS5leGVjKHVhKVxuICAgICAgICApICYmIGtleTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpY2tzIHRoZSBicm93c2VyIG5hbWUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgYnJvd3NlciBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hbWUoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIGd1ZXNzKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgUmVnRXhwKCdcXFxcYicgKyAoXG4gICAgICAgICAgZ3Vlc3MucGF0dGVybiB8fCBxdWFsaWZ5KGd1ZXNzKVxuICAgICAgICApICsgJ1xcXFxiJywgJ2knKS5leGVjKHVhKSAmJiAoZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIE9TIG5hbWUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgT1MgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRPUyhndWVzc2VzKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKGd1ZXNzZXMsIGZ1bmN0aW9uKHJlc3VsdCwgZ3Vlc3MpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBndWVzcy5wYXR0ZXJuIHx8IHF1YWxpZnkoZ3Vlc3MpO1xuICAgICAgICBpZiAoIXJlc3VsdCAmJiAocmVzdWx0ID1cbiAgICAgICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBwYXR0ZXJuICsgJyg/Oi9bXFxcXGQuXSt8WyBcXFxcdy5dKiknLCAnaScpLmV4ZWModWEpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xlYW51cE9TKHJlc3VsdCwgcGF0dGVybiwgZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaWNrcyB0aGUgcHJvZHVjdCBuYW1lIGZyb20gYW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ3Vlc3NlcyBBbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIHByb2R1Y3QgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQcm9kdWN0KGd1ZXNzZXMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UoZ3Vlc3NlcywgZnVuY3Rpb24ocmVzdWx0LCBndWVzcykge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGd1ZXNzLnBhdHRlcm4gfHwgcXVhbGlmeShndWVzcyk7XG4gICAgICAgIGlmICghcmVzdWx0ICYmIChyZXN1bHQgPVxuICAgICAgICAgICAgICBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnICpcXFxcZCtbLlxcXFx3X10qJywgJ2knKS5leGVjKHVhKSB8fFxuICAgICAgICAgICAgICBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnICpcXFxcdystW1xcXFx3XSonLCAnaScpLmV4ZWModWEpIHx8XG4gICAgICAgICAgICAgIFJlZ0V4cCgnXFxcXGInICsgcGF0dGVybiArICcoPzo7ICooPzpbYS16XStbXy1dKT9bYS16XStcXFxcZCt8W14gKCk7LV0qKScsICdpJykuZXhlYyh1YSlcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAvLyBTcGxpdCBieSBmb3J3YXJkIHNsYXNoIGFuZCBhcHBlbmQgcHJvZHVjdCB2ZXJzaW9uIGlmIG5lZWRlZC5cbiAgICAgICAgICBpZiAoKHJlc3VsdCA9IFN0cmluZygoZ3Vlc3MubGFiZWwgJiYgIVJlZ0V4cChwYXR0ZXJuLCAnaScpLnRlc3QoZ3Vlc3MubGFiZWwpKSA/IGd1ZXNzLmxhYmVsIDogcmVzdWx0KS5zcGxpdCgnLycpKVsxXSAmJiAhL1tcXGQuXSsvLnRlc3QocmVzdWx0WzBdKSkge1xuICAgICAgICAgICAgcmVzdWx0WzBdICs9ICcgJyArIHJlc3VsdFsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ29ycmVjdCBjaGFyYWN0ZXIgY2FzZSBhbmQgY2xlYW51cCBzdHJpbmcuXG4gICAgICAgICAgZ3Vlc3MgPSBndWVzcy5sYWJlbCB8fCBndWVzcztcbiAgICAgICAgICByZXN1bHQgPSBmb3JtYXQocmVzdWx0WzBdXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAocGF0dGVybiwgJ2knKSwgZ3Vlc3MpXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAoJzsgKig/OicgKyBndWVzcyArICdbXy1dKT8nLCAnaScpLCAnICcpXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAoJygnICsgZ3Vlc3MgKyAnKVstXy5dPyhcXFxcdyknLCAnaScpLCAnJDEgJDInKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHRoZSB2ZXJzaW9uIHVzaW5nIGFuIGFycmF5IG9mIFVBIHBhdHRlcm5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXR0ZXJucyBBbiBhcnJheSBvZiBVQSBwYXR0ZXJucy5cbiAgICAgKiBAcmV0dXJucyB7bnVsbHxzdHJpbmd9IFRoZSBkZXRlY3RlZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZlcnNpb24ocGF0dGVybnMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UocGF0dGVybnMsIGZ1bmN0aW9uKHJlc3VsdCwgcGF0dGVybikge1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IChSZWdFeHAocGF0dGVybiArXG4gICAgICAgICAgJyg/Oi1bXFxcXGQuXSsvfCg/OiBmb3IgW1xcXFx3LV0rKT9bIC8tXSkoW1xcXFxkLl0rW14gKCk7L18tXSopJywgJ2knKS5leGVjKHVhKSB8fCAwKVsxXSB8fCBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgcGxhdGZvcm0uZGVzY3JpcHRpb25gIHdoZW4gdGhlIHBsYXRmb3JtIG9iamVjdCBpcyBjb2VyY2VkIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgdG9TdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGBwbGF0Zm9ybS5kZXNjcmlwdGlvbmAgaWYgYXZhaWxhYmxlLCBlbHNlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZ1BsYXRmb3JtKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQ29udmVydCBsYXlvdXQgdG8gYW4gYXJyYXkgc28gd2UgY2FuIGFkZCBleHRyYSBkZXRhaWxzLlxuICAgIGxheW91dCAmJiAobGF5b3V0ID0gW2xheW91dF0pO1xuXG4gICAgLy8gRGV0ZWN0IHByb2R1Y3QgbmFtZXMgdGhhdCBjb250YWluIHRoZWlyIG1hbnVmYWN0dXJlcidzIG5hbWUuXG4gICAgaWYgKG1hbnVmYWN0dXJlciAmJiAhcHJvZHVjdCkge1xuICAgICAgcHJvZHVjdCA9IGdldFByb2R1Y3QoW21hbnVmYWN0dXJlcl0pO1xuICAgIH1cbiAgICAvLyBDbGVhbiB1cCBHb29nbGUgVFYuXG4gICAgaWYgKChkYXRhID0gL1xcYkdvb2dsZSBUVlxcYi8uZXhlYyhwcm9kdWN0KSkpIHtcbiAgICAgIHByb2R1Y3QgPSBkYXRhWzBdO1xuICAgIH1cbiAgICAvLyBEZXRlY3Qgc2ltdWxhdG9ycy5cbiAgICBpZiAoL1xcYlNpbXVsYXRvclxcYi9pLnRlc3QodWEpKSB7XG4gICAgICBwcm9kdWN0ID0gKHByb2R1Y3QgPyBwcm9kdWN0ICsgJyAnIDogJycpICsgJ1NpbXVsYXRvcic7XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBNaW5pIDgrIHJ1bm5pbmcgaW4gVHVyYm8vVW5jb21wcmVzc2VkIG1vZGUgb24gaU9TLlxuICAgIGlmIChuYW1lID09ICdPcGVyYSBNaW5pJyAmJiAvXFxiT1BpT1NcXGIvLnRlc3QodWEpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdydW5uaW5nIGluIFR1cmJvL1VuY29tcHJlc3NlZCBtb2RlJyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBJRSBNb2JpbGUgMTEuXG4gICAgaWYgKG5hbWUgPT0gJ0lFJyAmJiAvXFxibGlrZSBpUGhvbmUgT1NcXGIvLnRlc3QodWEpKSB7XG4gICAgICBkYXRhID0gcGFyc2UodWEucmVwbGFjZSgvbGlrZSBpUGhvbmUgT1MvLCAnJykpO1xuICAgICAgbWFudWZhY3R1cmVyID0gZGF0YS5tYW51ZmFjdHVyZXI7XG4gICAgICBwcm9kdWN0ID0gZGF0YS5wcm9kdWN0O1xuICAgIH1cbiAgICAvLyBEZXRlY3QgaU9TLlxuICAgIGVsc2UgaWYgKC9eaVAvLnRlc3QocHJvZHVjdCkpIHtcbiAgICAgIG5hbWUgfHwgKG5hbWUgPSAnU2FmYXJpJyk7XG4gICAgICBvcyA9ICdpT1MnICsgKChkYXRhID0gLyBPUyAoW1xcZF9dKykvaS5leGVjKHVhKSlcbiAgICAgICAgPyAnICcgKyBkYXRhWzFdLnJlcGxhY2UoL18vZywgJy4nKVxuICAgICAgICA6ICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEt1YnVudHUuXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnS29ucXVlcm9yJyAmJiAhL2J1bnR1L2kudGVzdChvcykpIHtcbiAgICAgIG9zID0gJ0t1YnVudHUnO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgQW5kcm9pZCBicm93c2Vycy5cbiAgICBlbHNlIGlmICgobWFudWZhY3R1cmVyICYmIG1hbnVmYWN0dXJlciAhPSAnR29vZ2xlJyAmJlxuICAgICAgICAoKC9DaHJvbWUvLnRlc3QobmFtZSkgJiYgIS9cXGJNb2JpbGUgU2FmYXJpXFxiL2kudGVzdCh1YSkpIHx8IC9cXGJWaXRhXFxiLy50ZXN0KHByb2R1Y3QpKSkgfHxcbiAgICAgICAgKC9cXGJBbmRyb2lkXFxiLy50ZXN0KG9zKSAmJiAvXkNocm9tZS8udGVzdChuYW1lKSAmJiAvXFxiVmVyc2lvblxcLy9pLnRlc3QodWEpKSkge1xuICAgICAgbmFtZSA9ICdBbmRyb2lkIEJyb3dzZXInO1xuICAgICAgb3MgPSAvXFxiQW5kcm9pZFxcYi8udGVzdChvcykgPyBvcyA6ICdBbmRyb2lkJztcbiAgICB9XG4gICAgLy8gRGV0ZWN0IFNpbGsgZGVza3RvcC9hY2NlbGVyYXRlZCBtb2Rlcy5cbiAgICBlbHNlIGlmIChuYW1lID09ICdTaWxrJykge1xuICAgICAgaWYgKCEvXFxiTW9iaS9pLnRlc3QodWEpKSB7XG4gICAgICAgIG9zID0gJ0FuZHJvaWQnO1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIH1cbiAgICAgIGlmICgvQWNjZWxlcmF0ZWQgKj0gKnRydWUvaS50ZXN0KHVhKSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdhY2NlbGVyYXRlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEZXRlY3QgUGFsZU1vb24gaWRlbnRpZnlpbmcgYXMgRmlyZWZveC5cbiAgICBlbHNlIGlmIChuYW1lID09ICdQYWxlTW9vbicgJiYgKGRhdGEgPSAvXFxiRmlyZWZveFxcLyhbXFxkLl0rKVxcYi8uZXhlYyh1YSkpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdpZGVudGlmeWluZyBhcyBGaXJlZm94ICcgKyBkYXRhWzFdKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEZpcmVmb3ggT1MgYW5kIHByb2R1Y3RzIHJ1bm5pbmcgRmlyZWZveC5cbiAgICBlbHNlIGlmIChuYW1lID09ICdGaXJlZm94JyAmJiAoZGF0YSA9IC9cXGIoTW9iaWxlfFRhYmxldHxUVilcXGIvaS5leGVjKHVhKSkpIHtcbiAgICAgIG9zIHx8IChvcyA9ICdGaXJlZm94IE9TJyk7XG4gICAgICBwcm9kdWN0IHx8IChwcm9kdWN0ID0gZGF0YVsxXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBmYWxzZSBwb3NpdGl2ZXMgZm9yIEZpcmVmb3gvU2FmYXJpLlxuICAgIGVsc2UgaWYgKCFuYW1lIHx8IChkYXRhID0gIS9cXGJNaW5lZmllbGRcXGIvaS50ZXN0KHVhKSAmJiAvXFxiKD86RmlyZWZveHxTYWZhcmkpXFxiLy5leGVjKG5hbWUpKSkge1xuICAgICAgLy8gRXNjYXBlIHRoZSBgL2AgZm9yIEZpcmVmb3ggMS5cbiAgICAgIGlmIChuYW1lICYmICFwcm9kdWN0ICYmIC9bXFwvLF18XlteKF0rP1xcKS8udGVzdCh1YS5zbGljZSh1YS5pbmRleE9mKGRhdGEgKyAnLycpICsgOCkpKSB7XG4gICAgICAgIC8vIENsZWFyIG5hbWUgb2YgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICBuYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFJlYXNzaWduIGEgZ2VuZXJpYyBuYW1lLlxuICAgICAgaWYgKChkYXRhID0gcHJvZHVjdCB8fCBtYW51ZmFjdHVyZXIgfHwgb3MpICYmXG4gICAgICAgICAgKHByb2R1Y3QgfHwgbWFudWZhY3R1cmVyIHx8IC9cXGIoPzpBbmRyb2lkfFN5bWJpYW4gT1N8VGFibGV0IE9TfHdlYk9TKVxcYi8udGVzdChvcykpKSB7XG4gICAgICAgIG5hbWUgPSAvW2Etel0rKD86IEhhdCk/L2kuZXhlYygvXFxiQW5kcm9pZFxcYi8udGVzdChvcykgPyBvcyA6IGRhdGEpICsgJyBCcm93c2VyJztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIENocm9tZSB2ZXJzaW9uIHRvIGRlc2NyaXB0aW9uIGZvciBFbGVjdHJvbi5cbiAgICBlbHNlIGlmIChuYW1lID09ICdFbGVjdHJvbicgJiYgKGRhdGEgPSAoL1xcYkNocm9tZVxcLyhbXFxkLl0rKVxcYi8uZXhlYyh1YSkgfHwgMClbMV0pKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdDaHJvbWl1bSAnICsgZGF0YSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBub24tT3BlcmEgKFByZXN0by1iYXNlZCkgdmVyc2lvbnMgKG9yZGVyIGlzIGltcG9ydGFudCkuXG4gICAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gZ2V0VmVyc2lvbihbXG4gICAgICAgICcoPzpDbG91ZDl8Q3JpT1N8Q3JNb3xFZGdlfEZ4aU9TfElFTW9iaWxlfElyb258T3BlcmEgP01pbml8T1BpT1N8T1BSfFJhdmVufFNhbXN1bmdCcm93c2VyfFNpbGsoPyEvW1xcXFxkLl0rJCkpJyxcbiAgICAgICAgJ1ZlcnNpb24nLFxuICAgICAgICBxdWFsaWZ5KG5hbWUpLFxuICAgICAgICAnKD86RmlyZWZveHxNaW5lZmllbGR8TmV0RnJvbnQpJ1xuICAgICAgXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBzdHViYm9ybiBsYXlvdXQgZW5naW5lcy5cbiAgICBpZiAoKGRhdGEgPVxuICAgICAgICAgIGxheW91dCA9PSAnaUNhYicgJiYgcGFyc2VGbG9hdCh2ZXJzaW9uKSA+IDMgJiYgJ1dlYktpdCcgfHxcbiAgICAgICAgICAvXFxiT3BlcmFcXGIvLnRlc3QobmFtZSkgJiYgKC9cXGJPUFJcXGIvLnRlc3QodWEpID8gJ0JsaW5rJyA6ICdQcmVzdG8nKSB8fFxuICAgICAgICAgIC9cXGIoPzpNaWRvcml8Tm9va3xTYWZhcmkpXFxiL2kudGVzdCh1YSkgJiYgIS9eKD86VHJpZGVudHxFZGdlSFRNTCkkLy50ZXN0KGxheW91dCkgJiYgJ1dlYktpdCcgfHxcbiAgICAgICAgICAhbGF5b3V0ICYmIC9cXGJNU0lFXFxiL2kudGVzdCh1YSkgJiYgKG9zID09ICdNYWMgT1MnID8gJ1Rhc21hbicgOiAnVHJpZGVudCcpIHx8XG4gICAgICAgICAgbGF5b3V0ID09ICdXZWJLaXQnICYmIC9cXGJQbGF5U3RhdGlvblxcYig/ISBWaXRhXFxiKS9pLnRlc3QobmFtZSkgJiYgJ05ldEZyb250J1xuICAgICAgICApKSB7XG4gICAgICBsYXlvdXQgPSBbZGF0YV07XG4gICAgfVxuICAgIC8vIERldGVjdCBXaW5kb3dzIFBob25lIDcgZGVza3RvcCBtb2RlLlxuICAgIGlmIChuYW1lID09ICdJRScgJiYgKGRhdGEgPSAoLzsgKig/OlhCTFdQfFp1bmVXUCkoXFxkKykvaS5leGVjKHVhKSB8fCAwKVsxXSkpIHtcbiAgICAgIG5hbWUgKz0gJyBNb2JpbGUnO1xuICAgICAgb3MgPSAnV2luZG93cyBQaG9uZSAnICsgKC9cXCskLy50ZXN0KGRhdGEpID8gZGF0YSA6IGRhdGEgKyAnLngnKTtcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQoJ2Rlc2t0b3AgbW9kZScpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgV2luZG93cyBQaG9uZSA4LnggZGVza3RvcCBtb2RlLlxuICAgIGVsc2UgaWYgKC9cXGJXUERlc2t0b3BcXGIvaS50ZXN0KHVhKSkge1xuICAgICAgbmFtZSA9ICdJRSBNb2JpbGUnO1xuICAgICAgb3MgPSAnV2luZG93cyBQaG9uZSA4LngnO1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZGVza3RvcCBtb2RlJyk7XG4gICAgICB2ZXJzaW9uIHx8ICh2ZXJzaW9uID0gKC9cXGJydjooW1xcZC5dKykvLmV4ZWModWEpIHx8IDApWzFdKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IElFIDExIGlkZW50aWZ5aW5nIGFzIG90aGVyIGJyb3dzZXJzLlxuICAgIGVsc2UgaWYgKG5hbWUgIT0gJ0lFJyAmJiBsYXlvdXQgPT0gJ1RyaWRlbnQnICYmIChkYXRhID0gL1xcYnJ2OihbXFxkLl0rKS8uZXhlYyh1YSkpKSB7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKCdpZGVudGlmeWluZyBhcyAnICsgbmFtZSArICh2ZXJzaW9uID8gJyAnICsgdmVyc2lvbiA6ICcnKSk7XG4gICAgICB9XG4gICAgICBuYW1lID0gJ0lFJztcbiAgICAgIHZlcnNpb24gPSBkYXRhWzFdO1xuICAgIH1cbiAgICAvLyBMZXZlcmFnZSBlbnZpcm9ubWVudCBmZWF0dXJlcy5cbiAgICBpZiAodXNlRmVhdHVyZXMpIHtcbiAgICAgIC8vIERldGVjdCBzZXJ2ZXItc2lkZSBlbnZpcm9ubWVudHMuXG4gICAgICAvLyBSaGlubyBoYXMgYSBnbG9iYWwgZnVuY3Rpb24gd2hpbGUgb3RoZXJzIGhhdmUgYSBnbG9iYWwgb2JqZWN0LlxuICAgICAgaWYgKGlzSG9zdFR5cGUoY29udGV4dCwgJ2dsb2JhbCcpKSB7XG4gICAgICAgIGlmIChqYXZhKSB7XG4gICAgICAgICAgZGF0YSA9IGphdmEubGFuZy5TeXN0ZW07XG4gICAgICAgICAgYXJjaCA9IGRhdGEuZ2V0UHJvcGVydHkoJ29zLmFyY2gnKTtcbiAgICAgICAgICBvcyA9IG9zIHx8IGRhdGEuZ2V0UHJvcGVydHkoJ29zLm5hbWUnKSArICcgJyArIGRhdGEuZ2V0UHJvcGVydHkoJ29zLnZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2R1bGVTY29wZSAmJiBpc0hvc3RUeXBlKGNvbnRleHQsICdzeXN0ZW0nKSAmJiAoZGF0YSA9IFtjb250ZXh0LnN5c3RlbV0pWzBdKSB7XG4gICAgICAgICAgb3MgfHwgKG9zID0gZGF0YVswXS5vcyB8fCBudWxsKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YVsxXSA9IGNvbnRleHQucmVxdWlyZSgncmluZ28vZW5naW5lJykudmVyc2lvbjtcbiAgICAgICAgICAgIHZlcnNpb24gPSBkYXRhWzFdLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIG5hbWUgPSAnUmluZ29KUyc7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVswXS5nbG9iYWwuc3lzdGVtID09IGNvbnRleHQuc3lzdGVtKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSAnTmFyd2hhbCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIHR5cGVvZiBjb250ZXh0LnByb2Nlc3MgPT0gJ29iamVjdCcgJiYgIWNvbnRleHQucHJvY2Vzcy5icm93c2VyICYmXG4gICAgICAgICAgKGRhdGEgPSBjb250ZXh0LnByb2Nlc3MpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS52ZXJzaW9ucyA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLnZlcnNpb25zLmVsZWN0cm9uID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ05vZGUgJyArIGRhdGEudmVyc2lvbnMubm9kZSk7XG4gICAgICAgICAgICAgIG5hbWUgPSAnRWxlY3Ryb24nO1xuICAgICAgICAgICAgICB2ZXJzaW9uID0gZGF0YS52ZXJzaW9ucy5lbGVjdHJvbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEudmVyc2lvbnMubncgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24ucHVzaCgnQ2hyb21pdW0gJyArIHZlcnNpb24sICdOb2RlICcgKyBkYXRhLnZlcnNpb25zLm5vZGUpO1xuICAgICAgICAgICAgICBuYW1lID0gJ05XLmpzJztcbiAgICAgICAgICAgICAgdmVyc2lvbiA9IGRhdGEudmVyc2lvbnMubnc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSAnTm9kZS5qcyc7XG4gICAgICAgICAgICBhcmNoID0gZGF0YS5hcmNoO1xuICAgICAgICAgICAgb3MgPSBkYXRhLnBsYXRmb3JtO1xuICAgICAgICAgICAgdmVyc2lvbiA9IC9bXFxkLl0rLy5leGVjKGRhdGEudmVyc2lvbilcbiAgICAgICAgICAgIHZlcnNpb24gPSB2ZXJzaW9uID8gdmVyc2lvblswXSA6ICd1bmtub3duJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmhpbm8pIHtcbiAgICAgICAgICBuYW1lID0gJ1JoaW5vJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IEFkb2JlIEFJUi5cbiAgICAgIGVsc2UgaWYgKGdldENsYXNzT2YoKGRhdGEgPSBjb250ZXh0LnJ1bnRpbWUpKSA9PSBhaXJSdW50aW1lQ2xhc3MpIHtcbiAgICAgICAgbmFtZSA9ICdBZG9iZSBBSVInO1xuICAgICAgICBvcyA9IGRhdGEuZmxhc2guc3lzdGVtLkNhcGFiaWxpdGllcy5vcztcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBQaGFudG9tSlMuXG4gICAgICBlbHNlIGlmIChnZXRDbGFzc09mKChkYXRhID0gY29udGV4dC5waGFudG9tKSkgPT0gcGhhbnRvbUNsYXNzKSB7XG4gICAgICAgIG5hbWUgPSAnUGhhbnRvbUpTJztcbiAgICAgICAgdmVyc2lvbiA9IChkYXRhID0gZGF0YS52ZXJzaW9uIHx8IG51bGwpICYmIChkYXRhLm1ham9yICsgJy4nICsgZGF0YS5taW5vciArICcuJyArIGRhdGEucGF0Y2gpO1xuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IElFIGNvbXBhdGliaWxpdHkgbW9kZXMuXG4gICAgICBlbHNlIGlmICh0eXBlb2YgZG9jLmRvY3VtZW50TW9kZSA9PSAnbnVtYmVyJyAmJiAoZGF0YSA9IC9cXGJUcmlkZW50XFwvKFxcZCspL2kuZXhlYyh1YSkpKSB7XG4gICAgICAgIC8vIFdlJ3JlIGluIGNvbXBhdGliaWxpdHkgbW9kZSB3aGVuIHRoZSBUcmlkZW50IHZlcnNpb24gKyA0IGRvZXNuJ3RcbiAgICAgICAgLy8gZXF1YWwgdGhlIGRvY3VtZW50IG1vZGUuXG4gICAgICAgIHZlcnNpb24gPSBbdmVyc2lvbiwgZG9jLmRvY3VtZW50TW9kZV07XG4gICAgICAgIGlmICgoZGF0YSA9ICtkYXRhWzFdICsgNCkgIT0gdmVyc2lvblsxXSkge1xuICAgICAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ0lFICcgKyB2ZXJzaW9uWzFdICsgJyBtb2RlJyk7XG4gICAgICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gPSAnJyk7XG4gICAgICAgICAgdmVyc2lvblsxXSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmVyc2lvbiA9IG5hbWUgPT0gJ0lFJyA/IFN0cmluZyh2ZXJzaW9uWzFdLnRvRml4ZWQoMSkpIDogdmVyc2lvblswXTtcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBJRSAxMSBtYXNraW5nIGFzIG90aGVyIGJyb3dzZXJzLlxuICAgICAgZWxzZSBpZiAodHlwZW9mIGRvYy5kb2N1bWVudE1vZGUgPT0gJ251bWJlcicgJiYgL14oPzpDaHJvbWV8RmlyZWZveClcXGIvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgZGVzY3JpcHRpb24ucHVzaCgnbWFza2luZyBhcyAnICsgbmFtZSArICcgJyArIHZlcnNpb24pO1xuICAgICAgICBuYW1lID0gJ0lFJztcbiAgICAgICAgdmVyc2lvbiA9ICcxMS4wJztcbiAgICAgICAgbGF5b3V0ID0gWydUcmlkZW50J107XG4gICAgICAgIG9zID0gJ1dpbmRvd3MnO1xuICAgICAgfVxuICAgICAgb3MgPSBvcyAmJiBmb3JtYXQob3MpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgcHJlcmVsZWFzZSBwaGFzZXMuXG4gICAgaWYgKHZlcnNpb24gJiYgKGRhdGEgPVxuICAgICAgICAgIC8oPzpbYWJdfGRwfHByZXxbYWJdXFxkK3ByZSkoPzpcXGQrXFwrPyk/JC9pLmV4ZWModmVyc2lvbikgfHxcbiAgICAgICAgICAvKD86YWxwaGF8YmV0YSkoPzogP1xcZCk/L2kuZXhlYyh1YSArICc7JyArICh1c2VGZWF0dXJlcyAmJiBuYXYuYXBwTWlub3JWZXJzaW9uKSkgfHxcbiAgICAgICAgICAvXFxiTWluZWZpZWxkXFxiL2kudGVzdCh1YSkgJiYgJ2EnXG4gICAgICAgICkpIHtcbiAgICAgIHByZXJlbGVhc2UgPSAvYi9pLnRlc3QoZGF0YSkgPyAnYmV0YScgOiAnYWxwaGEnO1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24ucmVwbGFjZShSZWdFeHAoZGF0YSArICdcXFxcKz8kJyksICcnKSArXG4gICAgICAgIChwcmVyZWxlYXNlID09ICdiZXRhJyA/IGJldGEgOiBhbHBoYSkgKyAoL1xcZCtcXCs/Ly5leGVjKGRhdGEpIHx8ICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEZpcmVmb3ggTW9iaWxlLlxuICAgIGlmIChuYW1lID09ICdGZW5uZWMnIHx8IG5hbWUgPT0gJ0ZpcmVmb3gnICYmIC9cXGIoPzpBbmRyb2lkfEZpcmVmb3ggT1MpXFxiLy50ZXN0KG9zKSkge1xuICAgICAgbmFtZSA9ICdGaXJlZm94IE1vYmlsZSc7XG4gICAgfVxuICAgIC8vIE9ic2N1cmUgTWF4dGhvbidzIHVucmVsaWFibGUgdmVyc2lvbi5cbiAgICBlbHNlIGlmIChuYW1lID09ICdNYXh0aG9uJyAmJiB2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gdmVyc2lvbi5yZXBsYWNlKC9cXC5bXFxkLl0rLywgJy54Jyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBYYm94IDM2MCBhbmQgWGJveCBPbmUuXG4gICAgZWxzZSBpZiAoL1xcYlhib3hcXGIvaS50ZXN0KHByb2R1Y3QpKSB7XG4gICAgICBpZiAocHJvZHVjdCA9PSAnWGJveCAzNjAnKSB7XG4gICAgICAgIG9zID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9kdWN0ID09ICdYYm94IDM2MCcgJiYgL1xcYklFTW9iaWxlXFxiLy50ZXN0KHVhKSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdtb2JpbGUgbW9kZScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBZGQgbW9iaWxlIHBvc3RmaXguXG4gICAgZWxzZSBpZiAoKC9eKD86Q2hyb21lfElFfE9wZXJhKSQvLnRlc3QobmFtZSkgfHwgbmFtZSAmJiAhcHJvZHVjdCAmJiAhL0Jyb3dzZXJ8TW9iaS8udGVzdChuYW1lKSkgJiZcbiAgICAgICAgKG9zID09ICdXaW5kb3dzIENFJyB8fCAvTW9iaS9pLnRlc3QodWEpKSkge1xuICAgICAgbmFtZSArPSAnIE1vYmlsZSc7XG4gICAgfVxuICAgIC8vIERldGVjdCBJRSBwbGF0Zm9ybSBwcmV2aWV3LlxuICAgIGVsc2UgaWYgKG5hbWUgPT0gJ0lFJyAmJiB1c2VGZWF0dXJlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGNvbnRleHQuZXh0ZXJuYWwgPT09IG51bGwpIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdwbGF0Zm9ybSBwcmV2aWV3Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdlbWJlZGRlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEZXRlY3QgQmxhY2tCZXJyeSBPUyB2ZXJzaW9uLlxuICAgIC8vIGh0dHA6Ly9kb2NzLmJsYWNrYmVycnkuY29tL2VuL2RldmVsb3BlcnMvZGVsaXZlcmFibGVzLzE4MTY5L0hUVFBfaGVhZGVyc19zZW50X2J5X0JCX0Jyb3dzZXJfMTIzNDkxMV8xMS5qc3BcbiAgICBlbHNlIGlmICgoL1xcYkJsYWNrQmVycnlcXGIvLnRlc3QocHJvZHVjdCkgfHwgL1xcYkJCMTBcXGIvLnRlc3QodWEpKSAmJiAoZGF0YSA9XG4gICAgICAgICAgKFJlZ0V4cChwcm9kdWN0LnJlcGxhY2UoLyArL2csICcgKicpICsgJy8oWy5cXFxcZF0rKScsICdpJykuZXhlYyh1YSkgfHwgMClbMV0gfHxcbiAgICAgICAgICB2ZXJzaW9uXG4gICAgICAgICkpIHtcbiAgICAgIGRhdGEgPSBbZGF0YSwgL0JCMTAvLnRlc3QodWEpXTtcbiAgICAgIG9zID0gKGRhdGFbMV0gPyAocHJvZHVjdCA9IG51bGwsIG1hbnVmYWN0dXJlciA9ICdCbGFja0JlcnJ5JykgOiAnRGV2aWNlIFNvZnR3YXJlJykgKyAnICcgKyBkYXRhWzBdO1xuICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBpZGVudGlmeWluZy9tYXNraW5nIGl0c2VsZiBhcyBhbm90aGVyIGJyb3dzZXIuXG4gICAgLy8gaHR0cDovL3d3dy5vcGVyYS5jb20vc3VwcG9ydC9rYi92aWV3Lzg0My9cbiAgICBlbHNlIGlmICh0aGlzICE9IGZvck93biAmJiBwcm9kdWN0ICE9ICdXaWknICYmIChcbiAgICAgICAgICAodXNlRmVhdHVyZXMgJiYgb3BlcmEpIHx8XG4gICAgICAgICAgKC9PcGVyYS8udGVzdChuYW1lKSAmJiAvXFxiKD86TVNJRXxGaXJlZm94KVxcYi9pLnRlc3QodWEpKSB8fFxuICAgICAgICAgIChuYW1lID09ICdGaXJlZm94JyAmJiAvXFxiT1MgWCAoPzpcXGQrXFwuKXsyLH0vLnRlc3Qob3MpKSB8fFxuICAgICAgICAgIChuYW1lID09ICdJRScgJiYgKFxuICAgICAgICAgICAgKG9zICYmICEvXldpbi8udGVzdChvcykgJiYgdmVyc2lvbiA+IDUuNSkgfHxcbiAgICAgICAgICAgIC9cXGJXaW5kb3dzIFhQXFxiLy50ZXN0KG9zKSAmJiB2ZXJzaW9uID4gOCB8fFxuICAgICAgICAgICAgdmVyc2lvbiA9PSA4ICYmICEvXFxiVHJpZGVudFxcYi8udGVzdCh1YSlcbiAgICAgICAgICApKVxuICAgICAgICApICYmICFyZU9wZXJhLnRlc3QoKGRhdGEgPSBwYXJzZS5jYWxsKGZvck93biwgdWEucmVwbGFjZShyZU9wZXJhLCAnJykgKyAnOycpKSkgJiYgZGF0YS5uYW1lKSB7XG4gICAgICAvLyBXaGVuIFwiaWRlbnRpZnlpbmdcIiwgdGhlIFVBIGNvbnRhaW5zIGJvdGggT3BlcmEgYW5kIHRoZSBvdGhlciBicm93c2VyJ3MgbmFtZS5cbiAgICAgIGRhdGEgPSAnaW5nIGFzICcgKyBkYXRhLm5hbWUgKyAoKGRhdGEgPSBkYXRhLnZlcnNpb24pID8gJyAnICsgZGF0YSA6ICcnKTtcbiAgICAgIGlmIChyZU9wZXJhLnRlc3QobmFtZSkpIHtcbiAgICAgICAgaWYgKC9cXGJJRVxcYi8udGVzdChkYXRhKSAmJiBvcyA9PSAnTWFjIE9TJykge1xuICAgICAgICAgIG9zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gJ2lkZW50aWZ5JyArIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBXaGVuIFwibWFza2luZ1wiLCB0aGUgVUEgY29udGFpbnMgb25seSB0aGUgb3RoZXIgYnJvd3NlcidzIG5hbWUuXG4gICAgICBlbHNlIHtcbiAgICAgICAgZGF0YSA9ICdtYXNrJyArIGRhdGE7XG4gICAgICAgIGlmIChvcGVyYUNsYXNzKSB7XG4gICAgICAgICAgbmFtZSA9IGZvcm1hdChvcGVyYUNsYXNzLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMSAkMicpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0gJ09wZXJhJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoL1xcYklFXFxiLy50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgb3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXNlRmVhdHVyZXMpIHtcbiAgICAgICAgICB2ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGF5b3V0ID0gWydQcmVzdG8nXTtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBXZWJLaXQgTmlnaHRseSBhbmQgYXBwcm94aW1hdGUgQ2hyb21lL1NhZmFyaSB2ZXJzaW9ucy5cbiAgICBpZiAoKGRhdGEgPSAoL1xcYkFwcGxlV2ViS2l0XFwvKFtcXGQuXStcXCs/KS9pLmV4ZWModWEpIHx8IDApWzFdKSkge1xuICAgICAgLy8gQ29ycmVjdCBidWlsZCBudW1iZXIgZm9yIG51bWVyaWMgY29tcGFyaXNvbi5cbiAgICAgIC8vIChlLmcuIFwiNTMyLjVcIiBiZWNvbWVzIFwiNTMyLjA1XCIpXG4gICAgICBkYXRhID0gW3BhcnNlRmxvYXQoZGF0YS5yZXBsYWNlKC9cXC4oXFxkKSQvLCAnLjAkMScpKSwgZGF0YV07XG4gICAgICAvLyBOaWdodGx5IGJ1aWxkcyBhcmUgcG9zdGZpeGVkIHdpdGggYSBcIitcIi5cbiAgICAgIGlmIChuYW1lID09ICdTYWZhcmknICYmIGRhdGFbMV0uc2xpY2UoLTEpID09ICcrJykge1xuICAgICAgICBuYW1lID0gJ1dlYktpdCBOaWdodGx5JztcbiAgICAgICAgcHJlcmVsZWFzZSA9ICdhbHBoYSc7XG4gICAgICAgIHZlcnNpb24gPSBkYXRhWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIGluY29ycmVjdCBicm93c2VyIHZlcnNpb25zLlxuICAgICAgZWxzZSBpZiAodmVyc2lvbiA9PSBkYXRhWzFdIHx8XG4gICAgICAgICAgdmVyc2lvbiA9PSAoZGF0YVsyXSA9ICgvXFxiU2FmYXJpXFwvKFtcXGQuXStcXCs/KS9pLmV4ZWModWEpIHx8IDApWzFdKSkge1xuICAgICAgICB2ZXJzaW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSB0aGUgZnVsbCBDaHJvbWUgdmVyc2lvbiB3aGVuIGF2YWlsYWJsZS5cbiAgICAgIGRhdGFbMV0gPSAoL1xcYkNocm9tZVxcLyhbXFxkLl0rKS9pLmV4ZWModWEpIHx8IDApWzFdO1xuICAgICAgLy8gRGV0ZWN0IEJsaW5rIGxheW91dCBlbmdpbmUuXG4gICAgICBpZiAoZGF0YVswXSA9PSA1MzcuMzYgJiYgZGF0YVsyXSA9PSA1MzcuMzYgJiYgcGFyc2VGbG9hdChkYXRhWzFdKSA+PSAyOCAmJiBsYXlvdXQgPT0gJ1dlYktpdCcpIHtcbiAgICAgICAgbGF5b3V0ID0gWydCbGluayddO1xuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IEphdmFTY3JpcHRDb3JlLlxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NzY4NDc0L2hvdy1jYW4taS1kZXRlY3Qtd2hpY2gtamF2YXNjcmlwdC1lbmdpbmUtdjgtb3ItanNjLWlzLXVzZWQtYXQtcnVudGltZS1pbi1hbmRyb2lcbiAgICAgIGlmICghdXNlRmVhdHVyZXMgfHwgKCFsaWtlQ2hyb21lICYmICFkYXRhWzFdKSkge1xuICAgICAgICBsYXlvdXQgJiYgKGxheW91dFsxXSA9ICdsaWtlIFNhZmFyaScpO1xuICAgICAgICBkYXRhID0gKGRhdGEgPSBkYXRhWzBdLCBkYXRhIDwgNDAwID8gMSA6IGRhdGEgPCA1MDAgPyAyIDogZGF0YSA8IDUyNiA/IDMgOiBkYXRhIDwgNTMzID8gNCA6IGRhdGEgPCA1MzQgPyAnNCsnIDogZGF0YSA8IDUzNSA/IDUgOiBkYXRhIDwgNTM3ID8gNiA6IGRhdGEgPCA1MzggPyA3IDogZGF0YSA8IDYwMSA/IDggOiAnOCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gPSAnbGlrZSBDaHJvbWUnKTtcbiAgICAgICAgZGF0YSA9IGRhdGFbMV0gfHwgKGRhdGEgPSBkYXRhWzBdLCBkYXRhIDwgNTMwID8gMSA6IGRhdGEgPCA1MzIgPyAyIDogZGF0YSA8IDUzMi4wNSA/IDMgOiBkYXRhIDwgNTMzID8gNCA6IGRhdGEgPCA1MzQuMDMgPyA1IDogZGF0YSA8IDUzNC4wNyA/IDYgOiBkYXRhIDwgNTM0LjEwID8gNyA6IGRhdGEgPCA1MzQuMTMgPyA4IDogZGF0YSA8IDUzNC4xNiA/IDkgOiBkYXRhIDwgNTM0LjI0ID8gMTAgOiBkYXRhIDwgNTM0LjMwID8gMTEgOiBkYXRhIDwgNTM1LjAxID8gMTIgOiBkYXRhIDwgNTM1LjAyID8gJzEzKycgOiBkYXRhIDwgNTM1LjA3ID8gMTUgOiBkYXRhIDwgNTM1LjExID8gMTYgOiBkYXRhIDwgNTM1LjE5ID8gMTcgOiBkYXRhIDwgNTM2LjA1ID8gMTggOiBkYXRhIDwgNTM2LjEwID8gMTkgOiBkYXRhIDwgNTM3LjAxID8gMjAgOiBkYXRhIDwgNTM3LjExID8gJzIxKycgOiBkYXRhIDwgNTM3LjEzID8gMjMgOiBkYXRhIDwgNTM3LjE4ID8gMjQgOiBkYXRhIDwgNTM3LjI0ID8gMjUgOiBkYXRhIDwgNTM3LjM2ID8gMjYgOiBsYXlvdXQgIT0gJ0JsaW5rJyA/ICcyNycgOiAnMjgnKTtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCB0aGUgcG9zdGZpeCBvZiBcIi54XCIgb3IgXCIrXCIgZm9yIGFwcHJveGltYXRlIHZlcnNpb25zLlxuICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gKz0gJyAnICsgKGRhdGEgKz0gdHlwZW9mIGRhdGEgPT0gJ251bWJlcicgPyAnLngnIDogL1suK10vLnRlc3QoZGF0YSkgPyAnJyA6ICcrJykpO1xuICAgICAgLy8gT2JzY3VyZSB2ZXJzaW9uIGZvciBzb21lIFNhZmFyaSAxLTIgcmVsZWFzZXMuXG4gICAgICBpZiAobmFtZSA9PSAnU2FmYXJpJyAmJiAoIXZlcnNpb24gfHwgcGFyc2VJbnQodmVyc2lvbikgPiA0NSkpIHtcbiAgICAgICAgdmVyc2lvbiA9IGRhdGE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBkZXNrdG9wIG1vZGVzLlxuICAgIGlmIChuYW1lID09ICdPcGVyYScgJiYgIChkYXRhID0gL1xcYnpib3Z8enZhdiQvLmV4ZWMob3MpKSkge1xuICAgICAgbmFtZSArPSAnICc7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIGlmIChkYXRhID09ICd6dmF2Jykge1xuICAgICAgICBuYW1lICs9ICdNaW5pJztcbiAgICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYW1lICs9ICdNb2JpbGUnO1xuICAgICAgfVxuICAgICAgb3MgPSBvcy5yZXBsYWNlKFJlZ0V4cCgnIConICsgZGF0YSArICckJyksICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IENocm9tZSBkZXNrdG9wIG1vZGUuXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnU2FmYXJpJyAmJiAvXFxiQ2hyb21lXFxiLy5leGVjKGxheW91dCAmJiBsYXlvdXRbMV0pKSB7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIG5hbWUgPSAnQ2hyb21lIE1vYmlsZSc7XG4gICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAgICAgaWYgKC9cXGJPUyBYXFxiLy50ZXN0KG9zKSkge1xuICAgICAgICBtYW51ZmFjdHVyZXIgPSAnQXBwbGUnO1xuICAgICAgICBvcyA9ICdpT1MgNC4zKyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN0cmlwIGluY29ycmVjdCBPUyB2ZXJzaW9ucy5cbiAgICBpZiAodmVyc2lvbiAmJiB2ZXJzaW9uLmluZGV4T2YoKGRhdGEgPSAvW1xcZC5dKyQvLmV4ZWMob3MpKSkgPT0gMCAmJlxuICAgICAgICB1YS5pbmRleE9mKCcvJyArIGRhdGEgKyAnLScpID4gLTEpIHtcbiAgICAgIG9zID0gdHJpbShvcy5yZXBsYWNlKGRhdGEsICcnKSk7XG4gICAgfVxuICAgIC8vIEFkZCBsYXlvdXQgZW5naW5lLlxuICAgIGlmIChsYXlvdXQgJiYgIS9cXGIoPzpBdmFudHxOb29rKVxcYi8udGVzdChuYW1lKSAmJiAoXG4gICAgICAgIC9Ccm93c2VyfEx1bmFzY2FwZXxNYXh0aG9uLy50ZXN0KG5hbWUpIHx8XG4gICAgICAgIG5hbWUgIT0gJ1NhZmFyaScgJiYgL15pT1MvLnRlc3Qob3MpICYmIC9cXGJTYWZhcmlcXGIvLnRlc3QobGF5b3V0WzFdKSB8fFxuICAgICAgICAvXig/OkFkb2JlfEFyb3JhfEJyZWFjaHxNaWRvcml8T3BlcmF8UGhhbnRvbXxSZWtvbnF8Um9ja3xTYW1zdW5nIEludGVybmV0fFNsZWlwbmlyfFdlYikvLnRlc3QobmFtZSkgJiYgbGF5b3V0WzFdKSkge1xuICAgICAgLy8gRG9uJ3QgYWRkIGxheW91dCBkZXRhaWxzIHRvIGRlc2NyaXB0aW9uIGlmIHRoZXkgYXJlIGZhbHNleS5cbiAgICAgIChkYXRhID0gbGF5b3V0W2xheW91dC5sZW5ndGggLSAxXSkgJiYgZGVzY3JpcHRpb24ucHVzaChkYXRhKTtcbiAgICB9XG4gICAgLy8gQ29tYmluZSBjb250ZXh0dWFsIGluZm9ybWF0aW9uLlxuICAgIGlmIChkZXNjcmlwdGlvbi5sZW5ndGgpIHtcbiAgICAgIGRlc2NyaXB0aW9uID0gWycoJyArIGRlc2NyaXB0aW9uLmpvaW4oJzsgJykgKyAnKSddO1xuICAgIH1cbiAgICAvLyBBcHBlbmQgbWFudWZhY3R1cmVyIHRvIGRlc2NyaXB0aW9uLlxuICAgIGlmIChtYW51ZmFjdHVyZXIgJiYgcHJvZHVjdCAmJiBwcm9kdWN0LmluZGV4T2YobWFudWZhY3R1cmVyKSA8IDApIHtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ29uICcgKyBtYW51ZmFjdHVyZXIpO1xuICAgIH1cbiAgICAvLyBBcHBlbmQgcHJvZHVjdCB0byBkZXNjcmlwdGlvbi5cbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaCgoL15vbiAvLnRlc3QoZGVzY3JpcHRpb25bZGVzY3JpcHRpb24ubGVuZ3RoIC0gMV0pID8gJycgOiAnb24gJykgKyBwcm9kdWN0KTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdGhlIE9TIGludG8gYW4gb2JqZWN0LlxuICAgIGlmIChvcykge1xuICAgICAgZGF0YSA9IC8gKFtcXGQuK10rKSQvLmV4ZWMob3MpO1xuICAgICAgaXNTcGVjaWFsQ2FzZWRPUyA9IGRhdGEgJiYgb3MuY2hhckF0KG9zLmxlbmd0aCAtIGRhdGFbMF0ubGVuZ3RoIC0gMSkgPT0gJy8nO1xuICAgICAgb3MgPSB7XG4gICAgICAgICdhcmNoaXRlY3R1cmUnOiAzMixcbiAgICAgICAgJ2ZhbWlseSc6IChkYXRhICYmICFpc1NwZWNpYWxDYXNlZE9TKSA/IG9zLnJlcGxhY2UoZGF0YVswXSwgJycpIDogb3MsXG4gICAgICAgICd2ZXJzaW9uJzogZGF0YSA/IGRhdGFbMV0gOiBudWxsLFxuICAgICAgICAndG9TdHJpbmcnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYW1pbHkgKyAoKHZlcnNpb24gJiYgIWlzU3BlY2lhbENhc2VkT1MpID8gJyAnICsgdmVyc2lvbiA6ICcnKSArICh0aGlzLmFyY2hpdGVjdHVyZSA9PSA2NCA/ICcgNjQtYml0JyA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gQWRkIGJyb3dzZXIvT1MgYXJjaGl0ZWN0dXJlLlxuICAgIGlmICgoZGF0YSA9IC9cXGIoPzpBTUR8SUF8V2lufFdPV3x4ODZffHgpNjRcXGIvaS5leGVjKGFyY2gpKSAmJiAhL1xcYmk2ODZcXGIvaS50ZXN0KGFyY2gpKSB7XG4gICAgICBpZiAob3MpIHtcbiAgICAgICAgb3MuYXJjaGl0ZWN0dXJlID0gNjQ7XG4gICAgICAgIG9zLmZhbWlseSA9IG9zLmZhbWlseS5yZXBsYWNlKFJlZ0V4cCgnIConICsgZGF0YSksICcnKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgICBuYW1lICYmICgvXFxiV09XNjRcXGIvaS50ZXN0KHVhKSB8fFxuICAgICAgICAgICh1c2VGZWF0dXJlcyAmJiAvXFx3KD86ODZ8MzIpJC8udGVzdChuYXYuY3B1Q2xhc3MgfHwgbmF2LnBsYXRmb3JtKSAmJiAhL1xcYldpbjY0OyB4NjRcXGIvaS50ZXN0KHVhKSkpXG4gICAgICApIHtcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnMzItYml0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENocm9tZSAzOSBhbmQgYWJvdmUgb24gT1MgWCBpcyBhbHdheXMgNjQtYml0LlxuICAgIGVsc2UgaWYgKFxuICAgICAgICBvcyAmJiAvXk9TIFgvLnRlc3Qob3MuZmFtaWx5KSAmJlxuICAgICAgICBuYW1lID09ICdDaHJvbWUnICYmIHBhcnNlRmxvYXQodmVyc2lvbikgPj0gMzlcbiAgICApIHtcbiAgICAgIG9zLmFyY2hpdGVjdHVyZSA9IDY0O1xuICAgIH1cblxuICAgIHVhIHx8ICh1YSA9IG51bGwpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBsYXRmb3JtIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYXRmb3JtXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgdmFyIHBsYXRmb3JtID0ge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGxhdGZvcm0gZGVzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLmRlc2NyaXB0aW9uID0gdWE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYnJvd3NlcidzIGxheW91dCBlbmdpbmUuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gbGF5b3V0IGVuZ2luZXMgaW5jbHVkZTpcbiAgICAgKiBcIkJsaW5rXCIsIFwiRWRnZUhUTUxcIiwgXCJHZWNrb1wiLCBcIlRyaWRlbnRcIiBhbmQgXCJXZWJLaXRcIlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5sYXlvdXQgPSBsYXlvdXQgJiYgbGF5b3V0WzBdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb2R1Y3QncyBtYW51ZmFjdHVyZXIuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBtYW51ZmFjdHVyZXJzIGluY2x1ZGU6XG4gICAgICogXCJBcHBsZVwiLCBcIkFyY2hvc1wiLCBcIkFtYXpvblwiLCBcIkFzdXNcIiwgXCJCYXJuZXMgJiBOb2JsZVwiLCBcIkJsYWNrQmVycnlcIixcbiAgICAgKiBcIkdvb2dsZVwiLCBcIkhQXCIsIFwiSFRDXCIsIFwiTEdcIiwgXCJNaWNyb3NvZnRcIiwgXCJNb3Rvcm9sYVwiLCBcIk5pbnRlbmRvXCIsXG4gICAgICogXCJOb2tpYVwiLCBcIlNhbXN1bmdcIiBhbmQgXCJTb255XCJcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIHN0cmluZ3xudWxsXG4gICAgICovXG4gICAgcGxhdGZvcm0ubWFudWZhY3R1cmVyID0gbWFudWZhY3R1cmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGJyb3dzZXIvZW52aXJvbm1lbnQuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gYnJvd3NlciBuYW1lcyBpbmNsdWRlOlxuICAgICAqIFwiQ2hyb21lXCIsIFwiRWxlY3Ryb25cIiwgXCJGaXJlZm94XCIsIFwiRmlyZWZveCBmb3IgaU9TXCIsIFwiSUVcIixcbiAgICAgKiBcIk1pY3Jvc29mdCBFZGdlXCIsIFwiUGhhbnRvbUpTXCIsIFwiU2FmYXJpXCIsIFwiU2VhTW9ua2V5XCIsIFwiU2lsa1wiLFxuICAgICAqIFwiT3BlcmEgTWluaVwiIGFuZCBcIk9wZXJhXCJcbiAgICAgKlxuICAgICAqIE1vYmlsZSB2ZXJzaW9ucyBvZiBzb21lIGJyb3dzZXJzIGhhdmUgXCJNb2JpbGVcIiBhcHBlbmRlZCB0byB0aGVpciBuYW1lOlxuICAgICAqIGVnLiBcIkNocm9tZSBNb2JpbGVcIiwgXCJGaXJlZm94IE1vYmlsZVwiLCBcIklFIE1vYmlsZVwiIGFuZCBcIk9wZXJhIE1vYmlsZVwiXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLm5hbWUgPSBuYW1lO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFscGhhL2JldGEgcmVsZWFzZSBpbmRpY2F0b3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLnByZXJlbGVhc2UgPSBwcmVyZWxlYXNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb2R1Y3QgaG9zdGluZyB0aGUgYnJvd3Nlci5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGNvbW1vbiBwcm9kdWN0cyBpbmNsdWRlOlxuICAgICAqXG4gICAgICogXCJCbGFja0JlcnJ5XCIsIFwiR2FsYXh5IFM0XCIsIFwiTHVtaWFcIiwgXCJpUGFkXCIsIFwiaVBvZFwiLCBcImlQaG9uZVwiLCBcIktpbmRsZVwiLFxuICAgICAqIFwiS2luZGxlIEZpcmVcIiwgXCJOZXh1c1wiLCBcIk5vb2tcIiwgXCJQbGF5Qm9va1wiLCBcIlRvdWNoUGFkXCIgYW5kIFwiVHJhbnNmb3JtZXJcIlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5wcm9kdWN0ID0gcHJvZHVjdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBicm93c2VyJ3MgdXNlciBhZ2VudCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLnVhID0gdWE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYnJvd3Nlci9lbnZpcm9ubWVudCB2ZXJzaW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS52ZXJzaW9uID0gbmFtZSAmJiB2ZXJzaW9uO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5vcyA9IG9zIHx8IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgQ1BVIGFyY2hpdGVjdHVyZSB0aGUgT1MgaXMgYnVpbHQgZm9yLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHR5cGUgbnVtYmVyfG51bGxcbiAgICAgICAqL1xuICAgICAgJ2FyY2hpdGVjdHVyZSc6IG51bGwsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGZhbWlseSBvZiB0aGUgT1MuXG4gICAgICAgKlxuICAgICAgICogQ29tbW9uIHZhbHVlcyBpbmNsdWRlOlxuICAgICAgICogXCJXaW5kb3dzXCIsIFwiV2luZG93cyBTZXJ2ZXIgMjAwOCBSMiAvIDdcIiwgXCJXaW5kb3dzIFNlcnZlciAyMDA4IC8gVmlzdGFcIixcbiAgICAgICAqIFwiV2luZG93cyBYUFwiLCBcIk9TIFhcIiwgXCJVYnVudHVcIiwgXCJEZWJpYW5cIiwgXCJGZWRvcmFcIiwgXCJSZWQgSGF0XCIsIFwiU3VTRVwiLFxuICAgICAgICogXCJBbmRyb2lkXCIsIFwiaU9TXCIgYW5kIFwiV2luZG93cyBQaG9uZVwiXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIHBsYXRmb3JtLm9zXG4gICAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAgICovXG4gICAgICAnZmFtaWx5JzogbnVsbCxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgT1MuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIHBsYXRmb3JtLm9zXG4gICAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAgICovXG4gICAgICAndmVyc2lvbic6IG51bGwsXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgT1Mgc3RyaW5nLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIE9TIHN0cmluZy5cbiAgICAgICAqL1xuICAgICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oKSB7IHJldHVybiAnbnVsbCc7IH1cbiAgICB9O1xuXG4gICAgcGxhdGZvcm0ucGFyc2UgPSBwYXJzZTtcbiAgICBwbGF0Zm9ybS50b1N0cmluZyA9IHRvU3RyaW5nUGxhdGZvcm07XG5cbiAgICBpZiAocGxhdGZvcm0udmVyc2lvbikge1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCh2ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKHBsYXRmb3JtLm5hbWUpIHtcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQobmFtZSk7XG4gICAgfVxuICAgIGlmIChvcyAmJiBuYW1lICYmICEob3MgPT0gU3RyaW5nKG9zKS5zcGxpdCgnICcpWzBdICYmIChvcyA9PSBuYW1lLnNwbGl0KCcgJylbMF0gfHwgcHJvZHVjdCkpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKHByb2R1Y3QgPyAnKCcgKyBvcyArICcpJyA6ICdvbiAnICsgb3MpO1xuICAgIH1cbiAgICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoKSB7XG4gICAgICBwbGF0Zm9ybS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IHBsYXRmb3JtLlxuICB2YXIgcGxhdGZvcm0gPSBwYXJzZSgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlIHRoZSBmb2xsb3dpbmc6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBwbGF0Zm9ybSBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIHBsYXRmb3JtIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIHJvb3QucGxhdGZvcm0gPSBwbGF0Zm9ybTtcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvIHBsYXRmb3JtIGNhbiBiZSBhbGlhc2VkIHRocm91Z2ggcGF0aCBtYXBwaW5nLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwbGF0Zm9ybTtcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBhbiBgZXhwb3J0c2Agb2JqZWN0LlxuICBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZvck93bihwbGF0Zm9ybSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgZnJlZUV4cG9ydHNba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290LnBsYXRmb3JtID0gcGxhdGZvcm07XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iXX0=","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-call.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-call.js","source":"// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","deps":{"./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js","source":"var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","deps":{"./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_library":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","source":"var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_uid":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js","./_shared":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","source":"var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_species-constructor.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_species-constructor.js","source":"// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","deps":{"./_a-function":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js","source":"// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","deps":{"./_to-integer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","source":"// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","deps":{"./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","source":"// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","deps":{"./_defined":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js","./_iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.iterator.js","source":"'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","deps":{"./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js","./_add-to-unscopables":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_add-to-unscopables.js","./_iter-step":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-step.js","./_iter-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js","./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array-iter.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array-iter.js","source":"// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","deps":{"./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js","source":"var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","deps":{"./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js","./_classof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js","source":"var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","deps":{"./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_to-length":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js","./_iter-call":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-call.js","./_is-array-iter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array-iter.js","./core.get-iterator-method":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine.js","source":"module.exports = require('./_hide');\n","deps":{"./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_html.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_html.js","source":"var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js","source":"var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_task.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_task.js","source":"var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","deps":{"./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_cof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_invoke":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_invoke.js","./_dom-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js","./_html":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_html.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.promise.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.promise.js","source":"'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_a-function":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js","./_library":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","./_species-constructor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_species-constructor.js","./_new-promise-capability":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js","./_perform":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_perform.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_an-instance":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js","./_promise-resolve":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_promise-resolve.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_classof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js","./_microtask":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_microtask.js","./_user-agent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_user-agent.js","./_set-species":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-species.js","./_redefine-all":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js","./_iter-detect":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-detect.js","./_set-to-string-tag":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","./_for-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js","./_task":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_task.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.create.js","source":"var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_object-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/create.js","source":"require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/create.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","deps":{"core-js/library/fn/object/create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.define-property.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.define-property.js","source":"var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/define-property.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/define-property.js","source":"require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.define-property":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.define-property.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/define-property.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/define-property.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","deps":{"core-js/library/fn/object/define-property":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/define-property.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js","source":"// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","deps":{"./_cof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","source":"// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","deps":{"./_defined":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","source":"var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","deps":{"./_property-desc":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/on.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/on.js","source":"\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js","source":"// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","deps":{"./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","source":"// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","deps":{"./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_object-gpo":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gpo.js","./_object-sap":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-prototype-of.js","source":"require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","deps":{"core-js/library/fn/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _InputModule2 = require('./InputModule');\n\nvar _InputModule3 = _interopRequireDefault(_InputModule2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * `DOMEventSubmodule` class.\n * The `DOMEventSubmodule` class allows to instantiate modules that provide\n * unified values (such as `AccelerationIncludingGravity`, `Acceleration`,\n * `RotationRate`, `Orientation`, `OrientationAlt) from the `devicemotion`\n * or `deviceorientation` DOM events.\n *\n * @class DOMEventSubmodule\n * @extends InputModule\n */\nvar DOMEventSubmodule = function (_InputModule) {\n  _inherits(DOMEventSubmodule, _InputModule);\n\n  /**\n   * Creates a `DOMEventSubmodule` module instance.\n   *\n   * @constructor\n   * @param {DeviceMotionModule|DeviceOrientationModule} DOMEventModule - The parent DOM event module.\n   * @param {string} eventType - The name of the submodule / event (*e.g.* 'acceleration' or 'orientationAlt').\n   * @see DeviceMotionModule\n   * @see DeviceOrientationModule\n   */\n  function DOMEventSubmodule(DOMEventModule, eventType) {\n    _classCallCheck(this, DOMEventSubmodule);\n\n    /**\n     * The DOM event parent module from which this module gets the raw values.\n     *\n     * @this DOMEventSubmodule\n     * @type {DeviceMotionModule|DeviceOrientationModule}\n     * @constant\n     */\n    var _this = _possibleConstructorReturn(this, (DOMEventSubmodule.__proto__ || Object.getPrototypeOf(DOMEventSubmodule)).call(this, eventType));\n\n    _this.DOMEventModule = DOMEventModule;\n\n    /**\n     * Raw values coming from the `devicemotion` event sent by this module.\n     *\n     * @this DOMEventSubmodule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this.event = [0, 0, 0];\n\n    /**\n     * Compass heading reference (iOS devices only, `Orientation` and `OrientationAlt` submodules only).\n     *\n     * @this DOMEventSubmodule\n     * @type {number}\n     * @default null\n     */\n    _this._webkitCompassHeadingReference = null;\n    return _this;\n  }\n\n  /**\n   * Initializes of the module.\n   *\n   * @return {Promise}\n   */\n\n\n  _createClass(DOMEventSubmodule, [{\n    key: 'init',\n    value: function init() {\n      var _this2 = this;\n\n      // Indicate to the parent module that this event is required\n      this.DOMEventModule.required[this.eventType] = true;\n\n      // If the parent event has not been initialized yet, initialize it\n      var DOMEventPromise = this.DOMEventModule.promise;\n      if (!DOMEventPromise) DOMEventPromise = this.DOMEventModule.init();\n\n      return DOMEventPromise.then(function (module) {\n        return _this2;\n      });\n    }\n  }]);\n\n  return DOMEventSubmodule;\n}(_InputModule3.default);\n\nexports.default = DOMEventSubmodule;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRPTUV2ZW50U3VibW9kdWxlLmpzIl0sIm5hbWVzIjpbIkRPTUV2ZW50U3VibW9kdWxlIiwiRE9NRXZlbnRNb2R1bGUiLCJldmVudFR5cGUiLCJldmVudCIsIl93ZWJraXRDb21wYXNzSGVhZGluZ1JlZmVyZW5jZSIsInJlcXVpcmVkIiwiRE9NRXZlbnRQcm9taXNlIiwicHJvbWlzZSIsImluaXQiLCJ0aGVuIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7OztJQVVNQSxpQjs7O0FBRUo7Ozs7Ozs7OztBQVNBLDZCQUFZQyxjQUFaLEVBQTRCQyxTQUE1QixFQUF1QztBQUFBOztBQUdyQzs7Ozs7OztBQUhxQyxzSUFDL0JBLFNBRCtCOztBQVVyQyxVQUFLRCxjQUFMLEdBQXNCQSxjQUF0Qjs7QUFFQTs7Ozs7OztBQU9BLFVBQUtFLEtBQUwsR0FBYSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUFiOztBQUVBOzs7Ozs7O0FBT0EsVUFBS0MsOEJBQUwsR0FBc0MsSUFBdEM7QUE1QnFDO0FBNkJ0Qzs7QUFFRDs7Ozs7Ozs7OzJCQUtPO0FBQUE7O0FBQ0w7QUFDQSxXQUFLSCxjQUFMLENBQW9CSSxRQUFwQixDQUE2QixLQUFLSCxTQUFsQyxJQUErQyxJQUEvQzs7QUFFQTtBQUNBLFVBQUlJLGtCQUFrQixLQUFLTCxjQUFMLENBQW9CTSxPQUExQztBQUNBLFVBQUksQ0FBQ0QsZUFBTCxFQUNFQSxrQkFBa0IsS0FBS0wsY0FBTCxDQUFvQk8sSUFBcEIsRUFBbEI7O0FBRUYsYUFBT0YsZ0JBQWdCRyxJQUFoQixDQUFxQixVQUFDQyxNQUFEO0FBQUE7QUFBQSxPQUFyQixDQUFQO0FBQ0Q7Ozs7OztrQkFHWVYsaUIiLCJmaWxlIjoiRE9NRXZlbnRTdWJtb2R1bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW5wdXRNb2R1bGUgZnJvbSAnLi9JbnB1dE1vZHVsZSc7XG5cbi8qKlxuICogYERPTUV2ZW50U3VibW9kdWxlYCBjbGFzcy5cbiAqIFRoZSBgRE9NRXZlbnRTdWJtb2R1bGVgIGNsYXNzIGFsbG93cyB0byBpbnN0YW50aWF0ZSBtb2R1bGVzIHRoYXQgcHJvdmlkZVxuICogdW5pZmllZCB2YWx1ZXMgKHN1Y2ggYXMgYEFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgLCBgQWNjZWxlcmF0aW9uYCxcbiAqIGBSb3RhdGlvblJhdGVgLCBgT3JpZW50YXRpb25gLCBgT3JpZW50YXRpb25BbHQpIGZyb20gdGhlIGBkZXZpY2Vtb3Rpb25gXG4gKiBvciBgZGV2aWNlb3JpZW50YXRpb25gIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzIERPTUV2ZW50U3VibW9kdWxlXG4gKiBAZXh0ZW5kcyBJbnB1dE1vZHVsZVxuICovXG5jbGFzcyBET01FdmVudFN1Ym1vZHVsZSBleHRlbmRzIElucHV0TW9kdWxlIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGBET01FdmVudFN1Ym1vZHVsZWAgbW9kdWxlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtEZXZpY2VNb3Rpb25Nb2R1bGV8RGV2aWNlT3JpZW50YXRpb25Nb2R1bGV9IERPTUV2ZW50TW9kdWxlIC0gVGhlIHBhcmVudCBET00gZXZlbnQgbW9kdWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gVGhlIG5hbWUgb2YgdGhlIHN1Ym1vZHVsZSAvIGV2ZW50ICgqZS5nLiogJ2FjY2VsZXJhdGlvbicgb3IgJ29yaWVudGF0aW9uQWx0JykuXG4gICAqIEBzZWUgRGV2aWNlTW90aW9uTW9kdWxlXG4gICAqIEBzZWUgRGV2aWNlT3JpZW50YXRpb25Nb2R1bGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKERPTUV2ZW50TW9kdWxlLCBldmVudFR5cGUpIHtcbiAgICBzdXBlcihldmVudFR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBldmVudCBwYXJlbnQgbW9kdWxlIGZyb20gd2hpY2ggdGhpcyBtb2R1bGUgZ2V0cyB0aGUgcmF3IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEB0aGlzIERPTUV2ZW50U3VibW9kdWxlXG4gICAgICogQHR5cGUge0RldmljZU1vdGlvbk1vZHVsZXxEZXZpY2VPcmllbnRhdGlvbk1vZHVsZX1cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICB0aGlzLkRPTUV2ZW50TW9kdWxlID0gRE9NRXZlbnRNb2R1bGU7XG5cbiAgICAvKipcbiAgICAgKiBSYXcgdmFsdWVzIGNvbWluZyBmcm9tIHRoZSBgZGV2aWNlbW90aW9uYCBldmVudCBzZW50IGJ5IHRoaXMgbW9kdWxlLlxuICAgICAqXG4gICAgICogQHRoaXMgRE9NRXZlbnRTdWJtb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzAsIDAsIDBdXG4gICAgICovXG4gICAgdGhpcy5ldmVudCA9IFswLCAwLCAwXTtcblxuICAgIC8qKlxuICAgICAqIENvbXBhc3MgaGVhZGluZyByZWZlcmVuY2UgKGlPUyBkZXZpY2VzIG9ubHksIGBPcmllbnRhdGlvbmAgYW5kIGBPcmllbnRhdGlvbkFsdGAgc3VibW9kdWxlcyBvbmx5KS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERPTUV2ZW50U3VibW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgdGhpcy5fd2Via2l0Q29tcGFzc0hlYWRpbmdSZWZlcmVuY2UgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIG9mIHRoZSBtb2R1bGUuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBpbml0KCkge1xuICAgIC8vIEluZGljYXRlIHRvIHRoZSBwYXJlbnQgbW9kdWxlIHRoYXQgdGhpcyBldmVudCBpcyByZXF1aXJlZFxuICAgIHRoaXMuRE9NRXZlbnRNb2R1bGUucmVxdWlyZWRbdGhpcy5ldmVudFR5cGVdID0gdHJ1ZTtcblxuICAgIC8vIElmIHRoZSBwYXJlbnQgZXZlbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldCwgaW5pdGlhbGl6ZSBpdFxuICAgIGxldCBET01FdmVudFByb21pc2UgPSB0aGlzLkRPTUV2ZW50TW9kdWxlLnByb21pc2U7XG4gICAgaWYgKCFET01FdmVudFByb21pc2UpXG4gICAgICBET01FdmVudFByb21pc2UgPSB0aGlzLkRPTUV2ZW50TW9kdWxlLmluaXQoKTtcblxuICAgIHJldHVybiBET01FdmVudFByb21pc2UudGhlbigobW9kdWxlKSA9PiB0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBET01FdmVudFN1Ym1vZHVsZTtcbiJdfQ==","deps":{"./InputModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceMotionModule.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceMotionModule.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _InputModule2 = require('./InputModule');\n\nvar _InputModule3 = _interopRequireDefault(_InputModule2);\n\nvar _DOMEventSubmodule = require('./DOMEventSubmodule');\n\nvar _DOMEventSubmodule2 = _interopRequireDefault(_DOMEventSubmodule);\n\nvar _MotionInput = require('./MotionInput');\n\nvar _MotionInput2 = _interopRequireDefault(_MotionInput);\n\nvar _platform = require('platform');\n\nvar _platform2 = _interopRequireDefault(_platform);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Gets the current local time in seconds.\n * Uses `window.performance.now()` if available, and `Date.now()` otherwise.\n *\n * @return {number}\n */\nfunction getLocalTime() {\n  if (window.performance) return window.performance.now() / 1000;\n  return Date.now() / 1000;\n}\n\nvar chromeRegExp = /Chrome/;\nvar toDeg = 180 / Math.PI;\n\n/**\n * `DeviceMotion` module singleton.\n * The `DeviceMotionModule` singleton provides the raw values\n * of the acceleration including gravity, acceleration, and rotation\n * rate provided by the `DeviceMotion` event.\n * It also instantiate the `AccelerationIncludingGravity`,\n * `Acceleration` and `RotationRate` submodules that unify those values\n * across platforms by making them compliant with {@link\n * http://www.w3.org/TR/orientation-event/|the W3C standard}.\n * When raw values are not provided by the sensors, this modules tries\n * to recalculate them from available values:\n * - `acceleration` is calculated from `accelerationIncludingGravity`\n *   with a high-pass filter;\n * - (coming soon — waiting for a bug on Chrome to be resolved)\n *   `rotationRate` is calculated from `orientation`.\n *\n * @class DeviceMotionModule\n * @extends InputModule\n */\n\nvar DeviceMotionModule = function (_InputModule) {\n  _inherits(DeviceMotionModule, _InputModule);\n\n  /**\n   * Creates the `DeviceMotion` module instance.\n   *\n   * @constructor\n   */\n  function DeviceMotionModule() {\n    _classCallCheck(this, DeviceMotionModule);\n\n    /**\n     * Raw values coming from the `devicemotion` event sent by this module.\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [null, null, null, null, null, null, null, null, null]\n     */\n    var _this = _possibleConstructorReturn(this, (DeviceMotionModule.__proto__ || Object.getPrototypeOf(DeviceMotionModule)).call(this, 'devicemotion'));\n\n    _this.event = [null, null, null, null, null, null, null, null, null];\n\n    /**\n     * The `AccelerationIncludingGravity` module.\n     * Provides unified values of the acceleration including gravity.\n     *\n     * @this DeviceMotionModule\n     * @type {DOMEventSubmodule}\n     */\n    _this.accelerationIncludingGravity = new _DOMEventSubmodule2.default(_this, 'accelerationIncludingGravity');\n\n    /**\n     * The `Acceleration` submodule.\n     * Provides unified values of the acceleration.\n     * Estimates the acceleration values from `accelerationIncludingGravity`\n     * raw values if the acceleration raw values are not available on the\n     * device.\n     *\n     * @this DeviceMotionModule\n     * @type {DOMEventSubmodule}\n     */\n    _this.acceleration = new _DOMEventSubmodule2.default(_this, 'acceleration');\n\n    /**\n     * The `RotationRate` submodule.\n     * Provides unified values of the rotation rate.\n     * (coming soon, waiting for a bug on Chrome to be resolved)\n     * Estimates the rotation rate values from `orientation` values if\n     * the rotation rate raw values are not available on the device.\n     *\n     * @this DeviceMotionModule\n     * @type {DOMEventSubmodule}\n     */\n    _this.rotationRate = new _DOMEventSubmodule2.default(_this, 'rotationRate');\n\n    /**\n     * Required submodules / events.\n     *\n     * @this DeviceMotionModule\n     * @type {object}\n     * @property {bool} accelerationIncludingGravity - Indicates whether the `accelerationIncludingGravity` unified values are required or not (defaults to `false`).\n     * @property {bool} acceleration - Indicates whether the `acceleration` unified values are required or not (defaults to `false`).\n     * @property {bool} rotationRate - Indicates whether the `rotationRate` unified values are required or not (defaults to `false`).\n     */\n    _this.required = {\n      accelerationIncludingGravity: false,\n      acceleration: false,\n      rotationRate: false\n    };\n\n    /**\n     * Resolve function of the module's promise.\n     *\n     * @this DeviceMotionModule\n     * @type {function}\n     * @default null\n     * @see DeviceMotionModule#init\n     */\n    _this._promiseResolve = null;\n\n    /**\n     * Unifying factor of the motion data values (`1` on Android, `-1` on iOS).\n     *\n     * @this DeviceMotionModule\n     * @type {number}\n     */\n    _this._unifyMotionData = _platform2.default.os.family === 'iOS' ? -1 : 1;\n\n    /**\n     * Unifying factor of the period (`1` on Android, `1` on iOS). in sec\n     * @todo - unify with e.interval specification (in ms) ?\n     *\n     * @this DeviceMotionModule\n     * @type {number}\n     */\n    _this._unifyPeriod = _platform2.default.os.family === 'Android' ? 0.001 : 1;\n\n    /**\n     * Acceleration calculated from the `accelerationIncludingGravity` raw values.\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._calculatedAcceleration = [0, 0, 0];\n\n    /**\n     * Time constant (half-life) of the high-pass filter used to smooth the acceleration values calculated from the acceleration including gravity raw values (in seconds).\n     *\n     * @this DeviceMotionModule\n     * @type {number}\n     * @default 0.1\n     * @constant\n     */\n    _this._calculatedAccelerationTimeConstant = 0.1;\n\n    /**\n     * Latest `accelerationIncludingGravity` raw value, used in the high-pass filter to calculate the acceleration (if the `acceleration` values are not provided by `'devicemotion'`).\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._lastAccelerationIncludingGravity = [0, 0, 0];\n\n    /**\n     * Rotation rate calculated from the orientation values.\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._calculatedRotationRate = [0, 0, 0];\n\n    /**\n     * Latest orientation value, used to calculate the rotation rate  (if the `rotationRate` values are not provided by `'devicemotion'`).\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._lastOrientation = [0, 0, 0];\n\n    /**\n     * Latest orientation timestamps, used to calculate the rotation rate (if the `rotationRate` values are not provided by `'devicemotion'`).\n     *\n     * @this DeviceMotionModule\n     * @type {number[]}\n     * @default [0, 0, 0]\n     */\n    _this._lastOrientationTimestamp = null;\n\n    _this._processFunction = null;\n    _this._process = _this._process.bind(_this);\n    _this._devicemotionCheck = _this._devicemotionCheck.bind(_this);\n    _this._devicemotionListener = _this._devicemotionListener.bind(_this);\n\n    _this._checkCounter = 0;\n    return _this;\n  }\n\n  /**\n   * Decay factor of the high-pass filter used to calculate the acceleration from the `accelerationIncludingGravity` raw values.\n   *\n   * @type {number}\n   * @readonly\n   */\n\n\n  _createClass(DeviceMotionModule, [{\n    key: '_devicemotionCheck',\n\n\n    /**\n     * Sensor check on initialization of the module.\n     * This method:\n     * - checks whether the `accelerationIncludingGravity`, the `acceleration`,\n     *   and the `rotationRate` values are valid or not;\n     * - gets the period of the `'devicemotion'` event and sets the period of\n     *   the `AccelerationIncludingGravity`, `Acceleration`, and `RotationRate`\n     *   submodules;\n     * - (in the case where acceleration raw values are not provided)\n     *   indicates whether the acceleration can be calculated from the\n     *   `accelerationIncludingGravity` unified values or not.\n     *\n     * @param {DeviceMotionEvent} e - The first `'devicemotion'` event caught.\n     */\n    value: function _devicemotionCheck(e) {\n      // clear timeout (anti-Firefox bug solution, window event deviceorientation being nver called)\n      // set the set timeout in init() function\n      clearTimeout(this._checkTimeoutId);\n\n      this.isProvided = true;\n      this.period = e.interval / 1000;\n      this.interval = e.interval;\n\n      // Sensor availability for the acceleration including gravity\n      this.accelerationIncludingGravity.isProvided = e.accelerationIncludingGravity && typeof e.accelerationIncludingGravity.x === 'number' && typeof e.accelerationIncludingGravity.y === 'number' && typeof e.accelerationIncludingGravity.z === 'number';\n      this.accelerationIncludingGravity.period = e.interval * this._unifyPeriod;\n\n      // Sensor availability for the acceleration\n      this.acceleration.isProvided = e.acceleration && typeof e.acceleration.x === 'number' && typeof e.acceleration.y === 'number' && typeof e.acceleration.z === 'number';\n      this.acceleration.period = e.interval * this._unifyPeriod;\n\n      // Sensor availability for the rotation rate\n      this.rotationRate.isProvided = e.rotationRate && typeof e.rotationRate.alpha === 'number' && typeof e.rotationRate.beta === 'number' && typeof e.rotationRate.gamma === 'number';\n      this.rotationRate.period = e.interval * this._unifyPeriod;\n\n      // in firefox android, accelerationIncludingGravity retrieve null values\n      // on the first callback. so wait a second call to be sure.\n      if (_platform2.default.os.family === 'Android' && /Firefox/.test(_platform2.default.name) && this._checkCounter < 1) {\n        this._checkCounter++;\n      } else {\n        // now that the sensors are checked, replace the process function with\n        // the final listener\n        this._processFunction = this._devicemotionListener;\n\n        // if acceleration is not provided by raw sensors, indicate whether it\n        // can be calculated with `accelerationincludinggravity` or not\n        if (!this.acceleration.isProvided) this.acceleration.isCalculated = this.accelerationIncludingGravity.isProvided;\n\n        // WARNING\n        // The lines of code below are commented because of a bug of Chrome\n        // on some Android devices, where 'devicemotion' events are not sent\n        // or caught if the listener is set up after a 'deviceorientation'\n        // listener. Here, the _tryOrientationFallback method would add a\n        // 'deviceorientation' listener and block all subsequent 'devicemotion'\n        // events on these devices. Comments will be removed once the bug of\n        // Chrome is corrected.\n\n        // if (this.required.rotationRate && !this.rotationRate.isProvided)\n        //   this._tryOrientationFallback();\n        // else\n        this._promiseResolve(this);\n      }\n    }\n\n    /**\n     * `'devicemotion'` event callback.\n     * This method emits an event with the raw `'devicemotion'` values, and emits\n     * events with the unified `accelerationIncludingGravity`, `acceleration`,\n     * and / or `rotationRate` values if they are required.\n     *\n     * @param {DeviceMotionEvent} e - `'devicemotion'` event the values are calculated from.\n     */\n\n  }, {\n    key: '_devicemotionListener',\n    value: function _devicemotionListener(e) {\n      // 'devicemotion' event (raw values)\n      if (this.listeners.size > 0) this._emitDeviceMotionEvent(e);\n\n      // alert(`${this.accelerationIncludingGravity.listeners.size} -\n      //     ${this.required.accelerationIncludingGravity} -\n      //     ${this.accelerationIncludingGravity.isValid}\n      // `);\n\n      // 'acceleration' event (unified values)\n      if (this.accelerationIncludingGravity.listeners.size > 0 && this.required.accelerationIncludingGravity && this.accelerationIncludingGravity.isValid) {\n        this._emitAccelerationIncludingGravityEvent(e);\n      }\n\n      // 'accelerationIncludingGravity' event (unified values)\n      // the fallback calculation of the acceleration happens in the\n      //  `_emitAcceleration` method, so we check if this.acceleration.isValid\n      if (this.acceleration.listeners.size > 0 && this.required.acceleration && this.acceleration.isValid) {\n        this._emitAccelerationEvent(e);\n      }\n\n      // 'rotationRate' event (unified values)\n      // the fallback calculation of the rotation rate does NOT happen in the\n      // `_emitRotationRate` method, so we only check if this.rotationRate.isProvided\n      if (this.rotationRate.listeners.size > 0 && this.required.rotationRate && this.rotationRate.isProvided) {\n        this._emitRotationRateEvent(e);\n      }\n    }\n\n    /**\n     * Emits the `'devicemotion'` raw values.\n     *\n     * @param {DeviceMotionEvent} e - `'devicemotion'` event the values are calculated from.\n     */\n\n  }, {\n    key: '_emitDeviceMotionEvent',\n    value: function _emitDeviceMotionEvent(e) {\n      var outEvent = this.event;\n\n      if (e.accelerationIncludingGravity) {\n        outEvent[0] = e.accelerationIncludingGravity.x;\n        outEvent[1] = e.accelerationIncludingGravity.y;\n        outEvent[2] = e.accelerationIncludingGravity.z;\n      }\n\n      if (e.acceleration) {\n        outEvent[3] = e.acceleration.x;\n        outEvent[4] = e.acceleration.y;\n        outEvent[5] = e.acceleration.z;\n      }\n\n      if (e.rotationRate) {\n        outEvent[6] = e.rotationRate.alpha;\n        outEvent[7] = e.rotationRate.beta;\n        outEvent[8] = e.rotationRate.gamma;\n      }\n\n      this.emit(outEvent);\n    }\n\n    /**\n     * Emits the `accelerationIncludingGravity` unified values.\n     *\n     * @param {DeviceMotionEvent} e - `'devicemotion'` event the values are calculated from.\n     */\n\n  }, {\n    key: '_emitAccelerationIncludingGravityEvent',\n    value: function _emitAccelerationIncludingGravityEvent(e) {\n      var outEvent = this.accelerationIncludingGravity.event;\n\n      outEvent[0] = e.accelerationIncludingGravity.x * this._unifyMotionData;\n      outEvent[1] = e.accelerationIncludingGravity.y * this._unifyMotionData;\n      outEvent[2] = e.accelerationIncludingGravity.z * this._unifyMotionData;\n\n      this.accelerationIncludingGravity.emit(outEvent);\n    }\n\n    /**\n     * Emits the `acceleration` unified values.\n     * When the `acceleration` raw values are not available, the method\n     * also calculates the acceleration from the\n     * `accelerationIncludingGravity` raw values.\n     *\n     * @param {DeviceMotionEvent} e - The `'devicemotion'` event.\n     */\n\n  }, {\n    key: '_emitAccelerationEvent',\n    value: function _emitAccelerationEvent(e) {\n      var outEvent = this.acceleration.event;\n\n      if (this.acceleration.isProvided) {\n        // If raw acceleration values are provided\n        outEvent[0] = e.acceleration.x * this._unifyMotionData;\n        outEvent[1] = e.acceleration.y * this._unifyMotionData;\n        outEvent[2] = e.acceleration.z * this._unifyMotionData;\n      } else if (this.accelerationIncludingGravity.isValid) {\n        // Otherwise, if accelerationIncludingGravity values are provided,\n        // estimate the acceleration with a high-pass filter\n        var accelerationIncludingGravity = [e.accelerationIncludingGravity.x * this._unifyMotionData, e.accelerationIncludingGravity.y * this._unifyMotionData, e.accelerationIncludingGravity.z * this._unifyMotionData];\n        var k = this._calculatedAccelerationDecay;\n\n        // High-pass filter to estimate the acceleration (without the gravity)\n        this._calculatedAcceleration[0] = (1 + k) * 0.5 * (accelerationIncludingGravity[0] - this._lastAccelerationIncludingGravity[0]) + k * this._calculatedAcceleration[0];\n        this._calculatedAcceleration[1] = (1 + k) * 0.5 * (accelerationIncludingGravity[1] - this._lastAccelerationIncludingGravity[1]) + k * this._calculatedAcceleration[1];\n        this._calculatedAcceleration[2] = (1 + k) * 0.5 * (accelerationIncludingGravity[2] - this._lastAccelerationIncludingGravity[2]) + k * this._calculatedAcceleration[2];\n\n        this._lastAccelerationIncludingGravity[0] = accelerationIncludingGravity[0];\n        this._lastAccelerationIncludingGravity[1] = accelerationIncludingGravity[1];\n        this._lastAccelerationIncludingGravity[2] = accelerationIncludingGravity[2];\n\n        outEvent[0] = this._calculatedAcceleration[0];\n        outEvent[1] = this._calculatedAcceleration[1];\n        outEvent[2] = this._calculatedAcceleration[2];\n      }\n\n      this.acceleration.emit(outEvent);\n    }\n\n    /**\n     * Emits the `rotationRate` unified values.\n     *\n     * @param {DeviceMotionEvent} e - `'devicemotion'` event the values are calculated from.\n     */\n\n  }, {\n    key: '_emitRotationRateEvent',\n    value: function _emitRotationRateEvent(e) {\n      var outEvent = this.rotationRate.event;\n\n      // In all platforms, rotation axes are messed up according to the spec\n      // https://w3c.github.io/deviceorientation/spec-source-orientation.html\n      //\n      // gamma should be alpha\n      // alpha should be beta\n      // beta should be gamma\n\n      outEvent[0] = e.rotationRate.gamma;\n      outEvent[1] = e.rotationRate.alpha, outEvent[2] = e.rotationRate.beta;\n\n      // Chrome Android retrieve values that are in rad/s\n      // cf. https://bugs.chromium.org/p/chromium/issues/detail?id=541607\n      //\n      // From spec: \"The rotationRate attribute must be initialized with the rate\n      // of rotation of the hosting device in space. It must be expressed as the\n      // rate of change of the angles defined in section 4.1 and must be expressed\n      // in degrees per second (deg/s).\"\n      //\n      // fixed since Chrome 65\n      // cf. https://github.com/immersive-web/webvr-polyfill/issues/307\n      if (_platform2.default.os.family === 'Android' && chromeRegExp.test(_platform2.default.name) && parseInt(_platform2.default.version.split('.')[0]) < 65) {\n        outEvent[0] *= toDeg;\n        outEvent[1] *= toDeg, outEvent[2] *= toDeg;\n      }\n\n      this.rotationRate.emit(outEvent);\n    }\n\n    /**\n     * Calculates and emits the `rotationRate` unified values from the `orientation` values.\n     *\n     * @param {number[]} orientation - Latest `orientation` raw values.\n     */\n\n  }, {\n    key: '_calculateRotationRateFromOrientation',\n    value: function _calculateRotationRateFromOrientation(orientation) {\n      var now = getLocalTime();\n      var k = 0.8; // TODO: improve low pass filter (frames are not regular)\n      var alphaIsValid = typeof orientation[0] === 'number';\n\n      if (this._lastOrientationTimestamp) {\n        var rAlpha = null;\n        var rBeta = void 0;\n        var rGamma = void 0;\n\n        var alphaDiscontinuityFactor = 0;\n        var betaDiscontinuityFactor = 0;\n        var gammaDiscontinuityFactor = 0;\n\n        var deltaT = now - this._lastOrientationTimestamp;\n\n        if (alphaIsValid) {\n          // alpha discontinuity (+360 -> 0 or 0 -> +360)\n          if (this._lastOrientation[0] > 320 && orientation[0] < 40) alphaDiscontinuityFactor = 360;else if (this._lastOrientation[0] < 40 && orientation[0] > 320) alphaDiscontinuityFactor = -360;\n        }\n\n        // beta discontinuity (+180 -> -180 or -180 -> +180)\n        if (this._lastOrientation[1] > 140 && orientation[1] < -140) betaDiscontinuityFactor = 360;else if (this._lastOrientation[1] < -140 && orientation[1] > 140) betaDiscontinuityFactor = -360;\n\n        // gamma discontinuities (+180 -> -180 or -180 -> +180)\n        if (this._lastOrientation[2] > 50 && orientation[2] < -50) gammaDiscontinuityFactor = 180;else if (this._lastOrientation[2] < -50 && orientation[2] > 50) gammaDiscontinuityFactor = -180;\n\n        if (deltaT > 0) {\n          // Low pass filter to smooth the data\n          if (alphaIsValid) rAlpha = k * this._calculatedRotationRate[0] + (1 - k) * (orientation[0] - this._lastOrientation[0] + alphaDiscontinuityFactor) / deltaT;\n\n          rBeta = k * this._calculatedRotationRate[1] + (1 - k) * (orientation[1] - this._lastOrientation[1] + betaDiscontinuityFactor) / deltaT;\n          rGamma = k * this._calculatedRotationRate[2] + (1 - k) * (orientation[2] - this._lastOrientation[2] + gammaDiscontinuityFactor) / deltaT;\n\n          this._calculatedRotationRate[0] = rAlpha;\n          this._calculatedRotationRate[1] = rBeta;\n          this._calculatedRotationRate[2] = rGamma;\n        }\n\n        // TODO: resample the emission rate to match the devicemotion rate\n        this.rotationRate.emit(this._calculatedRotationRate);\n      }\n\n      this._lastOrientationTimestamp = now;\n      this._lastOrientation[0] = orientation[0];\n      this._lastOrientation[1] = orientation[1];\n      this._lastOrientation[2] = orientation[2];\n    }\n\n    /**\n     * Checks whether the rotation rate can be calculated from the `orientation` values or not.\n     *\n     * @todo - this should be reviewed to comply with the axis order defined\n     *  in the spec\n     */\n    // WARNING\n    // The lines of code below are commented because of a bug of Chrome\n    // on some Android devices, where 'devicemotion' events are not sent\n    // or caught if the listener is set up after a 'deviceorientation'\n    // listener. Here, the _tryOrientationFallback method would add a\n    // 'deviceorientation' listener and block all subsequent 'devicemotion'\n    // events on these devices. Comments will be removed once the bug of\n    // Chrome is corrected.\n    // _tryOrientationFallback() {\n    //   MotionInput.requireModule('orientation')\n    //     .then((orientation) => {\n    //       if (orientation.isValid) {\n    //         console.log(`\n    //           WARNING (motion-input): The 'devicemotion' event does not exists or\n    //           does not provide rotation rate values in your browser, so the rotation\n    //           rate of the device is estimated from the 'orientation', calculated\n    //           from the 'deviceorientation' event. Since the compass might not\n    //           be available, only \\`beta\\` and \\`gamma\\` angles may be provided\n    //           (\\`alpha\\` would be null).`\n    //         );\n\n    //         this.rotationRate.isCalculated = true;\n\n    //         MotionInput.addListener('orientation', (orientation) => {\n    //           this._calculateRotationRateFromOrientation(orientation);\n    //         });\n    //       }\n\n    //       this._promiseResolve(this);\n    //     });\n    // }\n\n  }, {\n    key: '_process',\n    value: function _process(data) {\n      this._processFunction(data);\n    }\n\n    /**\n     * Initializes of the module.\n     *\n     * @return {promise}\n     */\n\n  }, {\n    key: 'init',\n    value: function init() {\n      var _this2 = this;\n\n      return _get(DeviceMotionModule.prototype.__proto__ || Object.getPrototypeOf(DeviceMotionModule.prototype), 'init', this).call(this, function (resolve) {\n        _this2._promiseResolve = resolve;\n\n        if (window.DeviceMotionEvent) {\n          _this2._processFunction = _this2._devicemotionCheck;\n          window.addEventListener('devicemotion', _this2._process);\n\n          // set fallback timeout for Firefox desktop (its window never calling the DeviceOrientation event, a\n          // require of the DeviceOrientation service will result in the require promise never being resolved\n          // hence the Experiment start() method never called)\n          // > note 02/02/2018: this seems to create problems with ipods that\n          // don't have enough time to start (sometimes), hence creating false\n          // negative. So we only apply to Firefox desktop and put a really\n          // large value (4sec) just in case.\n          if (_platform2.default.name === 'Firefox' && _platform2.default.os.family !== 'Android' && _platform2.default.os.family !== 'iOS') {\n            console.warn('[motion-input] register timer for Firefox desktop');\n            _this2._checkTimeoutId = setTimeout(function () {\n              return resolve(_this2);\n            }, 4 * 1000);\n          }\n        }\n\n        // WARNING\n        // The lines of code below are commented because of a bug of Chrome\n        // on some Android devices, where 'devicemotion' events are not sent\n        // or caught if the listener is set up after a 'deviceorientation'\n        // listener. Here, the _tryOrientationFallback method would add a\n        // 'deviceorientation' listener and block all subsequent 'devicemotion'\n        // events on these devices. Comments will be removed once the bug of\n        // Chrome is corrected.\n\n        // else if (this.required.rotationRate)\n        // this._tryOrientationFallback();\n\n        else resolve(_this2);\n      });\n    }\n  }, {\n    key: '_calculatedAccelerationDecay',\n    get: function get() {\n      return Math.exp(-2 * Math.PI * this.accelerationIncludingGravity.period / this._calculatedAccelerationTimeConstant);\n    }\n  }]);\n\n  return DeviceMotionModule;\n}(_InputModule3.default);\n\nexports.default = new DeviceMotionModule();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRldmljZU1vdGlvbk1vZHVsZS5qcyJdLCJuYW1lcyI6WyJnZXRMb2NhbFRpbWUiLCJ3aW5kb3ciLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCJjaHJvbWVSZWdFeHAiLCJ0b0RlZyIsIk1hdGgiLCJQSSIsIkRldmljZU1vdGlvbk1vZHVsZSIsImV2ZW50IiwiYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSIsImFjY2VsZXJhdGlvbiIsInJvdGF0aW9uUmF0ZSIsInJlcXVpcmVkIiwiX3Byb21pc2VSZXNvbHZlIiwiX3VuaWZ5TW90aW9uRGF0YSIsIm9zIiwiZmFtaWx5IiwiX3VuaWZ5UGVyaW9kIiwiX2NhbGN1bGF0ZWRBY2NlbGVyYXRpb24iLCJfY2FsY3VsYXRlZEFjY2VsZXJhdGlvblRpbWVDb25zdGFudCIsIl9sYXN0QWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSIsIl9jYWxjdWxhdGVkUm90YXRpb25SYXRlIiwiX2xhc3RPcmllbnRhdGlvbiIsIl9sYXN0T3JpZW50YXRpb25UaW1lc3RhbXAiLCJfcHJvY2Vzc0Z1bmN0aW9uIiwiX3Byb2Nlc3MiLCJiaW5kIiwiX2RldmljZW1vdGlvbkNoZWNrIiwiX2RldmljZW1vdGlvbkxpc3RlbmVyIiwiX2NoZWNrQ291bnRlciIsImUiLCJjbGVhclRpbWVvdXQiLCJfY2hlY2tUaW1lb3V0SWQiLCJpc1Byb3ZpZGVkIiwicGVyaW9kIiwiaW50ZXJ2YWwiLCJ4IiwieSIsInoiLCJhbHBoYSIsImJldGEiLCJnYW1tYSIsInRlc3QiLCJuYW1lIiwiaXNDYWxjdWxhdGVkIiwibGlzdGVuZXJzIiwic2l6ZSIsIl9lbWl0RGV2aWNlTW90aW9uRXZlbnQiLCJpc1ZhbGlkIiwiX2VtaXRBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5RXZlbnQiLCJfZW1pdEFjY2VsZXJhdGlvbkV2ZW50IiwiX2VtaXRSb3RhdGlvblJhdGVFdmVudCIsIm91dEV2ZW50IiwiZW1pdCIsImsiLCJfY2FsY3VsYXRlZEFjY2VsZXJhdGlvbkRlY2F5IiwicGFyc2VJbnQiLCJ2ZXJzaW9uIiwic3BsaXQiLCJvcmllbnRhdGlvbiIsImFscGhhSXNWYWxpZCIsInJBbHBoYSIsInJCZXRhIiwickdhbW1hIiwiYWxwaGFEaXNjb250aW51aXR5RmFjdG9yIiwiYmV0YURpc2NvbnRpbnVpdHlGYWN0b3IiLCJnYW1tYURpc2NvbnRpbnVpdHlGYWN0b3IiLCJkZWx0YVQiLCJkYXRhIiwicmVzb2x2ZSIsIkRldmljZU1vdGlvbkV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJ3YXJuIiwic2V0VGltZW91dCIsImV4cCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7O0FBTUEsU0FBU0EsWUFBVCxHQUF3QjtBQUN0QixNQUFJQyxPQUFPQyxXQUFYLEVBQ0UsT0FBT0QsT0FBT0MsV0FBUCxDQUFtQkMsR0FBbkIsS0FBMkIsSUFBbEM7QUFDRixTQUFPQyxLQUFLRCxHQUFMLEtBQWEsSUFBcEI7QUFDRDs7QUFFRCxJQUFNRSxlQUFlLFFBQXJCO0FBQ0EsSUFBTUMsUUFBUSxNQUFNQyxLQUFLQyxFQUF6Qjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFtQk1DLGtCOzs7QUFFSjs7Ozs7QUFLQSxnQ0FBYztBQUFBOztBQUdaOzs7Ozs7O0FBSFksd0lBQ04sY0FETTs7QUFVWixVQUFLQyxLQUFMLEdBQWEsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsQ0FBYjs7QUFFQTs7Ozs7OztBQU9BLFVBQUtDLDRCQUFMLEdBQW9DLHVDQUE0Qiw4QkFBNUIsQ0FBcEM7O0FBRUE7Ozs7Ozs7Ozs7QUFVQSxVQUFLQyxZQUFMLEdBQW9CLHVDQUE0QixjQUE1QixDQUFwQjs7QUFFQTs7Ozs7Ozs7OztBQVVBLFVBQUtDLFlBQUws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ZW50IjpbImltcG9ydCBJbnB1dE1vZHVsZSBmcm9tICcuL0lucHV0TW9kdWxlJztcbmltcG9ydCBET01FdmVudFN1Ym1vZHVsZSBmcm9tICcuL0RPTUV2ZW50U3VibW9kdWxlJztcbmltcG9ydCBNb3Rpb25JbnB1dCBmcm9tICcuL01vdGlvbklucHV0JztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICdwbGF0Zm9ybSc7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBsb2NhbCB0aW1lIGluIHNlY29uZHMuXG4gKiBVc2VzIGB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClgIGlmIGF2YWlsYWJsZSwgYW5kIGBEYXRlLm5vdygpYCBvdGhlcndpc2UuXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFRpbWUoKSB7XG4gIGlmICh3aW5kb3cucGVyZm9ybWFuY2UpXG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAvIDEwMDA7XG4gIHJldHVybiBEYXRlLm5vdygpIC8gMTAwMDtcbn1cblxuY29uc3QgY2hyb21lUmVnRXhwID0gL0Nocm9tZS87XG5jb25zdCB0b0RlZyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogYERldmljZU1vdGlvbmAgbW9kdWxlIHNpbmdsZXRvbi5cbiAqIFRoZSBgRGV2aWNlTW90aW9uTW9kdWxlYCBzaW5nbGV0b24gcHJvdmlkZXMgdGhlIHJhdyB2YWx1ZXNcbiAqIG9mIHRoZSBhY2NlbGVyYXRpb24gaW5jbHVkaW5nIGdyYXZpdHksIGFjY2VsZXJhdGlvbiwgYW5kIHJvdGF0aW9uXG4gKiByYXRlIHByb3ZpZGVkIGJ5IHRoZSBgRGV2aWNlTW90aW9uYCBldmVudC5cbiAqIEl0IGFsc28gaW5zdGFudGlhdGUgdGhlIGBBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCxcbiAqIGBBY2NlbGVyYXRpb25gIGFuZCBgUm90YXRpb25SYXRlYCBzdWJtb2R1bGVzIHRoYXQgdW5pZnkgdGhvc2UgdmFsdWVzXG4gKiBhY3Jvc3MgcGxhdGZvcm1zIGJ5IG1ha2luZyB0aGVtIGNvbXBsaWFudCB3aXRoIHtAbGlua1xuICogaHR0cDovL3d3dy53My5vcmcvVFIvb3JpZW50YXRpb24tZXZlbnQvfHRoZSBXM0Mgc3RhbmRhcmR9LlxuICogV2hlbiByYXcgdmFsdWVzIGFyZSBub3QgcHJvdmlkZWQgYnkgdGhlIHNlbnNvcnMsIHRoaXMgbW9kdWxlcyB0cmllc1xuICogdG8gcmVjYWxjdWxhdGUgdGhlbSBmcm9tIGF2YWlsYWJsZSB2YWx1ZXM6XG4gKiAtIGBhY2NlbGVyYXRpb25gIGlzIGNhbGN1bGF0ZWQgZnJvbSBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWBcbiAqICAgd2l0aCBhIGhpZ2gtcGFzcyBmaWx0ZXI7XG4gKiAtIChjb21pbmcgc29vbiDigJQgd2FpdGluZyBmb3IgYSBidWcgb24gQ2hyb21lIHRvIGJlIHJlc29sdmVkKVxuICogICBgcm90YXRpb25SYXRlYCBpcyBjYWxjdWxhdGVkIGZyb20gYG9yaWVudGF0aW9uYC5cbiAqXG4gKiBAY2xhc3MgRGV2aWNlTW90aW9uTW9kdWxlXG4gKiBAZXh0ZW5kcyBJbnB1dE1vZHVsZVxuICovXG5jbGFzcyBEZXZpY2VNb3Rpb25Nb2R1bGUgZXh0ZW5kcyBJbnB1dE1vZHVsZSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGBEZXZpY2VNb3Rpb25gIG1vZHVsZSBpbnN0YW5jZS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZGV2aWNlbW90aW9uJyk7XG5cbiAgICAvKipcbiAgICAgKiBSYXcgdmFsdWVzIGNvbWluZyBmcm9tIHRoZSBgZGV2aWNlbW90aW9uYCBldmVudCBzZW50IGJ5IHRoaXMgbW9kdWxlLlxuICAgICAqXG4gICAgICogQHRoaXMgRGV2aWNlTW90aW9uTW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsXVxuICAgICAqL1xuICAgIHRoaXMuZXZlbnQgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYEFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgIG1vZHVsZS5cbiAgICAgKiBQcm92aWRlcyB1bmlmaWVkIHZhbHVlcyBvZiB0aGUgYWNjZWxlcmF0aW9uIGluY2x1ZGluZyBncmF2aXR5LlxuICAgICAqXG4gICAgICogQHRoaXMgRGV2aWNlTW90aW9uTW9kdWxlXG4gICAgICogQHR5cGUge0RPTUV2ZW50U3VibW9kdWxlfVxuICAgICAqL1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSA9IG5ldyBET01FdmVudFN1Ym1vZHVsZSh0aGlzLCAnYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eScpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBBY2NlbGVyYXRpb25gIHN1Ym1vZHVsZS5cbiAgICAgKiBQcm92aWRlcyB1bmlmaWVkIHZhbHVlcyBvZiB0aGUgYWNjZWxlcmF0aW9uLlxuICAgICAqIEVzdGltYXRlcyB0aGUgYWNjZWxlcmF0aW9uIHZhbHVlcyBmcm9tIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YFxuICAgICAqIHJhdyB2YWx1ZXMgaWYgdGhlIGFjY2VsZXJhdGlvbiByYXcgdmFsdWVzIGFyZSBub3QgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGRldmljZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtET01FdmVudFN1Ym1vZHVsZX1cbiAgICAgKi9cbiAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IG5ldyBET01FdmVudFN1Ym1vZHVsZSh0aGlzLCAnYWNjZWxlcmF0aW9uJyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYFJvdGF0aW9uUmF0ZWAgc3VibW9kdWxlLlxuICAgICAqIFByb3ZpZGVzIHVuaWZpZWQgdmFsdWVzIG9mIHRoZSByb3RhdGlvbiByYXRlLlxuICAgICAqIChjb21pbmcgc29vbiwgd2FpdGluZyBmb3IgYSBidWcgb24gQ2hyb21lIHRvIGJlIHJlc29sdmVkKVxuICAgICAqIEVzdGltYXRlcyB0aGUgcm90YXRpb24gcmF0ZSB2YWx1ZXMgZnJvbSBgb3JpZW50YXRpb25gIHZhbHVlcyBpZlxuICAgICAqIHRoZSByb3RhdGlvbiByYXRlIHJhdyB2YWx1ZXMgYXJlIG5vdCBhdmFpbGFibGUgb24gdGhlIGRldmljZS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtET01FdmVudFN1Ym1vZHVsZX1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uUmF0ZSA9IG5ldyBET01FdmVudFN1Ym1vZHVsZSh0aGlzLCAncm90YXRpb25SYXRlJyk7XG5cbiAgICAvKipcbiAgICAgKiBSZXF1aXJlZCBzdWJtb2R1bGVzIC8gZXZlbnRzLlxuICAgICAqXG4gICAgICogQHRoaXMgRGV2aWNlTW90aW9uTW9kdWxlXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2x9IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgYGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgIHVuaWZpZWQgdmFsdWVzIGFyZSByZXF1aXJlZCBvciBub3QgKGRlZmF1bHRzIHRvIGBmYWxzZWApLlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbH0gYWNjZWxlcmF0aW9uIC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGBhY2NlbGVyYXRpb25gIHVuaWZpZWQgdmFsdWVzIGFyZSByZXF1aXJlZCBvciBub3QgKGRlZmF1bHRzIHRvIGBmYWxzZWApLlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbH0gcm90YXRpb25SYXRlIC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGByb3RhdGlvblJhdGVgIHVuaWZpZWQgdmFsdWVzIGFyZSByZXF1aXJlZCBvciBub3QgKGRlZmF1bHRzIHRvIGBmYWxzZWApLlxuICAgICAqL1xuICAgIHRoaXMucmVxdWlyZWQgPSB7XG4gICAgICBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5OiBmYWxzZSxcbiAgICAgIGFjY2VsZXJhdGlvbjogZmFsc2UsXG4gICAgICByb3RhdGlvblJhdGU6IGZhbHNlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgZnVuY3Rpb24gb2YgdGhlIG1vZHVsZSdzIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBAdGhpcyBEZXZpY2VNb3Rpb25Nb2R1bGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqIEBzZWUgRGV2aWNlTW90aW9uTW9kdWxlI2luaXRcbiAgICAgKi9cbiAgICB0aGlzLl9wcm9taXNlUmVzb2x2ZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBVbmlmeWluZyBmYWN0b3Igb2YgdGhlIG1vdGlvbiBkYXRhIHZhbHVlcyAoYDFgIG9uIEFuZHJvaWQsIGAtMWAgb24gaU9TKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fdW5pZnlNb3Rpb25EYXRhID0gKHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ2lPUycpID8gLTEgOiAxO1xuXG4gICAgLyoqXG4gICAgICogVW5pZnlpbmcgZmFjdG9yIG9mIHRoZSBwZXJpb2QgKGAxYCBvbiBBbmRyb2lkLCBgMWAgb24gaU9TKS4gaW4gc2VjXG4gICAgICogQHRvZG8gLSB1bmlmeSB3aXRoIGUuaW50ZXJ2YWwgc3BlY2lmaWNhdGlvbiAoaW4gbXMpID9cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fdW5pZnlQZXJpb2QgPSAocGxhdGZvcm0ub3MuZmFtaWx5ID09PSAnQW5kcm9pZCcpID8gMC4wMDEgOiAxO1xuXG4gICAgLyoqXG4gICAgICogQWNjZWxlcmF0aW9uIGNhbGN1bGF0ZWQgZnJvbSB0aGUgYGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgIHJhdyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAdGhpcyBEZXZpY2VNb3Rpb25Nb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzAsIDAsIDBdXG4gICAgICovXG4gICAgdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvbiA9IFswLCAwLCAwXTtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgY29uc3RhbnQgKGhhbGYtbGlmZSkgb2YgdGhlIGhpZ2gtcGFzcyBmaWx0ZXIgdXNlZCB0byBzbW9vdGggdGhlIGFjY2VsZXJhdGlvbiB2YWx1ZXMgY2FsY3VsYXRlZCBmcm9tIHRoZSBhY2NlbGVyYXRpb24gaW5jbHVkaW5nIGdyYXZpdHkgcmF3IHZhbHVlcyAoaW4gc2Vjb25kcykuXG4gICAgICpcbiAgICAgKiBAdGhpcyBEZXZpY2VNb3Rpb25Nb2R1bGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuMVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHRoaXMuX2NhbGN1bGF0ZWRBY2NlbGVyYXRpb25UaW1lQ29uc3RhbnQgPSAwLjE7XG5cbiAgICAvKipcbiAgICAgKiBMYXRlc3QgYGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlgIHJhdyB2YWx1ZSwgdXNlZCBpbiB0aGUgaGlnaC1wYXNzIGZpbHRlciB0byBjYWxjdWxhdGUgdGhlIGFjY2VsZXJhdGlvbiAoaWYgdGhlIGBhY2NlbGVyYXRpb25gIHZhbHVlcyBhcmUgbm90IHByb3ZpZGVkIGJ5IGAnZGV2aWNlbW90aW9uJ2ApLlxuICAgICAqXG4gICAgICogQHRoaXMgRGV2aWNlTW90aW9uTW9kdWxlXG4gICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFswLCAwLCAwXVxuICAgICAqL1xuICAgIHRoaXMuX2xhc3RBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5ID0gWzAsIDAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogUm90YXRpb24gcmF0ZSBjYWxjdWxhdGVkIGZyb20gdGhlIG9yaWVudGF0aW9uIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMCwgMCwgMF1cbiAgICAgKi9cbiAgICB0aGlzLl9jYWxjdWxhdGVkUm90YXRpb25SYXRlID0gWzAsIDAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogTGF0ZXN0IG9yaWVudGF0aW9uIHZhbHVlLCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gcmF0ZSAgKGlmIHRoZSBgcm90YXRpb25SYXRlYCB2YWx1ZXMgYXJlIG5vdCBwcm92aWRlZCBieSBgJ2RldmljZW1vdGlvbidgKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMCwgMCwgMF1cbiAgICAgKi9cbiAgICB0aGlzLl9sYXN0T3JpZW50YXRpb24gPSBbMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBMYXRlc3Qgb3JpZW50YXRpb24gdGltZXN0YW1wcywgdXNlZCB0byBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIHJhdGUgKGlmIHRoZSBgcm90YXRpb25SYXRlYCB2YWx1ZXMgYXJlIG5vdCBwcm92aWRlZCBieSBgJ2RldmljZW1vdGlvbidgKS5cbiAgICAgKlxuICAgICAqIEB0aGlzIERldmljZU1vdGlvbk1vZHVsZVxuICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMCwgMCwgMF1cbiAgICAgKi9cbiAgICB0aGlzLl9sYXN0T3JpZW50YXRpb25UaW1lc3RhbXAgPSBudWxsO1xuXG4gICAgdGhpcy5fcHJvY2Vzc0Z1bmN0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9wcm9jZXNzID0gdGhpcy5fcHJvY2Vzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2RldmljZW1vdGlvbkNoZWNrID0gdGhpcy5fZGV2aWNlbW90aW9uQ2hlY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kZXZpY2Vtb3Rpb25MaXN0ZW5lciA9IHRoaXMuX2RldmljZW1vdGlvbkxpc3RlbmVyLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jaGVja0NvdW50ZXIgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY2F5IGZhY3RvciBvZiB0aGUgaGlnaC1wYXNzIGZpbHRlciB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYWNjZWxlcmF0aW9uIGZyb20gdGhlIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCByYXcgdmFsdWVzLlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBfY2FsY3VsYXRlZEFjY2VsZXJhdGlvbkRlY2F5KCkge1xuICAgIHJldHVybiBNYXRoLmV4cCgtMiAqIE1hdGguUEkgKiB0aGlzLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkucGVyaW9kIC8gdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblRpbWVDb25zdGFudCk7XG4gIH1cblxuICAvKipcbiAgICogU2Vuc29yIGNoZWNrIG9uIGluaXRpYWxpemF0aW9uIG9mIHRoZSBtb2R1bGUuXG4gICAqIFRoaXMgbWV0aG9kOlxuICAgKiAtIGNoZWNrcyB3aGV0aGVyIHRoZSBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAsIHRoZSBgYWNjZWxlcmF0aW9uYCxcbiAgICogICBhbmQgdGhlIGByb3RhdGlvblJhdGVgIHZhbHVlcyBhcmUgdmFsaWQgb3Igbm90O1xuICAgKiAtIGdldHMgdGhlIHBlcmlvZCBvZiB0aGUgYCdkZXZpY2Vtb3Rpb24nYCBldmVudCBhbmQgc2V0cyB0aGUgcGVyaW9kIG9mXG4gICAqICAgdGhlIGBBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCwgYEFjY2VsZXJhdGlvbmAsIGFuZCBgUm90YXRpb25SYXRlYFxuICAgKiAgIHN1Ym1vZHVsZXM7XG4gICAqIC0gKGluIHRoZSBjYXNlIHdoZXJlIGFjY2VsZXJhdGlvbiByYXcgdmFsdWVzIGFyZSBub3QgcHJvdmlkZWQpXG4gICAqICAgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGFjY2VsZXJhdGlvbiBjYW4gYmUgY2FsY3VsYXRlZCBmcm9tIHRoZVxuICAgKiAgIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCB1bmlmaWVkIHZhbHVlcyBvciBub3QuXG4gICAqXG4gICAqIEBwYXJhbSB7RGV2aWNlTW90aW9uRXZlbnR9IGUgLSBUaGUgZmlyc3QgYCdkZXZpY2Vtb3Rpb24nYCBldmVudCBjYXVnaHQuXG4gICAqL1xuICBfZGV2aWNlbW90aW9uQ2hlY2soZSkge1xuICAgIC8vIGNsZWFyIHRpbWVvdXQgKGFudGktRmlyZWZveCBidWcgc29sdXRpb24sIHdpbmRvdyBldmVudCBkZXZpY2VvcmllbnRhdGlvbiBiZWluZyBudmVyIGNhbGxlZClcbiAgICAvLyBzZXQgdGhlIHNldCB0aW1lb3V0IGluIGluaXQoKSBmdW5jdGlvblxuICAgIGNsZWFyVGltZW91dCh0aGlzLl9jaGVja1RpbWVvdXRJZCk7XG5cbiAgICB0aGlzLmlzUHJvdmlkZWQgPSB0cnVlO1xuICAgIHRoaXMucGVyaW9kID0gZS5pbnRlcnZhbCAvIDEwMDA7XG4gICAgdGhpcy5pbnRlcnZhbCA9IGUuaW50ZXJ2YWw7XG5cbiAgICAvLyBTZW5zb3IgYXZhaWxhYmlsaXR5IGZvciB0aGUgYWNjZWxlcmF0aW9uIGluY2x1ZGluZyBncmF2aXR5XG4gICAgdGhpcy5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LmlzUHJvdmlkZWQgPSAoXG4gICAgICBlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgJiZcbiAgICAgICh0eXBlb2YgZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LnggPT09ICdudW1iZXInKSAmJlxuICAgICAgKHR5cGVvZiBlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueSA9PT0gJ251bWJlcicpICYmXG4gICAgICAodHlwZW9mIGUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56ID09PSAnbnVtYmVyJylcbiAgICApO1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS5wZXJpb2QgPSBlLmludGVydmFsICogdGhpcy5fdW5pZnlQZXJpb2Q7XG5cbiAgICAvLyBTZW5zb3IgYXZhaWxhYmlsaXR5IGZvciB0aGUgYWNjZWxlcmF0aW9uXG4gICAgdGhpcy5hY2NlbGVyYXRpb24uaXNQcm92aWRlZCA9IChcbiAgICAgIGUuYWNjZWxlcmF0aW9uICYmXG4gICAgICAodHlwZW9mIGUuYWNjZWxlcmF0aW9uLnggPT09ICdudW1iZXInKSAmJlxuICAgICAgKHR5cGVvZiBlLmFjY2VsZXJhdGlvbi55ID09PSAnbnVtYmVyJykgJiZcbiAgICAgICh0eXBlb2YgZS5hY2NlbGVyYXRpb24ueiA9PT0gJ251bWJlcicpXG4gICAgKTtcbiAgICB0aGlzLmFjY2VsZXJhdGlvbi5wZXJpb2QgPSBlLmludGVydmFsICogdGhpcy5fdW5pZnlQZXJpb2Q7XG5cbiAgICAvLyBTZW5zb3IgYXZhaWxhYmlsaXR5IGZvciB0aGUgcm90YXRpb24gcmF0ZVxuICAgIHRoaXMucm90YXRpb25SYXRlLmlzUHJvdmlkZWQgPSAoXG4gICAgICBlLnJvdGF0aW9uUmF0ZSAmJlxuICAgICAgKHR5cGVvZiBlLnJvdGF0aW9uUmF0ZS5hbHBoYSA9PT0gJ251bWJlcicpICYmXG4gICAgICAodHlwZW9mIGUucm90YXRpb25SYXRlLmJldGEgID09PSAnbnVtYmVyJykgJiZcbiAgICAgICh0eXBlb2YgZS5yb3RhdGlvblJhdGUuZ2FtbWEgPT09ICdudW1iZXInKVxuICAgICk7XG4gICAgdGhpcy5yb3RhdGlvblJhdGUucGVyaW9kID0gZS5pbnRlcnZhbCAqIHRoaXMuX3VuaWZ5UGVyaW9kO1xuXG4gICAgLy8gaW4gZmlyZWZveCBhbmRyb2lkLCBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5IHJldHJpZXZlIG51bGwgdmFsdWVzXG4gICAgLy8gb24gdGhlIGZpcnN0IGNhbGxiYWNrLiBzbyB3YWl0IGEgc2Vjb25kIGNhbGwgdG8gYmUgc3VyZS5cbiAgICBpZiAoXG4gICAgICBwbGF0Zm9ybS5vcy5mYW1pbHkgPT09ICdBbmRyb2lkJyAmJlxuICAgICAgL0ZpcmVmb3gvLnRlc3QocGxhdGZvcm0ubmFtZSkgJiZcbiAgICAgIHRoaXMuX2NoZWNrQ291bnRlciA8IDFcbiAgICApIHtcbiAgICAgIHRoaXMuX2NoZWNrQ291bnRlcisrO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub3cgdGhhdCB0aGUgc2Vuc29ycyBhcmUgY2hlY2tlZCwgcmVwbGFjZSB0aGUgcHJvY2VzcyBmdW5jdGlvbiB3aXRoXG4gICAgICAvLyB0aGUgZmluYWwgbGlzdGVuZXJcbiAgICAgIHRoaXMuX3Byb2Nlc3NGdW5jdGlvbiA9IHRoaXMuX2RldmljZW1vdGlvbkxpc3RlbmVyO1xuXG4gICAgICAvLyBpZiBhY2NlbGVyYXRpb24gaXMgbm90IHByb3ZpZGVkIGJ5IHJhdyBzZW5zb3JzLCBpbmRpY2F0ZSB3aGV0aGVyIGl0XG4gICAgICAvLyBjYW4gYmUgY2FsY3VsYXRlZCB3aXRoIGBhY2NlbGVyYXRpb25pbmNsdWRpbmdncmF2aXR5YCBvciBub3RcbiAgICAgIGlmICghdGhpcy5hY2NlbGVyYXRpb24uaXNQcm92aWRlZClcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24uaXNDYWxjdWxhdGVkID0gdGhpcy5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LmlzUHJvdmlkZWQ7XG5cbiAgICAgIC8vIFdBUk5JTkdcbiAgICAgIC8vIFRoZSBsaW5lcyBvZiBjb2RlIGJlbG93IGFyZSBjb21tZW50ZWQgYmVjYXVzZSBvZiBhIGJ1ZyBvZiBDaHJvbWVcbiAgICAgIC8vIG9uIHNvbWUgQW5kcm9pZCBkZXZpY2VzLCB3aGVyZSAnZGV2aWNlbW90aW9uJyBldmVudHMgYXJlIG5vdCBzZW50XG4gICAgICAvLyBvciBjYXVnaHQgaWYgdGhlIGxpc3RlbmVyIGlzIHNldCB1cCBhZnRlciBhICdkZXZpY2VvcmllbnRhdGlvbidcbiAgICAgIC8vIGxpc3RlbmVyLiBIZXJlLCB0aGUgX3RyeU9yaWVudGF0aW9uRmFsbGJhY2sgbWV0aG9kIHdvdWxkIGFkZCBhXG4gICAgICAvLyAnZGV2aWNlb3JpZW50YXRpb24nIGxpc3RlbmVyIGFuZCBibG9jayBhbGwgc3Vic2VxdWVudCAnZGV2aWNlbW90aW9uJ1xuICAgICAgLy8gZXZlbnRzIG9uIHRoZXNlIGRldmljZXMuIENvbW1lbnRzIHdpbGwgYmUgcmVtb3ZlZCBvbmNlIHRoZSBidWcgb2ZcbiAgICAgIC8vIENocm9tZSBpcyBjb3JyZWN0ZWQuXG5cbiAgICAgIC8vIGlmICh0aGlzLnJlcXVpcmVkLnJvdGF0aW9uUmF0ZSAmJiAhdGhpcy5yb3RhdGlvblJhdGUuaXNQcm92aWRlZClcbiAgICAgIC8vICAgdGhpcy5fdHJ5T3JpZW50YXRpb25GYWxsYmFjaygpO1xuICAgICAgLy8gZWxzZVxuICAgICAgdGhpcy5fcHJvbWlzZVJlc29sdmUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGAnZGV2aWNlbW90aW9uJ2AgZXZlbnQgY2FsbGJhY2suXG4gICAqIFRoaXMgbWV0aG9kIGVtaXRzIGFuIGV2ZW50IHdpdGggdGhlIHJhdyBgJ2RldmljZW1vdGlvbidgIHZhbHVlcywgYW5kIGVtaXRzXG4gICAqIGV2ZW50cyB3aXRoIHRoZSB1bmlmaWVkIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCwgYGFjY2VsZXJhdGlvbmAsXG4gICAqIGFuZCAvIG9yIGByb3RhdGlvblJhdGVgIHZhbHVlcyBpZiB0aGV5IGFyZSByZXF1aXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtEZXZpY2VNb3Rpb25FdmVudH0gZSAtIGAnZGV2aWNlbW90aW9uJ2AgZXZlbnQgdGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBmcm9tLlxuICAgKi9cbiAgX2RldmljZW1vdGlvbkxpc3RlbmVyKGUpIHtcbiAgICAvLyAnZGV2aWNlbW90aW9uJyBldmVudCAocmF3IHZhbHVlcylcbiAgICBpZiAodGhpcy5saXN0ZW5lcnMuc2l6ZSA+IDApXG4gICAgICB0aGlzLl9lbWl0RGV2aWNlTW90aW9uRXZlbnQoZSk7XG5cbiAgICAvLyBhbGVydChgJHt0aGlzLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkubGlzdGVuZXJzLnNpemV9IC1cbiAgICAvLyAgICAgJHt0aGlzLnJlcXVpcmVkLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHl9IC1cbiAgICAvLyAgICAgJHt0aGlzLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkuaXNWYWxpZH1cbiAgICAvLyBgKTtcblxuICAgIC8vICdhY2NlbGVyYXRpb24nIGV2ZW50ICh1bmlmaWVkIHZhbHVlcylcbiAgICBpZiAodGhpcy5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5Lmxpc3RlbmVycy5zaXplID4gMCAmJlxuICAgICAgICB0aGlzLnJlcXVpcmVkLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgJiZcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LmlzVmFsaWRcbiAgICApIHtcbiAgICAgIHRoaXMuX2VtaXRBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5RXZlbnQoZSk7XG4gICAgfVxuXG4gICAgLy8gJ2FjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHknIGV2ZW50ICh1bmlmaWVkIHZhbHVlcylcbiAgICAvLyB0aGUgZmFsbGJhY2sgY2FsY3VsYXRpb24gb2YgdGhlIGFjY2VsZXJhdGlvbiBoYXBwZW5zIGluIHRoZVxuICAgIC8vICBgX2VtaXRBY2NlbGVyYXRpb25gIG1ldGhvZCwgc28gd2UgY2hlY2sgaWYgdGhpcy5hY2NlbGVyYXRpb24uaXNWYWxpZFxuICAgIGlmICh0aGlzLmFjY2VsZXJhdGlvbi5saXN0ZW5lcnMuc2l6ZSA+IDAgJiZcbiAgICAgICAgdGhpcy5yZXF1aXJlZC5hY2NlbGVyYXRpb24gJiZcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24uaXNWYWxpZFxuICAgICkge1xuICAgICAgdGhpcy5fZW1pdEFjY2VsZXJhdGlvbkV2ZW50KGUpO1xuICAgIH1cblxuICAgIC8vICdyb3RhdGlvblJhdGUnIGV2ZW50ICh1bmlmaWVkIHZhbHVlcylcbiAgICAvLyB0aGUgZmFsbGJhY2sgY2FsY3VsYXRpb24gb2YgdGhlIHJvdGF0aW9uIHJhdGUgZG9lcyBOT1QgaGFwcGVuIGluIHRoZVxuICAgIC8vIGBfZW1pdFJvdGF0aW9uUmF0ZWAgbWV0aG9kLCBzbyB3ZSBvbmx5IGNoZWNrIGlmIHRoaXMucm90YXRpb25SYXRlLmlzUHJvdmlkZWRcbiAgICBpZiAodGhpcy5yb3RhdGlvblJhdGUubGlzdGVuZXJzLnNpemUgPiAwICYmXG4gICAgICAgIHRoaXMucmVxdWlyZWQucm90YXRpb25SYXRlICYmXG4gICAgICAgIHRoaXMucm90YXRpb25SYXRlLmlzUHJvdmlkZWRcbiAgICApIHtcbiAgICAgIHRoaXMuX2VtaXRSb3RhdGlvblJhdGVFdmVudChlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW1pdHMgdGhlIGAnZGV2aWNlbW90aW9uJ2AgcmF3IHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIHtEZXZpY2VNb3Rpb25FdmVudH0gZSAtIGAnZGV2aWNlbW90aW9uJ2AgZXZlbnQgdGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBmcm9tLlxuICAgKi9cbiAgX2VtaXREZXZpY2VNb3Rpb25FdmVudChlKSB7XG4gICAgbGV0IG91dEV2ZW50ID0gdGhpcy5ldmVudDtcblxuICAgIGlmIChlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpIHtcbiAgICAgIG91dEV2ZW50WzBdID0gZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5Lng7XG4gICAgICBvdXRFdmVudFsxXSA9IGUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS55O1xuICAgICAgb3V0RXZlbnRbMl0gPSBlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkuejtcbiAgICB9XG5cbiAgICBpZiAoZS5hY2NlbGVyYXRpb24pIHtcbiAgICAgIG91dEV2ZW50WzNdID0gZS5hY2NlbGVyYXRpb24ueDtcbiAgICAgIG91dEV2ZW50WzRdID0gZS5hY2NlbGVyYXRpb24ueTtcbiAgICAgIG91dEV2ZW50WzVdID0gZS5hY2NlbGVyYXRpb24uejtcbiAgICB9XG5cbiAgICBpZiAoZS5yb3RhdGlvblJhdGUpIHtcbiAgICAgIG91dEV2ZW50WzZdID0gZS5yb3RhdGlvblJhdGUuYWxwaGE7XG4gICAgICBvdXRFdmVudFs3XSA9IGUucm90YXRpb25SYXRlLmJldGE7XG4gICAgICBvdXRFdmVudFs4XSA9IGUucm90YXRpb25SYXRlLmdhbW1hO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdChvdXRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdHMgdGhlIGBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5YCB1bmlmaWVkIHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIHtEZXZpY2VNb3Rpb25FdmVudH0gZSAtIGAnZGV2aWNlbW90aW9uJ2AgZXZlbnQgdGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBmcm9tLlxuICAgKi9cbiAgX2VtaXRBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5RXZlbnQoZSkge1xuICAgIGxldCBvdXRFdmVudCA9IHRoaXMuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS5ldmVudDtcblxuICAgIG91dEV2ZW50WzBdID0gZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LnggKiB0aGlzLl91bmlmeU1vdGlvbkRhdGE7XG4gICAgb3V0RXZlbnRbMV0gPSBlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueSAqIHRoaXMuX3VuaWZ5TW90aW9uRGF0YTtcbiAgICBvdXRFdmVudFsyXSA9IGUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56ICogdGhpcy5fdW5pZnlNb3Rpb25EYXRhO1xuXG4gICAgdGhpcy5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LmVtaXQob3V0RXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIHRoZSBgYWNjZWxlcmF0aW9uYCB1bmlmaWVkIHZhbHVlcy5cbiAgICogV2hlbiB0aGUgYGFjY2VsZXJhdGlvbmAgcmF3IHZhbHVlcyBhcmUgbm90IGF2YWlsYWJsZSwgdGhlIG1ldGhvZFxuICAgKiBhbHNvIGNhbGN1bGF0ZXMgdGhlIGFjY2VsZXJhdGlvbiBmcm9tIHRoZVxuICAgKiBgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eWAgcmF3IHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIHtEZXZpY2VNb3Rpb25FdmVudH0gZSAtIFRoZSBgJ2RldmljZW1vdGlvbidgIGV2ZW50LlxuICAgKi9cbiAgX2VtaXRBY2NlbGVyYXRpb25FdmVudChlKSB7XG4gICAgbGV0IG91dEV2ZW50ID0gdGhpcy5hY2NlbGVyYXRpb24uZXZlbnQ7XG5cbiAgICBpZiAodGhpcy5hY2NlbGVyYXRpb24uaXNQcm92aWRlZCkge1xuICAgICAgLy8gSWYgcmF3IGFjY2VsZXJhdGlvbiB2YWx1ZXMgYXJlIHByb3ZpZGVkXG4gICAgICBvdXRFdmVudFswXSA9IGUuYWNjZWxlcmF0aW9uLnggKiB0aGlzLl91bmlmeU1vdGlvbkRhdGE7XG4gICAgICBvdXRFdmVudFsxXSA9IGUuYWNjZWxlcmF0aW9uLnkgKiB0aGlzLl91bmlmeU1vdGlvbkRhdGE7XG4gICAgICBvdXRFdmVudFsyXSA9IGUuYWNjZWxlcmF0aW9uLnogKiB0aGlzLl91bmlmeU1vdGlvbkRhdGE7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkuaXNWYWxpZCkge1xuICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5IHZhbHVlcyBhcmUgcHJvdmlkZWQsXG4gICAgICAvLyBlc3RpbWF0ZSB0aGUgYWNjZWxlcmF0aW9uIHdpdGggYSBoaWdoLXBhc3MgZmlsdGVyXG4gICAgICBjb25zdCBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5ID0gW1xuICAgICAgICBlLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueCAqIHRoaXMuX3VuaWZ5TW90aW9uRGF0YSxcbiAgICAgICAgZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LnkgKiB0aGlzLl91bmlmeU1vdGlvbkRhdGEsXG4gICAgICAgIGUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56ICogdGhpcy5fdW5pZnlNb3Rpb25EYXRhXG4gICAgICBdO1xuICAgICAgY29uc3QgayA9IHRoaXMuX2NhbGN1bGF0ZWRBY2NlbGVyYXRpb25EZWNheTtcblxuICAgICAgLy8gSGlnaC1wYXNzIGZpbHRlciB0byBlc3RpbWF0ZSB0aGUgYWNjZWxlcmF0aW9uICh3aXRob3V0IHRoZSBncmF2aXR5KVxuICAgICAgdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblswXSA9ICgxICsgaykgKiAwLjUgKiAoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVswXSAtIHRoaXMuX2xhc3RBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5WzBdKSArIGsgKiB0aGlzLl9jYWxjdWxhdGVkQWNjZWxlcmF0aW9uWzBdO1xuICAgICAgdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblsxXSA9ICgxICsgaykgKiAwLjUgKiAoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsxXSAtIHRoaXMuX2xhc3RBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5WzFdKSArIGsgKiB0aGlzLl9jYWxjdWxhdGVkQWNjZWxlcmF0aW9uWzFdO1xuICAgICAgdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblsyXSA9ICgxICsgaykgKiAwLjUgKiAoYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsyXSAtIHRoaXMuX2xhc3RBY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5WzJdKSArIGsgKiB0aGlzLl9jYWxjdWxhdGVkQWNjZWxlcmF0aW9uWzJdO1xuXG4gICAgICB0aGlzLl9sYXN0QWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVswXSA9IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlbMF07XG4gICAgICB0aGlzLl9sYXN0QWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsxXSA9IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlbMV07XG4gICAgICB0aGlzLl9sYXN0QWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eVsyXSA9IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlbMl07XG5cbiAgICAgIG91dEV2ZW50WzBdID0gdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblswXTtcbiAgICAgIG91dEV2ZW50WzFdID0gdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblsxXTtcbiAgICAgIG91dEV2ZW50WzJdID0gdGhpcy5fY2FsY3VsYXRlZEFjY2VsZXJhdGlvblsyXTtcbiAgICB9XG5cbiAgICB0aGlzLmFjY2VsZXJhdGlvbi5lbWl0KG91dEV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyB0aGUgYHJvdGF0aW9uUmF0ZWAgdW5pZmllZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RGV2aWNlTW90aW9uRXZlbnR9IGUgLSBgJ2RldmljZW1vdGlvbidgIGV2ZW50IHRoZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbS5cbiAgICovXG4gIF9lbWl0Um90YXRpb25SYXRlRXZlbnQoZSkge1xuICAgIGxldCBvdXRFdmVudCA9IHRoaXMucm90YXRpb25SYXRlLmV2ZW50O1xuXG4gICAgLy8gSW4gYWxsIHBsYXRmb3Jtcywgcm90YXRpb24gYXhlcyBhcmUgbWVzc2VkIHVwIGFjY29yZGluZyB0byB0aGUgc3BlY1xuICAgIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9kZXZpY2VvcmllbnRhdGlvbi9zcGVjLXNvdXJjZS1vcmllbnRhdGlvbi5odG1sXG4gICAgLy9cbiAgICAvLyBnYW1tYSBzaG91bGQgYmUgYWxwaGFcbiAgICAvLyBhbHBoYSBzaG91bGQgYmUgYmV0YVxuICAgIC8vIGJldGEgc2hvdWxkIGJlIGdhbW1hXG5cbiAgICBvdXRFdmVudFswXSA9IGUucm90YXRpb25SYXRlLmdhbW1hO1xuICAgIG91dEV2ZW50WzFdID0gZS5yb3RhdGlvblJhdGUuYWxwaGEsXG4gICAgb3V0RXZlbnRbMl0gPSBlLnJvdGF0aW9uUmF0ZS5iZXRhO1xuXG4gICAgLy8gQ2hyb21lIEFuZHJvaWQgcmV0cmlldmUgdmFsdWVzIHRoYXQgYXJlIGluIHJhZC9zXG4gICAgLy8gY2YuIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU0MTYwN1xuICAgIC8vXG4gICAgLy8gRnJvbSBzcGVjOiBcIlRoZSByb3RhdGlvblJhdGUgYXR0cmlidXRlIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgcmF0ZVxuICAgIC8vIG9mIHJvdGF0aW9uIG9mIHRoZSBob3N0aW5nIGRldmljZSBpbiBzcGFjZS4gSXQgbXVzdCBiZSBleHByZXNzZWQgYXMgdGhlXG4gICAgLy8gcmF0ZSBvZiBjaGFuZ2Ugb2YgdGhlIGFuZ2xlcyBkZWZpbmVkIGluIHNlY3Rpb24gNC4xIGFuZCBtdXN0IGJlIGV4cHJlc3NlZFxuICAgIC8vIGluIGRlZ3JlZXMgcGVyIHNlY29uZCAoZGVnL3MpLlwiXG4gICAgLy9cbiAgICAvLyBmaXhlZCBzaW5jZSBDaHJvbWUgNjVcbiAgICAvLyBjZi4gaHR0cHM6Ly9naXRodWIuY29tL2ltbWVyc2l2ZS13ZWIvd2VidnItcG9seWZpbGwvaXNzdWVzLzMwN1xuICAgIGlmIChcbiAgICAgIHBsYXRmb3JtLm9zLmZhbWlseSA9PT0gJ0FuZHJvaWQnICYmXG4gICAgICBjaHJvbWVSZWdFeHAudGVzdChwbGF0Zm9ybS5uYW1lKSAmJlxuICAgICAgcGFyc2VJbnQocGxhdGZvcm0udmVyc2lvbi5zcGxpdCgnLicpWzBdKSA8IDY1XG4gICAgKSB7XG4gICAgICBvdXRFdmVudFswXSAqPSB0b0RlZztcbiAgICAgIG91dEV2ZW50WzFdICo9IHRvRGVnLFxuICAgICAgb3V0RXZlbnRbMl0gKj0gdG9EZWc7XG4gICAgfVxuXG4gICAgdGhpcy5yb3RhdGlvblJhdGUuZW1pdChvdXRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBhbmQgZW1pdHMgdGhlIGByb3RhdGlvblJhdGVgIHVuaWZpZWQgdmFsdWVzIGZyb20gdGhlIGBvcmllbnRhdGlvbmAgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBvcmllbnRhdGlvbiAtIExhdGVzdCBgb3JpZW50YXRpb25gIHJhdyB2YWx1ZXMuXG4gICAqL1xuICBfY2FsY3VsYXRlUm90YXRpb25SYXRlRnJvbU9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSB7XG4gICAgY29uc3Qgbm93ID0gZ2V0TG9jYWxUaW1lKCk7XG4gICAgY29uc3QgayA9IDAuODsgLy8gVE9ETzogaW1wcm92ZSBsb3cgcGFzcyBmaWx0ZXIgKGZyYW1lcyBhcmUgbm90IHJlZ3VsYXIpXG4gICAgY29uc3QgYWxwaGFJc1ZhbGlkID0gKHR5cGVvZiBvcmllbnRhdGlvblswXSA9PT0gJ251bWJlcicpO1xuXG4gICAgaWYgKHRoaXMuX2xhc3RPcmllbnRhdGlvblRpbWVzdGFtcCkge1xuICAgICAgbGV0IHJBbHBoYSA9IG51bGw7XG4gICAgICBsZXQgckJldGE7XG4gICAgICBsZXQgckdhbW1hO1xuXG4gICAgICBsZXQgYWxwaGFEaXNjb250aW51aXR5RmFjdG9yID0gMDtcbiAgICAgIGxldCBiZXRhRGlzY29udGludWl0eUZhY3RvciA9IDA7XG4gICAgICBsZXQgZ2FtbWFEaXNjb250aW51aXR5RmFjdG9yID0gMDtcblxuICAgICAgY29uc3QgZGVsdGFUID0gbm93IC0gdGhpcy5fbGFzdE9yaWVudGF0aW9uVGltZXN0YW1wO1xuXG4gICAgICBpZiAoYWxwaGFJc1ZhbGlkKSB7XG4gICAgICAgIC8vIGFscGhhIGRpc2NvbnRpbnVpdHkgKCszNjAgLT4gMCBvciAwIC0+ICszNjApXG4gICAgICAgIGlmICh0aGlzLl9sYXN0T3JpZW50YXRpb25bMF0gPiAzMjAgJiYgb3JpZW50YXRpb25bMF0gPCA0MClcbiAgICAgICAgICBhbHBoYURpc2NvbnRpbnVpdHlGYWN0b3IgPSAzNjA7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2xhc3RPcmllbnRhdGlvblswXSA8IDQwICYmIG9yaWVudGF0aW9uWzBdID4gMzIwKVxuICAgICAgICAgIGFscGhhRGlzY29udGludWl0eUZhY3RvciA9IC0zNjA7XG4gICAgICB9XG5cbiAgICAgIC8vIGJldGEgZGlzY29udGludWl0eSAoKzE4MCAtPiAtMTgwIG9yIC0xODAgLT4gKzE4MClcbiAgICAgIGlmICh0aGlzLl9sYXN0T3JpZW50YXRpb25bMV0gPiAxNDAgJiYgb3JpZW50YXRpb25bMV0gPCAtMTQwKVxuICAgICAgICBiZXRhRGlzY29udGludWl0eUZhY3RvciA9IDM2MDtcbiAgICAgIGVsc2UgaWYgKHRoaXMuX2xhc3RPcmllbnRhdGlvblsxXSA8IC0xNDAgJiYgb3JpZW50YXRpb25bMV0gPiAxNDApXG4gICAgICAgIGJldGFEaXNjb250aW51aXR5RmFjdG9yID0gLTM2MDtcblxuICAgICAgLy8gZ2FtbWEgZGlzY29udGludWl0aWVzICgrMTgwIC0+IC0xODAgb3IgLTE4MCAtPiArMTgwKVxuICAgICAgaWYgKHRoaXMuX2xhc3RPcmllbnRhdGlvblsyXSA+IDUwICYmIG9yaWVudGF0aW9uWzJdIDwgLTUwKVxuICAgICAgICBnYW1tYURpc2NvbnRpbnVpdHlGYWN0b3IgPSAxODA7XG4gICAgICBlbHNlIGlmICh0aGlzLl9sYXN0T3JpZW50YXRpb25bMl0gPCAtNTAgJiYgb3JpZW50YXRpb25bMl0gPiA1MClcbiAgICAgICAgZ2FtbWFEaXNjb250aW51aXR5RmFjdG9yID0gLTE4MDtcblxuICAgICAgaWYgKGRlbHRhVCA+IDApIHtcbiAgICAgICAgLy8gTG93IHBhc3MgZmlsdGVyIHRvIHNtb290aCB0aGUgZGF0YVxuICAgICAgICBpZiAoYWxwaGFJc1ZhbGlkKVxuICAgICAgICAgIHJBbHBoYSA9IGsgKiB0aGlzLl9jYWxjdWxhdGVkUm90YXRpb25SYXRlWzBdICsgKDEgLSBrKSAqIChvcmllbnRhdGlvblswXSAtIHRoaXMuX2xhc3RPcmllbnRhdGlvblswXSArIGFscGhhRGlzY29udGludWl0eUZhY3RvcikgLyBkZWx0YVQ7XG5cbiAgICAgICAgckJldGEgPSBrICogdGhpcy5fY2FsY3VsYXRlZFJvdGF0aW9uUmF0ZVsxXSArICgxIC0gaykgKiAob3JpZW50YXRpb25bMV0gLSB0aGlzLl9sYXN0T3JpZW50YXRpb25bMV0gKyBiZXRhRGlzY29udGludWl0eUZhY3RvcikgLyBkZWx0YVQ7XG4gICAgICAgIHJHYW1tYSA9IGsgKiB0aGlzLl9jYWxjdWxhdGVkUm90YXRpb25SYXRlWzJdICsgKDEgLSBrKSAqIChvcmllbnRhdGlvblsyXSAtIHRoaXMuX2xhc3RPcmllbnRhdGlvblsyXSArIGdhbW1hRGlzY29udGludWl0eUZhY3RvcikgLyBkZWx0YVQ7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlZFJvdGF0aW9uUmF0ZVswXSA9IHJBbHBoYTtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlZFJvdGF0aW9uUmF0ZVsxXSA9IHJCZXRhO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVkUm90YXRpb25SYXRlWzJdID0gckdhbW1hO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiByZXNhbXBsZSB0aGUgZW1pc3Npb24gcmF0ZSB0byBtYXRjaCB0aGUgZGV2aWNlbW90aW9uIHJhdGVcbiAgICAgIHRoaXMucm90YXRpb25SYXRlLmVtaXQodGhpcy5fY2FsY3VsYXRlZFJvdGF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbGFzdE9yaWVudGF0aW9uVGltZXN0YW1wID0gbm93O1xuICAgIHRoaXMuX2xhc3RPcmllbnRhdGlvblswXSA9IG9yaWVudGF0aW9uWzBdO1xuICAgIHRoaXMuX2xhc3RPcmllbnRhdGlvblsxXSA9IG9yaWVudGF0aW9uWzFdO1xuICAgIHRoaXMuX2xhc3RPcmllbnRhdGlvblsyXSA9IG9yaWVudGF0aW9uWzJdO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSByb3RhdGlvbiByYXRlIGNhbiBiZSBjYWxjdWxhdGVkIGZyb20gdGhlIGBvcmllbnRhdGlvbmAgdmFsdWVzIG9yIG5vdC5cbiAgICpcbiAgICogQHRvZG8gLSB0aGlzIHNob3VsZCBiZSByZXZpZXdlZCB0byBjb21wbHkgd2l0aCB0aGUgYXhpcyBvcmRlciBkZWZpbmVkXG4gICAqICBpbiB0aGUgc3BlY1xuICAgKi9cbiAgLy8gV0FSTklOR1xuICAvLyBUaGUgbGluZXMgb2YgY29kZSBiZWxvdyBhcmUgY29tbWVudGVkIGJlY2F1c2Ugb2YgYSBidWcgb2YgQ2hyb21lXG4gIC8vIG9uIHNvbWUgQW5kcm9pZCBkZXZpY2VzLCB3aGVyZSAnZGV2aWNlbW90aW9uJyBldmVudHMgYXJlIG5vdCBzZW50XG4gIC8vIG9yIGNhdWdodCBpZiB0aGUgbGlzdGVuZXIgaXMgc2V0IHVwIGFmdGVyIGEgJ2RldmljZW9yaWVudGF0aW9uJ1xuICAvLyBsaXN0ZW5lci4gSGVyZSwgdGhlIF90cnlPcmllbnRhdGlvbkZhbGxiYWNrIG1ldGhvZCB3b3VsZCBhZGQgYVxuICAvLyAnZGV2aWNlb3JpZW50YXRpb24nIGxpc3RlbmVyIGFuZCBibG9jayBhbGwgc3Vic2VxdWVudCAnZGV2aWNlbW90aW9uJ1xuICAvLyBldmVudHMgb24gdGhlc2UgZGV2aWNlcy4gQ29tbWVudHMgd2lsbCBiZSByZW1vdmVkIG9uY2UgdGhlIGJ1ZyBvZlxuICAvLyBDaHJvbWUgaXMgY29ycmVjdGVkLlxuICAvLyBfdHJ5T3JpZW50YXRpb25GYWxsYmFjaygpIHtcbiAgLy8gICBNb3Rpb25JbnB1dC5yZXF1aXJlTW9kdWxlKCdvcmllbnRhdGlvbicpXG4gIC8vICAgICAudGhlbigob3JpZW50YXRpb24pID0+IHtcbiAgLy8gICAgICAgaWYgKG9yaWVudGF0aW9uLmlzVmFsaWQpIHtcbiAgLy8gICAgICAgICBjb25zb2xlLmxvZyhgXG4gIC8vICAgICAgICAgICBXQVJOSU5HIChtb3Rpb24taW5wdXQpOiBUaGUgJ2RldmljZW1vdGlvbicgZXZlbnQgZG9lcyBub3QgZXhpc3RzIG9yXG4gIC8vICAgICAgICAgICBkb2VzIG5vdCBwcm92aWRlIHJvdGF0aW9uIHJhdGUgdmFsdWVzIGluIHlvdXIgYnJvd3Nlciwgc28gdGhlIHJvdGF0aW9uXG4gIC8vICAgICAgICAgICByYXRlIG9mIHRoZSBkZXZpY2UgaXMgZXN0aW1hdGVkIGZyb20gdGhlICdvcmllbnRhdGlvbicsIGNhbGN1bGF0ZWRcbiAgLy8gICAgICAgICAgIGZyb20gdGhlICdkZXZpY2VvcmllbnRhdGlvbicgZXZlbnQuIFNpbmNlIHRoZSBjb21wYXNzIG1pZ2h0IG5vdFxuICAvLyAgICAgICAgICAgYmUgYXZhaWxhYmxlLCBvbmx5IFxcYGJldGFcXGAgYW5kIFxcYGdhbW1hXFxgIGFuZ2xlcyBtYXkgYmUgcHJvdmlkZWRcbiAgLy8gICAgICAgICAgIChcXGBhbHBoYVxcYCB3b3VsZCBiZSBudWxsKS5gXG4gIC8vICAgICAgICAgKTtcblxuICAvLyAgICAgICAgIHRoaXMucm90YXRpb25SYXRlLmlzQ2FsY3VsYXRlZCA9IHRydWU7XG5cbiAgLy8gICAgICAgICBNb3Rpb25JbnB1dC5hZGRMaXN0ZW5lcignb3JpZW50YXRpb24nLCAob3JpZW50YXRpb24pID0+IHtcbiAgLy8gICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVJvdGF0aW9uUmF0ZUZyb21PcmllbnRhdGlvbihvcmllbnRhdGlvbik7XG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgIH1cblxuICAvLyAgICAgICB0aGlzLl9wcm9taXNlUmVzb2x2ZSh0aGlzKTtcbiAgLy8gICAgIH0pO1xuICAvLyB9XG5cbiAgX3Byb2Nlc3MoZGF0YSkge1xuICAgIHRoaXMuX3Byb2Nlc3NGdW5jdGlvbihkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBvZiB0aGUgbW9kdWxlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtwcm9taXNlfVxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5fcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICBpZiAod2luZG93LkRldmljZU1vdGlvbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGdW5jdGlvbiA9IHRoaXMuX2RldmljZW1vdGlvbkNoZWNrO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgdGhpcy5fcHJvY2Vzcyk7XG5cbiAgICAgICAgLy8gc2V0IGZhbGxiYWNrIHRpbWVvdXQgZm9yIEZpcmVmb3ggZGVza3RvcCAoaXRzIHdpbmRvdyBuZXZlciBjYWxsaW5nIHRoZSBEZXZpY2VPcmllbnRhdGlvbiBldmVudCwgYVxuICAgICAgICAvLyByZXF1aXJlIG9mIHRoZSBEZXZpY2VPcmllbnRhdGlvbiBzZXJ2aWNlIHdpbGwgcmVzdWx0IGluIHRoZSByZXF1aXJlIHByb21pc2UgbmV2ZXIgYmVpbmcgcmVzb2x2ZWRcbiAgICAgICAgLy8gaGVuY2UgdGhlIEV4cGVyaW1lbnQgc3RhcnQoKSBtZXRob2QgbmV2ZXIgY2FsbGVkKVxuICAgICAgICAvLyA+IG5vdGUgMDIvMDIvMjAxODogdGhpcyBzZWVtcyB0byBjcmVhdGUgcHJvYmxlbXMgd2l0aCBpcG9kcyB0aGF0XG4gICAgICAgIC8vIGRvbid0IGhhdmUgZW5vdWdoIHRpbWUgdG8gc3RhcnQgKHNvbWV0aW1lcyksIGhlbmNlIGNyZWF0aW5nIGZhbHNlXG4gICAgICAgIC8vIG5lZ2F0aXZlLiBTbyB3ZSBvbmx5IGFwcGx5IHRvIEZpcmVmb3ggZGVza3RvcCBhbmQgcHV0IGEgcmVhbGx5XG4gICAgICAgIC8vIGxhcmdlIHZhbHVlICg0c2VjKSBqdXN0IGluIGNhc2UuXG4gICAgICAgIGlmIChwbGF0Zm9ybS5uYW1lID09PSAnRmlyZWZveCcgJiZcbiAgICAgICAgICBwbGF0Zm9ybS5vcy5mYW1pbHkgIT09ICdBbmRyb2lkJyAmJlxuICAgICAgICAgIHBsYXRmb3JtLm9zLmZhbWlseSAhPT0gJ2lPUydcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbbW90aW9uLWlucHV0XSByZWdpc3RlciB0aW1lciBmb3IgRmlyZWZveCBkZXNrdG9wJyk7XG4gICAgICAgICAgdGhpcy5fY2hlY2tUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUodGhpcyksIDQgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXQVJOSU5HXG4gICAgICAvLyBUaGUgbGluZXMgb2YgY29kZSBiZWxvdyBhcmUgY29tbWVudGVkIGJlY2F1c2Ugb2YgYSBidWcgb2YgQ2hyb21lXG4gICAgICAvLyBvbiBzb21lIEFuZHJvaWQgZGV2aWNlcywgd2hlcmUgJ2RldmljZW1vdGlvbicgZXZlbnRzIGFyZSBub3Qgc2VudFxuICAgICAgLy8gb3IgY2F1Z2h0IGlmIHRoZSBsaXN0ZW5lciBpcyBzZXQgdXAgYWZ0ZXIgYSAnZGV2aWNlb3JpZW50YXRpb24nXG4gICAgICAvLyBsaXN0ZW5lci4gSGVyZSwgdGhlIF90cnlPcmllbnRhdGlvbkZhbGxiYWNrIG1ldGhvZCB3b3VsZCBhZGQgYVxuICAgICAgLy8gJ2RldmljZW9yaWVudGF0aW9uJyBsaXN0ZW5lciBhbmQgYmxvY2sgYWxsIHN1YnNlcXVlbnQgJ2RldmljZW1vdGlvbidcbiAgICAgIC8vIGV2ZW50cyBvbiB0aGVzZSBkZXZpY2VzLiBDb21tZW50cyB3aWxsIGJlIHJlbW92ZWQgb25jZSB0aGUgYnVnIG9mXG4gICAgICAvLyBDaHJvbWUgaXMgY29ycmVjdGVkLlxuXG4gICAgICAvLyBlbHNlIGlmICh0aGlzLnJlcXVpcmVkLnJvdGF0aW9uUmF0ZSlcbiAgICAgIC8vIHRoaXMuX3RyeU9yaWVudGF0aW9uRmFsbGJhY2soKTtcblxuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBEZXZpY2VNb3Rpb25Nb2R1bGUoKTtcbiJdfQ==","deps":{"./InputModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js","./MotionInput":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js","./DOMEventSubmodule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js","platform":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/platform/platform.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MotionInput = require('./MotionInput');\n\nvar _MotionInput2 = _interopRequireDefault(_MotionInput);\n\nvar _DeviceOrientationModule = require('./DeviceOrientationModule');\n\nvar _DeviceOrientationModule2 = _interopRequireDefault(_DeviceOrientationModule);\n\nvar _DeviceMotionModule = require('./DeviceMotionModule');\n\nvar _DeviceMotionModule2 = _interopRequireDefault(_DeviceMotionModule);\n\nvar _EnergyModule = require('./EnergyModule');\n\nvar _EnergyModule2 = _interopRequireDefault(_EnergyModule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The motion input module can be used as follows\n *\n * @example\n * import motionInput from 'motion-input';\n * const requiredEvents = ;\n *\n * motionInput\n *  .init(['acceleration', 'orientation', 'energy'])\n *  .then(([acceleration, orientation, energy]) => {\n *    if (acceleration.isValid) {\n *      acceleration.addListener((data) => {\n *        console.log('acceleration', data);\n *        // do something with the acceleration values\n *      });\n *    }\n *\n *    // ...\n *  });\n */\n_MotionInput2.default.addModule('devicemotion', _DeviceMotionModule2.default);\n_MotionInput2.default.addModule('deviceorientation', _DeviceOrientationModule2.default);\n_MotionInput2.default.addModule('accelerationIncludingGravity', _DeviceMotionModule2.default.accelerationIncludingGravity);\n_MotionInput2.default.addModule('acceleration', _DeviceMotionModule2.default.acceleration);\n_MotionInput2.default.addModule('rotationRate', _DeviceMotionModule2.default.rotationRate);\n_MotionInput2.default.addModule('orientation', _DeviceOrientationModule2.default.orientation);\n_MotionInput2.default.addModule('orientationAlt', _DeviceOrientationModule2.default.orientationAlt);\n_MotionInput2.default.addModule('energy', _EnergyModule2.default);\n\nexports.default = _MotionInput2.default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFkZE1vZHVsZSIsImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJhY2NlbGVyYXRpb24iLCJyb3RhdGlvblJhdGUiLCJvcmllbnRhdGlvbiIsIm9yaWVudGF0aW9uQWx0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFvQkE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQXZCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QkEsc0JBQVlBLFNBQVosQ0FBc0IsY0FBdEI7QUFDQSxzQkFBWUEsU0FBWixDQUFzQixtQkFBdEI7QUFDQSxzQkFBWUEsU0FBWixDQUFzQiw4QkFBdEIsRUFBc0QsNkJBQW1CQyw0QkFBekU7QUFDQSxzQkFBWUQsU0FBWixDQUFzQixjQUF0QixFQUFzQyw2QkFBbUJFLFlBQXpEO0FBQ0Esc0JBQVlGLFNBQVosQ0FBc0IsY0FBdEIsRUFBc0MsNkJBQW1CRyxZQUF6RDtBQUNBLHNCQUFZSCxTQUFaLENBQXNCLGFBQXRCLEVBQXFDLGtDQUF3QkksV0FBN0Q7QUFDQSxzQkFBWUosU0FBWixDQUFzQixnQkFBdEIsRUFBd0Msa0NBQXdCSyxjQUFoRTtBQUNBLHNCQUFZTCxTQUFaLENBQXNCLFFBQXRCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgbW90aW9uIGlucHV0IG1vZHVsZSBjYW4gYmUgdXNlZCBhcyBmb2xsb3dzXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBtb3Rpb25JbnB1dCBmcm9tICdtb3Rpb24taW5wdXQnO1xuICogY29uc3QgcmVxdWlyZWRFdmVudHMgPSA7XG4gKlxuICogbW90aW9uSW5wdXRcbiAqICAuaW5pdChbJ2FjY2VsZXJhdGlvbicsICdvcmllbnRhdGlvbicsICdlbmVyZ3knXSlcbiAqICAudGhlbigoW2FjY2VsZXJhdGlvbiwgb3JpZW50YXRpb24sIGVuZXJneV0pID0+IHtcbiAqICAgIGlmIChhY2NlbGVyYXRpb24uaXNWYWxpZCkge1xuICogICAgICBhY2NlbGVyYXRpb24uYWRkTGlzdGVuZXIoKGRhdGEpID0+IHtcbiAqICAgICAgICBjb25zb2xlLmxvZygnYWNjZWxlcmF0aW9uJywgZGF0YSk7XG4gKiAgICAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGFjY2VsZXJhdGlvbiB2YWx1ZXNcbiAqICAgICAgfSk7XG4gKiAgICB9XG4gKlxuICogICAgLy8gLi4uXG4gKiAgfSk7XG4gKi9cbmltcG9ydCBtb3Rpb25JbnB1dCBmcm9tICcuL01vdGlvbklucHV0JztcbmltcG9ydCBkZXZpY2VvcmllbnRhdGlvbk1vZHVsZSBmcm9tICcuL0RldmljZU9yaWVudGF0aW9uTW9kdWxlJztcbmltcG9ydCBkZXZpY2Vtb3Rpb25Nb2R1bGUgZnJvbSAnLi9EZXZpY2VNb3Rpb25Nb2R1bGUnO1xuaW1wb3J0IGVuZXJneSBmcm9tICcuL0VuZXJneU1vZHVsZSc7XG5cbm1vdGlvbklucHV0LmFkZE1vZHVsZSgnZGV2aWNlbW90aW9uJywgZGV2aWNlbW90aW9uTW9kdWxlKTtcbm1vdGlvbklucHV0LmFkZE1vZHVsZSgnZGV2aWNlb3JpZW50YXRpb24nLCBkZXZpY2VvcmllbnRhdGlvbk1vZHVsZSk7XG5tb3Rpb25JbnB1dC5hZGRNb2R1bGUoJ2FjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHknLCBkZXZpY2Vtb3Rpb25Nb2R1bGUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSk7XG5tb3Rpb25JbnB1dC5hZGRNb2R1bGUoJ2FjY2VsZXJhdGlvbicsIGRldmljZW1vdGlvbk1vZHVsZS5hY2NlbGVyYXRpb24pO1xubW90aW9uSW5wdXQuYWRkTW9kdWxlKCdyb3RhdGlvblJhdGUnLCBkZXZpY2Vtb3Rpb25Nb2R1bGUucm90YXRpb25SYXRlKTtcbm1vdGlvbklucHV0LmFkZE1vZHVsZSgnb3JpZW50YXRpb24nLCBkZXZpY2VvcmllbnRhdGlvbk1vZHVsZS5vcmllbnRhdGlvbik7XG5tb3Rpb25JbnB1dC5hZGRNb2R1bGUoJ29yaWVudGF0aW9uQWx0JywgZGV2aWNlb3JpZW50YXRpb25Nb2R1bGUub3JpZW50YXRpb25BbHQpO1xubW90aW9uSW5wdXQuYWRkTW9kdWxlKCdlbmVyZ3knLCBlbmVyZ3kpO1xuXG5leHBvcnQgZGVmYXVsdCBtb3Rpb25JbnB1dDtcbiJdfQ==","deps":{"./MotionInput":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js","./EnergyModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/EnergyModule.js","./DeviceOrientationModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceOrientationModule.js","./DeviceMotionModule":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceMotionModule.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MotionInput.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MotionInput.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _motionInput = require('@ircam/motion-input');\n\nvar _motionInput2 = _interopRequireDefault(_motionInput);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:motion-input';\n\n/**\n * Interface for the client `'motion-input'` service.\n *\n * This service provides a wrapper for the\n * [`motionInput`]{@link https://github.com/collective-soundworks/motion-input}\n * external module.\n *\n * @memberof module:soundworks/client\n * @example\n * // in the experince constructor\n * this.motionInput = this.require('motion-input', { descriptors: ['energy'] });\n * // when the experience has started\n * if (this.motionInput.isAvailable('energy')) {\n *   this.motionInput.addListener('energy', (data) => {\n *     // digest motion data\n *   });\n * } else {\n *   // handle error\n * }\n */\n\nvar MotionInput = function (_Service) {\n  (0, _inherits3.default)(MotionInput, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function MotionInput() {\n    (0, _classCallCheck3.default)(this, MotionInput);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (MotionInput.__proto__ || (0, _getPrototypeOf2.default)(MotionInput)).call(this, SERVICE_ID, false));\n\n    var defaults = {\n      descriptors: []\n      // @todo - how to handle if only some descriptors are invalid ?\n      // showError: false,\n    };\n\n    _this.configure(defaults);\n    // @todo - should be handled directly inside the motionInput\n    _this._descriptorsValidity = {};\n    _this._descriptorsPeriod = {};\n    return _this;\n  }\n\n  /**\n   * Override default configure to add descriptors from multiple calls.\n   * @private\n   * @param {Object} options - The options to apply to the service.\n   */\n\n\n  (0, _createClass3.default)(MotionInput, [{\n    key: 'configure',\n    value: function configure(options) {\n      if (this.options.descriptors) options.descriptors = this.options.descriptors.concat(options.descriptors);\n\n      (0, _get3.default)(MotionInput.prototype.__proto__ || (0, _getPrototypeOf2.default)(MotionInput.prototype), 'configure', this).call(this, options);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(MotionInput.prototype.__proto__ || (0, _getPrototypeOf2.default)(MotionInput.prototype), 'start', this).call(this);\n\n      _motionInput2.default.init.apply(_motionInput2.default, (0, _toConsumableArray3.default)(this.options.descriptors)).then(function (modules) {\n        _this2.options.descriptors.forEach(function (name, index) {\n          _this2._descriptorsValidity[name] = modules[index].isValid;\n          _this2._descriptorsPeriod[name] = modules[index].period;\n        });\n\n        _this2.ready();\n      }).catch(function (err) {\n        return console.error(err.stack);\n      });\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      (0, _get3.default)(MotionInput.prototype.__proto__ || (0, _getPrototypeOf2.default)(MotionInput.prototype), 'stop', this).call(this);\n    }\n\n    /**\n     * Define if a given descriptor is available or not\n     * @param {String} name - Descriptor name.\n     * @returns {Boolean} - Returns `true` if available, `false` otherwise.\n     */\n\n  }, {\n    key: 'isAvailable',\n    value: function isAvailable(name) {\n      return this._descriptorsValidity[name];\n    }\n\n    /**\n     * Returns the event period of a descriptor\n     * @param {String} name - Descriptor name.\n     * @returns {Number} - Event period (in seconds).\n     */\n\n  }, {\n    key: 'getPeriod',\n    value: function getPeriod(name) {\n      return this._descriptorsPeriod[name];\n    }\n\n    /**\n     * Add a listener to a given descriptor.\n     * @param {String} name - Descriptor name.\n     * @param {Function} callback - Callback to register.\n     */\n\n  }, {\n    key: 'addListener',\n    value: function addListener(name, callback) {\n      if (this._descriptorsValidity[name]) _motionInput2.default.addListener(name, callback);\n    }\n\n    /**\n     * Remove a listener of events triggered by a given descriptor.\n     * @param {String} name - Descriptor name.\n     * @param {Function} callback - Callback to remove.\n     */\n\n  }, {\n    key: 'removeListener',\n    value: function removeListener(name, callback) {\n      if (this._descriptorsValidity[name]) _motionInput2.default.removeListener(name, callback);\n    }\n  }]);\n  return MotionInput;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, MotionInput);\n\nexports.default = MotionInput;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vdGlvbklucHV0LmpzIl0sIm5hbWVzIjpbIlNFUlZJQ0VfSUQiLCJNb3Rpb25JbnB1dCIsImRlZmF1bHRzIiwiZGVzY3JpcHRvcnMiLCJjb25maWd1cmUiLCJfZGVzY3JpcHRvcnNWYWxpZGl0eSIsIl9kZXNjcmlwdG9yc1BlcmlvZCIsIm9wdGlvbnMiLCJjb25jYXQiLCJtb3Rpb25JbnB1dCIsImluaXQiLCJ0aGVuIiwibW9kdWxlcyIsImZvckVhY2giLCJuYW1lIiwiaW5kZXgiLCJpc1ZhbGlkIiwicGVyaW9kIiwicmVhZHkiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInN0YWNrIiwiY2FsbGJhY2siLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLGFBQWEsc0JBQW5COztBQUdBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFvQk1DLFc7OztBQUNKO0FBQ0EseUJBQWM7QUFBQTs7QUFBQSxnSkFDTkQsVUFETSxFQUNNLEtBRE47O0FBR1osUUFBTUUsV0FBVztBQUNmQyxtQkFBYTtBQUNiO0FBQ0E7QUFIZSxLQUFqQjs7QUFNQSxVQUFLQyxTQUFMLENBQWVGLFFBQWY7QUFDQTtBQUNBLFVBQUtHLG9CQUFMLEdBQTRCLEVBQTVCO0FBQ0EsVUFBS0Msa0JBQUwsR0FBMEIsRUFBMUI7QUFaWTtBQWFiOztBQUVEOzs7Ozs7Ozs7OEJBS1VDLE8sRUFBUztBQUNqQixVQUFJLEtBQUtBLE9BQUwsQ0FBYUosV0FBakIsRUFDRUksUUFBUUosV0FBUixHQUFzQixLQUFLSSxPQUFMLENBQWFKLFdBQWIsQ0FBeUJLLE1BQXpCLENBQWdDRCxRQUFRSixXQUF4QyxDQUF0Qjs7QUFFRixnSkFBZ0JJLE9BQWhCO0FBQ0Q7O0FBRUQ7Ozs7NEJBQ1E7QUFBQTs7QUFDTjs7QUFFQUUsNEJBQ0dDLElBREgsK0RBQ1csS0FBS0gsT0FBTCxDQUFhSixXQUR4QixHQUVHUSxJQUZILENBRVEsVUFBQ0MsT0FBRCxFQUFhO0FBQ2pCLGVBQUtMLE9BQUwsQ0FBYUosV0FBYixDQUF5QlUsT0FBekIsQ0FBaUMsVUFBQ0MsSUFBRCxFQUFPQyxLQUFQLEVBQWlCO0FBQ2hELGlCQUFLVixvQkFBTCxDQUEwQlMsSUFBMUIsSUFBa0NGLFFBQVFHLEtBQVIsRUFBZUMsT0FBakQ7QUFDQSxpQkFBS1Ysa0JBQUwsQ0FBd0JRLElBQXhCLElBQWdDRixRQUFRRyxLQUFSLEVBQWVFLE1BQS9DO0FBQ0QsU0FIRDs7QUFLQSxlQUFLQyxLQUFMO0FBQ0QsT0FUSCxFQVVHQyxLQVZILENBVVMsVUFBQ0MsR0FBRDtBQUFBLGVBQVNDLFFBQVFDLEtBQVIsQ0FBY0YsSUFBSUcsS0FBbEIsQ0FBVDtBQUFBLE9BVlQ7QUFXRDs7QUFFRDs7OzsyQkFDTztBQUNMO0FBQ0Q7O0FBRUQ7Ozs7Ozs7O2dDQUtZVCxJLEVBQU07QUFDaEIsYUFBTyxLQUFLVCxvQkFBTCxDQUEwQlMsSUFBMUIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs4QkFLVUEsSSxFQUFNO0FBQ2QsYUFBTyxLQUFLUixrQkFBTCxDQUF3QlEsSUFBeEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OztnQ0FLWUEsSSxFQUFNVSxRLEVBQVU7QUFDMUIsVUFBSSxLQUFLbkIsb0JBQUwsQ0FBMEJTLElBQTFCLENBQUosRUFDRUwsc0JBQVlnQixXQUFaLENBQXdCWCxJQUF4QixFQUE4QlUsUUFBOUI7QUFDSDs7QUFFRDs7Ozs7Ozs7bUNBS2VWLEksRUFBTVUsUSxFQUFVO0FBQzdCLFVBQUksS0FBS25CLG9CQUFMLENBQTBCUyxJQUExQixDQUFKLEVBQ0VMLHNCQUFZaUIsY0FBWixDQUEyQlosSUFBM0IsRUFBaUNVLFFBQWpDO0FBQ0g7OztFQXZGdUJHLGlCOztBQTBGMUJDLHlCQUFlQyxRQUFmLENBQXdCN0IsVUFBeEIsRUFBb0NDLFdBQXBDOztrQkFFZUEsVyIsImZpbGUiOiJNb3Rpb25JbnB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb3Rpb25JbnB1dCBmcm9tICdAaXJjYW0vbW90aW9uLWlucHV0JztcbmltcG9ydCBTZXJ2aWNlIGZyb20gJy4uL2NvcmUvU2VydmljZSc7XG5pbXBvcnQgc2VydmljZU1hbmFnZXIgZnJvbSAnLi4vY29yZS9zZXJ2aWNlTWFuYWdlcic7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTptb3Rpb24taW5wdXQnO1xuXG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGAnbW90aW9uLWlucHV0J2Agc2VydmljZS5cbiAqXG4gKiBUaGlzIHNlcnZpY2UgcHJvdmlkZXMgYSB3cmFwcGVyIGZvciB0aGVcbiAqIFtgbW90aW9uSW5wdXRgXXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vY29sbGVjdGl2ZS1zb3VuZHdvcmtzL21vdGlvbi1pbnB1dH1cbiAqIGV4dGVybmFsIG1vZHVsZS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKiBAZXhhbXBsZVxuICogLy8gaW4gdGhlIGV4cGVyaW5jZSBjb25zdHJ1Y3RvclxuICogdGhpcy5tb3Rpb25JbnB1dCA9IHRoaXMucmVxdWlyZSgnbW90aW9uLWlucHV0JywgeyBkZXNjcmlwdG9yczogWydlbmVyZ3knXSB9KTtcbiAqIC8vIHdoZW4gdGhlIGV4cGVyaWVuY2UgaGFzIHN0YXJ0ZWRcbiAqIGlmICh0aGlzLm1vdGlvbklucHV0LmlzQXZhaWxhYmxlKCdlbmVyZ3knKSkge1xuICogICB0aGlzLm1vdGlvbklucHV0LmFkZExpc3RlbmVyKCdlbmVyZ3knLCAoZGF0YSkgPT4ge1xuICogICAgIC8vIGRpZ2VzdCBtb3Rpb24gZGF0YVxuICogICB9KTtcbiAqIH0gZWxzZSB7XG4gKiAgIC8vIGhhbmRsZSBlcnJvclxuICogfVxuICovXG5jbGFzcyBNb3Rpb25JbnB1dCBleHRlbmRzIFNlcnZpY2Uge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIGZhbHNlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgZGVzY3JpcHRvcnM6IFtdLFxuICAgICAgLy8gQHRvZG8gLSBob3cgdG8gaGFuZGxlIGlmIG9ubHkgc29tZSBkZXNjcmlwdG9ycyBhcmUgaW52YWxpZCA/XG4gICAgICAvLyBzaG93RXJyb3I6IGZhbHNlLFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG4gICAgLy8gQHRvZG8gLSBzaG91bGQgYmUgaGFuZGxlZCBkaXJlY3RseSBpbnNpZGUgdGhlIG1vdGlvbklucHV0XG4gICAgdGhpcy5fZGVzY3JpcHRvcnNWYWxpZGl0eSA9IHt9O1xuICAgIHRoaXMuX2Rlc2NyaXB0b3JzUGVyaW9kID0ge307XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgZGVmYXVsdCBjb25maWd1cmUgdG8gYWRkIGRlc2NyaXB0b3JzIGZyb20gbXVsdGlwbGUgY2FsbHMuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHNlcnZpY2UuXG4gICAqL1xuICBjb25maWd1cmUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVzY3JpcHRvcnMpXG4gICAgICBvcHRpb25zLmRlc2NyaXB0b3JzID0gdGhpcy5vcHRpb25zLmRlc2NyaXB0b3JzLmNvbmNhdChvcHRpb25zLmRlc2NyaXB0b3JzKTtcblxuICAgIHN1cGVyLmNvbmZpZ3VyZShvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgbW90aW9uSW5wdXRcbiAgICAgIC5pbml0KC4uLnRoaXMub3B0aW9ucy5kZXNjcmlwdG9ycylcbiAgICAgIC50aGVuKChtb2R1bGVzKSA9PiB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kZXNjcmlwdG9ycy5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0b3JzVmFsaWRpdHlbbmFtZV0gPSBtb2R1bGVzW2luZGV4XS5pc1ZhbGlkO1xuICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0b3JzUGVyaW9kW25hbWVdID0gbW9kdWxlc1tpbmRleF0ucGVyaW9kO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIGlmIGEgZ2l2ZW4gZGVzY3JpcHRvciBpcyBhdmFpbGFibGUgb3Igbm90XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gRGVzY3JpcHRvciBuYW1lLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBSZXR1cm5zIGB0cnVlYCBpZiBhdmFpbGFibGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNBdmFpbGFibGUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdG9yc1ZhbGlkaXR5W25hbWVdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGV2ZW50IHBlcmlvZCBvZiBhIGRlc2NyaXB0b3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBEZXNjcmlwdG9yIG5hbWUuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gRXZlbnQgcGVyaW9kIChpbiBzZWNvbmRzKS5cbiAgICovXG4gIGdldFBlcmlvZChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3JzUGVyaW9kW25hbWVdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGxpc3RlbmVyIHRvIGEgZ2l2ZW4gZGVzY3JpcHRvci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBEZXNjcmlwdG9yIG5hbWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdG8gcmVnaXN0ZXIuXG4gICAqL1xuICBhZGRMaXN0ZW5lcihuYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLl9kZXNjcmlwdG9yc1ZhbGlkaXR5W25hbWVdKVxuICAgICAgbW90aW9uSW5wdXQuYWRkTGlzdGVuZXIobmFtZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGxpc3RlbmVyIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgYSBnaXZlbiBkZXNjcmlwdG9yLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIERlc2NyaXB0b3IgbmFtZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcihuYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLl9kZXNjcmlwdG9yc1ZhbGlkaXR5W25hbWVdKVxuICAgICAgbW90aW9uSW5wdXQucmVtb3ZlTGlzdGVuZXIobmFtZSwgY2FsbGJhY2spO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIE1vdGlvbklucHV0KTtcblxuZXhwb3J0IGRlZmF1bHQgTW90aW9uSW5wdXQ7XG4iXX0=","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/toConsumableArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","@ircam/motion-input":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js","source":"// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","source":"'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","deps":{"./_string-at":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_string-at.js","./_iter-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.of.js","source":"// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","deps":{"./_set-collection-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.map.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.map.js","source":"'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","deps":{"./_validate-collection":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js","./_collection":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection.js","./_collection-strong":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-strong.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.from.js","source":"// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","deps":{"./_set-collection-from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator.js","source":"var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","deps":{"./core.get-iterator-method":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/get-iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/get-iterator.js","source":"require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","deps":{"../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../modules/core.get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","deps":{"core-js/library/fn/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/get-iterator.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioBufferManager.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioBufferManager.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _wavesAudio = require('waves-audio');\n\nvar _wavesLoaders = require('waves-loaders');\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `audio-buffer-manager` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractAudioBufferManagerView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Update the progress bar of the view with the given ratio.\n *\n * @name setProgressRatio\n * @memberof module:soundworks/client.AbstractAudioBufferManagerView\n * @function\n * @abstract\n * @instance\n *\n * @param {Number} ratio - Progress ratio of the loaded assets (between 0 and 1).\n */\n\nvar SERVICE_ID = 'service:audio-buffer-manager';\nvar log = (0, _debug2.default)('soundworks:services:audio-buffer-manager');\n\nfunction flattenLists(a) {\n  var ret = [];\n  var fun = function fun(val) {\n    return Array.isArray(val) ? val.forEach(fun) : ret.push(val);\n  };\n  fun(a);\n  return ret;\n}\n\nfunction clonePathObj(value) {\n  if ((typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n    var className = value.constructor.name;\n    var clone = null;\n\n    if (className === 'Object') clone = {};else if (className === 'Array') clone = [];else return value;\n\n    for (var key in value) {\n      clone[key] = clonePathObj(value[key]);\n    }return clone;\n  }\n\n  return value;\n}\n\n// const regexp = /\\.[a-zA-Z0-9]{3,4}$/;\n\n// supported media formats + json\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats\nvar regexp = /\\.(wav|mp3|mp4|aac|aif|aiff|ogg|webm|flac|json)$/i;\n\nfunction isFilePath(str) {\n  return typeof str === 'string' && regexp.test(str);\n}\n\nfunction isDirSpec(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj)) === 'object' && typeof obj.path === 'string';\n}\n\nfunction decomposePathObj(obj, pathList, refList) {\n  var dirs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  for (var key in obj) {\n    var value = obj[key];\n\n    if (!dirs && isFilePath(value) || dirs && isDirSpec(value)) {\n      var ref = { obj: obj, key: key };\n      var index = -1;\n\n      if (!dirs) index = pathList.indexOf(value);\n\n      if (index === -1) {\n        var length = pathList.push(value);\n\n        index = length - 1;\n        refList[index] = [];\n      }\n\n      refList[index].push(ref);\n\n      obj[key] = null;\n    } else if ((typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n      decomposePathObj(value, pathList, refList, dirs);\n    }\n  }\n}\n\nfunction populateRefList(refList, loadedObjList) {\n  var length = refList.length;\n\n  if (length !== loadedObjList.length) {\n    throw new Error('[' + SERVICE_ID + '] Loaded Buffers do not match file definion');\n  }\n\n  for (var i = 0; i < length; i++) {\n    var refs = refList[i];\n\n    for (var j = 0, l = refs.length; j < l; j++) {\n      var ref = refs[j];\n      var obj = ref.obj;\n      var key = ref.key;\n\n      obj[key] = loadedObjList[i];\n    }\n  }\n}\n\nfunction createObjFromPathList(pathList, commonPath) {\n  var obj = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (0, _getIterator3.default)(pathList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var path = _step.value;\n\n      var subPathIndex = path.indexOf(commonPath);\n\n      if (subPathIndex >= 0) {\n        subPathIndex += commonPath.length;\n\n        if (path[subPathIndex] === '/') subPathIndex++;\n\n        var subPath = path.substring(subPathIndex);\n        var nodes = subPath.split('/');\n        var depth = nodes.length;\n        var ref = obj;\n        var i = void 0;\n\n        for (i = 0; i < depth - 1; i++) {\n          var key = nodes[i];\n\n          if (ref[key] === undefined) ref[key] = [];\n\n          ref = ref[key];\n        }\n\n        ref.push(path);\n      }\n\n      // transform empty array to object\n      if (obj.length === 0) obj = (0, _assign2.default)({}, obj);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction prefixPaths(pathList, prefix) {\n  // test absolute urls (or protocol relative)\n  var isAbsolute = /^https?:\\/\\/|^\\/\\//i;\n\n  pathList = pathList.map(function (path) {\n    if (isAbsolute.test(path) || prefix === '/') return path;else return prefix + path;\n  });\n\n  return pathList;\n}\n\n/**\n * Interface for the client `'audio-buffer-manager'` service.\n *\n * This service allows to preload files and store them into buffers\n * before the beginning of the experience. Audio files will be converted and\n * stored into AudioBuffer objects.\n *\n * @param {Object} options\n * @param {Array<String>} options.assetsDomain - Prefix concatenated to all\n *  given paths.\n * @param {Object} options.files - Definition of files to load.\n * @param {Object} options.directories - Definition of directories to load.\n * @param {Array<String>} options.directories - List of directories to load.\n * @param {String|module:soundworks/client.FileSystem~ListConfig} [options.directories=null] -\n *  Load all the files in particular directories. If setted this option relies\n *  on the {@link module:soundworks/client.FileSystem} which itself relies on\n *  its server counterpart, the audio-buffer-manager can then no longer be\n *  considered as a client-only service.\n *\n * @memberof module:soundworks/client\n * @example\n * // require and configure the `audio-buffer-manager` inside the experience\n * // constructor\n * // Defining a single array of audio files results in a single\n * // array of audio buffers associated to the identifier `default`.\n *\n * // There are two different ways to specify the files to be loaded and the\n * // data structure in which the loaded data objects are arranged:\n * //\n * // (1.) With the 'files' option, the files and structure are defined by an\n * // object of any depth that contains file paths. All specified files are\n * // loaded and the loaded data objects are stored into an object of the same\n * // structure as the definition object.\n *\n * this.audioBufferManager = this.require('audio-buffer-manager', { files: [\n *   'sounds/drums/kick.mp3',\n *   'sounds/drums/snare.mp3'\n * ]});\n *\n * this.audioBufferManager = this.require('audio-buffer-manager', { files: {\n *   kick: 'sounds/kick_44kHz.mp3',\n *   snare: 'sounds/808snare.mp3'\n * }});\n *\n * this.audioBufferManager = this.require('audio-buffer-manager', { files: {\n *   latin: {\n *     audio: 'loops/sheila-e-raspberry.mp3',\n *     markers: 'loops/sheila-e-raspberry-markers.json',\n *   },\n *   jazz: {\n *     audio: 'loops/nussbaum-shuffle.mp3',\n *     markers: 'loops/nussbaum-shuffle-markers.json',\n *   },\n * }});\n *\n * this.audioBufferManager = this.require('audio-buffer-manager', { files: {\n *   instruments: [\n *     'sounds/instruments/kick_44kHz.mp3',\n *     'sounds/instruments/808snare.mp3'],\n *   loops: [\n *     'sounds/loops/sheila-e-raspberry.mp3',\n *     'sounds/loops/nussbaum-shuffle.mp3'],\n * }});\n *\n * //(2.) The 'directories' option can be used to load the files of a\n * // given directory. Each directory is specified by an object that has a\n * // property 'path' with the directory path and optionally the keys\n * // 'recursive' (specifying whether the directory's sub-directories are\n * // considered) and a key 'match' (specifying a regexp to select the files\n * // in the given directory).\n *\n * // With the option 'recursive' set to false, all (matching) files\n * // in a given directoriy are loaded into an arrays of objects without\n * // considering sub-directories. The arrays of loaded data objects are\n * // arranged in the same data structure as the definition object.\n *\n * this.audioBufferManager = this.require('audio-buffer-manager', {\n *   directories: {\n *     instruments: { path: 'sounds/instruments', recursive: false },\n *     loops: { path: 'sounds/instruments', recursive: false },\n *   },\n * });\n *\n * // When 'recursive' is set to true, all (matching) files in the given\n * // directories and their sub-directories are loaded as arrays of objects.\n * // With the option 'flatten' set to true, all files in the defined directory\n * // and its sub-directories are loaded into a single array. When the option\n * // 'flatten' set to false, the files of each sub-directory are assembled\n * // into an array and all of these arrays are arranged to a data structure\n * // that reproduces the sub-directory tree of the defined directories.\n * // The resulting data structure corresponds to the structure of the\n * // definition object extended by the defined sub-directory trees.\n *\n * // The following option results in a single array of pre-loaded files:\n * this.audioBufferManager = this.require('audio-buffer-manager', {\n *   directories: {\n *     path: 'sounds',\n *     recursive: true,\n *     flatten: true,\n *     match: /\\.mp3/,\n *   },\n * });\n *\n * // This variant results in a data structure that reproduces the\n * // sub-directory tree of the 'sounds' directory:\n * this.audioBufferManager = this.require('audio-buffer-manager', {\n *   directories: {\n *     path: 'sounds',\n *     recursive: true,\n *     match: /\\.mp3/,\n *   },\n * });\n *\n * // The loaded objects can be retrieved according to their definition, as for example :\n * const kickBuffer = this.audioBufferManager.data.kick;\n * const audioBuffer = this.audioBufferManager.data.latin.audio;\n * const markerArray = this.audioBufferManager.data.jazz.markers;\n * const snareBuffer = this.audioBufferManager.data.instruments[1];\n * const nussbaumLoop = this.audioBufferManager.data.loops[1];\n */\n\nvar AudioBufferManager = function (_Service) {\n  (0, _inherits3.default)(AudioBufferManager, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function AudioBufferManager() {\n    (0, _classCallCheck3.default)(this, AudioBufferManager);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AudioBufferManager.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManager)).call(this, SERVICE_ID, false));\n\n    var defaults = {\n      assetsDomain: '',\n      files: null,\n      directories: null,\n      audioWrapTail: 0,\n      viewPriority: 4,\n      debug: false // if set to true, the service never \"ready\" to debug the view\n    };\n\n    _this.view = null;\n\n    /**\n     * Data structure correponding to the structure of requested files.\n     * @private\n     */\n    _this.data = [];\n\n    _this.configure(defaults);\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(AudioBufferManager, [{\n    key: 'configure',\n    value: function configure(options) {\n      (0, _get3.default)(AudioBufferManager.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManager.prototype), 'configure', this).call(this, options);\n\n      var directories = this.options.directories;\n\n      if (directories !== null) this._fileSystem = this.require('file-system');\n    }\n\n    /** @private */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(AudioBufferManager.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManager.prototype), 'start', this).call(this);\n\n      this.show();\n\n      if (this.options.files || this.options.directories) {\n        if (this.options.files) this.loadFiles(this.options.files, this.view);\n\n        if (this.options.directories) this.loadDirectories(this.options.directories, this.view);\n      } else {\n        this.ready();\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.hide();\n      (0, _get3.default)(AudioBufferManager.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManager.prototype), 'stop', this).call(this);\n    }\n  }, {\n    key: 'ready',\n    value: function ready() {\n      if (this.options.debug === false) (0, _get3.default)(AudioBufferManager.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManager.prototype), 'ready', this).call(this);\n    }\n\n    /**\n     * Load files defined as a set of file paths.\n     * @param {Object} defObj - Definition of files to load\n     * @returns {Promise} - Promise resolved with the resulting data structure\n     */\n\n  }, {\n    key: 'loadFiles',\n    value: function loadFiles(defObj) {\n      var _this2 = this;\n\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var promise = new _promise2.default(function (resolve, reject) {\n        var pathList = [];\n        var refList = [];\n\n        if (typeof defObj === 'string') defObj = [defObj];\n\n        // create data object copying the strcuture of the file definion object\n        var dataObj = clonePathObj(defObj);\n        decomposePathObj(dataObj, pathList, refList, false);\n\n        // prefix relative paths with assetsDomain\n        pathList = prefixPaths(pathList, _this2.options.assetsDomain);\n\n        log(pathList, refList);\n\n        // load files\n        if (pathList.length > 0) {\n          var loader = new _wavesLoaders.SuperLoader();\n          loader.setAudioContext(_wavesAudio.audioContext);\n\n          if (view && view.setProgressRatio) {\n            var progressPerFile = pathList.map(function () {\n              return 0;\n            }); // track files loading progress\n\n            loader.progressCallback = function (e) {\n              progressPerFile[e.index] = e.value;\n\n              var totalProgress = 0;\n\n              for (var i = 0; i < progressPerFile.length; i++) {\n                totalProgress += progressPerFile[i];\n              }totalProgress /= progressPerFile.length;\n\n              view.setProgressRatio(totalProgress);\n            };\n          }\n\n          loader.load(pathList, {\n            wrapAroundExtention: _this2.options.audioWrapTail\n          }).then(function (loadedObjList) {\n            // place loaded objects (i.e. audio buffers and json files) into the structure of the file definition object\n            populateRefList(refList, loadedObjList);\n\n            // mix loaded objects into data\n            (0, _assign2.default)(_this2.data, dataObj);\n            _this2.ready();\n            resolve(dataObj);\n          }).catch(function (error) {\n            reject(error);\n            console.error(error);\n          });\n        } else {\n          _this2.ready();\n          resolve([]);\n        }\n      });\n\n      return promise;\n    }\n\n    /**\n     * Load files defined as a set of directory paths.\n     * @param {Object} defObj - Definition of files to load\n     * @returns {Promise} - Promise resolved with the resulting data structure\n     */\n\n  }, {\n    key: 'loadDirectories',\n    value: function loadDirectories(defObj) {\n      var _this3 = this;\n\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var promise = new _promise2.default(function (resolve, reject) {\n        var dirDefList = [];\n        var dirRefList = [];\n\n        // for the case that just a directory object is given as definition,\n        // we have to wrap it temporarily into a dummy object\n        defObj = { def: defObj };\n\n        var fileDefObj = clonePathObj(defObj); // clone definition object\n\n        // decompose directory definition into list of directory paths (strings)\n        decomposePathObj(fileDefObj, dirDefList, dirRefList, true);\n\n        _this3._fileSystem.getList(dirDefList).then(function (filePathListList) {\n          var subDirList = [];\n          var length = filePathListList.length;\n\n          // create sub directory file definitions (list of file paths structured into sub directory trees derived from file paths)\n          if (length === dirDefList.length) {\n            for (var i = 0; i < length; i++) {\n              var dirPath = dirDefList[i].path;\n              var flatten = !!dirDefList[i].flatten;\n              var pathList = filePathListList[i];\n              var subDir = pathList;\n\n              if (!flatten) subDir = createObjFromPathList(pathList, dirPath);\n\n              subDirList.push(subDir);\n            }\n\n            // replace directory paths in initial definition by sub directory file definitions\n            // to create a complete file definition object\n            populateRefList(dirRefList, subDirList);\n          } else {\n            throw new Error('[' + SERVICE_ID + '] Cannot retrieve file paths from defined directories');\n          }\n\n          // unwrap subDir from dummy object\n          fileDefObj = fileDefObj.def;\n\n          // load files\n          _this3.loadFiles(fileDefObj, view).then(function (data) {\n            _this3.ready();\n            resolve(data);\n          }).catch(function (error) {\n            return reject(error);\n          });\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n\n      return promise;\n    }\n\n    /**\n     * wrapAround, copy the begining input buffer to the end of an output buffer\n     * @private\n     * @param {arraybuffer} inBuffer {arraybuffer} - The input buffer\n     * @returns {arraybuffer} - The processed buffer (with frame copied from the begining to the end)\n     */\n\n  }, {\n    key: '_wrapAround',\n    value: function _wrapAround(inBuffer) {\n      var inLength = inBuffer.length;\n      var outLength = inLength + this.options.wrapAroundExtension * inBuffer.sampleRate;\n      var outBuffer = _wavesAudio.audioContext.createBuffer(inBuffer.numberOfChannels, outLength, inBuffer.sampleRate);\n      var arrayChData = void 0,\n          arrayOutChData = void 0;\n\n      for (var ch = 0; ch < inBuffer.numberOfChannels; ch++) {\n        arrayChData = inBuffer.getChannelData(ch);\n        arrayOutChData = outBuffer.getChannelData(ch);\n\n        for (var i = 0; i < inLength; i++) {\n          arrayOutChData[i] = arrayChData[i];\n        }for (var _i = inLength; _i < outLength; _i++) {\n          arrayOutChData[_i] = arrayChData[_i - inLength];\n        }\n      }\n\n      return outBuffer;\n    }\n\n    /** deprecated */\n\n  }, {\n    key: 'load',\n    value: function load(files) {\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      return this.loadFiles(files, view);\n    }\n\n    /**\n     * Retrieve a loaded object.\n     * @param {String} id - Object or group identifier.\n     * @param {String} key - Member key in group.\n     * @returns {Promise} - Returns the loaded object.\n     */\n\n  }, {\n    key: 'get',\n    value: function get(id) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var obj = this.data[id];\n\n      if (obj && key !== null) return obj[key];\n\n      return obj;\n    }\n  }]);\n  return AudioBufferManager;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, AudioBufferManager);\n\nexports.default = AudioBufferManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1ZGlvQnVmZmVyTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwibG9nIiwiZmxhdHRlbkxpc3RzIiwiYSIsInJldCIsImZ1biIsInZhbCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJwdXNoIiwiY2xvbmVQYXRoT2JqIiwidmFsdWUiLCJjbGFzc05hbWUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJjbG9uZSIsImtleSIsInJlZ2V4cCIsImlzRmlsZVBhdGgiLCJzdHIiLCJ0ZXN0IiwiaXNEaXJTcGVjIiwib2JqIiwicGF0aCIsImRlY29tcG9zZVBhdGhPYmoiLCJwYXRoTGlzdCIsInJlZkxpc3QiLCJkaXJzIiwicmVmIiwiaW5kZXgiLCJpbmRleE9mIiwibGVuZ3RoIiwicG9wdWxhdGVSZWZMaXN0IiwibG9hZGVkT2JqTGlzdCIsIkVycm9yIiwiaSIsInJlZnMiLCJqIiwibCIsImNyZWF0ZU9iakZyb21QYXRoTGlzdCIsImNvbW1vblBhdGgiLCJzdWJQYXRoSW5kZXgiLCJzdWJQYXRoIiwic3Vic3RyaW5nIiwibm9kZXMiLCJzcGxpdCIsImRlcHRoIiwidW5kZWZpbmVkIiwicHJlZml4UGF0aHMiLCJwcmVmaXgiLCJpc0Fic29sdXRlIiwibWFwIiwiQXVkaW9CdWZmZXJNYW5hZ2VyIiwiZGVmYXVsdHMiLCJhc3NldHNEb21haW4iLCJmaWxlcyIsImRpcmVjdG9yaWVzIiwiYXVkaW9XcmFwVGFpbCIsInZpZXdQcmlvcml0eSIsImRlYnVnIiwidmlldyIsImRhdGEiLCJjb25maWd1cmUiLCJvcHRpb25zIiwiX2ZpbGVTeXN0ZW0iLCJyZXF1aXJlIiwic2hvdyIsImxvYWRGaWxlcyIsImxvYWREaXJlY3RvcmllcyIsInJlYWR5IiwiaGlkZSIsImRlZk9iaiIsInByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGF0YU9iaiIsImxvYWRlciIsIlN1cGVyTG9hZGVyIiwic2V0QXVkaW9Db250ZXh0IiwiYXVkaW9Db250ZXh0Iiwic2V0UHJvZ3Jlc3NSYXRpbyIsInByb2dyZXNzUGVyRmlsZSIsInByb2dyZXNzQ2FsbGJhY2siLCJlIiwidG90YWxQcm9ncmVzcyIsImxvYWQiLCJ3cmFwQXJvdW5kRXh0ZW50aW9uIiwidGhlbiIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwiZGlyRGVmTGlzdCIsImRpclJlZkxpc3QiLCJkZWYiLCJmaWxlRGVmT2JqIiwiZ2V0TGlzdCIsImZpbGVQYXRoTGlzdExpc3QiLCJzdWJEaXJMaXN0IiwiZGlyUGF0aCIsImZsYXR0ZW4iLCJzdWJEaXIiLCJpbkJ1ZmZlciIsImluTGVuZ3RoIiwib3V0TGVuZ3RoIiwid3JhcEFyb3VuZEV4dGVuc2lvbiIsInNhbXBsZVJhdGUiLCJvdXRCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJudW1iZXJPZkNoYW5uZWxzIiwiYXJyYXlDaERhdGEiLCJhcnJheU91dENoRGF0YSIsImNoIiwiZ2V0Q2hhbm5lbERhdGEiLCJpZCIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7Ozs7QUFRQTs7Ozs7Ozs7Ozs7O0FBWUEsSUFBTUEsYUFBYSw4QkFBbkI7QUFDQSxJQUFNQyxNQUFNLHFCQUFNLDBDQUFOLENBQVo7O0FBRUEsU0FBU0MsWUFBVCxDQUFzQkMsQ0FBdEIsRUFBeUI7QUFDdkIsTUFBTUMsTUFBTSxFQUFaO0FBQ0EsTUFBTUMsTUFBTSxTQUFOQSxHQUFNLENBQUNDLEdBQUQ7QUFBQSxXQUFTQyxNQUFNQyxPQUFOLENBQWNGLEdBQWQsSUFBcUJBLElBQUlHLE9BQUosQ0FBWUosR0FBWixDQUFyQixHQUF3Q0QsSUFBSU0sSUFBSixDQUFTSixHQUFULENBQWpEO0FBQUEsR0FBWjtBQUNBRCxNQUFJRixDQUFKO0FBQ0EsU0FBT0MsR0FBUDtBQUNEOztBQUVELFNBQVNP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R0FBOUI7QUFDRTJFLHlCQUFlM0UsQ0FBZixJQUFvQjBFLFlBQVkxRSxDQUFaLENBQXBCO0FBREYsU0FHQSxLQUFLLElBQUlBLEtBQUltRSxRQUFiLEVBQXVCbkUsS0FBSW9FLFNBQTNCLEVBQXNDcEUsSUFBdEM7QUFDRTJFLHlCQUFlM0UsRUFBZixJQUFvQjBFLFlBQVkxRSxLQUFJbUUsUUFBaEIsQ0FBcEI7QUFERjtBQUVEOztBQUVELGFBQU9JLFNBQVA7QUFDRDs7QUFFRDs7Ozt5QkFDS25ELEssRUFBb0I7QUFBQSxVQUFiSyxJQUFhLHVFQUFOLElBQU07O0FBQ3ZCLGFBQU8sS0FBS08sU0FBTCxDQUFlWixLQUFmLEVBQXNCSyxJQUF0QixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozt3QkFNSXFELEUsRUFBZ0I7QUFBQSxVQUFaakcsR0FBWSx1RUFBTixJQUFNOztBQUNsQixVQUFNTSxNQUFNLEtBQUt1QyxJQUFMLENBQVVvRCxFQUFWLENBQVo7O0FBRUEsVUFBSTNGLE9BQVFOLFFBQVEsSUFBcEIsRUFDRSxPQUFPTSxJQUFJTixHQUFKLENBQVA7O0FBRUYsYUFBT00sR0FBUDtBQUNEOzs7RUE3TzhCNEYsaUI7O0FBZ1BqQ0MseUJBQWVDLFFBQWYsQ0FBd0JySCxVQUF4QixFQUFvQ3FELGtCQUFwQzs7a0JBRWVBLGtCIiwiZmlsZSI6IkF1ZGlvQnVmZmVyTWFuYWdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1ZGlvQ29udGV4dCB9IGZyb20gJ3dhdmVzLWF1ZGlvJztcbmltcG9ydCB7IFN1cGVyTG9hZGVyIH0gZnJvbSAnd2F2ZXMtbG9hZGVycyc7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcblxuLyoqXG4gKiBBUEkgb2YgYSBjb21wbGlhbnQgdmlldyBmb3IgdGhlIGBhdWRpby1idWZmZXItbWFuYWdlcmAgc2VydmljZS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKiBAaW50ZXJmYWNlIEFic3RyYWN0QXVkaW9CdWZmZXJNYW5hZ2VyVmlld1xuICogQGV4dGVuZHMgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0Vmlld1xuICogQGFic3RyYWN0XG4gKi9cbi8qKlxuICogVXBkYXRlIHRoZSBwcm9ncmVzcyBiYXIgb2YgdGhlIHZpZXcgd2l0aCB0aGUgZ2l2ZW4gcmF0aW8uXG4gKlxuICogQG5hbWUgc2V0UHJvZ3Jlc3NSYXRpb1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdEF1ZGlvQnVmZmVyTWFuYWdlclZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gcmF0aW8gLSBQcm9ncmVzcyByYXRpbyBvZiB0aGUgbG9hZGVkIGFzc2V0cyAoYmV0d2VlbiAwIGFuZCAxKS5cbiAqL1xuXG5jb25zdCBTRVJWSUNFX0lEID0gJ3NlcnZpY2U6YXVkaW8tYnVmZmVyLW1hbmFnZXInO1xuY29uc3QgbG9nID0gZGVidWcoJ3NvdW5kd29ya3M6c2VydmljZXM6YXVkaW8tYnVmZmVyLW1hbmFnZXInKTtcblxuZnVuY3Rpb24gZmxhdHRlbkxpc3RzKGEpIHtcbiAgY29uc3QgcmV0ID0gW107XG4gIGNvbnN0IGZ1biA9ICh2YWwpID0+IEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbC5mb3JFYWNoKGZ1bikgOiByZXQucHVzaCh2YWwpO1xuICBmdW4oYSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGNsb25lUGF0aE9iaih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgbGV0IGNsb25lID0gbnVsbDtcblxuICAgIGlmIChjbGFzc05hbWUgPT09ICdPYmplY3QnKVxuICAgICAgY2xvbmUgPSB7fTtcbiAgICBlbHNlIGlmIChjbGFzc05hbWUgPT09ICdBcnJheScpXG4gICAgICBjbG9uZSA9IFtdO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgIGZvciAobGV0IGtleSBpbiB2YWx1ZSlcbiAgICAgIGNsb25lW2tleV0gPSBjbG9uZVBhdGhPYmoodmFsdWVba2V5XSk7XG5cbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbnN0IHJlZ2V4cCA9IC9cXC5bYS16QS1aMC05XXszLDR9JC87XG5cbi8vIHN1cHBvcnRlZCBtZWRpYSBmb3JtYXRzICsganNvblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9TdXBwb3J0ZWRfbWVkaWFfZm9ybWF0c1xuY29uc3QgcmVnZXhwID0gL1xcLih3YXZ8bXAzfG1wNHxhYWN8YWlmfGFpZmZ8b2dnfHdlYm18ZmxhY3xqc29uKSQvaTtcblxuZnVuY3Rpb24gaXNGaWxlUGF0aChzdHIpIHtcbiAgcmV0dXJuICh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyAmJiByZWdleHAudGVzdChzdHIpKTtcbn1cblxuZnVuY3Rpb24gaXNEaXJTcGVjKG9iaikge1xuICByZXR1cm4gKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoucGF0aCA9PT0gJ3N0cmluZycpO1xufVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VQYXRoT2JqKG9iaiwgcGF0aExpc3QsIHJlZkxpc3QsIGRpcnMgPSBmYWxzZSkge1xuICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcblxuICAgIGlmICgoIWRpcnMgJiYgaXNGaWxlUGF0aCh2YWx1ZSkpIHx8IChkaXJzICYmIGlzRGlyU3BlYyh2YWx1ZSkpKSB7XG4gICAgICBjb25zdCByZWYgPSB7IG9iaiwga2V5IH07XG4gICAgICBsZXQgaW5kZXggPSAtMTtcblxuICAgICAgaWYgKCFkaXJzKVxuICAgICAgICBpbmRleCA9IHBhdGhMaXN0LmluZGV4T2YodmFsdWUpO1xuXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHBhdGhMaXN0LnB1c2godmFsdWUpO1xuXG4gICAgICAgIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgICAgcmVmTGlzdFtpbmRleF0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgcmVmTGlzdFtpbmRleF0ucHVzaChyZWYpO1xuXG4gICAgICBvYmpba2V5XSA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBkZWNvbXBvc2VQYXRoT2JqKHZhbHVlLCBwYXRoTGlzdCwgcmVmTGlzdCwgZGlycyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlUmVmTGlzdChyZWZMaXN0LCBsb2FkZWRPYmpMaXN0KSB7XG4gIGNvbnN0IGxlbmd0aCA9IHJlZkxpc3QubGVuZ3RoO1xuXG4gIGlmIChsZW5ndGggIT09IGxvYWRlZE9iakxpc3QubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBbJHtTRVJWSUNFX0lEfV0gTG9hZGVkIEJ1ZmZlcnMgZG8gbm90IG1hdGNoIGZpbGUgZGVmaW5pb25gKTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZWZzID0gcmVmTGlzdFtpXTtcblxuICAgIGZvciAobGV0IGogPSAwLCBsID0gcmVmcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgIGNvbnN0IHJlZiA9IHJlZnNbal07XG4gICAgICBjb25zdCBvYmogPSByZWYub2JqO1xuICAgICAgY29uc3Qga2V5ID0gcmVmLmtleTtcblxuICAgICAgb2JqW2tleV0gPSBsb2FkZWRPYmpMaXN0W2ldO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVPYmpGcm9tUGF0aExpc3QocGF0aExpc3QsIGNvbW1vblBhdGgpIHtcbiAgbGV0IG9iaiA9IFtdO1xuXG4gIGZvciAobGV0IHBhdGggb2YgcGF0aExpc3QpIHtcbiAgICBsZXQgc3ViUGF0aEluZGV4ID0gcGF0aC5pbmRleE9mKGNvbW1vblBhdGgpO1xuXG4gICAgaWYgKHN1YlBhdGhJbmRleCA+PSAwKSB7XG4gICAgICBzdWJQYXRoSW5kZXggKz0gY29tbW9uUGF0aC5sZW5ndGg7XG5cbiAgICAgIGlmIChwYXRoW3N1YlBhdGhJbmRleF0gPT09ICcvJylcbiAgICAgICAgc3ViUGF0aEluZGV4Kys7XG5cbiAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoLnN1YnN0cmluZyhzdWJQYXRoSW5kZXgpO1xuICAgICAgY29uc3Qgbm9kZXMgPSBzdWJQYXRoLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBkZXB0aCA9IG5vZGVzLmxlbmd0aDtcbiAgICAgIGxldCByZWYgPSBvYmo7XG4gICAgICBsZXQgaTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGRlcHRoIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5vZGVzW2ldO1xuXG4gICAgICAgIGlmIChyZWZba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHJlZltrZXldID0gW107XG5cbiAgICAgICAgcmVmID0gcmVmW2tleV07XG4gICAgICB9XG5cbiAgICAgIHJlZi5wdXNoKHBhdGgpO1xuICAgIH1cblxuICAgIC8vIHRyYW5zZm9ybSBlbXB0eSBhcnJheSB0byBvYmplY3RcbiAgICBpZiAob2JqLmxlbmd0aCA9PT0gMClcbiAgICAgIG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBwcmVmaXhQYXRocyhwYXRoTGlzdCwgcHJlZml4KSB7XG4gIC8vIHRlc3QgYWJzb2x1dGUgdXJscyAob3IgcHJvdG9jb2wgcmVsYXRpdmUpXG4gIGNvbnN0IGlzQWJzb2x1dGUgPSAvXmh0dHBzPzpcXC9cXC98XlxcL1xcLy9pO1xuXG4gIHBhdGhMaXN0ID0gcGF0aExpc3QubWFwKChwYXRoKSA9PiB7XG4gICAgaWYgKGlzQWJzb2x1dGUudGVzdChwYXRoKSB8fCBwcmVmaXggPT09ICcvJylcbiAgICAgIHJldHVybiBwYXRoO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBwcmVmaXggKyBwYXRoO1xuICB9KTtcblxuICByZXR1cm4gcGF0aExpc3Q7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGAnYXVkaW8tYnVmZmVyLW1hbmFnZXInYCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gcHJlbG9hZCBmaWxlcyBhbmQgc3RvcmUgdGhlbSBpbnRvIGJ1ZmZlcnNcbiAqIGJlZm9yZSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBleHBlcmllbmNlLiBBdWRpbyBmaWxlcyB3aWxsIGJlIGNvbnZlcnRlZCBhbmRcbiAqIHN0b3JlZCBpbnRvIEF1ZGlvQnVmZmVyIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gb3B0aW9ucy5hc3NldHNEb21haW4gLSBQcmVmaXggY29uY2F0ZW5hdGVkIHRvIGFsbFxuICogIGdpdmVuIHBhdGhzLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuZmlsZXMgLSBEZWZpbml0aW9uIG9mIGZpbGVzIHRvIGxvYWQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5kaXJlY3RvcmllcyAtIERlZmluaXRpb24gb2YgZGlyZWN0b3JpZXMgdG8gbG9hZC5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gb3B0aW9ucy5kaXJlY3RvcmllcyAtIExpc3Qgb2YgZGlyZWN0b3JpZXMgdG8gbG9hZC5cbiAqIEBwYXJhbSB7U3RyaW5nfG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5GaWxlU3lzdGVtfkxpc3RDb25maWd9IFtvcHRpb25zLmRpcmVjdG9yaWVzPW51bGxdIC1cbiAqICBMb2FkIGFsbCB0aGUgZmlsZXMgaW4gcGFydGljdWxhciBkaXJlY3Rvcmllcy4gSWYgc2V0dGVkIHRoaXMgb3B0aW9uIHJlbGllc1xuICogIG9uIHRoZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkZpbGVTeXN0ZW19IHdoaWNoIGl0c2VsZiByZWxpZXMgb25cbiAqICBpdHMgc2VydmVyIGNvdW50ZXJwYXJ0LCB0aGUgYXVkaW8tYnVmZmVyLW1hbmFnZXIgY2FuIHRoZW4gbm8gbG9uZ2VyIGJlXG4gKiAgY29uc2lkZXJlZCBhcyBhIGNsaWVudC1vbmx5IHNlcnZpY2UuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQGV4YW1wbGVcbiAqIC8vIHJlcXVpcmUgYW5kIGNvbmZpZ3VyZSB0aGUgYGF1ZGlvLWJ1ZmZlci1tYW5hZ2VyYCBpbnNpZGUgdGhlIGV4cGVyaWVuY2VcbiAqIC8vIGNvbnN0cnVjdG9yXG4gKiAvLyBEZWZpbmluZyBhIHNpbmdsZSBhcnJheSBvZiBhdWRpbyBmaWxlcyByZXN1bHRzIGluIGEgc2luZ2xlXG4gKiAvLyBhcnJheSBvZiBhdWRpbyBidWZmZXJzIGFzc29jaWF0ZWQgdG8gdGhlIGlkZW50aWZpZXIgYGRlZmF1bHRgLlxuICpcbiAqIC8vIFRoZXJlIGFyZSB0d28gZGlmZmVyZW50IHdheXMgdG8gc3BlY2lmeSB0aGUgZmlsZXMgdG8gYmUgbG9hZGVkIGFuZCB0aGVcbiAqIC8vIGRhdGEgc3RydWN0dXJlIGluIHdoaWNoIHRoZSBsb2FkZWQgZGF0YSBvYmplY3RzIGFyZSBhcnJhbmdlZDpcbiAqIC8vXG4gKiAvLyAoMS4pIFdpdGggdGhlICdmaWxlcycgb3B0aW9uLCB0aGUgZmlsZXMgYW5kIHN0cnVjdHVyZSBhcmUgZGVmaW5lZCBieSBhblxuICogLy8gb2JqZWN0IG9mIGFueSBkZXB0aCB0aGF0IGNvbnRhaW5zIGZpbGUgcGF0aHMuIEFsbCBzcGVjaWZpZWQgZmlsZXMgYXJlXG4gKiAvLyBsb2FkZWQgYW5kIHRoZSBsb2FkZWQgZGF0YSBvYmplY3RzIGFyZSBzdG9yZWQgaW50byBhbiBvYmplY3Qgb2YgdGhlIHNhbWVcbiAqIC8vIHN0cnVjdHVyZSBhcyB0aGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1tYW5hZ2VyJywgeyBmaWxlczogW1xuICogICAnc291bmRzL2RydW1zL2tpY2subXAzJyxcbiAqICAgJ3NvdW5kcy9kcnVtcy9zbmFyZS5tcDMnXG4gKiBdfSk7XG4gKlxuICogdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1tYW5hZ2VyJywgeyBmaWxlczoge1xuICogICBraWNrOiAnc291bmRzL2tpY2tfNDRrSHoubXAzJyxcbiAqICAgc25hcmU6ICdzb3VuZHMvODA4c25hcmUubXAzJ1xuICogfX0pO1xuICpcbiAqIHRoaXMuYXVkaW9CdWZmZXJNYW5hZ2VyID0gdGhpcy5yZXF1aXJlKCdhdWRpby1idWZmZXItbWFuYWdlcicsIHsgZmlsZXM6IHtcbiAqICAgbGF0aW46IHtcbiAqICAgICBhdWRpbzogJ2xvb3BzL3NoZWlsYS1lLXJhc3BiZXJyeS5tcDMnLFxuICogICAgIG1hcmtlcnM6ICdsb29wcy9zaGVpbGEtZS1yYXNwYmVycnktbWFya2Vycy5qc29uJyxcbiAqICAgfSxcbiAqICAgamF6ejoge1xuICogICAgIGF1ZGlvOiAnbG9vcHMvbnVzc2JhdW0tc2h1ZmZsZS5tcDMnLFxuICogICAgIG1hcmtlcnM6ICdsb29wcy9udXNzYmF1bS1zaHVmZmxlLW1hcmtlcnMuanNvbicsXG4gKiAgIH0sXG4gKiB9fSk7XG4gKlxuICogdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1tYW5hZ2VyJywgeyBmaWxlczoge1xuICogICBpbnN0cnVtZW50czogW1xuICogICAgICdzb3VuZHMvaW5zdHJ1bWVudHMva2lja180NGtIei5tcDMnLFxuICogICAgICdzb3VuZHMvaW5zdHJ1bWVudHMvODA4c25hcmUubXAzJ10sXG4gKiAgIGxvb3BzOiBbXG4gKiAgICAgJ3NvdW5kcy9sb29wcy9zaGVpbGEtZS1yYXNwYmVycnkubXAzJyxcbiAqICAgICAnc291bmRzL2xvb3BzL251c3NiYXVtLXNodWZmbGUubXAzJ10sXG4gKiB9fSk7XG4gKlxuICogLy8oMi4pIFRoZSAnZGlyZWN0b3JpZXMnIG9wdGlvbiBjYW4gYmUgdXNlZCB0byBsb2FkIHRoZSBmaWxlcyBvZiBhXG4gKiAvLyBnaXZlbiBkaXJlY3RvcnkuIEVhY2ggZGlyZWN0b3J5IGlzIHNwZWNpZmllZCBieSBhbiBvYmplY3QgdGhhdCBoYXMgYVxuICogLy8gcHJvcGVydHkgJ3BhdGgnIHdpdGggdGhlIGRpcmVjdG9yeSBwYXRoIGFuZCBvcHRpb25hbGx5IHRoZSBrZXlzXG4gKiAvLyAncmVjdXJzaXZlJyAoc3BlY2lmeWluZyB3aGV0aGVyIHRoZSBkaXJlY3RvcnkncyBzdWItZGlyZWN0b3JpZXMgYXJlXG4gKiAvLyBjb25zaWRlcmVkKSBhbmQgYSBrZXkgJ21hdGNoJyAoc3BlY2lmeWluZyBhIHJlZ2V4cCB0byBzZWxlY3QgdGhlIGZpbGVzXG4gKiAvLyBpbiB0aGUgZ2l2ZW4gZGlyZWN0b3J5KS5cbiAqXG4gKiAvLyBXaXRoIHRoZSBvcHRpb24gJ3JlY3Vyc2l2ZScgc2V0IHRvIGZhbHNlLCBhbGwgKG1hdGNoaW5nKSBmaWxlc1xuICogLy8gaW4gYSBnaXZlbiBkaXJlY3Rvcml5IGFyZSBsb2FkZWQgaW50byBhbiBhcnJheXMgb2Ygb2JqZWN0cyB3aXRob3V0XG4gKiAvLyBjb25zaWRlcmluZyBzdWItZGlyZWN0b3JpZXMuIFRoZSBhcnJheXMgb2YgbG9hZGVkIGRhdGEgb2JqZWN0cyBhcmVcbiAqIC8vIGFycmFuZ2VkIGluIHRoZSBzYW1lIGRhdGEgc3RydWN0dXJlIGFzIHRoZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiB0aGlzLmF1ZGlvQnVmZmVyTWFuYWdlciA9IHRoaXMucmVxdWlyZSgnYXVkaW8tYnVmZmVyLW1hbmFnZXInLCB7XG4gKiAgIGRpcmVjdG9yaWVzOiB7XG4gKiAgICAgaW5zdHJ1bWVudHM6IHsgcGF0aDogJ3NvdW5kcy9pbnN0cnVtZW50cycsIHJlY3Vyc2l2ZTogZmFsc2UgfSxcbiAqICAgICBsb29wczogeyBwYXRoOiAnc291bmRzL2luc3RydW1lbnRzJywgcmVjdXJzaXZlOiBmYWxzZSB9LFxuICogICB9LFxuICogfSk7XG4gKlxuICogLy8gV2hlbiAncmVjdXJzaXZlJyBpcyBzZXQgdG8gdHJ1ZSwgYWxsIChtYXRjaGluZykgZmlsZXMgaW4gdGhlIGdpdmVuXG4gKiAvLyBkaXJlY3RvcmllcyBhbmQgdGhlaXIgc3ViLWRpcmVjdG9yaWVzIGFyZSBsb2FkZWQgYXMgYXJyYXlzIG9mIG9iamVjdHMuXG4gKiAvLyBXaXRoIHRoZSBvcHRpb24gJ2ZsYXR0ZW4nIHNldCB0byB0cnVlLCBhbGwgZmlsZXMgaW4gdGhlIGRlZmluZWQgZGlyZWN0b3J5XG4gKiAvLyBhbmQgaXRzIHN1Yi1kaXJlY3RvcmllcyBhcmUgbG9hZGVkIGludG8gYSBzaW5nbGUgYXJyYXkuIFdoZW4gdGhlIG9wdGlvblxuICogLy8gJ2ZsYXR0ZW4nIHNldCB0byBmYWxzZSwgdGhlIGZpbGVzIG9mIGVhY2ggc3ViLWRpcmVjdG9yeSBhcmUgYXNzZW1ibGVkXG4gKiAvLyBpbnRvIGFuIGFycmF5IGFuZCBhbGwgb2YgdGhlc2UgYXJyYXlzIGFyZSBhcnJhbmdlZCB0byBhIGRhdGEgc3RydWN0dXJlXG4gKiAvLyB0aGF0IHJlcHJvZHVjZXMgdGhlIHN1Yi1kaXJlY3RvcnkgdHJlZSBvZiB0aGUgZGVmaW5lZCBkaXJlY3Rvcmllcy5cbiAqIC8vIFRoZSByZXN1bHRpbmcgZGF0YSBzdHJ1Y3R1cmUgY29ycmVzcG9uZHMgdG8gdGhlIHN0cnVjdHVyZSBvZiB0aGVcbiAqIC8vIGRlZmluaXRpb24gb2JqZWN0IGV4dGVuZGVkIGJ5IHRoZSBkZWZpbmVkIHN1Yi1kaXJlY3RvcnkgdHJlZXMuXG4gKlxuICogLy8gVGhlIGZvbGxvd2luZyBvcHRpb24gcmVzdWx0cyBpbiBhIHNpbmdsZSBhcnJheSBvZiBwcmUtbG9hZGVkIGZpbGVzOlxuICogdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1tYW5hZ2VyJywge1xuICogICBkaXJlY3Rvcmllczoge1xuICogICAgIHBhdGg6ICdzb3VuZHMnLFxuICogICAgIHJlY3Vyc2l2ZTogdHJ1ZSxcbiAqICAgICBmbGF0dGVuOiB0cnVlLFxuICogICAgIG1hdGNoOiAvXFwubXAzLyxcbiAqICAgfSxcbiAqIH0pO1xuICpcbiAqIC8vIFRoaXMgdmFyaWFudCByZXN1bHRzIGluIGEgZGF0YSBzdHJ1Y3R1cmUgdGhhdCByZXByb2R1Y2VzIHRoZVxuICogLy8gc3ViLWRpcmVjdG9yeSB0cmVlIG9mIHRoZSAnc291bmRzJyBkaXJlY3Rvcnk6XG4gKiB0aGlzLmF1ZGlvQnVmZmVyTWFuYWdlciA9IHRoaXMucmVxdWlyZSgnYXVkaW8tYnVmZmVyLW1hbmFnZXInLCB7XG4gKiAgIGRpcmVjdG9yaWVzOiB7XG4gKiAgICAgcGF0aDogJ3NvdW5kcycsXG4gKiAgICAgcmVjdXJzaXZlOiB0cnVlLFxuICogICAgIG1hdGNoOiAvXFwubXAzLyxcbiAqICAgfSxcbiAqIH0pO1xuICpcbiAqIC8vIFRoZSBsb2FkZWQgb2JqZWN0cyBjYW4gYmUgcmV0cmlldmVkIGFjY29yZGluZyB0byB0aGVpciBkZWZpbml0aW9uLCBhcyBmb3IgZXhhbXBsZSA6XG4gKiBjb25zdCBraWNrQnVmZmVyID0gdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIuZGF0YS5raWNrO1xuICogY29uc3QgYXVkaW9CdWZmZXIgPSB0aGlzLmF1ZGlvQnVmZmVyTWFuYWdlci5kYXRhLmxhdGluLmF1ZGlvO1xuICogY29uc3QgbWFya2VyQXJyYXkgPSB0aGlzLmF1ZGlvQnVmZmVyTWFuYWdlci5kYXRhLmphenoubWFya2VycztcbiAqIGNvbnN0IHNuYXJlQnVmZmVyID0gdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIuZGF0YS5pbnN0cnVtZW50c1sxXTtcbiAqIGNvbnN0IG51c3NiYXVtTG9vcCA9IHRoaXMuYXVkaW9CdWZmZXJNYW5hZ2VyLmRhdGEubG9vcHNbMV07XG4gKi9cbmNsYXNzIEF1ZGlvQnVmZmVyTWFuYWdlciBleHRlbmRzIFNlcnZpY2Uge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFNFUlZJQ0VfSUQsIGZhbHNlKTtcblxuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgYXNzZXRzRG9tYWluOiAnJyxcbiAgICAgIGZpbGVzOiBudWxsLFxuICAgICAgZGlyZWN0b3JpZXM6IG51bGwsXG4gICAgICBhdWRpb1dyYXBUYWlsOiAwLFxuICAgICAgdmlld1ByaW9yaXR5OiA0LFxuICAgICAgZGVidWc6IGZhbHNlLCAvLyBpZiBzZXQgdG8gdHJ1ZSwgdGhlIHNlcnZpY2UgbmV2ZXIgXCJyZWFkeVwiIHRvIGRlYnVnIHRoZSB2aWV3XG4gICAgfTtcblxuICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBEYXRhIHN0cnVjdHVyZSBjb3JyZXBvbmRpbmcgdG8gdGhlIHN0cnVjdHVyZSBvZiByZXF1ZXN0ZWQgZmlsZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBbXTtcblxuICAgIHRoaXMuY29uZmlndXJlKGRlZmF1bHRzKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBjb25maWd1cmUob3B0aW9ucykge1xuICAgIHN1cGVyLmNvbmZpZ3VyZShvcHRpb25zKTtcblxuICAgIGNvbnN0IGRpcmVjdG9yaWVzID0gdGhpcy5vcHRpb25zLmRpcmVjdG9yaWVzO1xuXG4gICAgaWYgKGRpcmVjdG9yaWVzICE9PSBudWxsKVxuICAgICAgdGhpcy5fZmlsZVN5c3RlbSA9IHRoaXMucmVxdWlyZSgnZmlsZS1zeXN0ZW0nKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgdGhpcy5zaG93KCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbGVzIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rvcmllcykge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5maWxlcylcbiAgICAgICAgdGhpcy5sb2FkRmlsZXModGhpcy5vcHRpb25zLmZpbGVzLCB0aGlzLnZpZXcpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpcmVjdG9yaWVzKVxuICAgICAgICB0aGlzLmxvYWREaXJlY3Rvcmllcyh0aGlzLm9wdGlvbnMuZGlyZWN0b3JpZXMsIHRoaXMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmhpZGUoKTtcbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlYnVnID09PSBmYWxzZSlcbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBmaWxlcyBkZWZpbmVkIGFzIGEgc2V0IG9mIGZpbGUgcGF0aHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZPYmogLSBEZWZpbml0aW9uIG9mIGZpbGVzIHRvIGxvYWRcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRpbmcgZGF0YSBzdHJ1Y3R1cmVcbiAgICovXG4gIGxvYWRGaWxlcyhkZWZPYmosIHZpZXcgPSBudWxsKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBwYXRoTGlzdCA9IFtdO1xuICAgICAgbGV0IHJlZkxpc3QgPSBbXTtcblxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmogPT09ICdzdHJpbmcnKVxuICAgICAgICBkZWZPYmogPSBbZGVmT2JqXTtcblxuICAgICAgLy8gY3JlYXRlIGRhdGEgb2JqZWN0IGNvcHlpbmcgdGhlIHN0cmN1dHVyZSBvZiB0aGUgZmlsZSBkZWZpbmlvbiBvYmplY3RcbiAgICAgIGNvbnN0IGRhdGFPYmogPSBjbG9uZVBhdGhPYmooZGVmT2JqKTtcbiAgICAgIGRlY29tcG9zZVBhdGhPYmooZGF0YU9iaiwgcGF0aExpc3QsIHJlZkxpc3QsIGZhbHNlKTtcblxuICAgICAgLy8gcHJlZml4IHJlbGF0aXZlIHBhdGhzIHdpdGggYXNzZXRzRG9tYWluXG4gICAgICBwYXRoTGlzdCA9IHByZWZpeFBhdGhzKHBhdGhMaXN0LCB0aGlzLm9wdGlvbnMuYXNzZXRzRG9tYWluKTtcblxuICAgICAgbG9nKHBhdGhMaXN0LCByZWZMaXN0KTtcblxuICAgICAgLy8gbG9hZCBmaWxlc1xuICAgICAgaWYgKHBhdGhMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IFN1cGVyTG9hZGVyKCk7XG4gICAgICAgIGxvYWRlci5zZXRBdWRpb0NvbnRleHQoYXVkaW9Db250ZXh0KTtcblxuICAgICAgICBpZiAodmlldyAmJiB2aWV3LnNldFByb2dyZXNzUmF0aW8pIHtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzc1BlckZpbGUgPSBwYXRoTGlzdC5tYXAoKCkgPT4gMCk7IC8vIHRyYWNrIGZpbGVzIGxvYWRpbmcgcHJvZ3Jlc3NcblxuICAgICAgICAgIGxvYWRlci5wcm9ncmVzc0NhbGxiYWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHByb2dyZXNzUGVyRmlsZVtlLmluZGV4XSA9IGUudmFsdWU7XG5cbiAgICAgICAgICAgIGxldCB0b3RhbFByb2dyZXNzID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9ncmVzc1BlckZpbGUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgIHRvdGFsUHJvZ3Jlc3MgKz0gcHJvZ3Jlc3NQZXJGaWxlW2ldO1xuXG4gICAgICAgICAgICB0b3RhbFByb2dyZXNzIC89IHByb2dyZXNzUGVyRmlsZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIHZpZXcuc2V0UHJvZ3Jlc3NSYXRpbyh0b3RhbFByb2dyZXNzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbG9hZGVyXG4gICAgICAgICAgLmxvYWQocGF0aExpc3QsIHtcbiAgICAgICAgICAgIHdyYXBBcm91bmRFeHRlbnRpb246IHRoaXMub3B0aW9ucy5hdWRpb1dyYXBUYWlsLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKGxvYWRlZE9iakxpc3QpID0+IHtcbiAgICAgICAgICAgIC8vIHBsYWNlIGxvYWRlZCBvYmplY3RzIChpLmUuIGF1ZGlvIGJ1ZmZlcnMgYW5kIGpzb24gZmlsZXMpIGludG8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgZmlsZSBkZWZpbml0aW9uIG9iamVjdFxuICAgICAgICAgICAgcG9wdWxhdGVSZWZMaXN0KHJlZkxpc3QsIGxvYWRlZE9iakxpc3QpO1xuXG4gICAgICAgICAgICAvLyBtaXggbG9hZGVkIG9iamVjdHMgaW50byBkYXRhXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZGF0YSwgZGF0YU9iaik7XG4gICAgICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGFPYmopO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgZmlsZXMgZGVmaW5lZCBhcyBhIHNldCBvZiBkaXJlY3RvcnkgcGF0aHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZPYmogLSBEZWZpbml0aW9uIG9mIGZpbGVzIHRvIGxvYWRcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRpbmcgZGF0YSBzdHJ1Y3R1cmVcbiAgICovXG4gIGxvYWREaXJlY3RvcmllcyhkZWZPYmosIHZpZXcgPSBudWxsKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBkaXJEZWZMaXN0ID0gW107XG4gICAgICBsZXQgZGlyUmVmTGlzdCA9IFtdO1xuXG4gICAgICAvLyBmb3IgdGhlIGNhc2UgdGhhdCBqdXN0IGEgZGlyZWN0b3J5IG9iamVjdCBpcyBnaXZlbiBhcyBkZWZpbml0aW9uLFxuICAgICAgLy8gd2UgaGF2ZSB0byB3cmFwIGl0IHRlbXBvcmFyaWx5IGludG8gYSBkdW1teSBvYmplY3RcbiAgICAgIGRlZk9iaiA9IHsgZGVmOiBkZWZPYmogfTtcblxuICAgICAgbGV0IGZpbGVEZWZPYmogPSBjbG9uZVBhdGhPYmooZGVmT2JqKTsgLy8gY2xvbmUgZGVmaW5pdGlvbiBvYmplY3RcblxuICAgICAgLy8gZGVjb21wb3NlIGRpcmVjdG9yeSBkZWZpbml0aW9uIGludG8gbGlzdCBvZiBkaXJlY3RvcnkgcGF0aHMgKHN0cmluZ3MpXG4gICAgICBkZWNvbXBvc2VQYXRoT2JqKGZpbGVEZWZPYmosIGRpckRlZkxpc3QsIGRpclJlZkxpc3QsIHRydWUpO1xuXG4gICAgICB0aGlzLl9maWxlU3lzdGVtLmdldExpc3QoZGlyRGVmTGlzdClcbiAgICAgICAgLnRoZW4oKGZpbGVQYXRoTGlzdExpc3QpID0+IHtcbiAgICAgICAgICBjb25zdCBzdWJEaXJMaXN0ID0gW107XG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gZmlsZVBhdGhMaXN0TGlzdC5sZW5ndGg7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgc3ViIGRpcmVjdG9yeSBmaWxlIGRlZmluaXRpb25zIChsaXN0IG9mIGZpbGUgcGF0aHMgc3RydWN0dXJlZCBpbnRvIHN1YiBkaXJlY3RvcnkgdHJlZXMgZGVyaXZlZCBmcm9tIGZpbGUgcGF0aHMpXG4gICAgICAgICAgaWYgKGxlbmd0aCA9PT0gZGlyRGVmTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZGlyUGF0aCA9IGRpckRlZkxpc3RbaV0ucGF0aDtcbiAgICAgICAgICAgICAgY29uc3QgZmxhdHRlbiA9ICEhZGlyRGVmTGlzdFtpXS5mbGF0dGVuO1xuICAgICAgICAgICAgICBjb25zdCBwYXRoTGlzdCA9IGZpbGVQYXRoTGlzdExpc3RbaV07XG4gICAgICAgICAgICAgIGxldCBzdWJEaXIgPSBwYXRoTGlzdDtcblxuICAgICAgICAgICAgICBpZighZmxhdHRlbilcbiAgICAgICAgICAgICAgICBzdWJEaXIgPSBjcmVhdGVPYmpGcm9tUGF0aExpc3QocGF0aExpc3QsIGRpclBhdGgpO1xuXG4gICAgICAgICAgICAgIHN1YkRpckxpc3QucHVzaChzdWJEaXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXBsYWNlIGRpcmVjdG9yeSBwYXRocyBpbiBpbml0aWFsIGRlZmluaXRpb24gYnkgc3ViIGRpcmVjdG9yeSBmaWxlIGRlZmluaXRpb25zXG4gICAgICAgICAgICAvLyB0byBjcmVhdGUgYSBjb21wbGV0ZSBmaWxlIGRlZmluaXRpb24gb2JqZWN0XG4gICAgICAgICAgICBwb3B1bGF0ZVJlZkxpc3QoZGlyUmVmTGlzdCwgc3ViRGlyTGlzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWyR7U0VSVklDRV9JRH1dIENhbm5vdCByZXRyaWV2ZSBmaWxlIHBhdGhzIGZyb20gZGVmaW5lZCBkaXJlY3Rvcmllc2ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVud3JhcCBzdWJEaXIgZnJvbSBkdW1teSBvYmplY3RcbiAgICAgICAgICBmaWxlRGVmT2JqID0gZmlsZURlZk9iai5kZWY7XG5cbiAgICAgICAgICAvLyBsb2FkIGZpbGVzXG4gICAgICAgICAgdGhpcy5sb2FkRmlsZXMoZmlsZURlZk9iaiwgdmlldylcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMucmVhZHkoKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiB3cmFwQXJvdW5kLCBjb3B5IHRoZSBiZWdpbmluZyBpbnB1dCBidWZmZXIgdG8gdGhlIGVuZCBvZiBhbiBvdXRwdXQgYnVmZmVyXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7YXJyYXlidWZmZXJ9IGluQnVmZmVyIHthcnJheWJ1ZmZlcn0gLSBUaGUgaW5wdXQgYnVmZmVyXG4gICAqIEByZXR1cm5zIHthcnJheWJ1ZmZlcn0gLSBUaGUgcHJvY2Vzc2VkIGJ1ZmZlciAod2l0aCBmcmFtZSBjb3BpZWQgZnJvbSB0aGUgYmVnaW5pbmcgdG8gdGhlIGVuZClcbiAgICovXG4gIF93cmFwQXJvdW5kKGluQnVmZmVyKSB7XG4gICAgY29uc3QgaW5MZW5ndGggPSBpbkJ1ZmZlci5sZW5ndGg7XG4gICAgY29uc3Qgb3V0TGVuZ3RoID0gaW5MZW5ndGggKyB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZEV4dGVuc2lvbiAqIGluQnVmZmVyLnNhbXBsZVJhdGU7XG4gICAgY29uc3Qgb3V0QnVmZmVyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcihpbkJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzLCBvdXRMZW5ndGgsIGluQnVmZmVyLnNhbXBsZVJhdGUpO1xuICAgIGxldCBhcnJheUNoRGF0YSwgYXJyYXlPdXRDaERhdGE7XG5cbiAgICBmb3IgKGxldCBjaCA9IDA7IGNoIDwgaW5CdWZmZXIubnVtYmVyT2ZDaGFubmVsczsgY2grKykge1xuICAgICAgYXJyYXlDaERhdGEgPSBpbkJ1ZmZlci5nZXRDaGFubmVsRGF0YShjaCk7XG4gICAgICBhcnJheU91dENoRGF0YSA9IG91dEJ1ZmZlci5nZXRDaGFubmVsRGF0YShjaCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5MZW5ndGg7IGkrKylcbiAgICAgICAgYXJyYXlPdXRDaERhdGFbaV0gPSBhcnJheUNoRGF0YVtpXTtcblxuICAgICAgZm9yIChsZXQgaSA9IGluTGVuZ3RoOyBpIDwgb3V0TGVuZ3RoOyBpKyspXG4gICAgICAgIGFycmF5T3V0Q2hEYXRhW2ldID0gYXJyYXlDaERhdGFbaSAtIGluTGVuZ3RoXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xuICB9XG5cbiAgLyoqIGRlcHJlY2F0ZWQgKi9cbiAgbG9hZChmaWxlcywgdmlldyA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkRmlsZXMoZmlsZXMsIHZpZXcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgbG9hZGVkIG9iamVjdC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gT2JqZWN0IG9yIGdyb3VwIGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBNZW1iZXIga2V5IGluIGdyb3VwLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXR1cm5zIHRoZSBsb2FkZWQgb2JqZWN0LlxuICAgKi9cbiAgZ2V0KGlkLCBrZXkgPSBudWxsKSB7XG4gICAgY29uc3Qgb2JqID0gdGhpcy5kYXRhW2lkXTtcblxuICAgIGlmIChvYmogJiYgKGtleSAhPT0gbnVsbCkpXG4gICAgICByZXR1cm4gb2JqW2tleV07XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIEF1ZGlvQnVmZmVyTWFuYWdlcik7XG5cbmV4cG9ydCBkZWZhdWx0IEF1ZGlvQnVmZmVyTWFuYWdlcjtcbiJdfQ==","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","waves-loaders":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/index.js","babel-runtime/helpers/typeof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.to-json.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.to-json.js","source":"// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_collection-to-json":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-to-json.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/map.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/map.js","source":"require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n","deps":{"../modules/es6.object.to-string":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js","../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../modules/es7.map.of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.of.js","../modules/es7.map.from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.from.js","../modules/es7.map.to-json":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.to-json.js","../modules/es6.map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.map.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };","deps":{"core-js/library/fn/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/map.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/isarray/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/isarray/index.js","source":"var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.keys.js","source":"// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","deps":{"./_object-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_object-sap":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/keys.js","source":"require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.keys.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/keys.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","deps":{"core-js/library/fn/object/keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/keys.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _Signal = require('../../utils/Signal');\n\nvar _Signal2 = _interopRequireDefault(_Signal);\n\nvar _SignalAll = require('../../utils/SignalAll');\n\nvar _SignalAll2 = _interopRequireDefault(_SignalAll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('soundworks:serviceManager');\n\nvar _instances = {};\nvar _ctors = {};\n\n/**\n * Factory and initialisation manager for the services.\n * Lazy instanciate an instance of the given type and retrieve it on each call.\n */\nvar serviceManager = {\n  _serviceInstanciationHook: null,\n\n  /**\n   * Initialize the manager.\n   */\n  init: function init() {\n    var _this = this;\n\n    log('init');\n    this._requiredSignals = new _SignalAll2.default();\n    this._requiredSignals.addObserver(function () {\n      return _this.ready();\n    });\n\n    this.signals = {};\n    this.signals.start = new _Signal2.default();\n    this.signals.ready = new _Signal2.default();\n  },\n\n\n  /**\n   * Sends the signal required by all services to start.\n   */\n  start: function start() {\n    log('start');\n\n    var networkedServices = [];\n\n    this.signals.start.set(true);\n\n    if (!this._requiredSignals.length) this.ready();\n  },\n\n\n  /**\n   * Mark the services as ready. This signal is observed by {@link Experience}\n   * instances and trigger their `start`.\n   */\n  ready: function ready() {\n    log('ready');\n    this.signals.ready.set(true);\n  },\n\n\n  /**\n   * Returns an instance of a service with options to be applied to its constructor.\n   * @param {String} id - The id of the service.\n   * @param {Object} options - Options to pass to the service constructor.\n   */\n  require: function require(id) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    id = 'service:' + id;\n\n    if (!_ctors[id]) throw new Error('Service \"' + id + '\" is not defined');\n\n    var instance = _instances[id];\n\n    if (!instance) {\n      // throw an error if manager already started\n      if (this.signals.start.get() === true) throw new Error('Service \"' + id + '\" required after serviceManager start');\n\n      instance = new _ctors[id]();\n\n      if (this._serviceInstanciationHook !== null) this._serviceInstanciationHook(id, instance);\n\n      // add the instance ready signal as required for the manager\n      this._requiredSignals.add(instance.signals.ready);\n      // store instance\n      _instances[id] = instance;\n    }\n\n    instance.configure(options);\n    return instance;\n  },\n\n\n  /**\n   * Register a function to be executed when a service is instanciated.\n   *\n   * @param {serviceManager~serviceInstanciationHook} func - Function to\n   *  register has a hook to be execute when a service is created.\n   */\n  /**\n   * @callback serviceManager~serviceInstanciationHook\n   * @param {String} id - id of the instanciated service.\n   * @param {Service} instance - instance of the service.\n   */\n  setServiceInstanciationHook: function setServiceInstanciationHook(func) {\n    this._serviceInstanciationHook = func;\n  },\n\n\n  /**\n   * Register a service with a given id.\n   * @param {String} id - The id of the service.\n   * @param {Function} ctor - The constructor of the service.\n   */\n  register: function register(id, ctor) {\n    _ctors[id] = ctor;\n  },\n  getRequiredServices: function getRequiredServices() {\n    return (0, _keys2.default)(_instances);\n  }\n};\n\nexports.default = serviceManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbImxvZyIsIl9pbnN0YW5jZXMiLCJfY3RvcnMiLCJzZXJ2aWNlTWFuYWdlciIsIl9zZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2siLCJpbml0IiwiX3JlcXVpcmVkU2lnbmFscyIsIlNpZ25hbEFsbCIsImFkZE9ic2VydmVyIiwicmVhZHkiLCJzaWduYWxzIiwic3RhcnQiLCJTaWduYWwiLCJuZXR3b3JrZWRTZXJ2aWNlcyIsInNldCIsImxlbmd0aCIsInJlcXVpcmUiLCJpZCIsIm9wdGlvbnMiLCJFcnJvciIsImluc3RhbmNlIiwiZ2V0IiwiYWRkIiwiY29uZmlndXJlIiwic2V0U2VydmljZUluc3RhbmNpYXRpb25Ib29rIiwiZnVuYyIsInJlZ2lzdGVyIiwiY3RvciIsImdldFJlcXVpcmVkU2VydmljZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE1BQU0scUJBQU0sMkJBQU4sQ0FBWjs7QUFFQSxJQUFNQyxhQUFhLEVBQW5CO0FBQ0EsSUFBTUMsU0FBUyxFQUFmOztBQUVBOzs7O0FBSUEsSUFBTUMsaUJBQWlCO0FBQ3JCQyw2QkFBMkIsSUFETjs7QUFHckI7OztBQUdBQyxNQU5xQixrQkFNZDtBQUFBOztBQUNMTCxRQUFJLE1BQUo7QUFDQSxTQUFLTSxnQkFBTCxHQUF3QixJQUFJQyxtQkFBSixFQUF4QjtBQUNBLFNBQUtELGdCQUFMLENBQXNCRSxXQUF0QixDQUFrQztBQUFBLGFBQU0sTUFBS0MsS0FBTCxFQUFOO0FBQUEsS0FBbEM7O0FBRUEsU0FBS0MsT0FBTCxHQUFlLEVBQWY7QUFDQSxTQUFLQSxPQUFMLENBQWFDLEtBQWIsR0FBcUIsSUFBSUMsZ0JBQUosRUFBckI7QUFDQSxTQUFLRixPQUFMLENBQWFELEtBQWIsR0FBcUIsSUFBSUcsZ0JBQUosRUFBckI7QUFDRCxHQWRvQjs7O0FBZ0JyQjs7O0FBR0FELE9BbkJxQixtQkFtQmI7QUFDTlgsUUFBSSxPQUFKOztBQUVBLFFBQU1hLG9CQUFvQixFQUExQjs7QUFFQSxTQUFLSCxPQUFMLENBQWFDLEtBQWIsQ0FBbUJHLEdBQW5CLENBQXVCLElBQXZCOztBQUVBLFFBQUksQ0FBQyxLQUFLUixnQkFBTCxDQUFzQlMsTUFBM0IsRUFDRSxLQUFLTixLQUFMO0FBQ0gsR0E1Qm9COzs7QUE4QnJCOzs7O0FBSUFBLE9BbENxQixtQkFrQ2I7QUFDTlQsUUFBSSxPQUFKO0FBQ0EsU0FBS1UsT0FBTCxDQUFhRCxLQUFiLENBQW1CSyxHQUFuQixDQUF1QixJQUF2QjtBQUNELEdBckNvQjs7O0FBdUNyQjs7Ozs7QUFLQUUsU0E1Q3FCLG1CQTRDYkMsRUE1Q2EsRUE0Q0s7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQ3hCRCxTQUFLLGFBQWFBLEVBQWxCOztBQUVBLFFBQUksQ0FBQ2YsT0FBT2UsRUFBUCxDQUFMLEVBQ0UsTUFBTSxJQUFJRSxLQUFKLGVBQXNCRixFQUF0QixzQkFBTjs7QUFFRixRQUFJRyxXQUFXbkIsV0FBV2dCLEVBQVgsQ0FBZjs7QUFFQSxRQUFJLENBQUNHLFFBQUwsRUFBZTtBQUNiO0FBQ0EsVUFBSSxLQUFLVixPQUFMLENBQWFDLEtBQWIsQ0FBbUJVLEdBQW5CLE9BQTZCLElBQWpDLEVBQ0UsTUFBTSxJQUFJRixLQUFKLGVBQXNCRixFQUF0QiwyQ0FBTjs7QUFFRkcsaUJBQVcsSUFBSWxCLE9BQU9lLEVBQVAsQ0FBSixFQUFYOztBQUVBLFVBQUksS0FBS2IseUJBQUwsS0FBbUMsSUFBdkMsRUFDRSxLQUFLQSx5QkFBTCxDQUErQmEsRUFBL0IsRUFBbUNHLFFBQW5DOztBQUVGO0FBQ0EsV0FBS2QsZ0JBQUwsQ0FBc0JnQixHQUF0QixDQUEwQkYsU0FBU1YsT0FBVCxDQUFpQkQsS0FBM0M7QUFDQTtBQUNBUixpQkFBV2dCLEVBQVgsSUFBaUJHLFFBQWpCO0FBQ0Q7O0FBRURBLGFBQVNHLFNBQVQsQ0FBbUJMLE9BQW5CO0FBQ0EsV0FBT0UsUUFBUDtBQUNELEdBdEVvQjs7O0FBd0VyQjs7Ozs7O0FBTUE7Ozs7O0FBS0FJLDZCQW5GcUIsdUNBbUZPQyxJQW5GUCxFQW1GYTtBQUNoQyxTQUFLckIseUJBQUwsR0FBaUNxQixJQUFqQztBQUNELEdBckZvQjs7O0FBdUZyQjs7Ozs7QUFLQUMsVUE1RnFCLG9CQTRGWlQsRUE1RlksRUE0RlJVLElBNUZRLEVBNEZGO0FBQ2pCekIsV0FBT2UsRUFBUCxJQUFhVSxJQUFiO0FBQ0QsR0E5Rm9CO0FBaUdyQkMscUJBakdxQixpQ0FpR0M7QUFDcEIsV0FBTyxvQkFBWTNCLFVBQVosQ0FBUDtBQUNEO0FBbkdvQixDQUF2Qjs7a0JBc0dlRSxjIiwiZmlsZSI6InNlcnZpY2VNYW5hZ2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBTaWduYWwgZnJvbSAnLi4vLi4vdXRpbHMvU2lnbmFsJztcbmltcG9ydCBTaWduYWxBbGwgZnJvbSAnLi4vLi4vdXRpbHMvU2lnbmFsQWxsJztcblxuY29uc3QgbG9nID0gZGVidWcoJ3NvdW5kd29ya3M6c2VydmljZU1hbmFnZXInKTtcblxuY29uc3QgX2luc3RhbmNlcyA9IHt9O1xuY29uc3QgX2N0b3JzID0ge307XG5cbi8qKlxuICogRmFjdG9yeSBhbmQgaW5pdGlhbGlzYXRpb24gbWFuYWdlciBmb3IgdGhlIHNlcnZpY2VzLlxuICogTGF6eSBpbnN0YW5jaWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgcmV0cmlldmUgaXQgb24gZWFjaCBjYWxsLlxuICovXG5jb25zdCBzZXJ2aWNlTWFuYWdlciA9IHtcbiAgX3NlcnZpY2VJbnN0YW5jaWF0aW9uSG9vazogbnVsbCxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgbWFuYWdlci5cbiAgICovXG4gIGluaXQoKSB7XG4gICAgbG9nKCdpbml0Jyk7XG4gICAgdGhpcy5fcmVxdWlyZWRTaWduYWxzID0gbmV3IFNpZ25hbEFsbCgpO1xuICAgIHRoaXMuX3JlcXVpcmVkU2lnbmFscy5hZGRPYnNlcnZlcigoKSA9PiB0aGlzLnJlYWR5KCkpO1xuXG4gICAgdGhpcy5zaWduYWxzID0ge307XG4gICAgdGhpcy5zaWduYWxzLnN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIHRoaXMuc2lnbmFscy5yZWFkeSA9IG5ldyBTaWduYWwoKTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZHMgdGhlIHNpZ25hbCByZXF1aXJlZCBieSBhbGwgc2VydmljZXMgdG8gc3RhcnQuXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBsb2coJ3N0YXJ0Jyk7XG5cbiAgICBjb25zdCBuZXR3b3JrZWRTZXJ2aWNlcyA9IFtdO1xuXG4gICAgdGhpcy5zaWduYWxzLnN0YXJ0LnNldCh0cnVlKTtcblxuICAgIGlmICghdGhpcy5fcmVxdWlyZWRTaWduYWxzLmxlbmd0aClcbiAgICAgIHRoaXMucmVhZHkoKTtcbiAgfSxcblxuICAvKipcbiAgICogTWFyayB0aGUgc2VydmljZXMgYXMgcmVhZHkuIFRoaXMgc2lnbmFsIGlzIG9ic2VydmVkIGJ5IHtAbGluayBFeHBlcmllbmNlfVxuICAgKiBpbnN0YW5jZXMgYW5kIHRyaWdnZXIgdGhlaXIgYHN0YXJ0YC5cbiAgICovXG4gIHJlYWR5KCkge1xuICAgIGxvZygncmVhZHknKTtcbiAgICB0aGlzLnNpZ25hbHMucmVhZHkuc2V0KHRydWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIGEgc2VydmljZSB3aXRoIG9wdGlvbnMgdG8gYmUgYXBwbGllZCB0byBpdHMgY29uc3RydWN0b3IuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgc2VydmljZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3MgdG8gdGhlIHNlcnZpY2UgY29uc3RydWN0b3IuXG4gICAqL1xuICByZXF1aXJlKGlkLCBvcHRpb25zID0ge30pIHtcbiAgICBpZCA9ICdzZXJ2aWNlOicgKyBpZDtcblxuICAgIGlmICghX2N0b3JzW2lkXSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmljZSBcIiR7aWR9XCIgaXMgbm90IGRlZmluZWRgKTtcblxuICAgIGxldCBpbnN0YW5jZSA9IF9pbnN0YW5jZXNbaWRdO1xuXG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgLy8gdGhyb3cgYW4gZXJyb3IgaWYgbWFuYWdlciBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgIGlmICh0aGlzLnNpZ25hbHMuc3RhcnQuZ2V0KCkgPT09IHRydWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmljZSBcIiR7aWR9XCIgcmVxdWlyZWQgYWZ0ZXIgc2VydmljZU1hbmFnZXIgc3RhcnRgKTtcblxuICAgICAgaW5zdGFuY2UgPSBuZXcgX2N0b3JzW2lkXSgpO1xuXG4gICAgICBpZiAodGhpcy5fc2VydmljZUluc3RhbmNpYXRpb25Ib29rICE9PSBudWxsKVxuICAgICAgICB0aGlzLl9zZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2soaWQsIGluc3RhbmNlKTtcblxuICAgICAgLy8gYWRkIHRoZSBpbnN0YW5jZSByZWFkeSBzaWduYWwgYXMgcmVxdWlyZWQgZm9yIHRoZSBtYW5hZ2VyXG4gICAgICB0aGlzLl9yZXF1aXJlZFNpZ25hbHMuYWRkKGluc3RhbmNlLnNpZ25hbHMucmVhZHkpO1xuICAgICAgLy8gc3RvcmUgaW5zdGFuY2VcbiAgICAgIF9pbnN0YW5jZXNbaWRdID0gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaW5zdGFuY2UuY29uZmlndXJlKG9wdGlvbnMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSxcblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCB3aGVuIGEgc2VydmljZSBpcyBpbnN0YW5jaWF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c2VydmljZU1hbmFnZXJ+c2VydmljZUluc3RhbmNpYXRpb25Ib29rfSBmdW5jIC0gRnVuY3Rpb24gdG9cbiAgICogIHJlZ2lzdGVyIGhhcyBhIGhvb2sgdG8gYmUgZXhlY3V0ZSB3aGVuIGEgc2VydmljZSBpcyBjcmVhdGVkLlxuICAgKi9cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBzZXJ2aWNlTWFuYWdlcn5zZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2tcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gaWQgb2YgdGhlIGluc3RhbmNpYXRlZCBzZXJ2aWNlLlxuICAgKiBAcGFyYW0ge1NlcnZpY2V9IGluc3RhbmNlIC0gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gICAqL1xuICBzZXRTZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2soZnVuYykge1xuICAgIHRoaXMuX3NlcnZpY2VJbnN0YW5jaWF0aW9uSG9vayA9IGZ1bmM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgc2VydmljZSB3aXRoIGEgZ2l2ZW4gaWQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgc2VydmljZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgc2VydmljZS5cbiAgICovXG4gIHJlZ2lzdGVyKGlkLCBjdG9yKSB7XG4gICAgX2N0b3JzW2lkXSA9IGN0b3I7XG4gIH0sXG5cblxuICBnZXRSZXF1aXJlZFNlcnZpY2VzKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhfaW5zdGFuY2VzKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNlcnZpY2VNYW5hZ2VyO1xuXG4iXX0=","deps":{"../../utils/Signal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js","babel-runtime/core-js/object/keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/keys.js","../../utils/SignalAll":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/SignalAll.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","source":"\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js","source":"/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseuri/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseuri/index.js","source":"/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/url.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/url.js","source":"\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || (typeof location !== 'undefined' && location);\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","deps":{"parseuri":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseuri/index.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-bind/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-bind/index.js","source":"/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/indexof/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/indexof/index.js","source":"\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/backo2/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/backo2/index.js","source":"\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/to-array/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/to-array/index.js","source":"module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/Slider.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/Slider.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getScale(domain, range) {\n  var slope = (range[1] - range[0]) / (domain[1] - domain[0]);\n  var intercept = range[0] - slope * domain[0];\n\n  function scale(val) {\n    return slope * val + intercept;\n  }\n\n  scale.invert = function (val) {\n    return (val - intercept) / slope;\n  };\n\n  return scale;\n}\n\nfunction getClipper(min, max, step) {\n  return function (val) {\n    var clippedValue = Math.round(val / step) * step;\n    var fixed = Math.max(Math.log10(1 / step), 0);\n    var fixedValue = clippedValue.toFixed(fixed); // fix floating point errors\n    return Math.min(max, Math.max(min, parseFloat(fixedValue)));\n  };\n}\n\n/**\n * @module gui-components\n */\n\n/**\n * Versatile canvas based slider.\n *\n * @param {Object} options - Override default parameters.\n * @param {'jump'|'proportionnal'|'handle'} [options.mode='jump'] - Mode of the slider:\n *  - in 'jump' mode, the value is changed on 'touchstart' or 'mousedown', and\n *    on move.\n *  - in 'proportionnal' mode, the value is updated relatively to move.\n *  - in 'handle' mode, the slider can be grabbed only around its value.\n * @param {Function} [options.callback] - Callback to be executed when the value\n *  of the slider changes.\n * @param {Number} [options.width=200] - Width of the slider.\n * @param {Number} [options.height=30] - Height of the slider.\n * @param {Number} [options.min=0] - Minimum value.\n * @param {Number} [options.max=1] - Maximum value.\n * @param {Number} [options.step=0.01] - Step between each consecutive values.\n * @param {Number} [options.default=0] - Default value.\n * @param {String|Element} [options.container='body'] - CSS Selector or DOM\n *  element in which inserting the slider.\n * @param {String} [options.backgroundColor='#464646'] - Background color of the\n *  slider.\n * @param {String} [options.foregroundColor='steelblue'] - Foreground color of\n *  the slider.\n * @param {'horizontal'|'vertical'} [options.orientation='horizontal'] -\n *  Orientation of the slider.\n * @param {Array} [options.markers=[]] - List of values where markers should\n *  be displayed on the slider.\n * @param {Boolean} [options.showHandle=true] - In 'handle' mode, define if the\n *  draggable should be show or not.\n * @param {Number} [options.handleSize=20] - Size of the draggable zone.\n * @param {String} [options.handleColor='rgba(255, 255, 255, 0.7)'] - Color of the\n *  draggable zone (when `showHandle` is `true`).\n *\n * @example\n * import { Slider} from 'gui-components';\n *\n * const slider = new Slider({\n *   mode: 'jump',\n *   container: '#container',\n *   default: 0.6,\n *   markers: [0.5],\n *   callback: (value) => console.log(value),\n * });\n */\n\nvar Slider = function () {\n  function Slider(options) {\n    _classCallCheck(this, Slider);\n\n    var defaults = {\n      mode: 'jump',\n      callback: function callback(value) {},\n      width: 200,\n      height: 30,\n      min: 0,\n      max: 1,\n      step: 0.01,\n      default: 0,\n      container: 'body',\n      backgroundColor: '#464646',\n      foregroundColor: 'steelblue',\n      orientation: 'horizontal',\n      markers: [],\n\n      // handle specific options\n      showHandle: true,\n      handleSize: 20,\n      handleColor: 'rgba(255, 255, 255, 0.7)'\n    };\n\n    this.params = Object.assign({}, defaults, options);\n    this._boundingClientRect = null;\n    this._touchId = null;\n    this._value = null;\n    this._canvasWidth = null;\n    this._canvasHeight = null;\n    // for proportionnal mode\n    this._currentMousePosition = { x: null, y: null };\n    this._currentSliderPosition = null;\n\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseMove = this._onMouseMove.bind(this);\n    this._onMouseUp = this._onMouseUp.bind(this);\n\n    this._onTouchStart = this._onTouchStart.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n\n    this._onResize = this._onResize.bind(this);\n\n    this._createElement();\n\n    // initialize\n    this._resizeElement();\n    this._setScales();\n    this._bindEvents();\n    this._onResize();\n    this._updateValue(this.params.default, true, true);\n\n    window.addEventListener('resize', this._onResize);\n  }\n\n  /**\n   * Current value of the slider.\n   *\n   * @type {Number}\n   */\n\n\n  _createClass(Slider, [{\n    key: 'reset',\n\n\n    /**\n     * Reset the slider to its default value.\n     */\n    value: function reset() {\n      this._updateValue(this.params.default);\n    }\n\n    /**\n     * Resize the slider.\n     *\n     * @param {Number} width - New width of the slider.\n     * @param {Number} height - New height of the slider.\n     */\n\n  }, {\n    key: 'resize',\n    value: function resize(width, height) {\n      this.params.width = width;\n      this.params.height = height;\n\n      this._resizeElement();\n      this._setScales();\n      this._onResize();\n      this._updateValue(this._value, true, true);\n    }\n  }, {\n    key: '_updateValue',\n    value: function _updateValue(value) {\n      var _this = this;\n\n      var silent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var forceRender = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var callback = this.params.callback;\n\n      var clippedValue = this.clipper(value);\n\n      // resize render but don't trigger callback\n      if (clippedValue === this._value && forceRender === true) requestAnimationFrame(function () {\n        return _this._render(clippedValue);\n      });\n\n      // trigger callback\n      if (clippedValue !== this._value) {\n        this._value = clippedValue;\n\n        if (!silent) callback(clippedValue);\n\n        requestAnimationFrame(function () {\n          return _this._render(clippedValue);\n        });\n      }\n    }\n  }, {\n    key: '_createElement',\n    value: function _createElement() {\n      var container = this.params.container;\n\n      this.$canvas = document.createElement('canvas');\n      this.ctx = this.$canvas.getContext('2d');\n\n      if (container instanceof Element) this.$container = container;else this.$container = document.querySelector(container);\n\n      this.$container.appendChild(this.$canvas);\n    }\n  }, {\n    key: '_resizeElement',\n    value: function _resizeElement() {\n      var _params = this.params,\n          width = _params.width,\n          height = _params.height;\n\n      // logical and pixel size of the canvas\n\n      this._pixelRatio = function (ctx) {\n        var dPR = window.devicePixelRatio || 1;\n        var bPR = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n\n        return dPR / bPR;\n      }(this.ctx);\n\n      this._canvasWidth = width * this._pixelRatio;\n      this._canvasHeight = height * this._pixelRatio;\n\n      this.ctx.canvas.width = this._canvasWidth;\n      this.ctx.canvas.height = this._canvasHeight;\n      this.ctx.canvas.style.width = width + 'px';\n      this.ctx.canvas.style.height = height + 'px';\n    }\n  }, {\n    key: '_onResize',\n    value: function _onResize() {\n      this._boundingClientRect = this.$canvas.getBoundingClientRect();\n    }\n  }, {\n    key: '_setScales',\n    value: function _setScales() {\n      var _params2 = this.params,\n          orientation = _params2.orientation,\n          width = _params2.width,\n          height = _params2.height,\n          min = _params2.min,\n          max = _params2.max,\n          step = _params2.step;\n      // define transfert functions\n\n      var screenSize = orientation === 'horizontal' ? width : height;\n\n      var canvasSize = orientation === 'horizontal' ? this._canvasWidth : this._canvasHeight;\n\n      var domain = orientation === 'horizontal' ? [min, max] : [max, min];\n      var screenRange = [0, screenSize];\n      var canvasRange = [0, canvasSize];\n\n      this.screenScale = getScale(domain, screenRange);\n      this.canvasScale = getScale(domain, canvasRange);\n      this.clipper = getClipper(min, max, step);\n    }\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      this.$canvas.addEventListener('mousedown', this._onMouseDown);\n      this.$canvas.addEventListener('touchstart', this._onTouchStart, { passive: false });\n    }\n  }, {\n    key: '_onStart',\n    value: function _onStart(x, y) {\n      var started = null;\n\n      switch (this.params.mode) {\n        case 'jump':\n          this._updatePosition(x, y);\n          started = true;\n          break;\n        case 'proportionnal':\n          this._currentMousePosition.x = x;\n          this._currentMousePosition.y = y;\n          started = true;\n          break;\n        case 'handle':\n          var orientation = this.params.orientation;\n          var position = this.screenScale(this._value);\n          var compare = orientation === 'horizontal' ? x : y;\n          var delta = this.params.handleSize / 2;\n\n          if (compare < position + delta && compare > position - delta) {\n            this._currentMousePosition.x = x;\n            this._currentMousePosition.y = y;\n            started = true;\n          } else {\n            started = false;\n          }\n          break;\n      }\n\n      return started;\n    }\n  }, {\n    key: '_onMove',\n    value: function _onMove(x, y) {\n      switch (this.params.mode) {\n        case 'jump':\n          break;\n        case 'proportionnal':\n        case 'handle':\n          var deltaX = x - this._currentMousePosition.x;\n          var deltaY = y - this._currentMousePosition.y;\n          this._currentMousePosition.x = x;\n          this._currentMousePosition.y = y;\n\n          x = this.screenScale(this._value) + deltaX;\n          y = this.screenScale(this._value) + deltaY;\n          break;\n      }\n\n      this._updatePosition(x, y);\n    }\n  }, {\n    key: '_onEnd',\n    value: function _onEnd() {\n      switch (this.params.mode) {\n        case 'jump':\n          break;\n        case 'proportionnal':\n        case 'handle':\n          this._currentMousePosition.x = null;\n          this._currentMousePosition.y = null;\n          break;\n      }\n    }\n\n    // mouse events\n\n  }, {\n    key: '_onMouseDown',\n    value: function _onMouseDown(e) {\n      e.preventDefault();\n\n      var pageX = e.pageX;\n      var pageY = e.pageY;\n      var x = pageX - this._boundingClientRect.left;\n      var y = pageY - this._boundingClientRect.top;\n\n      if (this._onStart(x, y) === true) {\n        window.addEventListener('mousemove', this._onMouseMove);\n        window.addEventListener('mouseup', this._onMouseUp);\n      }\n    }\n  }, {\n    key: '_onMouseMove',\n    value: function _onMouseMove(e) {\n      e.preventDefault(); // prevent text selection\n\n      var pageX = e.pageX;\n      var pageY = e.pageY;\n      var x = pageX - this._boundingClientRect.left;;\n      var y = pageY - this._boundingClientRect.top;;\n\n      this._onMove(x, y);\n    }\n  }, {\n    key: '_onMouseUp',\n    value: function _onMouseUp(e) {\n      this._onEnd();\n\n      window.removeEventListener('mousemove', this._onMouseMove);\n      window.removeEventListener('mouseup', this._onMouseUp);\n    }\n\n    // touch events\n\n  }, {\n    key: '_onTouchStart',\n    value: function _onTouchStart(e) {\n      e.preventDefault();\n\n      if (this._touchId !== null) {\n        return;\n      }\n\n      // consider the last touch of the list, as another touch might have\n      // occured somewhere else on the screen\n      var touch = e.touches[e.touches.length - 1];\n      var pageX = touch.pageX;\n      var pageY = touch.pageY;\n      var x = pageX - this._boundingClientRect.left;\n      var y = pageY - this._boundingClientRect.top;\n\n      if (this._onStart(x, y) === true) {\n        this._touchId = touch.identifier;\n        // disable touchstart\n        this.$canvas.removeEventListener('touchstart', this._onTouchStart);\n\n        window.addEventListener('touchmove', this._onTouchMove, { passive: false });\n        window.addEventListener('touchend', this._onTouchEnd);\n        window.addEventListener('touchcancel', this._onTouchEnd);\n      }\n    }\n  }, {\n    key: '_onTouchMove',\n    value: function _onTouchMove(e) {\n      var _this2 = this;\n\n      var touches = Array.from(e.touches);\n      var touch = touches.filter(function (t) {\n        return t.identifier === _this2._touchId;\n      })[0];\n\n      if (touch) {\n        e.preventDefault(); // prevent text selection\n\n        var pageX = touch.pageX;\n        var pageY = touch.pageY;\n        var x = pageX - this._boundingClientRect.left;\n        var y = pageY - this._boundingClientRect.top;\n\n        this._onMove(x, y);\n      }\n    }\n  }, {\n    key: '_onTouchEnd',\n    value: function _onTouchEnd(e) {\n      var _this3 = this;\n\n      var touches = Array.from(e.touches);\n      var touch = touches.filter(function (t) {\n        return t.identifier === _this3._touchId;\n      })[0];\n\n      if (touch === undefined) {\n        this._onEnd();\n        this._touchId = null;\n\n        window.removeEventListener('touchmove', this._onTouchMove);\n        window.removeEventListener('touchend', this._onTouchEnd);\n        window.removeEventListener('touchcancel', this._onTouchEnd);\n        // re-enable touchstart\n        this.$canvas.addEventListener('touchstart', this._onTouchStart, { passive: false });\n      }\n    }\n  }, {\n    key: '_updatePosition',\n    value: function _updatePosition(x, y) {\n      var _params3 = this.params,\n          orientation = _params3.orientation,\n          height = _params3.height;\n\n      var position = orientation === 'horizontal' ? x : y;\n      var value = this.screenScale.invert(position);\n\n      this._updateValue(value, false, true);\n    }\n  }, {\n    key: '_render',\n    value: function _render(clippedValue) {\n      var _params4 = this.params,\n          backgroundColor = _params4.backgroundColor,\n          foregroundColor = _params4.foregroundColor,\n          orientation = _params4.orientation;\n\n      var canvasPosition = Math.round(this.canvasScale(clippedValue));\n      var width = this._canvasWidth;\n      var height = this._canvasHeight;\n      var ctx = this.ctx;\n\n      ctx.save();\n      ctx.clearRect(0, 0, width, height);\n\n      // background\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, width, height);\n\n      // foreground\n      ctx.fillStyle = foregroundColor;\n\n      if (orientation === 'horizontal') ctx.fillRect(0, 0, canvasPosition, height);else ctx.fillRect(0, canvasPosition, width, height);\n\n      // markers\n      var markers = this.params.markers;\n\n      for (var i = 0; i < markers.length; i++) {\n        var marker = markers[i];\n        var position = this.canvasScale(marker);\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';\n        ctx.beginPath();\n\n        if (orientation === 'horizontal') {\n          ctx.moveTo(position - 0.5, 1);\n          ctx.lineTo(position - 0.5, height - 1);\n        } else {\n          ctx.moveTo(1, height - position + 0.5);\n          ctx.lineTo(width - 1, height - position + 0.5);\n        }\n\n        ctx.closePath();\n        ctx.stroke();\n      }\n\n      // handle mode\n      if (this.params.mode === 'handle' && this.params.showHandle) {\n        var delta = this.params.handleSize * this._pixelRatio / 2;\n        var start = canvasPosition - delta;\n        var end = canvasPosition + delta;\n\n        ctx.globalAlpha = 1;\n        ctx.fillStyle = this.params.handleColor;\n\n        if (orientation === 'horizontal') {\n          ctx.fillRect(start, 0, end - start, height);\n        } else {\n          ctx.fillRect(0, start, width, end - start);\n        }\n      }\n\n      ctx.restore();\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._value;\n    },\n    set: function set(val) {\n      // don't trigger the callback when value is set from outside\n      this._updateValue(val, true, false);\n    }\n  }]);\n\n  return Slider;\n}();\n\nexports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImdldFNjYWxlIiwiZG9tYWluIiwicmFuZ2UiLCJzbG9wZSIsImludGVyY2VwdCIsInNjYWxlIiwidmFsIiwiaW52ZXJ0IiwiZ2V0Q2xpcHBlciIsIm1pbiIsIm1heCIsInN0ZXAiLCJjbGlwcGVkVmFsdWUiLCJNYXRoIiwicm91bmQiLCJmaXhlZCIsImxvZzEwIiwiZml4ZWRWYWx1ZSIsInRvRml4ZWQiLCJwYXJzZUZsb2F0IiwiU2xpZGVyIiwib3B0aW9ucyIsImRlZmF1bHRzIiwibW9kZSIsImNhbGxiYWNrIiwid2lkdGgiLCJoZWlnaHQiLCJkZWZhdWx0IiwiY29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIiwiZm9yZWdyb3VuZENvbG9yIiwib3JpZW50YXRpb24iLCJtYXJrZXJzIiwic2hvd0hhbmRsZSIsImhhbmRsZVNpemUiLCJoYW5kbGVDb2xvciIsInBhcmFtcyIsIk9iamVjdCIsImFzc2lnbiIsIl9ib3VuZGluZ0NsaWVudFJlY3QiLCJfdG91Y2hJZCIsIl92YWx1ZSIsIl9jYW52YXNXaWR0aCIsIl9jYW52YXNIZWlnaHQiLCJfY3VycmVudE1vdXNlUG9zaXRpb24iLCJ4IiwieSIsIl9jdXJyZW50U2xpZGVyUG9zaXRpb24iLCJfb25Nb3VzZURvd24iLCJiaW5kIiwiX29uTW91c2VNb3ZlIiwiX29uTW91c2VVcCIsIl9vblRvdWNoU3RhcnQiLCJfb25Ub3VjaE1vdmUiLCJfb25Ub3VjaEVuZCIsIl9vblJlc2l6ZSIsIl9jcmVhdGVFbGVtZW50IiwiX3Jlc2l6ZUVsZW1lbnQiLCJfc2V0U2NhbGVzIiwiX2JpbmRFdmVudHMiLCJfdXBkYXRlVmFsdWUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJzaWxlbnQiLCJmb3JjZVJlbmRlciIsImNsaXBwZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVuZGVyIiwiJGNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJFbGVtZW50IiwiJGNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsIl9waXhlbFJhdGlvIiwiZFBSIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJQUiIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiY2FudmFzIiwic3R5bGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JlZW5TaXplIiwiY2FudmFzU2l6ZSIsInNjcmVlblJhbmdlIiwiY2FudmFzUmFuZ2UiLCJzY3JlZW5TY2FsZSIsImNhbnZhc1NjYWxlIiwicGFzc2l2ZSIsInN0YXJ0ZWQiLCJfdXBkYXRlUG9zaXRpb24iLCJwb3NpdGlvbiIsImNvbXBhcmUiLCJkZWx0YSIsImRlbHRhWCIsImRlbHRhWSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBhZ2VYIiwicGFnZVkiLCJsZWZ0IiwidG9wIiwiX29uU3RhcnQiLCJfb25Nb3ZlIiwiX29uRW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvdWNoIiwidG91Y2hlcyIsImxlbmd0aCIsImlkZW50aWZpZXIiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJ0IiwidW5kZWZpbmVkIiwiY2FudmFzUG9zaXRpb24iLCJzYXZlIiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJpIiwibWFya2VyIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJzdGFydCIsImVuZCIsImdsb2JhbEFscGhhIiwicmVzdG9yZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLFNBQVNBLFFBQVQsQ0FBa0JDLE1BQWxCLEVBQTBCQyxLQUExQixFQUFpQztBQUMvQixNQUFNQyxR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QUo7QUFDRDs7O3dCQWxWVztBQUNWLGFBQU8sS0FBS2xHLE1BQVo7QUFDRCxLO3NCQUVTbkMsRyxFQUFLO0FBQ2I7QUFDQSxXQUFLc0QsWUFBTCxDQUFrQnRELEdBQWxCLEVBQXVCLElBQXZCLEVBQTZCLEtBQTdCO0FBQ0Q7Ozs7OztrQkE4VVljLE0iLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRTY2FsZShkb21haW4sIHJhbmdlKSB7XG4gIGNvbnN0IHNsb3BlID0gKHJhbmdlWzFdIC0gcmFuZ2VbMF0pIC8gKGRvbWFpblsxXSAtIGRvbWFpblswXSk7XG4gIGNvbnN0IGludGVyY2VwdCA9IHJhbmdlWzBdIC0gc2xvcGUgKiBkb21haW5bMF07XG5cbiAgZnVuY3Rpb24gc2NhbGUodmFsKSB7XG4gICAgcmV0dXJuIHNsb3BlICogdmFsICsgaW50ZXJjZXB0O1xuICB9XG5cbiAgc2NhbGUuaW52ZXJ0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuICh2YWwgLSBpbnRlcmNlcHQpIC8gc2xvcGU7XG4gIH1cblxuICByZXR1cm4gc2NhbGU7XG59XG5cbmZ1bmN0aW9uIGdldENsaXBwZXIobWluLCBtYXgsIHN0ZXApIHtcbiAgcmV0dXJuICh2YWwpID0+IHtcbiAgICBjb25zdCBjbGlwcGVkVmFsdWUgPSBNYXRoLnJvdW5kKHZhbCAvIHN0ZXApICogc3RlcDtcbiAgICBjb25zdCBmaXhlZCA9IE1hdGgubWF4KE1hdGgubG9nMTAoMSAvIHN0ZXApLCAwKTtcbiAgICBjb25zdCBmaXhlZFZhbHVlID0gY2xpcHBlZFZhbHVlLnRvRml4ZWQoZml4ZWQpOyAvLyBmaXggZmxvYXRpbmcgcG9pbnQgZXJyb3JzXG4gICAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCBwYXJzZUZsb2F0KGZpeGVkVmFsdWUpKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbW9kdWxlIGd1aS1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBWZXJzYXRpbGUgY2FudmFzIGJhc2VkIHNsaWRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlIGRlZmF1bHQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7J2p1bXAnfCdwcm9wb3J0aW9ubmFsJ3wnaGFuZGxlJ30gW29wdGlvbnMubW9kZT0nanVtcCddIC0gTW9kZSBvZiB0aGUgc2xpZGVyOlxuICogIC0gaW4gJ2p1bXAnIG1vZGUsIHRoZSB2YWx1ZSBpcyBjaGFuZ2VkIG9uICd0b3VjaHN0YXJ0JyBvciAnbW91c2Vkb3duJywgYW5kXG4gKiAgICBvbiBtb3ZlLlxuICogIC0gaW4gJ3Byb3BvcnRpb25uYWwnIG1vZGUsIHRoZSB2YWx1ZSBpcyB1cGRhdGVkIHJlbGF0aXZlbHkgdG8gbW92ZS5cbiAqICAtIGluICdoYW5kbGUnIG1vZGUsIHRoZSBzbGlkZXIgY2FuIGJlIGdyYWJiZWQgb25seSBhcm91bmQgaXRzIHZhbHVlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgdmFsdWVcbiAqICBvZiB0aGUgc2xpZGVyIGNoYW5nZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGg9MjAwXSAtIFdpZHRoIG9mIHRoZSBzbGlkZXIuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTMwXSAtIEhlaWdodCBvZiB0aGUgc2xpZGVyLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pbj0wXSAtIE1pbmltdW0gdmFsdWUuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4PTFdIC0gTWF4aW11bSB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zdGVwPTAuMDFdIC0gU3RlcCBiZXR3ZWVuIGVhY2ggY29uc2VjdXRpdmUgdmFsdWVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmRlZmF1bHQ9MF0gLSBEZWZhdWx0IHZhbHVlLlxuICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudH0gW29wdGlvbnMuY29udGFpbmVyPSdib2R5J10gLSBDU1MgU2VsZWN0b3Igb3IgRE9NXG4gKiAgZWxlbWVudCBpbiB3aGljaCBpbnNlcnRpbmcgdGhlIHNsaWRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9JyM0NjQ2NDYnXSAtIEJhY2tncm91bmQgY29sb3Igb2YgdGhlXG4gKiAgc2xpZGVyLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZvcmVncm91bmRDb2xvcj0nc3RlZWxibHVlJ10gLSBGb3JlZ3JvdW5kIGNvbG9yIG9mXG4gKiAgdGhlIHNsaWRlci5cbiAqIEBwYXJhbSB7J2hvcml6b250YWwnfCd2ZXJ0aWNhbCd9IFtvcHRpb25zLm9yaWVudGF0aW9uPSdob3Jpem9udGFsJ10gLVxuICogIE9yaWVudGF0aW9uIG9mIHRoZSBzbGlkZXIuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tYXJrZXJzPVtdXSAtIExpc3Qgb2YgdmFsdWVzIHdoZXJlIG1hcmtlcnMgc2hvdWxkXG4gKiAgYmUgZGlzcGxheWVkIG9uIHRoZSBzbGlkZXIuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3dIYW5kbGU9dHJ1ZV0gLSBJbiAnaGFuZGxlJyBtb2RlLCBkZWZpbmUgaWYgdGhlXG4gKiAgZHJhZ2dhYmxlIHNob3VsZCBiZSBzaG93IG9yIG5vdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oYW5kbGVTaXplPTIwXSAtIFNpemUgb2YgdGhlIGRyYWdnYWJsZSB6b25lLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhhbmRsZUNvbG9yPSdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknXSAtIENvbG9yIG9mIHRoZVxuICogIGRyYWdnYWJsZSB6b25lICh3aGVuIGBzaG93SGFuZGxlYCBpcyBgdHJ1ZWApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBTbGlkZXJ9IGZyb20gJ2d1aS1jb21wb25lbnRzJztcbiAqXG4gKiBjb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKHtcbiAqICAgbW9kZTogJ2p1bXAnLFxuICogICBjb250YWluZXI6ICcjY29udGFpbmVyJyxcbiAqICAgZGVmYXVsdDogMC42LFxuICogICBtYXJrZXJzOiBbMC41XSxcbiAqICAgY2FsbGJhY2s6ICh2YWx1ZSkgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogfSk7XG4gKi9cbmNsYXNzIFNsaWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIG1vZGU6ICdqdW1wJyxcbiAgICAgIGNhbGxiYWNrOiB2YWx1ZSA9PiB7fSxcbiAgICAgIHdpZHRoOiAyMDAsXG4gICAgICBoZWlnaHQ6IDMwLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMSxcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICBjb250YWluZXI6ICdib2R5JyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NjQ2NDYnLFxuICAgICAgZm9yZWdyb3VuZENvbG9yOiAnc3RlZWxibHVlJyxcbiAgICAgIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBtYXJrZXJzOiBbXSxcblxuICAgICAgLy8gaGFuZGxlIHNwZWNpZmljIG9wdGlvbnNcbiAgICAgIHNob3dIYW5kbGU6IHRydWUsXG4gICAgICBoYW5kbGVTaXplOiAyMCxcbiAgICAgIGhhbmRsZUNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJyxcbiAgICB9O1xuXG4gICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgdGhpcy5fYm91bmRpbmdDbGllbnRSZWN0ID0gbnVsbDtcbiAgICB0aGlzLl90b3VjaElkID0gbnVsbDtcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgdGhpcy5fY2FudmFzV2lkdGggPSBudWxsO1xuICAgIHRoaXMuX2NhbnZhc0hlaWdodCA9IG51bGw7XG4gICAgLy8gZm9yIHByb3BvcnRpb25uYWwgbW9kZVxuICAgIHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uID0geyB4OiBudWxsLCB5OiBudWxsIH07XG4gICAgdGhpcy5fY3VycmVudFNsaWRlclBvc2l0aW9uID0gbnVsbDtcblxuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9vblRvdWNoU3RhcnQgPSB0aGlzLl9vblRvdWNoU3RhcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblRvdWNoTW92ZSA9IHRoaXMuX29uVG91Y2hNb3ZlIC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVG91Y2hFbmQgPSB0aGlzLl9vblRvdWNoRW5kLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9vblJlc2l6ZSA9IHRoaXMuX29uUmVzaXplLmJpbmQodGhpcyk7XG5cblxuICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnQoKTtcblxuICAgIC8vIGluaXRpYWxpemVcbiAgICB0aGlzLl9yZXNpemVFbGVtZW50KCk7XG4gICAgdGhpcy5fc2V0U2NhbGVzKCk7XG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgIHRoaXMuX29uUmVzaXplKCk7XG4gICAgdGhpcy5fdXBkYXRlVmFsdWUodGhpcy5wYXJhbXMuZGVmYXVsdCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25SZXNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgdmFsdWUgb2YgdGhlIHNsaWRlci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUodmFsKSB7XG4gICAgLy8gZG9uJ3QgdHJpZ2dlciB0aGUgY2FsbGJhY2sgd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBvdXRzaWRlXG4gICAgdGhpcy5fdXBkYXRlVmFsdWUodmFsLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIHNsaWRlciB0byBpdHMgZGVmYXVsdCB2YWx1ZS5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3VwZGF0ZVZhbHVlKHRoaXMucGFyYW1zLmRlZmF1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgc2xpZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBOZXcgd2lkdGggb2YgdGhlIHNsaWRlci5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIE5ldyBoZWlnaHQgb2YgdGhlIHNsaWRlci5cbiAgICovXG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5wYXJhbXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLnBhcmFtcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLl9yZXNpemVFbGVtZW50KCk7XG4gICAgdGhpcy5fc2V0U2NhbGVzKCk7XG4gICAgdGhpcy5fb25SZXNpemUoKTtcbiAgICB0aGlzLl91cGRhdGVWYWx1ZSh0aGlzLl92YWx1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBfdXBkYXRlVmFsdWUodmFsdWUsIHNpbGVudCA9IGZhbHNlLCBmb3JjZVJlbmRlciA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyBjYWxsYmFjayB9ID0gdGhpcy5wYXJhbXM7XG4gICAgY29uc3QgY2xpcHBlZFZhbHVlID0gdGhpcy5jbGlwcGVyKHZhbHVlKTtcblxuICAgIC8vIHJlc2l6ZSByZW5kZXIgYnV0IGRvbid0IHRyaWdnZXIgY2FsbGJhY2tcbiAgICBpZiAoY2xpcHBlZFZhbHVlID09PSB0aGlzLl92YWx1ZSAmJiBmb3JjZVJlbmRlciA9PT0gdHJ1ZSlcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl9yZW5kZXIoY2xpcHBlZFZhbHVlKSk7XG5cbiAgICAvLyB0cmlnZ2VyIGNhbGxiYWNrXG4gICAgaWYgKGNsaXBwZWRWYWx1ZSAhPT0gdGhpcy5fdmFsdWUpIHtcbiAgICAgIHRoaXMuX3ZhbHVlID0gY2xpcHBlZFZhbHVlO1xuXG4gICAgICBpZiAoIXNpbGVudClcbiAgICAgICAgY2FsbGJhY2soY2xpcHBlZFZhbHVlKTtcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuX3JlbmRlcihjbGlwcGVkVmFsdWUpKTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlRWxlbWVudCgpIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gdGhpcy5wYXJhbXM7XG4gICAgdGhpcy4kY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5jdHggPSB0aGlzLiRjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KVxuICAgICAgdGhpcy4kY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuJGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcblxuICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLiRjYW52YXMpO1xuICB9XG5cbiAgX3Jlc2l6ZUVsZW1lbnQoKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnBhcmFtcztcblxuICAgIC8vIGxvZ2ljYWwgYW5kIHBpeGVsIHNpemUgb2YgdGhlIGNhbnZhc1xuICAgIHRoaXMuX3BpeGVsUmF0aW8gPSAoZnVuY3Rpb24oY3R4KSB7XG4gICAgY29uc3QgZFBSID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICBjb25zdCBiUFIgPSBjdHgud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgIGN0eC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgIGN0eC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgcmV0dXJuIGRQUiAvIGJQUjtcbiAgICB9KHRoaXMuY3R4KSk7XG5cbiAgICB0aGlzLl9jYW52YXNXaWR0aCA9IHdpZHRoICogdGhpcy5fcGl4ZWxSYXRpbztcbiAgICB0aGlzLl9jYW52YXNIZWlnaHQgPSBoZWlnaHQgKiB0aGlzLl9waXhlbFJhdGlvO1xuXG4gICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gdGhpcy5fY2FudmFzV2lkdGg7XG4gICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IHRoaXMuX2NhbnZhc0hlaWdodDtcbiAgICB0aGlzLmN0eC5jYW52YXMuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgdGhpcy5jdHguY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gIH1cblxuICBfb25SZXNpemUoKSB7XG4gICAgdGhpcy5fYm91bmRpbmdDbGllbnRSZWN0ID0gdGhpcy4kY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9XG5cbiAgX3NldFNjYWxlcygpIHtcbiAgICBjb25zdCB7IG9yaWVudGF0aW9uLCB3aWR0aCwgaGVpZ2h0LCBtaW4sIG1heCwgc3RlcCB9ID0gdGhpcy5wYXJhbXM7XG4gICAgLy8gZGVmaW5lIHRyYW5zZmVydCBmdW5jdGlvbnNcbiAgICBjb25zdCBzY3JlZW5TaXplID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/XG4gICAgICB3aWR0aCA6IGhlaWdodDtcblxuICAgIGNvbnN0IGNhbnZhc1NpemUgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID9cbiAgICAgIHRoaXMuX2NhbnZhc1dpZHRoIDogdGhpcy5fY2FudmFzSGVpZ2h0O1xuXG4gICAgY29uc3QgZG9tYWluID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICAgIGNvbnN0IHNjcmVlblJhbmdlID0gWzAsIHNjcmVlblNpemVdO1xuICAgIGNvbnN0IGNhbnZhc1JhbmdlID0gWzAsIGNhbnZhc1NpemVdO1xuXG4gICAgdGhpcy5zY3JlZW5TY2FsZSA9IGdldFNjYWxlKGRvbWFpbiwgc2NyZWVuUmFuZ2UpO1xuICAgIHRoaXMuY2FudmFzU2NhbGUgPSBnZXRTY2FsZShkb21haW4sIGNhbnZhc1JhbmdlKTtcbiAgICB0aGlzLmNsaXBwZXIgPSBnZXRDbGlwcGVyKG1pbiwgbWF4LCBzdGVwKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG4gICAgdGhpcy4kY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gIH1cblxuICBfb25TdGFydCh4LCB5KSB7XG4gICAgbGV0IHN0YXJ0ZWQgPSBudWxsO1xuXG4gICAgc3dpdGNoICh0aGlzLnBhcmFtcy5tb2RlKSB7XG4gICAgICBjYXNlICdqdW1wJzpcbiAgICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oeCwgeSk7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Byb3BvcnRpb25uYWwnOlxuICAgICAgICB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hhbmRsZSc6XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gdGhpcy5wYXJhbXMub3JpZW50YXRpb247XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5zY3JlZW5TY2FsZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8geCA6IHk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy5wYXJhbXMuaGFuZGxlU2l6ZSAvIDI7XG5cbiAgICAgICAgaWYgKGNvbXBhcmUgPCBwb3NpdGlvbiArIGRlbHRhICYmIGNvbXBhcmUgPiBwb3NpdGlvbiAtIGRlbHRhKSB7XG4gICAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueCA9IHg7XG4gICAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueSA9IHk7XG4gICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFydGVkO1xuICB9XG5cbiAgX29uTW92ZSh4LCB5KSB7XG4gICAgc3dpdGNoICh0aGlzLnBhcmFtcy5tb2RlKSB7XG4gICAgICBjYXNlICdqdW1wJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcm9wb3J0aW9ubmFsJzpcbiAgICAgIGNhc2UgJ2hhbmRsZSc6XG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IHggLSB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi54O1xuICAgICAgICBjb25zdCBkZWx0YVkgPSB5IC0gdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueTtcbiAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLnkgPSB5O1xuXG4gICAgICAgIHggPSB0aGlzLnNjcmVlblNjYWxlKHRoaXMuX3ZhbHVlKSArIGRlbHRhWDtcbiAgICAgICAgeSA9IHRoaXMuc2NyZWVuU2NhbGUodGhpcy5fdmFsdWUpICsgZGVsdGFZO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgfVxuXG4gIF9vbkVuZCgpIHtcbiAgICBzd2l0Y2ggKHRoaXMucGFyYW1zLm1vZGUpIHtcbiAgICAgIGNhc2UgJ2p1bXAnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Byb3BvcnRpb25uYWwnOlxuICAgICAgY2FzZSAnaGFuZGxlJzpcbiAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24ueCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLnkgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBtb3VzZSBldmVudHNcbiAgX29uTW91c2VEb3duKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBwYWdlWCA9IGUucGFnZVg7XG4gICAgY29uc3QgcGFnZVkgPSBlLnBhZ2VZO1xuICAgIGNvbnN0IHggPSBwYWdlWCAtIHRoaXMuX2JvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0O1xuICAgIGNvbnN0IHkgPSBwYWdlWSAtIHRoaXMuX2JvdW5kaW5nQ2xpZW50UmVjdC50b3A7XG5cbiAgICBpZiAodGhpcy5fb25TdGFydCh4LCB5KSA9PT0gdHJ1ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB9XG4gIH1cblxuICBfb25Nb3VzZU1vdmUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCB0ZXh0IHNlbGVjdGlvblxuXG4gICAgY29uc3QgcGFnZVggPSBlLnBhZ2VYO1xuICAgIGNvbnN0IHBhZ2VZID0gZS5wYWdlWTtcbiAgICBsZXQgeCA9IHBhZ2VYIC0gdGhpcy5fYm91bmRpbmdDbGllbnRSZWN0LmxlZnQ7O1xuICAgIGxldCB5ID0gcGFnZVkgLSB0aGlzLl9ib3VuZGluZ0NsaWVudFJlY3QudG9wOztcblxuICAgIHRoaXMuX29uTW92ZSh4LCB5KTtcbiAgfVxuXG4gIF9vbk1vdXNlVXAoZSkge1xuICAgIHRoaXMuX29uRW5kKCk7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgfVxuXG4gIC8vIHRvdWNoIGV2ZW50c1xuICBfb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAodGhpcy5fdG91Y2hJZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNvbnNpZGVyIHRoZSBsYXN0IHRvdWNoIG9mIHRoZSBsaXN0LCBhcyBhbm90aGVyIHRvdWNoIG1pZ2h0IGhhdmVcbiAgICAvLyBvY2N1cmVkIHNvbWV3aGVyZSBlbHNlIG9uIHRoZSBzY3JlZW5cbiAgICBjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tlLnRvdWNoZXMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgcGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgICBjb25zdCBwYWdlWSA9IHRvdWNoLnBhZ2VZO1xuICAgIGNvbnN0IHggPSBwYWdlWCAtIHRoaXMuX2JvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0O1xuICAgIGNvbnN0IHkgPSBwYWdlWSAtIHRoaXMuX2JvdW5kaW5nQ2xpZW50UmVjdC50b3A7XG5cbiAgICBpZiAodGhpcy5fb25TdGFydCh4LCB5KSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fdG91Y2hJZCA9IHRvdWNoLmlkZW50aWZpZXI7XG4gICAgICAvLyBkaXNhYmxlIHRvdWNoc3RhcnRcbiAgICAgIHRoaXMuJGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0KTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLl9vblRvdWNoRW5kKTtcbiAgICB9XG4gIH1cblxuICBfb25Ub3VjaE1vdmUoZSkge1xuICAgIGNvbnN0IHRvdWNoZXMgPSBBcnJheS5mcm9tKGUudG91Y2hlcyk7XG4gICAgY29uc3QgdG91Y2ggPSB0b3VjaGVzLmZpbHRlcih0ID0+IHQuaWRlbnRpZmllciA9PT0gdGhpcy5fdG91Y2hJZClbMF07XG5cbiAgICBpZiAodG91Y2gpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCB0ZXh0IHNlbGVjdGlvblxuXG4gICAgICBjb25zdCBwYWdlWCA9IHRvdWNoLnBhZ2VYO1xuICAgICAgY29uc3QgcGFnZVkgPSB0b3VjaC5wYWdlWTtcbiAgICAgIGNvbnN0IHggPSBwYWdlWCAtIHRoaXMuX2JvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0O1xuICAgICAgY29uc3QgeSA9IHBhZ2VZIC0gdGhpcy5fYm91bmRpbmdDbGllbnRSZWN0LnRvcDtcblxuICAgICAgdGhpcy5fb25Nb3ZlKHgsIHkpO1xuICAgIH1cbiAgfVxuXG4gIF9vblRvdWNoRW5kKGUpIHtcbiAgICBjb25zdCB0b3VjaGVzID0gQXJyYXkuZnJvbShlLnRvdWNoZXMpO1xuICAgIGNvbnN0IHRvdWNoID0gdG91Y2hlcy5maWx0ZXIoKHQpID0+IHQuaWRlbnRpZmllciA9PT0gdGhpcy5fdG91Y2hJZClbMF07XG5cbiAgICBpZiAodG91Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fb25FbmQoKTtcbiAgICAgIHRoaXMuX3RvdWNoSWQgPSBudWxsO1xuXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLl9vblRvdWNoRW5kKTtcbiAgICAgIC8vIHJlLWVuYWJsZSB0b3VjaHN0YXJ0XG4gICAgICB0aGlzLiRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX29uVG91Y2hTdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlUG9zaXRpb24oeCwgeSkge1xuICAgIGNvbnN0IHvCoG9yaWVudGF0aW9uLCBoZWlnaHQgfSA9IHRoaXMucGFyYW1zO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IHggOiB5O1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zY3JlZW5TY2FsZS5pbnZlcnQocG9zaXRpb24pO1xuXG4gICAgdGhpcy5fdXBkYXRlVmFsdWUodmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIF9yZW5kZXIoY2xpcHBlZFZhbHVlKSB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kQ29sb3IsIGZvcmVncm91bmRDb2xvciwgb3JpZW50YXRpb24gfSA9IHRoaXMucGFyYW1zO1xuICAgIGNvbnN0IGNhbnZhc1Bvc2l0aW9uID0gTWF0aC5yb3VuZCh0aGlzLmNhbnZhc1NjYWxlKGNsaXBwZWRWYWx1ZSkpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fY2FudmFzV2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fY2FudmFzSGVpZ2h0O1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gYmFja2dyb3VuZFxuICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gZm9yZWdyb3VuZFxuICAgIGN0eC5maWxsU3R5bGUgPSBmb3JlZ3JvdW5kQ29sb3I7XG5cbiAgICBpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJylcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXNQb3NpdGlvbiwgaGVpZ2h0KTtcbiAgICBlbHNlXG4gICAgICBjdHguZmlsbFJlY3QoMCwgY2FudmFzUG9zaXRpb24sIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gbWFya2Vyc1xuICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLnBhcmFtcy5tYXJrZXJzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzW2ldO1xuICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmNhbnZhc1NjYWxlKG1hcmtlcik7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgY3R4Lm1vdmVUbyhwb3NpdGlvbiAtIDAuNSwgMSk7XG4gICAgICAgIGN0eC5saW5lVG8ocG9zaXRpb24gLSAwLjUsIGhlaWdodCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4Lm1vdmVUbygxLCBoZWlnaHQgLSBwb3NpdGlvbiArIDAuNSk7XG4gICAgICAgIGN0eC5saW5lVG8od2lkdGggLSAxLCBoZWlnaHQgLSBwb3NpdGlvbiArIDAuNSk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgbW9kZVxuICAgIGlmICh0aGlzLnBhcmFtcy5tb2RlID09PSAnaGFuZGxlJyAmJiB0aGlzLnBhcmFtcy5zaG93SGFuZGxlKSB7XG4gICAgICBjb25zdCBkZWx0YSA9IHRoaXMucGFyYW1zLmhhbmRsZVNpemUgKiB0aGlzLl9waXhlbFJhdGlvIC8gMjtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gY2FudmFzUG9zaXRpb24gLSBkZWx0YTtcbiAgICAgIGNvbnN0IGVuZCA9IGNhbnZhc1Bvc2l0aW9uICsgZGVsdGE7XG5cbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wYXJhbXMuaGFuZGxlQ29sb3I7XG5cbiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIGN0eC5maWxsUmVjdChzdGFydCwgMCwgZW5kIC0gc3RhcnQsIGhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgc3RhcnQsIHdpZHRoLCBlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7XG4iXX0=","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Slider = require('./Slider');\n\nObject.defineProperty(exports, 'Slider', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Slider).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzJDQUdTQSxPIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIGd1aS1jb21wb25lbnRzXG4gKi9cbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2xpZGVyIH0gZnJvbSAnLi9TbGlkZXInO1xuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBCcmVha3BvaW50IH0gZnJvbSAnLi9CcmVha3BvaW50Jztcbi8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnO1xuIl19","deps":{"./Slider":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/Slider.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Slider.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Slider.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent = require('./BaseComponent');\n\nvar _BaseComponent2 = _interopRequireDefault(_BaseComponent);\n\nvar _display2 = require('../mixins/display');\n\nvar _display3 = _interopRequireDefault(_display2);\n\nvar _guiComponents = require('@ircam/gui-components');\n\nvar guiComponents = _interopRequireWildcard(_guiComponents);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/** @module basic-controllers */\n\nvar defaults = {\n  label: '&nbsp;',\n  min: 0,\n  max: 1,\n  step: 0.01,\n  default: 0,\n  unit: '',\n  size: 'medium',\n  container: null,\n  callback: null\n\n  /**\n   * Slider controller.\n   *\n   * @param {Object} config - Override default parameters.\n   * @param {String} config.label - Label of the controller.\n   * @param {Number} [config.min=0] - Minimum value.\n   * @param {Number} [config.max=1] - Maximum value.\n   * @param {Number} [config.step=0.01] - Step between consecutive values.\n   * @param {Number} [config.default=0] - Default value.\n   * @param {String} [config.unit=''] - Unit of the value.\n   * @param {'small'|'medium'|'large'} [config.size='medium'] - Size of the\n   *  slider.\n   * @param {String|Element|basic-controller~Group} [config.container=null] -\n   *  Container of the controller.\n   * @param {Function} [config.callback=null] - Callback to be executed when the\n   *  value changes.\n   *\n   * @example\n   * import * as controllers from 'basic-controllers';\n   *\n   * const slider = new controllers.Slider({\n   *   label: 'My Slider',\n   *   min: 20,\n   *   max: 1000,\n   *   step: 1,\n   *   default: 537,\n   *   unit: 'Hz',\n   *   size: 'large',\n   *   container: '#container',\n   *   callback: (value) => console.log(value),\n   * });\n   */\n};\nvar Slider = function (_display) {\n  _inherits(Slider, _display);\n\n  function Slider(config) {\n    _classCallCheck(this, Slider);\n\n    var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, 'slider', defaults, config));\n\n    _this._value = _this.params.default;\n    _this._onSliderChange = _this._onSliderChange.bind(_this);\n\n    _get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'initialize', _this).call(_this);\n    return _this;\n  }\n\n  /**\n   * Current value.\n   * @type {Number}\n   */\n\n\n  _createClass(Slider, [{\n    key: 'render',\n\n\n    /** @private */\n    value: function render() {\n      var _params = this.params,\n          label = _params.label,\n          min = _params.min,\n          max = _params.max,\n          step = _params.step,\n          unit = _params.unit,\n          size = _params.size;\n\n      var content = '\\n      <span class=\"label\">' + label + '</span>\\n      <div class=\"inner-wrapper\">\\n        <div class=\"range\"></div>\\n        <div class=\"number-wrapper\">\\n          <input type=\"number\" class=\"number\" min=\"' + min + '\" max=\"' + max + '\" step=\"' + step + '\" value=\"' + this._value + '\" />\\n          <span class=\"unit\">' + unit + '</span>\\n        </div>\\n      </div>';\n\n      this.$el = _get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'render', this).call(this, this.type);\n      this.$el.innerHTML = content;\n      this.$el.classList.add('slider-' + size);\n\n      this.$range = this.$el.querySelector('.range');\n      this.$number = this.$el.querySelector('input[type=\"number\"]');\n\n      this.slider = new guiComponents.Slider({\n        container: this.$range,\n        callback: this._onSliderChange,\n        min: min,\n        max: max,\n        step: step,\n        default: this._value,\n        foregroundColor: '#ababab'\n      });\n\n      this._bindEvents();\n\n      return this.$el;\n    }\n\n    /** @private */\n\n  }, {\n    key: 'resize',\n    value: function resize() {\n      _get(Slider.prototype.__proto__ || Object.getPrototypeOf(Slider.prototype), 'resize', this).call(this);\n\n      var _$range$getBoundingCl = this.$range.getBoundingClientRect(),\n          width = _$range$getBoundingCl.width,\n          height = _$range$getBoundingCl.height;\n\n      this.slider.resize(width, height);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$number.addEventListener('change', function () {\n        var value = parseFloat(_this2.$number.value);\n        // the slider propagates the value\n        _this2.slider.value = value;\n        _this2._value = value;\n\n        _this2.executeListeners(_this2._value);\n      }, false);\n    }\n\n    /** @private */\n\n  }, {\n    key: '_onSliderChange',\n    value: function _onSliderChange(value) {\n      this.$number.value = value;\n      this._value = value;\n\n      this.executeListeners(this._value);\n    }\n  }, {\n    key: 'value',\n    set: function set(value) {\n      this._value = value;\n\n      if (this.$number && this.$range) {\n        this.$number.value = this.value;\n        this.slider.value = this.value;\n      }\n    },\n    get: function get() {\n      return this._value;\n    }\n  }]);\n\n  return Slider;\n}((0, _display3.default)(_BaseComponent2.default));\n\nexports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJuYW1lcyI6WyJndWlDb21wb25lbnRzIiwiZGVmYXVsdHMiLCJsYWJlbCIsIm1pbiIsIm1heCIsInN0ZXAiLCJkZWZhdWx0IiwidW5pdCIsInNpemUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsIlNsaWRlciIsImNvbmZpZyIsIl92YWx1ZSIsInBhcmFtcyIsIl9vblNsaWRlckNoYW5nZSIsImJpbmQiLCJjb250ZW50IiwiJGVsIiwidHlwZSIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImFkZCIsIiRyYW5nZSIsInF1ZXJ5U2VsZWN0b3IiLCIkbnVtYmVyIiwic2xpZGVyIiwiZm9yZWdyb3VuZENvbG9yIiwiX2JpbmRFdmVudHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJleGVjdXRlTGlzdGVuZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztJQUFZQSxhOzs7Ozs7Ozs7Ozs7QUFFWjs7QUFFQSxJQUFNQyxXQUFXO0FBQ2ZDLFNBQU8sUUFEUTtBQUVmQyxPQUFLLENBRlU7QUFHZkMsT0FBSyxDQUhVO0FBSWZDLFFBQU0sSUFKUztBQUtmQyxXQUFTLENBTE07QUFNZkMsUUFBTSxFQU5TO0FBT2ZDLFFBQU0sUUFQUztBQVFmQyxhQUFXLElBUkk7QUFTZkMsWUFBVTs7QUFHWjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFaaUIsQ0FBakI7SUE0Q01DLE07OztBQUNKLGtCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUEsZ0hBQ1osUUFEWSxFQUNGWCxRQURFLEVBQ1FXLE1BRFI7O0FBR2xCLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxNQUFMLENBQVlSLE9BQTFCO0FBQ0EsVUFBS1MsZUFBTCxHQUF1QixNQUFLQSxlQUFMLENBQXFCQyxJQUFyQixPQUF2Qjs7QUFFQTtBQU5rQjtBQU9uQjs7QUFFRDs7Ozs7Ozs7OztBQWlCQTs2QkFDUztBQUFBLG9CQUN1QyxLQUFLRixNQUQ1QztBQUFBLFVBQ0NaLEtBREQsV0FDQ0EsS0FERDtBQUFBLFVBQ1FDLEdBRFIsV0FDUUEsR0FEUjtBQUFBLFVBQ2FDLEdBRGIsV0FDYUEsR0FEYjtBQUFBLFVBQ2tCQyxJQURsQixXQUNrQkEsSUFEbEI7QUFBQSxVQUN3QkUsSUFEeEIsV0FDd0JBLElBRHhCO0FBQUEsVUFDOEJDLElBRDlCLFdBQzhCQSxJQUQ5Qjs7QUFFUCxVQUFNUywyQ0FDa0JmLEtBRGxCLGdMQUsyQ0MsR0FMM0MsZUFLd0RDLEdBTHhELGdCQUtzRUMsSUFMdEUsaUJBS3NGLEtBQUtRLE1BTDNGLDJDQU1xQk4sSUFOckIsMENBQU47O0FBVUEsV0FBS1csR0FBTCwwR0FBd0IsS0FBS0MsSUFBN0I7QUFDQSxXQUFLRCxHQUFMLENBQVNFLFNBQVQsR0FBcUJILE9BQXJCO0FBQ0EsV0FBS0MsR0FBTCxDQUFTRyxTQUFULENBQW1CQyxHQUFuQixhQUFpQ2QsSUFBakM7O0FBRUEsV0FBS2UsTUFBTCxHQUFjLEtBQUtMLEdBQUwsQ0FBU00sYUFBVCxDQUF1QixRQUF2QixDQUFkO0FBQ0EsV0FBS0MsT0FBTCxHQUFlLEtBQUtQLEdBQUwsQ0FBU00sYUFBVCx3QkFBZjs7QUFFQSxXQUFLRSxNQUFMLEdBQWMsSUFBSTFCLGNBQWNXLE1BQWxCLENBQXlCO0FBQ3JDRixtQkFBVyxLQUFLYyxNQURxQjtBQUVyQ2Isa0JBQVUsS0FBS0ssZUFGc0I7QUFHckNaLGFBQUtBLEdBSGdDO0FBSXJDQyxhQUFLQSxHQUpnQztBQUtyQ0MsY0FBTUEsSUFMK0I7QUFNckNDLGlCQUFTLEtBQUtPLE1BTnVCO0FBT3JDYyx5QkFBaUI7QUFQb0IsT0FBekIsQ0FBZDs7QUFVQSxXQUFLQyxXQUFMOztBQUVBLGFBQU8sS0FBS1YsR0FBWjtBQUNEOztBQUVEOzs7OzZCQUNTO0FBQ1A7O0FBRE8sa0NBR21CLEtBQUtLLE1BQUwsQ0FBWU0scUJBQVosRUFIbkI7QUFBQSxVQUdDQyxLQUhELHlCQUdDQSxLQUhEO0FBQUEsVUFHUUMsTUFIUix5QkFHUUEsTUFIUjs7QUFJUCxXQUFLTCxNQUFMLENBQVlNLE1BQVosQ0FBbUJGLEtBQW5CLEVBQTBCQyxNQUExQjtBQUNEOztBQUVEOzs7O2tDQUNjO0FBQUE7O0FBQ1osV0FBS04sT0FBTCxDQUFhUSxnQkFBYixDQUE4QixRQUE5QixFQUF3QyxZQUFNO0FBQzVDLFlBQU1DLFFBQVFDLFdBQVcsT0FBS1YsT0FBTCxDQUFhUyxLQUF4QixDQUFkO0FBQ0E7QUFDQSxlQUFLUixNQUFMLENBQVlRLEtBQVosR0FBb0JBLEtBQXBCO0FBQ0EsZUFBS3JCLE1BQUwsR0FBY3FCLEtBQWQ7O0FBRUEsZUFBS0UsZ0JBQUwsQ0FBc0IsT0FBS3ZCLE1BQTNCO0FBQ0QsT0FQRCxFQU9HLEtBUEg7QUFRRDs7QUFFRDs7OztvQ0FDZ0JxQixLLEVBQU87QUFDckIsV0FBS1QsT0FBTCxDQUFhUyxLQUFiLEdBQXFCQSxLQUFyQjtBQUNBLFdBQUtyQixNQUFMLEdBQWNxQixLQUFkOztBQUVBLFdBQUtFLGdCQUFMLENBQXNCLEtBQUt2QixNQUEzQjtBQUNEOzs7c0JBMUVTcUIsSyxFQUFPO0FBQ2YsV0FBS3JCLE1BQUwsR0FBY3FCLEtBQWQ7O0FBRUEsVUFBSSxLQUFLVCxPQUFMLElBQWdCLEtBQUtGLE1BQXpCLEVBQWlDO0FBQy9CLGFBQUtFLE9BQUwsQ0FBYVMsS0FBYixHQUFxQixLQUFLQSxLQUExQjtBQUNBLGFBQUtSLE1BQUwsQ0FBWVEsS0FBWixHQUFvQixLQUFLQSxLQUF6QjtBQUNEO0FBQ0YsSzt3QkFFVztBQUNWLGFBQU8sS0FBS3JCLE1BQVo7QUFDRDs7OztFQXpCa0IsK0M7O2tCQTJGTkYsTSIsImZpbGUiOiJTbGlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICcuL0Jhc2VDb21wb25lbnQnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi4vbWl4aW5zL2Rpc3BsYXknO1xuaW1wb3J0ICogYXMgZ3VpQ29tcG9uZW50cyBmcm9tICdAaXJjYW0vZ3VpLWNvbXBvbmVudHMnO1xuXG4vKiogQG1vZHVsZSBiYXNpYy1jb250cm9sbGVycyAqL1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgbGFiZWw6ICcmbmJzcDsnLFxuICBtaW46IDAsXG4gIG1heDogMSxcbiAgc3RlcDogMC4wMSxcbiAgZGVmYXVsdDogMCxcbiAgdW5pdDogJycsXG4gIHNpemU6ICdtZWRpdW0nLFxuICBjb250YWluZXI6IG51bGwsXG4gIGNhbGxiYWNrOiBudWxsLFxufVxuXG4vKipcbiAqIFNsaWRlciBjb250cm9sbGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBPdmVycmlkZSBkZWZhdWx0IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmxhYmVsIC0gTGFiZWwgb2YgdGhlIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5taW49MF0gLSBNaW5pbXVtIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcubWF4PTFdIC0gTWF4aW11bSB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0ZXA9MC4wMV0gLSBTdGVwIGJldHdlZW4gY29uc2VjdXRpdmUgdmFsdWVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZGVmYXVsdD0wXSAtIERlZmF1bHQgdmFsdWUuXG4gKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy51bml0PScnXSAtIFVuaXQgb2YgdGhlIHZhbHVlLlxuICogQHBhcmFtIHsnc21hbGwnfCdtZWRpdW0nfCdsYXJnZSd9IFtjb25maWcuc2l6ZT0nbWVkaXVtJ10gLSBTaXplIG9mIHRoZVxuICogIHNsaWRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR8YmFzaWMtY29udHJvbGxlcn5Hcm91cH0gW2NvbmZpZy5jb250YWluZXI9bnVsbF0gLVxuICogIENvbnRhaW5lciBvZiB0aGUgY29udHJvbGxlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuY2FsbGJhY2s9bnVsbF0gLSBDYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIHRoZVxuICogIHZhbHVlIGNoYW5nZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJ2Jhc2ljLWNvbnRyb2xsZXJzJztcbiAqXG4gKiBjb25zdCBzbGlkZXIgPSBuZXcgY29udHJvbGxlcnMuU2xpZGVyKHtcbiAqICAgbGFiZWw6ICdNeSBTbGlkZXInLFxuICogICBtaW46IDIwLFxuICogICBtYXg6IDEwMDAsXG4gKiAgIHN0ZXA6IDEsXG4gKiAgIGRlZmF1bHQ6IDUzNyxcbiAqICAgdW5pdDogJ0h6JyxcbiAqICAgc2l6ZTogJ2xhcmdlJyxcbiAqICAgY29udGFpbmVyOiAnI2NvbnRhaW5lcicsXG4gKiAgIGNhbGxiYWNrOiAodmFsdWUpID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqIH0pO1xuICovXG5jbGFzcyBTbGlkZXIgZXh0ZW5kcyBkaXNwbGF5KEJhc2VDb21wb25lbnQpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoJ3NsaWRlcicsIGRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLnBhcmFtcy5kZWZhdWx0O1xuICAgIHRoaXMuX29uU2xpZGVyQ2hhbmdlID0gdGhpcy5fb25TbGlkZXJDaGFuZ2UuYmluZCh0aGlzKTtcblxuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXJyZW50IHZhbHVlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICh0aGlzLiRudW1iZXIgJiYgdGhpcy4kcmFuZ2UpIHtcbiAgICAgIHRoaXMuJG51bWJlci52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnNsaWRlci52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgbWluLCBtYXgsIHN0ZXAsIHVuaXQsIHNpemUgfSA9IHRoaXMucGFyYW1zO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBgXG4gICAgICA8c3BhbiBjbGFzcz1cImxhYmVsXCI+JHtsYWJlbH08L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5uZXItd3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicmFuZ2VcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm51bWJlci13cmFwcGVyXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBjbGFzcz1cIm51bWJlclwiIG1pbj1cIiR7bWlufVwiIG1heD1cIiR7bWF4fVwiIHN0ZXA9XCIke3N0ZXB9XCIgdmFsdWU9XCIke3RoaXMuX3ZhbHVlfVwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1bml0XCI+JHt1bml0fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5gO1xuXG4gICAgdGhpcy4kZWwgPSBzdXBlci5yZW5kZXIodGhpcy50eXBlKTtcbiAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoYHNsaWRlci0ke3NpemV9YCk7XG5cbiAgICB0aGlzLiRyYW5nZSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5yYW5nZScpO1xuICAgIHRoaXMuJG51bWJlciA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoYGlucHV0W3R5cGU9XCJudW1iZXJcIl1gKTtcblxuICAgIHRoaXMuc2xpZGVyID0gbmV3IGd1aUNvbXBvbmVudHMuU2xpZGVyKHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy4kcmFuZ2UsXG4gICAgICBjYWxsYmFjazogdGhpcy5fb25TbGlkZXJDaGFuZ2UsXG4gICAgICBtaW46IG1pbixcbiAgICAgIG1heDogbWF4LFxuICAgICAgc3RlcDogc3RlcCxcbiAgICAgIGRlZmF1bHQ6IHRoaXMuX3ZhbHVlLFxuICAgICAgZm9yZWdyb3VuZENvbG9yOiAnI2FiYWJhYicsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cbiAgICByZXR1cm4gdGhpcy4kZWw7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgcmVzaXplKCkge1xuICAgIHN1cGVyLnJlc2l6ZSgpO1xuXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0wqB9ID0gdGhpcy4kcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5zbGlkZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy4kbnVtYmVyLnZhbHVlKTtcbiAgICAgIC8vIHRoZSBzbGlkZXIgcHJvcGFnYXRlcyB0aGUgdmFsdWVcbiAgICAgIHRoaXMuc2xpZGVyLnZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuXG4gICAgICB0aGlzLmV4ZWN1dGVMaXN0ZW5lcnModGhpcy5fdmFsdWUpO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfb25TbGlkZXJDaGFuZ2UodmFsdWUpIHtcbiAgICB0aGlzLiRudW1iZXIudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuXG4gICAgdGhpcy5leGVjdXRlTGlzdGVuZXJzKHRoaXMuX3ZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7XG4iXX0=","deps":{"./BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","../mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","@ircam/gui-components":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setTheme = exports.create = exports.TriggerButtons = exports.Toggle = exports.Title = exports.Text = exports.Slider = exports.SelectList = exports.SelectButtons = exports.NumberBox = exports.DragAndDrop = exports.Group = exports.BaseComponent = exports.styles = undefined;\n\nvar _Group = require('./components/Group');\n\nObject.defineProperty(exports, 'Group', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Group).default;\n  }\n});\n\nvar _DragAndDrop = require('./components/DragAndDrop');\n\nObject.defineProperty(exports, 'DragAndDrop', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragAndDrop).default;\n  }\n});\n\nvar _NumberBox = require('./components/NumberBox');\n\nObject.defineProperty(exports, 'NumberBox', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_NumberBox).default;\n  }\n});\n\nvar _SelectButtons = require('./components/SelectButtons');\n\nObject.defineProperty(exports, 'SelectButtons', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SelectButtons).default;\n  }\n});\n\nvar _SelectList = require('./components/SelectList');\n\nObject.defineProperty(exports, 'SelectList', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SelectList).default;\n  }\n});\n\nvar _Slider = require('./components/Slider');\n\nObject.defineProperty(exports, 'Slider', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Slider).default;\n  }\n});\n\nvar _Text = require('./components/Text');\n\nObject.defineProperty(exports, 'Text', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Text).default;\n  }\n});\n\nvar _Title = require('./components/Title');\n\nObject.defineProperty(exports, 'Title', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Title).default;\n  }\n});\n\nvar _Toggle = require('./components/Toggle');\n\nObject.defineProperty(exports, 'Toggle', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Toggle).default;\n  }\n});\n\nvar _TriggerButtons = require('./components/TriggerButtons');\n\nObject.defineProperty(exports, 'TriggerButtons', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_TriggerButtons).default;\n  }\n});\n\nvar _factory = require('./factory');\n\nObject.defineProperty(exports, 'create', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_factory).default;\n  }\n});\n\nvar _display = require('./mixins/display');\n\nObject.defineProperty(exports, 'setTheme', {\n  enumerable: true,\n  get: function get() {\n    return _display.setTheme;\n  }\n});\nexports.disableStyles = disableStyles;\n\nvar _styles2 = require('./utils/styles');\n\nvar _styles = _interopRequireWildcard(_styles2);\n\nvar _BaseComponent2 = require('./components/BaseComponent');\n\nvar _BaseComponent3 = _interopRequireDefault(_BaseComponent2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = exports.styles = _styles;\n\n/** @module basic-controllers */\n\n// expose for plugins\nvar BaseComponent = exports.BaseComponent = _BaseComponent3.default;\n\n// components\n\n\n/**\n * Disable default styling (expect a broken ui)\n */\nfunction disableStyles() {\n  _styles.disable();\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiLCJzZXRUaGVtZSIsImRpc2FibGVTdHlsZXMiLCJfc3R5bGVzIiwic3R5bGVzIiwiQmFzZUNvbXBvbmVudCIsImRpc2FibGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzswQ0FVU0EsTzs7Ozs7Ozs7O2dEQUNBQSxPOzs7Ozs7Ozs7OENBQ0FBLE87Ozs7Ozs7OztrREFDQUEsTzs7Ozs7Ozs7OytDQUNBQSxPOzs7Ozs7Ozs7MkNBQ0FBLE87Ozs7Ozs7Ozt5Q0FDQUEsTzs7Ozs7Ozs7OzBDQUNBQSxPOzs7Ozs7Ozs7MkNBQ0FBLE87Ozs7Ozs7OzttREFDQUEsTzs7Ozs7Ozs7OzRDQUdBQSxPOzs7Ozs7Ozs7b0JBRUFDLFE7OztRQUtPQyxhLEdBQUFBLGE7O0FBN0JoQjs7SUFBWUMsTzs7QUFNWjs7Ozs7Ozs7QUFMTyxJQUFNQywwQkFBU0QsT0FBZjs7QUFFUDs7QUFFQTtBQUVPLElBQU1FLCtEQUFOOztBQUVQOzs7QUFpQkE7OztBQUdPLFNBQVNILGFBQVQsR0FBeUI7QUFDOUJDLFVBQVFHLE9BQVI7QUFDRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIF9zdHlsZXMgZnJvbSAnLi91dGlscy9zdHlsZXMnO1xuZXhwb3J0IGNvbnN0IHN0eWxlcyA9IF9zdHlsZXM7XG5cbi8qKiBAbW9kdWxlIGJhc2ljLWNvbnRyb2xsZXJzICovXG5cbi8vIGV4cG9zZSBmb3IgcGx1Z2luc1xuaW1wb3J0IF9CYXNlQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9CYXNlQ29tcG9uZW50JztcbmV4cG9ydCBjb25zdCBCYXNlQ29tcG9uZW50ID0gX0Jhc2VDb21wb25lbnQ7XG5cbi8vIGNvbXBvbmVudHNcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JvdXAgfSBmcm9tICcuL2NvbXBvbmVudHMvR3JvdXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnQW5kRHJvcCB9IGZyb20gJy4vY29tcG9uZW50cy9EcmFnQW5kRHJvcCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE51bWJlckJveCB9IGZyb20gJy4vY29tcG9uZW50cy9OdW1iZXJCb3gnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTZWxlY3RCdXR0b25zIH0gZnJvbSAnLi9jb21wb25lbnRzL1NlbGVjdEJ1dHRvbnMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTZWxlY3RMaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL1NlbGVjdExpc3QnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTbGlkZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvU2xpZGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGV4dCB9IGZyb20gJy4vY29tcG9uZW50cy9UZXh0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGl0bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvVGl0bGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUb2dnbGUgfSBmcm9tICcuL2NvbXBvbmVudHMvVG9nZ2xlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVHJpZ2dlckJ1dHRvbnMgfSBmcm9tICcuL2NvbXBvbmVudHMvVHJpZ2dlckJ1dHRvbnMnO1xuXG4vLyBmYWN0b3J5XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZSB9IGZyb20gJy4vZmFjdG9yeSc7XG4vLyBkaXNwbGF5XG5leHBvcnQgeyBzZXRUaGVtZSAgfSBmcm9tICcuL21peGlucy9kaXNwbGF5JztcblxuLyoqXG4gKiBEaXNhYmxlIGRlZmF1bHQgc3R5bGluZyAoZXhwZWN0IGEgYnJva2VuIHVpKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVN0eWxlcygpIHtcbiAgX3N0eWxlcy5kaXNhYmxlKCk7XG59O1xuIl19","deps":{"./components/BaseComponent":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js","./components/DragAndDrop":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/DragAndDrop.js","./components/Group":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Group.js","./components/NumberBox":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js","./components/Toggle":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Toggle.js","./components/SelectList":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectList.js","./components/SelectButtons":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js","./components/Title":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Title.js","./components/Text":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Text.js","./components/TriggerButtons":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js","./factory":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/factory.js","./mixins/display":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js","./utils/styles":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles.js","./components/Slider":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Slider.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerScene.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerScene.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _basicControllers = require('@ircam/basic-controllers');\n\nvar controllers = _interopRequireWildcard(_basicControllers);\n\nvar _View = require('../views/View');\n\nvar _View2 = _interopRequireDefault(_View);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ncontrollers.setTheme('dark');\n\n/* --------------------------------------------------------- */\n/* GUIs\n/* --------------------------------------------------------- */\n\n/** @private */\n\nvar _BooleanGui = function () {\n  function _BooleanGui($container, param, guiOptions) {\n    (0, _classCallCheck3.default)(this, _BooleanGui);\n    var label = param.label,\n        value = param.value;\n\n\n    this.controller = new controllers.Toggle({\n      label: label,\n      default: value,\n      container: $container,\n      callback: function callback(value) {\n        if (guiOptions.confirm) {\n          var msg = 'Are you sure you want to propagate \"' + param.name + ':' + value + '\"';\n          if (!window.confirm(msg)) {\n            return;\n          }\n        }\n\n        param.update(value);\n      }\n    });\n  }\n\n  (0, _createClass3.default)(_BooleanGui, [{\n    key: 'set',\n    value: function set(val) {\n      this.controller.value = val;\n    }\n  }]);\n  return _BooleanGui;\n}();\n\n/** @private */\n\n\nvar _EnumGui = function () {\n  function _EnumGui($container, param, guiOptions) {\n    (0, _classCallCheck3.default)(this, _EnumGui);\n    var label = param.label,\n        options = param.options,\n        value = param.value;\n\n\n    var ctor = guiOptions.type === 'buttons' ? controllers.SelectButtons : controllers.SelectList;\n\n    this.controller = new ctor({\n      label: label,\n      options: options,\n      default: value,\n      container: $container,\n      callback: function callback(value) {\n        if (guiOptions.confirm) {\n          var msg = 'Are you sure you want to propagate \"' + param.name + ':' + value + '\"';\n          if (!window.confirm(msg)) {\n            return;\n          }\n        }\n\n        param.update(value);\n      }\n    });\n  }\n\n  (0, _createClass3.default)(_EnumGui, [{\n    key: 'set',\n    value: function set(val) {\n      this.controller.value = val;\n    }\n  }]);\n  return _EnumGui;\n}();\n\n/** @private */\n\n\nvar _NumberGui = function () {\n  function _NumberGui($container, param, guiOptions) {\n    (0, _classCallCheck3.default)(this, _NumberGui);\n    var label = param.label,\n        min = param.min,\n        max = param.max,\n        step = param.step,\n        value = param.value;\n\n\n    if (guiOptions.type === 'slider') {\n      this.controller = new controllers.Slider({\n        label: label,\n        min: min,\n        max: max,\n        step: step,\n        default: value,\n        unit: guiOptions.param ? guiOptions.param : '',\n        size: guiOptions.size,\n        container: $container\n      });\n    } else {\n      this.controller = new controllers.NumberBox({\n        label: label,\n        min: min,\n        max: max,\n        step: step,\n        default: value,\n        container: $container\n      });\n    }\n\n    this.controller.addListener(function (value) {\n      if (guiOptions.confirm) {\n        var msg = 'Are you sure you want to propagate \"' + param.name + ':' + value + '\"';\n        if (!window.confirm(msg)) {\n          return;\n        }\n      }\n\n      param.update(value);\n    });\n  }\n\n  (0, _createClass3.default)(_NumberGui, [{\n    key: 'set',\n    value: function set(val) {\n      this.controller.value = val;\n    }\n  }]);\n  return _NumberGui;\n}();\n\n/** @private */\n\n\nvar _TextGui = function () {\n  function _TextGui($container, param, guiOptions) {\n    (0, _classCallCheck3.default)(this, _TextGui);\n    var label = param.label,\n        value = param.value;\n\n\n    this.controller = new controllers.Text({\n      label: label,\n      default: value,\n      readonly: guiOptions.readonly,\n      container: $container\n    });\n\n    if (!guiOptions.readonly) {\n      this.controller.addListener(function (value) {\n        if (guiOptions.confirm) {\n          var msg = 'Are you sure you want to propagate \"' + param.name + '\"';\n          if (!window.confirm(msg)) {\n            return;\n          }\n        }\n\n        param.update(value);\n      });\n    }\n  }\n\n  (0, _createClass3.default)(_TextGui, [{\n    key: 'set',\n    value: function set(val) {\n      this.controller.value = val;\n    }\n  }]);\n  return _TextGui;\n}();\n\n/** @private */\n\n\nvar _TriggerGui = function () {\n  function _TriggerGui($container, param, guiOptions) {\n    (0, _classCallCheck3.default)(this, _TriggerGui);\n    var label = param.label;\n\n\n    this.controller = new controllers.TriggerButtons({\n      options: [label],\n      container: $container,\n      callback: function callback() {\n        if (guiOptions.confirm) {\n          var msg = 'Are you sure you want to propagate \"' + param.name + '\"';\n          if (!window.confirm(msg)) {\n            return;\n          }\n        }\n\n        param.update();\n      }\n    });\n  }\n\n  (0, _createClass3.default)(_TriggerGui, [{\n    key: 'set',\n    value: function set(val) {/* nothing to set here */}\n  }]);\n  return _TriggerGui;\n}();\n\nvar SCENE_ID = 'basic-shared-controller';\n\n/**\n * The `ControllerScene` scene propose a simple / default way to create\n * a controller view for the `shared-params` service.\n *\n * Each controller comes with a set of options that can be passed to the\n * constructor.\n *\n * @memberof module:soundworks/client\n * @see [`shared-params` service]{@link module:soundworks/client.SharedParams}\n */\n\nvar ControllerScene = function () {\n  /**\n   * _<span class=\"warning\">__WARNING__</span> This API is unstable, and\n   * subject to change in further versions.\n   */\n  function ControllerScene(experience, sharedParams) {\n    (0, _classCallCheck3.default)(this, ControllerScene);\n\n    if (!sharedParams) throw new Error('This service requires the \"shared params\" service');\n\n    this._guiOptions = {};\n\n    this.experience = experience;\n    this.sharedParams = sharedParams;\n  }\n\n  (0, _createClass3.default)(ControllerScene, [{\n    key: 'enter',\n    value: function enter() {\n      var _this = this;\n\n      this.view = new _View2.default();\n      this.view.options.id = 'basic-shared-controller';\n\n      this.view.render();\n      this.view.appendTo(this.experience.container);\n\n      var _loop = function _loop(name) {\n        var param = _this.sharedParams.params[name];\n        var gui = _this._createGui(param);\n\n        param.addListener('update', function (val) {\n          return gui.set(val);\n        });\n      };\n\n      for (var name in this.sharedParams.params) {\n        _loop(name);\n      }\n    }\n  }, {\n    key: 'exit',\n    value: function exit() {\n      for (var name in this.sharedParams.params) {\n        var param = this.sharedParams.params[name];\n        param.removeListener('update');\n      }\n\n      this.view.remove();\n    }\n\n    /**\n     * Configure the GUI for a given parameter, this method only makes sens if\n     * `options.hasGUI=true`.\n     * @param {String} name - Name of the parameter to configure.\n     * @param {Object} options - Options to configure the parameter GUI.\n     * @param {String} options.type - Type of GUI to use. Each type of parameter can\n     *  used with different GUI according to their type and comes with acceptable\n     *  default values.\n     * @param {Boolean} [options.show=true] - Display or not the GUI for this parameter.\n     * @param {Boolean} [options.confirm=false] - Ask for confirmation when the value changes.\n     */\n\n  }, {\n    key: 'setGuiOptions',\n    value: function setGuiOptions(name, options) {\n      this._guiOptions[name] = options;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_createGui',\n    value: function _createGui(param) {\n      var config = (0, _assign2.default)({\n        show: true,\n        confirm: false\n      }, this._guiOptions[param.name]);\n\n      if (config.show === false) return null;\n\n      var gui = null;\n      var $container = this.view.$el;\n\n      switch (param.type) {\n        case 'boolean':\n          gui = new _BooleanGui($container, param, config); // `Toggle`\n          break;\n        case 'enum':\n          gui = new _EnumGui($container, param, config); // `SelectList` or `SelectButtons`\n          break;\n        case 'number':\n          gui = new _NumberGui($container, param, config); // `NumberBox` or `Slider`\n          break;\n        case 'text':\n          gui = new _TextGui($container, param, config); // `Text`\n          break;\n        case 'trigger':\n          gui = new _TriggerGui($container, param, config);\n          break;\n      }\n\n      return gui;\n    }\n  }]);\n  return ControllerScene;\n}();\n\nexports.default = ControllerScene;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRyb2xsZXJTY2VuZS5qcyJdLCJuYW1lcyI6WyJjb250cm9sbGVycyIsInNldFRoZW1lIiwiX0Jvb2xlYW5HdWkiLCIkY29udGFpbmVyIiwicGFyYW0iLCJndWlPcHRpb25zIiwibGFiZWwiLCJ2YWx1ZSIsImNvbnRyb2xsZXIiLCJUb2dnbGUiLCJkZWZhdWx0IiwiY29udGFpbmVyIiwiY2FsbGJhY2siLCJjb25maXJtIiwibXNnIiwibmFtZSIsIndpbmRvdyIsInVwZGF0ZSIsInZhbCIsIl9FbnVtR3VpIiwib3B0aW9ucyIsImN0b3IiLCJ0eXBlIiwiU2VsZWN0QnV0dG9ucyIsIlNlbGVjdExpc3QiLCJfTnVtYmVyR3VpIiwibWluIiwibWF4Iiwic3RlcCIsIlNsaWRlciIsInVuaXQiLCJzaXplIiwiTnVtYmVyQm94IiwiYWRkTGlzdGVuZXIiLCJfVGV4dEd1aSIsIlRleHQiLCJyZWFkb25seSIsIl9UcmlnZ2VyR3VpIiwiVHJpZ2dlckJ1dHRvbnMiLCJTQ0VORV9JRCIsIkNvbnRyb2xsZXJTY2VuZSIsImV4cGVyaWVuY2UiLCJzaGFyZWRQYXJhbXMiLCJFcnJvciIsIl9ndWlPcHRpb25zIiwidmlldyIsIlZpZXciLCJpZCIsInJlbmRlciIsImFwcGVuZFRvIiwicGFyYW1zIiwiZ3VpIiwiX2NyZWF0ZUd1aSIsInNldCIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlIiwiY29uZmlnIiwic2hvdyIsIiRlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0lBQVlBLFc7O0FBQ1o7Ozs7Ozs7O0FBRUFBLFlBQVlDLFFBQVosQ0FBcUIsTUFBckI7O0FBRUE7QUFDQTs7O0FBR0E7O0lBQ01DLFc7QUFDSix1QkFBWUMsVUFBWixFQUF3QkMsS0FBeEIsRUFBK0JDLFVBQS9CLEVBQTJDO0FBQUE7QUFBQSxRQUNqQ0MsS0FEaUMsR0FDaEJGLEtBRGdCLENBQ2pDRSxLQURpQztBQUFBLFFBQzFCQyxLQUQwQixHQUNoQkgsS0FEZ0IsQ0FDMUJH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SXlDLE9BQU9DLElBQVAsS0FBZ0IsS0FBcEIsRUFBMkIsT0FBTyxJQUFQOztBQUUzQixVQUFJTixNQUFNLElBQVY7QUFDQSxVQUFNaEQsYUFBYSxLQUFLMEMsSUFBTCxDQUFVYSxHQUE3Qjs7QUFFQSxjQUFRdEQsTUFBTWtCLElBQWQ7QUFDRSxhQUFLLFNBQUw7QUFDRTZCLGdCQUFNLElBQUlqRCxXQUFKLENBQWdCQyxVQUFoQixFQUE0QkMsS0FBNUIsRUFBbUNvRCxNQUFuQyxDQUFOLENBREYsQ0FDb0Q7QUFDbEQ7QUFDRixhQUFLLE1BQUw7QUFDRUwsZ0JBQU0sSUFBSWhDLFFBQUosQ0FBYWhCLFVBQWIsRUFBeUJDLEtBQXpCLEVBQWdDb0QsTUFBaEMsQ0FBTixDQURGLENBQ2lEO0FBQy9DO0FBQ0YsYUFBSyxRQUFMO0FBQ0VMLGdCQUFNLElBQUkxQixVQUFKLENBQWV0QixVQUFmLEVBQTJCQyxLQUEzQixFQUFrQ29ELE1BQWxDLENBQU4sQ0FERixDQUNtRDtBQUNqRDtBQUNGLGFBQUssTUFBTDtBQUNFTCxnQkFBTSxJQUFJakIsUUFBSixDQUFhL0IsVUFBYixFQUF5QkMsS0FBekIsRUFBZ0NvRCxNQUFoQyxDQUFOLENBREYsQ0FDaUQ7QUFDL0M7QUFDRixhQUFLLFNBQUw7QUFDRUwsZ0JBQU0sSUFBSWQsV0FBSixDQUFnQmxDLFVBQWhCLEVBQTRCQyxLQUE1QixFQUFtQ29ELE1BQW5DLENBQU47QUFDQTtBQWZKOztBQWtCQSxhQUFPTCxHQUFQO0FBQ0Q7Ozs7O2tCQUdZWCxlIiwiZmlsZSI6IkNvbnRyb2xsZXJTY2VuZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJ0BpcmNhbS9iYXNpYy1jb250cm9sbGVycyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi92aWV3cy9WaWV3JztcblxuY29udHJvbGxlcnMuc2V0VGhlbWUoJ2RhcmsnKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiBHVUlzXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqIEBwcml2YXRlICovXG5jbGFzcyBfQm9vbGVhbkd1aSB7XG4gIGNvbnN0cnVjdG9yKCRjb250YWluZXIsIHBhcmFtLCBndWlPcHRpb25zKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IHBhcmFtO1xuXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJzLlRvZ2dsZSh7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBkZWZhdWx0OiB2YWx1ZSxcbiAgICAgIGNvbnRhaW5lcjogJGNvbnRhaW5lcixcbiAgICAgIGNhbGxiYWNrOiAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGd1aU9wdGlvbnMuY29uZmlybSkge1xuICAgICAgICAgIGNvbnN0IG1zZyA9IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIFwiJHtwYXJhbS5uYW1lfToke3ZhbHVlfVwiYDtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5jb25maXJtKG1zZykpIHsgcmV0dXJuOyB9XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbS51cGRhdGUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0KHZhbCkge1xuICAgIHRoaXMuY29udHJvbGxlci52YWx1ZSA9IHZhbDtcbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmNsYXNzIF9FbnVtR3VpIHtcbiAgY29uc3RydWN0b3IoJGNvbnRhaW5lciwgcGFyYW0sIGd1aU9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGxhYmVsLCBvcHRpb25zLCB2YWx1ZSB9ID0gcGFyYW07XG5cbiAgICBjb25zdCBjdG9yID0gZ3VpT3B0aW9ucy50eXBlID09PSAnYnV0dG9ucycgP1xuICAgICAgY29udHJvbGxlcnMuU2VsZWN0QnV0dG9ucyA6IGNvbnRyb2xsZXJzLlNlbGVjdExpc3RcblxuICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBjdG9yKHtcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBkZWZhdWx0OiB2YWx1ZSxcbiAgICAgIGNvbnRhaW5lcjogJGNvbnRhaW5lcixcbiAgICAgIGNhbGxiYWNrOiAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGd1aU9wdGlvbnMuY29uZmlybSkge1xuICAgICAgICAgIGNvbnN0IG1zZyA9IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIFwiJHtwYXJhbS5uYW1lfToke3ZhbHVlfVwiYDtcbiAgICAgICAgICBpZiAoIXdpbmRvdy5jb25maXJtKG1zZykpIHsgcmV0dXJuOyB9XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbS51cGRhdGUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0KHZhbCkge1xuICAgIHRoaXMuY29udHJvbGxlci52YWx1ZSA9IHZhbDtcbiAgfVxufVxuXG4vKiogQHByaXZhdGUgKi9cbmNsYXNzIF9OdW1iZXJHdWkge1xuICBjb25zdHJ1Y3RvcigkY29udGFpbmVyLCBwYXJhbSwgZ3VpT3B0aW9ucykge1xuICAgIGNvbnN0IHsgbGFiZWwsIG1pbiwgbWF4LCBzdGVwLCB2YWx1ZSB9ID0gcGFyYW07XG5cbiAgICBpZiAoZ3VpT3B0aW9ucy50eXBlID09PSAnc2xpZGVyJykge1xuICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJzLlNsaWRlcih7XG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICBzdGVwOiBzdGVwLFxuICAgICAgICBkZWZhdWx0OiB2YWx1ZSxcbiAgICAgICAgdW5pdDogZ3VpT3B0aW9ucy5wYXJhbSA/IGd1aU9wdGlvbnMucGFyYW0gOiAnJyxcbiAgICAgICAgc2l6ZTogZ3VpT3B0aW9ucy5zaXplLFxuICAgICAgICBjb250YWluZXI6ICRjb250YWluZXIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJzLk51bWJlckJveCh7XG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICBzdGVwOiBzdGVwLFxuICAgICAgICBkZWZhdWx0OiB2YWx1ZSxcbiAgICAgICAgY29udGFpbmVyOiAkY29udGFpbmVyLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250cm9sbGVyLmFkZExpc3RlbmVyKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGd1aU9wdGlvbnMuY29uZmlybSkge1xuICAgICAgICBjb25zdCBtc2cgPSBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSBcIiR7cGFyYW0ubmFtZX06JHt2YWx1ZX1cImA7XG4gICAgICAgIGlmICghd2luZG93LmNvbmZpcm0obXNnKSkgeyByZXR1cm47IH1cbiAgICAgIH1cblxuICAgICAgcGFyYW0udXBkYXRlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldCh2YWwpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIudmFsdWUgPSB2YWw7XG4gIH1cbn1cblxuLyoqIEBwcml2YXRlICovXG5jbGFzcyBfVGV4dEd1aSB7XG4gIGNvbnN0cnVjdG9yKCRjb250YWluZXIsIHBhcmFtLCBndWlPcHRpb25zKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IHBhcmFtO1xuXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJzLlRleHQoe1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgZGVmYXVsdDogdmFsdWUsXG4gICAgICByZWFkb25seTogZ3VpT3B0aW9ucy5yZWFkb25seSxcbiAgICAgIGNvbnRhaW5lcjogJGNvbnRhaW5lcixcbiAgICB9KTtcblxuICAgIGlmICghZ3VpT3B0aW9ucy5yZWFkb25seSkge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmFkZExpc3RlbmVyKCh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoZ3VpT3B0aW9ucy5jb25maXJtKSB7XG4gICAgICAgICAgY29uc3QgbXNnID0gYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgXCIke3BhcmFtLm5hbWV9XCJgO1xuICAgICAgICAgIGlmICghd2luZG93LmNvbmZpcm0obXNnKSkgeyByZXR1cm47IH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtLnVwZGF0ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXQodmFsKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLnZhbHVlID0gdmFsO1xuICB9XG59XG5cbi8qKiBAcHJpdmF0ZSAqL1xuY2xhc3MgX1RyaWdnZXJHdWkge1xuICBjb25zdHJ1Y3RvcigkY29udGFpbmVyLCBwYXJhbSwgZ3VpT3B0aW9ucykge1xuICAgIGNvbnN0IHsgbGFiZWwgfSA9IHBhcmFtO1xuXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IGNvbnRyb2xsZXJzLlRyaWdnZXJCdXR0b25zKHtcbiAgICAgIG9wdGlvbnM6IFtsYWJlbF0sXG4gICAgICBjb250YWluZXI6ICRjb250YWluZXIsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBpZiAoZ3VpT3B0aW9ucy5jb25maXJtKSB7XG4gICAgICAgICAgY29uc3QgbXNnID0gYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgXCIke3BhcmFtLm5hbWV9XCJgO1xuICAgICAgICAgIGlmICghd2luZG93LmNvbmZpcm0obXNnKSkgeyByZXR1cm47IH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0KHZhbCkgeyAvKiBub3RoaW5nIHRvIHNldCBoZXJlICovIH1cbn1cblxuY29uc3QgU0NFTkVfSUQgPSAnYmFzaWMtc2hhcmVkLWNvbnRyb2xsZXInO1xuXG4vKipcbiAqIFRoZSBgQ29udHJvbGxlclNjZW5lYCBzY2VuZSBwcm9wb3NlIGEgc2ltcGxlIC8gZGVmYXVsdCB3YXkgdG8gY3JlYXRlXG4gKiBhIGNvbnRyb2xsZXIgdmlldyBmb3IgdGhlIGBzaGFyZWQtcGFyYW1zYCBzZXJ2aWNlLlxuICpcbiAqIEVhY2ggY29udHJvbGxlciBjb21lcyB3aXRoIGEgc2V0IG9mIG9wdGlvbnMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZVxuICogY29uc3RydWN0b3IuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQHNlZSBbYHNoYXJlZC1wYXJhbXNgIHNlcnZpY2Vde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TaGFyZWRQYXJhbXN9XG4gKi9cbmNsYXNzIENvbnRyb2xsZXJTY2VuZSB7XG4gIC8qKlxuICAgKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgQVBJIGlzIHVuc3RhYmxlLCBhbmRcbiAgICogc3ViamVjdCB0byBjaGFuZ2UgaW4gZnVydGhlciB2ZXJzaW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV4cGVyaWVuY2UsIHNoYXJlZFBhcmFtcykge1xuICAgIGlmICghc2hhcmVkUGFyYW1zKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHNlcnZpY2UgcmVxdWlyZXMgdGhlIFwic2hhcmVkIHBhcmFtc1wiIHNlcnZpY2UnKTtcblxuICAgIHRoaXMuX2d1aU9wdGlvbnMgPSB7fTtcblxuICAgIHRoaXMuZXhwZXJpZW5jZSA9IGV4cGVyaWVuY2U7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMgPSBzaGFyZWRQYXJhbXM7XG4gIH1cblxuICBlbnRlcigpIHtcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldygpO1xuICAgIHRoaXMudmlldy5vcHRpb25zLmlkID0gJ2Jhc2ljLXNoYXJlZC1jb250cm9sbGVyJztcblxuICAgIHRoaXMudmlldy5yZW5kZXIoKTtcbiAgICB0aGlzLnZpZXcuYXBwZW5kVG8odGhpcy5leHBlcmllbmNlLmNvbnRhaW5lcik7XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuc2hhcmVkUGFyYW1zLnBhcmFtcykge1xuICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLnNoYXJlZFBhcmFtcy5wYXJhbXNbbmFtZV07XG4gICAgICBjb25zdCBndWkgPSB0aGlzLl9jcmVhdGVHdWkocGFyYW0pO1xuXG4gICAgICBwYXJhbS5hZGRMaXN0ZW5lcigndXBkYXRlJywgKHZhbCkgPT4gZ3VpLnNldCh2YWwpKTtcbiAgICB9XG4gIH1cblxuICBleGl0KCkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5zaGFyZWRQYXJhbXMucGFyYW1zKSB7XG4gICAgICBjb25zdCBwYXJhbSA9IHRoaXMuc2hhcmVkUGFyYW1zLnBhcmFtc1tuYW1lXTtcbiAgICAgIHBhcmFtLnJlbW92ZUxpc3RlbmVyKCd1cGRhdGUnKTtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBHVUkgZm9yIGEgZ2l2ZW4gcGFyYW1ldGVyLCB0aGlzIG1ldGhvZCBvbmx5IG1ha2VzIHNlbnMgaWZcbiAgICogYG9wdGlvbnMuaGFzR1VJPXRydWVgLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIHBhcmFtZXRlciB0byBjb25maWd1cmUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIHBhcmFtZXRlciBHVUkuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnR5cGUgLSBUeXBlIG9mIEdVSSB0byB1c2UuIEVhY2ggdHlwZSBvZiBwYXJhbWV0ZXIgY2FuXG4gICAqICB1c2VkIHdpdGggZGlmZmVyZW50IEdVSSBhY2NvcmRpbmcgdG8gdGhlaXIgdHlwZSBhbmQgY29tZXMgd2l0aCBhY2NlcHRhYmxlXG4gICAqICBkZWZhdWx0IHZhbHVlcy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93PXRydWVdIC0gRGlzcGxheSBvciBub3QgdGhlIEdVSSBmb3IgdGhpcyBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29uZmlybT1mYWxzZV0gLSBBc2sgZm9yIGNvbmZpcm1hdGlvbiB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2VzLlxuICAgKi9cbiAgc2V0R3VpT3B0aW9ucyhuYW1lLCBvcHRpb25zKSB7XG4gICAgdGhpcy5fZ3VpT3B0aW9uc1tuYW1lXSA9IG9wdGlvbnM7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX2NyZWF0ZUd1aShwYXJhbSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIGNvbmZpcm06IGZhbHNlLFxuICAgIH0sIHRoaXMuX2d1aU9wdGlvbnNbcGFyYW0ubmFtZV0pO1xuXG4gICAgaWYgKGNvbmZpZy5zaG93ID09PSBmYWxzZSkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgZ3VpID0gbnVsbDtcbiAgICBjb25zdCAkY29udGFpbmVyID0gdGhpcy52aWV3LiRlbDtcblxuICAgIHN3aXRjaCAocGFyYW0udHlwZSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIGd1aSA9IG5ldyBfQm9vbGVhbkd1aSgkY29udGFpbmVyLCBwYXJhbSwgY29uZmlnKTsgLy8gYFRvZ2dsZWBcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgZ3VpID0gbmV3IF9FbnVtR3VpKCRjb250YWluZXIsIHBhcmFtLCBjb25maWcpOyAvLyBgU2VsZWN0TGlzdGAgb3IgYFNlbGVjdEJ1dHRvbnNgXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgZ3VpID0gbmV3IF9OdW1iZXJHdWkoJGNvbnRhaW5lciwgcGFyYW0sIGNvbmZpZyk7IC8vIGBOdW1iZXJCb3hgIG9yIGBTbGlkZXJgXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGd1aSA9IG5ldyBfVGV4dEd1aSgkY29udGFpbmVyLCBwYXJhbSwgY29uZmlnKTsgLy8gYFRleHRgXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJpZ2dlcic6XG4gICAgICAgIGd1aSA9IG5ldyBfVHJpZ2dlckd1aSgkY29udGFpbmVyLCBwYXJhbSwgY29uZmlnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGd1aTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyU2NlbmU7XG4iXX0=","deps":{"../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","@ircam/basic-controllers":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js","source":"// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ie8-dom-define.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ie8-dom-define.js","source":"module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","deps":{"./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","./_dom-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","source":"var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","deps":{"./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","./_to-primitive":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js","./_ie8-dom-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ie8-dom-define.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","source":"require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","./es6.array.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.iterator.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js","source":"var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","deps":{"./_uid":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js","./_shared":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gpo.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gpo.js","source":"// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","deps":{"./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_shared-key":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js","source":"exports.f = require('./_wks');\n","deps":{"./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/iterator.js","source":"require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","deps":{"../../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../../modules/_wks-ext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol/iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol/iterator.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","deps":{"core-js/library/fn/symbol/iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/iterator.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/ms/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/ms/index.js","source":"/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/debug.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/debug.js","source":"\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","deps":{"ms":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/ms/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/browser.js","source":"(function (process){(function (){\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AaXJjYW0vc3luYy9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICcjMDAwMENDJywgJyMwMDAwRkYnLCAnIzAwMzNDQycsICcjMDAzM0ZGJywgJyMwMDY2Q0MnLCAnIzAwNjZGRicsICcjMDA5OUNDJyxcbiAgJyMwMDk5RkYnLCAnIzAwQ0MwMCcsICcjMDBDQzMzJywgJyMwMENDNjYnLCAnIzAwQ0M5OScsICcjMDBDQ0NDJywgJyMwMENDRkYnLFxuICAnIzMzMDBDQycsICcjMzMwMEZGJywgJyMzMzMzQ0MnLCAnIzMzMzNGRicsICcjMzM2NkNDJywgJyMzMzY2RkYnLCAnIzMzOTlDQycsXG4gICcjMzM5OUZGJywgJyMzM0NDMDAnLCAnIzMzQ0MzMycsICcjMzNDQzY2JywgJyMzM0NDOTknLCAnIzMzQ0NDQycsICcjMzNDQ0ZGJyxcbiAgJyM2NjAwQ0MnLCAnIzY2MDBGRicsICcjNjYzM0NDJywgJyM2NjMzRkYnLCAnIzY2Q0MwMCcsICcjNjZDQzMzJywgJyM5OTAwQ0MnLFxuICAnIzk5MDBGRicsICcjOTkzM0NDJywgJyM5OTMzRkYnLCAnIzk5Q0MwMCcsICcjOTlDQzMzJywgJyNDQzAwMDAnLCAnI0NDMDAzMycsXG4gICcjQ0MwMDY2JywgJyNDQzAwOTknLCAnI0NDMDBDQycsICcjQ0MwMEZGJywgJyNDQzMzMDAnLCAnI0NDMzMzMycsICcjQ0MzMzY2JyxcbiAgJyNDQzMzOTknLCAnI0NDMzNDQycsICcjQ0MzM0ZGJywgJyNDQzY2MDAnLCAnI0NDNjYzMycsICcjQ0M5OTAwJywgJyNDQzk5MzMnLFxuICAnI0NDQ0MwMCcsICcjQ0NDQzMzJywgJyNGRjAwMDAnLCAnI0ZGMDAzMycsICcjRkYwMDY2JywgJyNGRjAwOTknLCAnI0ZGMDBDQycsXG4gICcjRkYwMEZGJywgJyNGRjMzMDAnLCAnI0ZGMzMzMycsICcjRkYzMzY2JywgJyNGRjMzOTknLCAnI0ZGMzNDQycsICcjRkYzM0ZGJyxcbiAgJyNGRjY2MDAnLCAnI0ZGNjYzMycsICcjRkY5OTAwJywgJyNGRjk5MzMnLCAnI0ZGQ0MwMCcsICcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIl19","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","./debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/debug.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/client/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/client/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('sync');\n\n////// helpers\n\n/**\n * Order min and max attributes.\n *\n * @private\n * @param {Object} that with min and max attributes\n * @returns {Object} with min and man attributes, swapped if that.min > that.max\n */\n/**\n * @fileOverview Estimation of a server time from a client time.\n *\n * @see {@link https://hal.archives-ouvertes.fr/hal-01304889v1}\n * Stabilisation added after the article.\n */\n\nfunction orderMinMax(that) {\n  if (typeof that !== 'undefined' && typeof that.min !== 'undefined' && typeof that.max !== 'undefined' && that.min > that.max) {\n    var tmp = that.min;\n    that.min = that.max;\n    that.max = tmp;\n  }\n  return that;\n}\n\n/**\n * Mean over an array, selecting one dimension of the array values.\n *\n * @private\n * @param {Array.<Array.<Number>>} array\n * @param {Number} [dimension=0]\n * @returns {Number} mean\n */\nfunction mean(array) {\n  var dimension = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  return array.reduce(function (p, q) {\n    return p + q[dimension];\n  }, 0) / array.length;\n}\n\n/**\n * Function used to sort long-term data, using first and second dimensions, in\n * that order.\n *\n * @param {Array.<Number>} a\n * @param {Number.<Number>} b\n * @returns {Number} negative if a < b, positive if a > b, or 0\n */\nfunction dataCompare(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\nvar SyncClient = function () {\n  /**\n   * @callback SyncClient~getTimeFunction\n   * @return {Number} monotonic, ever increasing, time in second. When possible\n   *   the server code should define its own origin (i.e. `time=0`) in order to\n   *   maximize the resolution of the clock for a long period of time. When\n   *   `SyncServer~start` is called the clock should be running\n   *   (cf. `audioContext.currentTime` that needs user interaction to start)\n   **/\n\n  /**\n   * @callback SyncClient~sendFunction\n   * @see {@linkcode SyncServer~receiveFunction}\n   * @param {Number} pingId unique identifier\n   * @param {Number} clientPingTime time-stamp of ping emission\n   **/\n\n  /**\n   * @callback SyncClient~receiveFunction\n   * @see {@linkcode SyncServer~sendFunction}\n   * @param {SyncClient~receiveCallback} receiveCallback called on each message\n   *   matching messageType.\n   **/\n\n  /**\n   * @callback SyncClient~receiveCallback\n   * @param {Number} pingId unique identifier\n   * @param {Number} clientPingTime time-stamp of ping emission\n   * @param {Number} serverPingTime time-stamp of ping reception\n   * @param {Number} serverPongTime time-stamp of pong emission\n   **/\n\n  /**\n   * @callback SyncClient~reportFunction\n   * @param {Object} report\n   * @param {String} report.status `new`, `startup`, `training` (offset\n   *   adaptation), or `sync` (offset and speed adaptation).\n   * @param {Number} report.statusDuration duration since last status\n   *   change.\n   * @param {Number} report.timeOffset time difference between local time and\n   *   sync time, in seconds.\n   * @param {Number} report.frequencyRatio time ratio between local\n   *   time and sync time.\n   * @param {String} report.connection `offline` or `online`\n   * @param {Number} report.connectionDuration duration since last connection\n   *   change.\n   * @param {Number} report.connectionTimeOut duration, in seconds, before\n   *   a time-out occurs.\n   * @param {Number} report.travelDuration duration of a ping-pong round-trip,\n   *   in seconds, mean over the the last ping-pong series.\n   * @param {Number} report.travelDurationMin duration of a ping-pong\n   *   round-trip, in seconds, minimum over the the last ping-pong series.\n   * @param {Number} report.travelDurationMax duration of a ping-pong\n   *   round-trip, in seconds, maximum over the the last ping-pong series.\n   **/\n\n  /**\n   * This is the constructor. See {@linkcode SyncClient~start} method to\n   * actually start a synchronisation process.\n   *\n   * @constructs SyncClient\n   * @param {SyncClient~getTimeFunction} getTimeFunction\n   * @param {Object} [options]\n   * @param {Object} [options.pingTimeOutDelay] range of duration (in seconds) to\n   * consider a ping was not ponged back\n   * @param {Number} [options.pingTimeOutDelay.min=1] min and max must be set together\n   * @param {Number} [options.pingTimeOutDelay.max=30] min and max must be set together\n   * @param {Number} [options.pingSeriesIterations=10] number of ping-pongs in a\n   * series\n   * @param {Number} [options.pingSeriesPeriod=0.250] interval (in seconds) between pings\n   * in a series\n   * @param {Number} [options.pingSeriesDelay] range of interval (in\n   * seconds) between ping-pong series\n   * @param {Number} [options.pingSeriesDelay.min=10] min and max must be set together\n   * @param {Number} [options.pingSeriesDelay.max=20] min and max must be set together\n   * @param {Number} [options.longTermDataTrainingDuration=120] duration of\n   * training, in seconds, approximately, before using the estimate of\n   * clock frequency\n   * @param {Number} [options.longTermDataDuration=900] estimate synchronisation over\n   *  this duration, in seconds, approximately\n   */\n  function SyncClient(getTimeFunction) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, SyncClient);\n\n    this.pingTimeoutDelay = options.pingTimeoutDelay || { min: 1, max: 30 };\n    orderMinMax(this.pingTimeoutDelay);\n\n    this.pingSeriesIterations = options.pingSeriesIterations || 10;\n    this.pingSeriesPeriod = typeof options.pingSeriesPeriod !== 'undefined' ? options.pingSeriesPeriod : 0.250;\n    this.pingSeriesDelay = options.pingSeriesDelay || { min: 10, max: 20 };\n    orderMinMax(this.pingSeriesDelay);\n\n    this.pingDelay = 0; // current delay before next ping\n    this.timeoutId = 0; // to cancel timeout on pong\n    this.pingId = 0; // absolute ID to mach pong against\n\n    this.pingSeriesCount = 0; // elapsed pings in a series\n    this.seriesData = []; // circular buffer\n    this.seriesDataNextIndex = 0; // next index to write in circular buffer\n    this.seriesDataLength = this.pingSeriesIterations; // size of circular buffer\n\n    this.longTermDataTrainingDuration = options.longTermDataTrainingDuration || 120;\n\n    // use a fixed-size circular buffer, even if it does not match\n    // exactly the required duration\n    this.longTermDataDuration = options.longTermDataDuration || 900;\n    this.longTermDataLength = Math.max(2, this.longTermDataDuration / (0.5 * (this.pingSeriesDelay.min + this.pingSeriesDelay.max)));\n\n    this.longTermData = []; // circular buffer\n    this.longTermDataNextIndex = 0; // next index to write in circular buffer\n\n    this.timeOffset = 0; // mean of (serverTime - clientTime) in the last series\n    this.travelDuration = 0;\n    this.travelDurationMin = 0;\n    this.travelDurationMax = 0;\n\n    // T(t) = T0 + R * (t - t0)\n    this.serverTimeReference = 0; // T0\n    this.clientTimeReference = 0; // t0\n    this.frequencyRatio = 1; // R\n\n    this.pingTimeoutDelay.current = this.pingTimeoutDelay.min;\n\n    this.getTimeFunction = getTimeFunction;\n\n    this.status = 'new';\n    this.statusChangedTime = 0;\n\n    this.connectionStatus = 'offline';\n    this.connectionStatusChangedTime = 0;\n  }\n\n  /**\n   * Set status, and set this.statusChangedTime, to later\n   * use see {@linkcode SyncClient~getStatusDuration}\n   * and {@linkcode SyncClient~reportStatus}.\n   *\n   * @function SyncClient~setStatus\n   * @param {String} status\n   * @returns {Object} this\n   */\n\n\n  (0, _createClass3.default)(SyncClient, [{\n    key: 'setStatus',\n    value: function setStatus(status) {\n      if (status !== this.status) {\n        this.status = status;\n        this.statusChangedTime = this.getLocalTime();\n      }\n      return this;\n    }\n\n    /**\n     * Get time since last status change. See {@linkcode SyncClient~setStatus}\n     *\n     * @function SyncClient~getStatusDuration\n     * @returns {Number} time, in seconds, since last status change.\n     */\n\n  }, {\n    key: 'getStatusDuration',\n    value: function getStatusDuration() {\n      return Math.max(0, this.getLocalTime() - this.statusChangedTime);\n    }\n\n    /**\n     * Set connectionStatus, and set this.connectionStatusChangedTime,\n     * to later use see {@linkcode SyncClient~getConnectionStatusDuration}\n     * and {@linkcode SyncClient~reportStatus}.\n     *\n     * @function SyncClient~setConnectionStatus\n     * @param {String} connectionStatus\n     * @returns {Object} this\n     */\n\n  }, {\n    key: 'setConnectionStatus',\n    value: function setConnectionStatus(connectionStatus) {\n      if (connectionStatus !== this.connectionStatus) {\n        this.connectionStatus = connectionStatus;\n        this.connectionStatusChangedTime = this.getLocalTime();\n      }\n      return this;\n    }\n\n    /**\n     * Get time since last connectionStatus change.\n     * See {@linkcode SyncClient~setConnectionStatus}\n     *\n     * @function SyncClient~getConnectionStatusDuration\n     * @returns {Number} time, in seconds, since last connectionStatus change.\n     */\n\n  }, {\n    key: 'getConnectionStatusDuration',\n    value: function getConnectionStatusDuration() {\n      return Math.max(0, this.getLocalTime() - this.connectionStatusChangedTime);\n    }\n\n    /**\n     * Report the status of the synchronisation process, if\n     * reportFunction is defined.\n     *\n     * @function SyncClient~reportStatus\n     * @param {SyncClient~reportFunction} reportFunction\n     */\n\n  }, {\n    key: 'reportStatus',\n    value: function reportStatus(reportFunction) {\n      if (typeof reportFunction !== 'undefined') {\n        reportFunction({\n          status: this.status,\n          statusDuration: this.getStatusDuration(),\n          timeOffset: this.timeOffset,\n          frequencyRatio: this.frequencyRatio,\n          connection: this.connectionStatus,\n          connectionDuration: this.getConnectionStatusDuration(),\n          connectionTimeOut: this.pingTimeoutDelay.current,\n          travelDuration: this.travelDuration,\n          travelDurationMin: this.travelDurationMin,\n          travelDurationMax: this.travelDurationMax\n        });\n      }\n    }\n\n    /**\n     * Process to send ping messages.\n     *\n     * @private\n     * @function SyncClient~__syncLoop\n     * @param {SyncClient~sendFunction} sendFunction\n     * @param {SyncClient~reportFunction} reportFunction\n     */\n\n  }, {\n    key: '__syncLoop',\n    value: function __syncLoop(sendFunction, reportFunction) {\n      var _this = this;\n\n      clearTimeout(this.timeoutId);\n      ++this.pingId;\n      sendFunction(this.pingId, this.getLocalTime());\n\n      this.timeoutId = setTimeout(function () {\n        // increase timeout duration on timeout, to avoid overflow\n        _this.pingTimeoutDelay.current = Math.min(_this.pingTimeoutDelay.current * 2, _this.pingTimeoutDelay.max);\n        log('sync:ping timeout > %s', _this.pingTimeoutDelay.current);\n        _this.setConnectionStatus('offline');\n        _this.reportStatus(reportFunction);\n        // retry (yes, always increment pingId)\n        _this.__syncLoop(sendFunction, reportFunction);\n      }, Math.ceil(1000 * this.pingTimeoutDelay.current));\n    }\n\n    /**\n     * Start a synchronisation process by registering the receive\n     * function passed as second parameter. Then, send regular messages\n     * to the server, using the send function passed as first parameter.\n     *\n     * @function SyncClient~start\n     * @param {SyncClient~sendFunction} sendFunction\n     * @param {SyncClient~receiveFunction} receiveFunction to register\n     * @param {SyncClient~reportFunction} reportFunction if defined, is called to\n     *   report the status, on each status change\n     */\n\n  }, {\n    key: 'start',\n    value: function start(sendFunction, receiveFunction, reportFunction) {\n      var _this2 = this;\n\n      this.setStatus('startup');\n      this.setConnectionStatus('offline');\n\n      this.seriesData = [];\n      this.seriesDataNextIndex = 0;\n\n      this.longTermData = [];\n      this.longTermDataNextIndex = 0;\n\n      receiveFunction(function (pingId, clientPingTime, serverPingTime, serverPongTime) {\n        // accept only the pong that corresponds to the last ping\n        if (pingId === _this2.pingId) {\n          ++_this2.pingSeriesCount;\n          clearTimeout(_this2.timeoutId);\n          _this2.setConnectionStatus('online');\n          // reduce timeout duration on pong, for better reactivity\n          _this2.pingTimeoutDelay.current = Math.max(_this2.pingTimeoutDelay.current * 0.75, _this2.pingTimeoutDelay.min);\n\n          // time-differences are valid on a single-side only (client or server)\n          var clientPongTime = _this2.getLocalTime();\n          var clientTime = 0.5 * (clientPongTime + clientPingTime);\n          var serverTime = 0.5 * (serverPongTime + serverPingTime);\n          var travelDuration = Math.max(0, clientPongTime - clientPingTime - (serverPongTime - serverPingTime));\n          var offsetTime = serverTime - clientTime;\n\n          // order is important for sorting, later.\n          _this2.seriesData[_this2.seriesDataNextIndex] = [travelDuration, offsetTime, clientTime, serverTime];\n          _this2.seriesDataNextIndex = ++_this2.seriesDataNextIndex % _this2.seriesDataLength;\n\n          // log('ping %s, travel = %s, offset = %s, client = %s, server = %s',\n          //       pingId, travelDuration, offsetTime, clientTime, serverTime);\n\n          // end of a series\n          if (_this2.pingSeriesCount >= _this2.pingSeriesIterations && _this2.seriesData.length >= _this2.seriesDataLength) {\n            // plan the begining of the next series\n            _this2.pingDelay = _this2.pingSeriesDelay.min + Math.random() * (_this2.pingSeriesDelay.max - _this2.pingSeriesDelay.min);\n            _this2.pingSeriesCount = 0;\n\n            // sort by travel time first, then offset time.\n            var sorted = _this2.seriesData.slice(0).sort(dataCompare);\n\n            var seriesTravelDuration = sorted[0][0];\n\n            // When the clock tick is long enough,\n            // some travel times (dimension 0) might be identical.\n            // Then, use the offset median (dimension 1 is the second sort key)\n            // of shortest travel duration\n            var quick = 0;\n            while (quick < sorted.length && sorted[quick][0] <= seriesTravelDuration * 1.01) {\n              ++quick;\n            }\n            quick = Math.max(0, quick - 1);\n            var median = Math.floor(quick / 2);\n\n            var seriesClientTime = sorted[median][2];\n            var seriesServerTime = sorted[median][3];\n            var seriesClientSquaredTime = seriesClientTime * seriesClientTime;\n            var seriesClientServerTime = seriesClientTime * seriesServerTime;\n\n            _this2.longTermData[_this2.longTermDataNextIndex] = [seriesTravelDuration, seriesClientTime, seriesServerTime, seriesClientSquaredTime, seriesClientServerTime];\n            _this2.longTermDataNextIndex = ++_this2.longTermDataNextIndex % _this2.longTermDataLength;\n\n            // mean of the time offset over 3 samples around median\n            // (limited to shortest travel duration)\n            var aroundMedian = sorted.slice(Math.max(0, median - 1), Math.min(quick, median + 1) + 1);\n            _this2.timeOffset = mean(aroundMedian, 1);\n\n            if (_this2.status === 'startup' || _this2.status === 'training' && _this2.getStatusDuration() < _this2.longTermDataTrainingDuration) {\n              // set only the phase offset, not the frequency\n              _this2.serverTimeReference = _this2.timeOffset;\n              _this2.clientTimeReference = 0;\n              _this2.frequencyRatio = 1;\n              _this2.setStatus('training');\n              log('T = %s + %s * (%s - %s) = %s', _this2.serverTimeReference, _this2.frequencyRatio, seriesClientTime, _this2.clientTimeReference, _this2.getSyncTime(seriesClientTime));\n            }\n\n            if (_this2.status === 'training' && _this2.getStatusDuration() >= _this2.longTermDataTrainingDuration || _this2.status === 'sync') {\n              // linear regression, R = covariance(t,T) / variance(t)\n              var regClientTime = mean(_this2.longTermData, 1);\n              var regServerTime = mean(_this2.longTermData, 2);\n              var regClientSquaredTime = mean(_this2.longTermData, 3);\n              var regClientServerTime = mean(_this2.longTermData, 4);\n\n              var covariance = regClientServerTime - regClientTime * regServerTime;\n              var variance = regClientSquaredTime - regClientTime * regClientTime;\n              if (variance > 0) {\n                // update freq and shift\n                _this2.frequencyRatio = covariance / variance;\n                _this2.clientTimeReference = regClientTime;\n                _this2.serverTimeReference = regServerTime;\n\n                // 0.05% is a lot (500 PPM, like an old mechanical clock)\n                if (_this2.frequencyRatio > 0.9995 && _this2.frequencyRatio < 1.0005) {\n                  _this2.setStatus('sync');\n                } else {\n                  log('clock frequency ratio out of sync: %s, training again', _this2.frequencyRatio);\n                  // start the training again from the last series\n                  _this2.serverTimeReference = _this2.timeOffset; // offset only\n                  _this2.clientTimeReference = 0;\n                  _this2.frequencyRatio = 1;\n                  _this2.setStatus('training');\n\n                  _this2.longTermData[0] = [seriesTravelDuration, seriesClientTime, seriesServerTime, seriesClientSquaredTime, seriesClientServerTime];\n                  _this2.longTermData.length = 1;\n                  _this2.longTermDataNextIndex = 1;\n                }\n              }\n\n              log('T = %s + %s * (%s - %s) = %s', _this2.serverTimeReference, _this2.frequencyRatio, seriesClientTime, _this2.clientTimeReference, _this2.getSyncTime(seriesClientTime));\n            }\n\n            _this2.travelDuration = mean(sorted, 0);\n            _this2.travelDurationMin = sorted[0][0];\n            _this2.travelDurationMax = sorted[sorted.length - 1][0];\n\n            _this2.reportStatus(reportFunction);\n          } else {\n            // we are in a series, use the pingInterval value\n            _this2.pingDelay = _this2.pingSeriesPeriod;\n          }\n\n          _this2.timeoutId = setTimeout(function () {\n            _this2.__syncLoop(sendFunction, reportFunction);\n          }, Math.ceil(1000 * _this2.pingDelay));\n        } // ping and pong ID match\n      }); // receive function\n\n      this.__syncLoop(sendFunction, reportFunction);\n    }\n\n    /**\n     * Get local time, or convert a synchronised time to a local time.\n     *\n     * @function SyncClient~getLocalTime\n     * @param {Number} syncTime undefined to get local time\n     * @returns {Number} local time, in seconds\n     */\n\n  }, {\n    key: 'getLocalTime',\n    value: function getLocalTime(syncTime) {\n      if (typeof syncTime !== 'undefined') {\n        // conversion: t(T) = t0 + (T - T0) / R\n        return this.clientTimeReference + (syncTime - this.serverTimeReference) / this.frequencyRatio;\n      } else {\n        // read local clock\n        return this.getTimeFunction();\n      }\n    }\n\n    /**\n     * Get synchronised time, or convert a local time to a synchronised time.\n     *\n     * @function SyncClient~getSyncTime\n     * @param {Number} localTime undefined to get synchronised time\n     * @returns {Number} synchronised time, in seconds.\n     */\n\n  }, {\n    key: 'getSyncTime',\n    value: function getSyncTime() {\n      var localTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getLocalTime();\n\n      // always convert: T(t) = T0 + R * (t - t0)\n      return this.serverTimeReference + this.frequencyRatio * (localTime - this.clientTimeReference);\n    }\n  }]);\n  return SyncClient;\n}();\n\nexports.default = SyncClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImxvZyIsIm9yZGVyTWluTWF4IiwidGhhdCIsIm1pbiIsIm1heCIsInRtcCIsIm1lYW4iLCJhcnJheSIsImRpbWVuc2lvbiIsInJlZHVjZSIsInAiLCJxIiwibGVuZ3RoIiwiZGF0YUNvbXBhcmUiLCJhIiwiYiIsIlN5bmNDbGllbnQiLCJnZXRUaW1lRnVuY3Rpb24iLCJvcHRpb25zIiwicGluZ1RpbWVvdXREZWxheSIsInBpbmdTZXJpZXNJdGVyYXRpb25zIiwicGluZ1Nlcmllc1BlcmlvZCIsInBpbmdTZXJpZXNEZWxheSIsInBpbmdEZWxheSIsInRpbWVvdXRJZCIsInBpbmdJZCIsInBpbmdTZXJpZXNDb3VudCIsInNlcmllc0RhdGEiLCJzZXJpZXNEYXRhTmV4dEluZGV4Iiwic2VyaWVzRGF0YUxlbmd0aCIsImxvbmdUZXJtRGF0YVRyYWluaW5nRHVyYXRpb24iLCJsb25nVGVybURhdGFEdXJhdGlvbiIsImxvbmdUZXJtRGF0YUxlbmd0aCIsIk1hdGgiLCJsb25nVGVybURhdGEiLCJsb25nVGVybURhdGFOZXh0SW5kZXgiLCJ0aW1lT2Zmc2V0IiwidHJhdmVsRHVyYXRpb24iLCJ0cmF2ZWxEdXJhdGlvbk1pbiIsInRyYXZlbER1cmF0aW9uTWF4Iiwic2VydmVyVGltZVJlZmVyZW5jZSIsImNsaWVudFRpbWVSZWZlcmVuY2UiLCJmcmVxdWVuY3lSYXRpbyIsImN1cnJlbnQiLCJzdGF0dXMiLCJzdGF0dXNDaGFuZ2VkVGltZSIsImNvbm5lY3Rpb25TdGF0dXMiLCJjb25uZWN0aW9uU3RhdHVzQ2hhbmdlZFRpbWUiLCJnZXRMb2NhbFRpbWUiLCJyZXBvcnRGdW5jdGlvbiIsInN0YXR1c0R1cmF0aW9uIiwiZ2V0U3RhdHVzRHVyYXRpb24iLCJjb25uZWN0aW9uIiwiY29ubmVjdGlvbkR1cmF0aW9uIiwiZ2V0Q29ubmVjdGlvblN0YXR1c0R1cmF0aW9uIiwiY29ubmVjdGlvblRpbWVPdXQiLCJzZW5kRnVuY3Rpb24iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2V0Q29ubmVjdGlvblN0YXR1cyIsInJlcG9ydFN0YXR1cyIsIl9fc3luY0xvb3AiLCJjZWlsIiwicmVjZWl2ZUZ1bmN0aW9uIiwic2V0U3RhdHVzIiwiY2xpZW50UGluZ1RpbWUiLCJzZXJ2ZXJQaW5nVGltZSIsInNlcnZlclBvbmdUaW1lIiwiY2xpZW50UG9uZ1RpbWUiLCJjbGllbnRUaW1lIiwic2VydmVyVGltZSIsIm9mZnNldFRpbWUiLCJyYW5kb20iLCJzb3J0ZWQiLCJzbGljZSIsInNvcnQiLCJzZXJpZXNUcmF2ZWxEdXJhdGlvbiIsInF1aWNrIiwibWVkaWFuIiwiZmxvb3IiLCJzZXJpZXNDbGllbnRUaW1lIiwic2VyaWVzU2VydmVyVGltZSIsInNlcmllc0NsaWVudFNxdWFyZWRUaW1lIiwic2VyaWVzQ2xpZW50U2VydmVyVGltZSIsImFyb3VuZE1lZGlhbiIsImdldFN5bmNUaW1lIiwicmVnQ2xpZW50VGltZSIsInJlZ1NlcnZlclRpbWUiLCJyZWdDbGllbnRTcXVhcmVkVGltZSIsInJlZ0NsaWVudFNlcnZlclRpbWUiLCJjb3ZhcmlhbmNlIiwidmFyaWFuY2UiLCJzeW5jVGltZSIsImxvY2FsVGltZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFPQTs7Ozs7O0FBQ0EsSUFBTUEsTUFBTSxxQkFBTSxNQUFOLENBQVo7O0FBRUE7O0FBRUE7Ozs7Ozs7QUFaQTs7Ozs7OztBQW1CQSxTQUFTQyxXQUFULENBQXFCQyxJQUFyQixFQUEyQjtBQUN6QixNQUFHLE9BQU9BLElBQVAsS0FBZ0IsV0FBaEIsSUFDRyxPQUFPQSxLQUFLQyxHQUFaLEtBQW9CLFdBRHZCLElBQ3NDLE9BQU9ELEtBQUtFLEdBQVosS0FBb0IsV0FEMUQsSUFFR0YsS0FBS0MsR0FBTCxHQUFXRCxLQUFLRSxHQUZ0QixFQUUyQjtBQUN6QixRQUFNQyxNQUFNSCxLQUFLQyxHQUFqQjtBQUNBRCxTQUFLQyxHQUFMLEdBQVdELEtBQUtFLEdBQWhCO0FBQ0FGLFNBQUtFLEdB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RCxtQkFBeEMsQ0FESjtBQUVEOzs7OztrQkFHWXpCLFUiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgRXN0aW1hdGlvbiBvZiBhIHNlcnZlciB0aW1lIGZyb20gYSBjbGllbnQgdGltZS5cbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2hhbC5hcmNoaXZlcy1vdXZlcnRlcy5mci9oYWwtMDEzMDQ4ODl2MX1cbiAqIFN0YWJpbGlzYXRpb24gYWRkZWQgYWZ0ZXIgdGhlIGFydGljbGUuXG4gKi9cblxuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmNvbnN0IGxvZyA9IGRlYnVnKCdzeW5jJyk7XG5cbi8vLy8vLyBoZWxwZXJzXG5cbi8qKlxuICogT3JkZXIgbWluIGFuZCBtYXggYXR0cmlidXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRoYXQgd2l0aCBtaW4gYW5kIG1heCBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB3aXRoIG1pbiBhbmQgbWFuIGF0dHJpYnV0ZXMsIHN3YXBwZWQgaWYgdGhhdC5taW4gPiB0aGF0Lm1heFxuICovXG5mdW5jdGlvbiBvcmRlck1pbk1heCh0aGF0KSB7XG4gIGlmKHR5cGVvZiB0aGF0ICE9PSAndW5kZWZpbmVkJ1xuICAgICAmJiB0eXBlb2YgdGhhdC5taW4gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0aGF0Lm1heCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgJiYgdGhhdC5taW4gPiB0aGF0Lm1heCkge1xuICAgIGNvbnN0IHRtcCA9IHRoYXQubWluO1xuICAgIHRoYXQubWluID0gdGhhdC5tYXg7XG4gICAgdGhhdC5tYXggPSB0bXA7XG4gIH1cbiAgcmV0dXJuIHRoYXQ7XG59XG5cbi8qKlxuICogTWVhbiBvdmVyIGFuIGFycmF5LCBzZWxlY3Rpbmcgb25lIGRpbWVuc2lvbiBvZiB0aGUgYXJyYXkgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5LjxBcnJheS48TnVtYmVyPj59IGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gW2RpbWVuc2lvbj0wXVxuICogQHJldHVybnMge051bWJlcn0gbWVhblxuICovXG5mdW5jdGlvbiBtZWFuKGFycmF5LCBkaW1lbnNpb24gPSAwKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKHAsIHEpID0+IHAgKyBxW2RpbWVuc2lvbl0sIDApIC8gYXJyYXkubGVuZ3RoO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHVzZWQgdG8gc29ydCBsb25nLXRlcm0gZGF0YSwgdXNpbmcgZmlyc3QgYW5kIHNlY29uZCBkaW1lbnNpb25zLCBpblxuICogdGhhdCBvcmRlci5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge051bWJlci48TnVtYmVyPn0gYlxuICogQHJldHVybnMge051bWJlcn0gbmVnYXRpdmUgaWYgYSA8IGIsIHBvc2l0aXZlIGlmIGEgPiBiLCBvciAwXG4gKi9cbmZ1bmN0aW9uIGRhdGFDb21wYXJlKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gLSBiWzBdIHx8IGFbMV0gLSBiWzFdO1xufVxuXG5jbGFzcyBTeW5jQ2xpZW50IHtcbiAgLyoqXG4gICAqIEBjYWxsYmFjayBTeW5jQ2xpZW50fmdldFRpbWVGdW5jdGlvblxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1vbm90b25pYywgZXZlciBpbmNyZWFzaW5nLCB0aW1lIGluIHNlY29uZC4gV2hlbiBwb3NzaWJsZVxuICAgKiAgIHRoZSBzZXJ2ZXIgY29kZSBzaG91bGQgZGVmaW5lIGl0cyBvd24gb3JpZ2luIChpLmUuIGB0aW1lPTBgKSBpbiBvcmRlciB0b1xuICAgKiAgIG1heGltaXplIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBjbG9jayBmb3IgYSBsb25nIHBlcmlvZCBvZiB0aW1lLiBXaGVuXG4gICAqICAgYFN5bmNTZXJ2ZXJ+c3RhcnRgIGlzIGNhbGxlZCB0aGUgY2xvY2sgc2hvdWxkIGJlIHJ1bm5pbmdcbiAgICogICAoY2YuIGBhdWRpb0NvbnRleHQuY3VycmVudFRpbWVgIHRoYXQgbmVlZHMgdXNlciBpbnRlcmFjdGlvbiB0byBzdGFydClcbiAgICoqL1xuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgU3luY0NsaWVudH5zZW5kRnVuY3Rpb25cbiAgICogQHNlZSB7QGxpbmtjb2RlIFN5bmNTZXJ2ZXJ+cmVjZWl2ZUZ1bmN0aW9ufVxuICAgKiBAcGFyYW0ge051bWJlcn0gcGluZ0lkIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjbGllbnRQaW5nVGltZSB0aW1lLXN0YW1wIG9mIHBpbmcgZW1pc3Npb25cbiAgICoqL1xuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgU3luY0NsaWVudH5yZWNlaXZlRnVuY3Rpb25cbiAgICogQHNlZSB7QGxpbmtjb2RlIFN5bmNTZXJ2ZXJ+c2VuZEZ1bmN0aW9ufVxuICAgKiBAcGFyYW0ge1N5bmNDbGllbnR+cmVjZWl2ZUNhbGxiYWNrfSByZWNlaXZlQ2FsbGJhY2sgY2FsbGVkIG9uIGVhY2ggbWVzc2FnZVxuICAgKiAgIG1hdGNoaW5nIG1lc3NhZ2VUeXBlLlxuICAgKiovXG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBTeW5jQ2xpZW50fnJlY2VpdmVDYWxsYmFja1xuICAgKiBAcGFyYW0ge051bWJlcn0gcGluZ0lkIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjbGllbnRQaW5nVGltZSB0aW1lLXN0YW1wIG9mIHBpbmcgZW1pc3Npb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNlcnZlclBpbmdUaW1lIHRpbWUtc3RhbXAgb2YgcGluZyByZWNlcHRpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNlcnZlclBvbmdUaW1lIHRpbWUtc3RhbXAgb2YgcG9uZyBlbWlzc2lvblxuICAgKiovXG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBTeW5jQ2xpZW50fnJlcG9ydEZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXBvcnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlcG9ydC5zdGF0dXMgYG5ld2AsIGBzdGFydHVwYCwgYHRyYWluaW5nYCAob2Zmc2V0XG4gICAqICAgYWRhcHRhdGlvbiksIG9yIGBzeW5jYCAob2Zmc2V0IGFuZCBzcGVlZCBhZGFwdGF0aW9uKS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJlcG9ydC5zdGF0dXNEdXJhdGlvbiBkdXJhdGlvbiBzaW5jZSBsYXN0IHN0YXR1c1xuICAgKiAgIGNoYW5nZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJlcG9ydC50aW1lT2Zmc2V0IHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGxvY2FsIHRpbWUgYW5kXG4gICAqICAgc3luYyB0aW1lLCBpbiBzZWNvbmRzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVwb3J0LmZyZXF1ZW5jeVJhdGlvIHRpbWUgcmF0aW8gYmV0d2VlbiBsb2NhbFxuICAgKiAgIHRpbWUgYW5kIHN5bmMgdGltZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlcG9ydC5jb25uZWN0aW9uIGBvZmZsaW5lYCBvciBgb25saW5lYFxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVwb3J0LmNvbm5lY3Rpb25EdXJhdGlvbiBkdXJhdGlvbiBzaW5jZSBsYXN0IGNvbm5lY3Rpb25cbiAgICogICBjaGFuZ2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByZXBvcnQuY29ubmVjdGlvblRpbWVPdXQgZHVyYXRpb24sIGluIHNlY29uZHMsIGJlZm9yZVxuICAgKiAgIGEgdGltZS1vdXQgb2NjdXJzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVwb3J0LnRyYXZlbER1cmF0aW9uIGR1cmF0aW9uIG9mIGEgcGluZy1wb25nIHJvdW5kLXRyaXAsXG4gICAqICAgaW4gc2Vjb25kcywgbWVhbiBvdmVyIHRoZSB0aGUgbGFzdCBwaW5nLXBvbmcgc2VyaWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVwb3J0LnRyYXZlbER1cmF0aW9uTWluIGR1cmF0aW9uIG9mIGEgcGluZy1wb25nXG4gICAqICAgcm91bmQtdHJpcCwgaW4gc2Vjb25kcywgbWluaW11bSBvdmVyIHRoZSB0aGUgbGFzdCBwaW5nLXBvbmcgc2VyaWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmVwb3J0LnRyYXZlbER1cmF0aW9uTWF4IGR1cmF0aW9uIG9mIGEgcGluZy1wb25nXG4gICAqICAgcm91bmQtdHJpcCwgaW4gc2Vjb25kcywgbWF4aW11bSBvdmVyIHRoZSB0aGUgbGFzdCBwaW5nLXBvbmcgc2VyaWVzLlxuICAgKiovXG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGNvbnN0cnVjdG9yLiBTZWUge0BsaW5rY29kZSBTeW5jQ2xpZW50fnN0YXJ0fSBtZXRob2QgdG9cbiAgICogYWN0dWFsbHkgc3RhcnQgYSBzeW5jaHJvbmlzYXRpb24gcHJvY2Vzcy5cbiAgICpcbiAgICogQGNvbnN0cnVjdHMgU3luY0NsaWVudFxuICAgKiBAcGFyYW0ge1N5bmNDbGllbnR+Z2V0VGltZUZ1bmN0aW9ufSBnZXRUaW1lRnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucGluZ1RpbWVPdXREZWxheV0gcmFuZ2Ugb2YgZHVyYXRpb24gKGluIHNlY29uZHMpIHRvXG4gICAqIGNvbnNpZGVyIGEgcGluZyB3YXMgbm90IHBvbmdlZCBiYWNrXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5waW5nVGltZU91dERlbGF5Lm1pbj0xXSBtaW4gYW5kIG1heCBtdXN0IGJlIHNldCB0b2dldGhlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGluZ1RpbWVPdXREZWxheS5tYXg9MzBdIG1pbiBhbmQgbWF4IG11c3QgYmUgc2V0IHRvZ2V0aGVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5waW5nU2VyaWVzSXRlcmF0aW9ucz0xMF0gbnVtYmVyIG9mIHBpbmctcG9uZ3MgaW4gYVxuICAgKiBzZXJpZXNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBpbmdTZXJpZXNQZXJpb2Q9MC4yNTBdIGludGVydmFsIChpbiBzZWNvbmRzKSBiZXR3ZWVuIHBpbmdzXG4gICAqIGluIGEgc2VyaWVzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5waW5nU2VyaWVzRGVsYXldIHJhbmdlIG9mIGludGVydmFsIChpblxuICAgKiBzZWNvbmRzKSBiZXR3ZWVuIHBpbmctcG9uZyBzZXJpZXNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnBpbmdTZXJpZXNEZWxheS5taW49MTBdIG1pbiBhbmQgbWF4IG11c3QgYmUgc2V0IHRvZ2V0aGVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5waW5nU2VyaWVzRGVsYXkubWF4PTIwXSBtaW4gYW5kIG1heCBtdXN0IGJlIHNldCB0b2dldGhlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubG9uZ1Rlcm1EYXRhVHJhaW5pbmdEdXJhdGlvbj0xMjBdIGR1cmF0aW9uIG9mXG4gICAqIHRyYWluaW5nLCBpbiBzZWNvbmRzLCBhcHByb3hpbWF0ZWx5LCBiZWZvcmUgdXNpbmcgdGhlIGVzdGltYXRlIG9mXG4gICAqIGNsb2NrIGZyZXF1ZW5jeVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubG9uZ1Rlcm1EYXRhRHVyYXRpb249OTAwXSBlc3RpbWF0ZSBzeW5jaHJvbmlzYXRpb24gb3ZlclxuICAgKiAgdGhpcyBkdXJhdGlvbiwgaW4gc2Vjb25kcywgYXBwcm94aW1hdGVseVxuICAgKi9cbiAgY29uc3RydWN0b3IoZ2V0VGltZUZ1bmN0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnBpbmdUaW1lb3V0RGVsYXkgPSBvcHRpb25zLnBpbmdUaW1lb3V0RGVsYXlcbiAgICAgIHx8IHsgbWluOiAxLCBtYXg6IDMwIH07XG4gICAgb3JkZXJNaW5NYXgodGhpcy5waW5nVGltZW91dERlbGF5KTtcblxuICAgIHRoaXMucGluZ1Nlcmllc0l0ZXJhdGlvbnMgPSBvcHRpb25zLnBpbmdTZXJpZXNJdGVyYXRpb25zIHx8IDEwO1xuICAgIHRoaXMucGluZ1Nlcmllc1BlcmlvZCA9ICh0eXBlb2Ygb3B0aW9ucy5waW5nU2VyaWVzUGVyaW9kICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGluZ1Nlcmllc1BlcmlvZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDAuMjUwKTtcbiAgICB0aGlzLnBpbmdTZXJpZXNEZWxheSA9IG9wdGlvbnMucGluZ1Nlcmllc0RlbGF5XG4gICAgICB8fCB7IG1pbjogMTAsIG1heDogMjAgfTtcbiAgICBvcmRlck1pbk1heCh0aGlzLnBpbmdTZXJpZXNEZWxheSk7XG5cbiAgICB0aGlzLnBpbmdEZWxheSA9IDA7IC8vIGN1cnJlbnQgZGVsYXkgYmVmb3JlIG5leHQgcGluZ1xuICAgIHRoaXMudGltZW91dElkID0gMDsgLy8gdG8gY2FuY2VsIHRpbWVvdXQgb24gcG9uZ1xuICAgIHRoaXMucGluZ0lkID0gMDsgLy8gYWJzb2x1dGUgSUQgdG8gbWFjaCBwb25nIGFnYWluc3RcblxuICAgIHRoaXMucGluZ1Nlcmllc0NvdW50ID0gMDsgLy8gZWxhcHNlZCBwaW5ncyBpbiBhIHNlcmllc1xuICAgIHRoaXMuc2VyaWVzRGF0YSA9IFtdOyAvLyBjaXJjdWxhciBidWZmZXJcbiAgICB0aGlzLnNlcmllc0RhdGFOZXh0SW5kZXggPSAwOyAvLyBuZXh0IGluZGV4IHRvIHdyaXRlIGluIGNpcmN1bGFyIGJ1ZmZlclxuICAgIHRoaXMuc2VyaWVzRGF0YUxlbmd0aCA9IHRoaXMucGluZ1Nlcmllc0l0ZXJhdGlvbnM7IC8vIHNpemUgb2YgY2lyY3VsYXIgYnVmZmVyXG5cbiAgICB0aGlzLmxvbmdUZXJtRGF0YVRyYWluaW5nRHVyYXRpb25cbiAgICAgID0gb3B0aW9ucy5sb25nVGVybURhdGFUcmFpbmluZ0R1cmF0aW9uIHx8IDEyMDtcblxuICAgIC8vIHVzZSBhIGZpeGVkLXNpemUgY2lyY3VsYXIgYnVmZmVyLCBldmVuIGlmIGl0IGRvZXMgbm90IG1hdGNoXG4gICAgLy8gZXhhY3RseSB0aGUgcmVxdWlyZWQgZHVyYXRpb25cbiAgICB0aGlzLmxvbmdUZXJtRGF0YUR1cmF0aW9uID0gb3B0aW9ucy5sb25nVGVybURhdGFEdXJhdGlvbiB8fCA5MDA7XG4gICAgdGhpcy5sb25nVGVybURhdGFMZW5ndGggPSBNYXRoLm1heChcbiAgICAgIDIsXG4gICAgICB0aGlzLmxvbmdUZXJtRGF0YUR1cmF0aW9uIC9cbiAgICAgICAgKDAuNSAqICh0aGlzLnBpbmdTZXJpZXNEZWxheS5taW4gKyB0aGlzLnBpbmdTZXJpZXNEZWxheS5tYXgpICkgKTtcblxuICAgIHRoaXMubG9uZ1Rlcm1EYXRhID0gW107IC8vIGNpcmN1bGFyIGJ1ZmZlclxuICAgIHRoaXMubG9uZ1Rlcm1EYXRhTmV4dEluZGV4ID0gMDsgLy8gbmV4dCBpbmRleCB0byB3cml0ZSBpbiBjaXJjdWxhciBidWZmZXJcblxuICAgIHRoaXMudGltZU9mZnNldCA9IDA7IC8vIG1lYW4gb2YgKHNlcnZlclRpbWUgLSBjbGllbnRUaW1lKSBpbiB0aGUgbGFzdCBzZXJpZXNcbiAgICB0aGlzLnRyYXZlbER1cmF0aW9uID0gMDtcbiAgICB0aGlzLnRyYXZlbER1cmF0aW9uTWluID0gMDtcbiAgICB0aGlzLnRyYXZlbER1cmF0aW9uTWF4ID0gMDtcblxuICAgIC8vIFQodCkgPSBUMCArIFIgKiAodCAtIHQwKVxuICAgIHRoaXMuc2VydmVyVGltZVJlZmVyZW5jZSA9IDA7IC8vIFQwXG4gICAgdGhpcy5jbGllbnRUaW1lUmVmZXJlbmNlID0gMDsgLy8gdDBcbiAgICB0aGlzLmZyZXF1ZW5jeVJhdGlvID0gMTsgLy8gUlxuXG4gICAgdGhpcy5waW5nVGltZW91dERlbGF5LmN1cnJlbnQgPSB0aGlzLnBpbmdUaW1lb3V0RGVsYXkubWluO1xuXG4gICAgdGhpcy5nZXRUaW1lRnVuY3Rpb24gPSBnZXRUaW1lRnVuY3Rpb247XG5cbiAgICB0aGlzLnN0YXR1cyA9ICduZXcnO1xuICAgIHRoaXMuc3RhdHVzQ2hhbmdlZFRpbWUgPSAwO1xuXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzID0gJ29mZmxpbmUnO1xuICAgIHRoaXMuY29ubmVjdGlvblN0YXR1c0NoYW5nZWRUaW1lID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc3RhdHVzLCBhbmQgc2V0IHRoaXMuc3RhdHVzQ2hhbmdlZFRpbWUsIHRvIGxhdGVyXG4gICAqIHVzZSBzZWUge0BsaW5rY29kZSBTeW5jQ2xpZW50fmdldFN0YXR1c0R1cmF0aW9ufVxuICAgKiBhbmQge0BsaW5rY29kZSBTeW5jQ2xpZW50fnJlcG9ydFN0YXR1c30uXG4gICAqXG4gICAqIEBmdW5jdGlvbiBTeW5jQ2xpZW50fnNldFN0YXR1c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdHVzXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRoaXNcbiAgICovXG4gIHNldFN0YXR1cyhzdGF0dXMpIHtcbiAgICBpZihzdGF0dXMgIT09IHRoaXMuc3RhdHVzKSB7XG4gICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIHRoaXMuc3RhdHVzQ2hhbmdlZFRpbWUgPSB0aGlzLmdldExvY2FsVGltZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGltZSBzaW5jZSBsYXN0IHN0YXR1cyBjaGFuZ2UuIFNlZSB7QGxpbmtjb2RlIFN5bmNDbGllbnR+c2V0U3RhdHVzfVxuICAgKlxuICAgKiBAZnVuY3Rpb24gU3luY0NsaWVudH5nZXRTdGF0dXNEdXJhdGlvblxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSB0aW1lLCBpbiBzZWNvbmRzLCBzaW5jZSBsYXN0IHN0YXR1cyBjaGFuZ2UuXG4gICAqL1xuICBnZXRTdGF0dXNEdXJhdGlvbigpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgdGhpcy5nZXRMb2NhbFRpbWUoKSAtIHRoaXMuc3RhdHVzQ2hhbmdlZFRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBjb25uZWN0aW9uU3RhdHVzLCBhbmQgc2V0IHRoaXMuY29ubmVjdGlvblN0YXR1c0NoYW5nZWRUaW1lLFxuICAgKiB0byBsYXRlciB1c2Ugc2VlIHtAbGlua2NvZGUgU3luY0NsaWVudH5nZXRDb25uZWN0aW9uU3RhdHVzRHVyYXRpb259XG4gICAqIGFuZCB7QGxpbmtjb2RlIFN5bmNDbGllbnR+cmVwb3J0U3RhdHVzfS5cbiAgICpcbiAgICogQGZ1bmN0aW9uIFN5bmNDbGllbnR+c2V0Q29ubmVjdGlvblN0YXR1c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gY29ubmVjdGlvblN0YXR1c1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGlzXG4gICAqL1xuICBzZXRDb25uZWN0aW9uU3RhdHVzKGNvbm5lY3Rpb25TdGF0dXMpIHtcbiAgICBpZihjb25uZWN0aW9uU3RhdHVzICE9PSB0aGlzLmNvbm5lY3Rpb25TdGF0dXMpIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXR1cyA9IGNvbm5lY3Rpb25TdGF0dXM7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkVGltZSA9IHRoaXMuZ2V0TG9jYWxUaW1lKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aW1lIHNpbmNlIGxhc3QgY29ubmVjdGlvblN0YXR1cyBjaGFuZ2UuXG4gICAqIFNlZSB7QGxpbmtjb2RlIFN5bmNDbGllbnR+c2V0Q29ubmVjdGlvblN0YXR1c31cbiAgICpcbiAgICogQGZ1bmN0aW9uIFN5bmNDbGllbnR+Z2V0Q29ubmVjdGlvblN0YXR1c0R1cmF0aW9uXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IHRpbWUsIGluIHNlY29uZHMsIHNpbmNlIGxhc3QgY29ubmVjdGlvblN0YXR1cyBjaGFuZ2UuXG4gICAqL1xuICBnZXRDb25uZWN0aW9uU3RhdHVzRHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHRoaXMuZ2V0TG9jYWxUaW1lKCkgLSB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IHRoZSBzdGF0dXMgb2YgdGhlIHN5bmNocm9uaXNhdGlvbiBwcm9jZXNzLCBpZlxuICAgKiByZXBvcnRGdW5jdGlvbiBpcyBkZWZpbmVkLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gU3luY0NsaWVudH5yZXBvcnRTdGF0dXNcbiAgICogQHBhcmFtIHtTeW5jQ2xpZW50fnJlcG9ydEZ1bmN0aW9ufSByZXBvcnRGdW5jdGlvblxuICAgKi9cbiAgcmVwb3J0U3RhdHVzKHJlcG9ydEZ1bmN0aW9uKSB7XG4gICAgaWYodHlwZW9mIHJlcG9ydEZ1bmN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmVwb3J0RnVuY3Rpb24oe1xuICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICBzdGF0dXNEdXJhdGlvbjogdGhpcy5nZXRTdGF0dXNEdXJhdGlvbigpLFxuICAgICAgICB0aW1lT2Zmc2V0OiB0aGlzLnRpbWVPZmZzZXQsXG4gICAgICAgIGZyZXF1ZW5jeVJhdGlvOiB0aGlzLmZyZXF1ZW5jeVJhdGlvLFxuICAgICAgICBjb25uZWN0aW9uOiB0aGlzLmNvbm5lY3Rpb25TdGF0dXMsXG4gICAgICAgIGNvbm5lY3Rpb25EdXJhdGlvbjogdGhpcy5nZXRDb25uZWN0aW9uU3RhdHVzRHVyYXRpb24oKSxcbiAgICAgICAgY29ubmVjdGlvblRpbWVPdXQ6IHRoaXMucGluZ1RpbWVvdXREZWxheS5jdXJyZW50LFxuICAgICAgICB0cmF2ZWxEdXJhdGlvbjogdGhpcy50cmF2ZWxEdXJhdGlvbixcbiAgICAgICAgdHJhdmVsRHVyYXRpb25NaW46IHRoaXMudHJhdmVsRHVyYXRpb25NaW4sXG4gICAgICAgIHRyYXZlbER1cmF0aW9uTWF4OiB0aGlzLnRyYXZlbER1cmF0aW9uTWF4XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB0byBzZW5kIHBpbmcgbWVzc2FnZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvbiBTeW5jQ2xpZW50fl9fc3luY0xvb3BcbiAgICogQHBhcmFtIHtTeW5jQ2xpZW50fnNlbmRGdW5jdGlvbn0gc2VuZEZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3luY0NsaWVudH5yZXBvcnRGdW5jdGlvbn0gcmVwb3J0RnVuY3Rpb25cbiAgICovXG4gIF9fc3luY0xvb3Aoc2VuZEZ1bmN0aW9uLCByZXBvcnRGdW5jdGlvbikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgKyt0aGlzLnBpbmdJZDtcbiAgICBzZW5kRnVuY3Rpb24odGhpcy5waW5nSWQsIHRoaXMuZ2V0TG9jYWxUaW1lKCkpO1xuXG4gICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIGluY3JlYXNlIHRpbWVvdXQgZHVyYXRpb24gb24gdGltZW91dCwgdG8gYXZvaWQgb3ZlcmZsb3dcbiAgICAgIHRoaXMucGluZ1RpbWVvdXREZWxheS5jdXJyZW50ID0gTWF0aC5taW4odGhpcy5waW5nVGltZW91dERlbGF5LmN1cnJlbnQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmdUaW1lb3V0RGVsYXkubWF4KTtcbiAgICAgIGxvZygnc3luYzpwaW5nIHRpbWVvdXQgPiAlcycsIHRoaXMucGluZ1RpbWVvdXREZWxheS5jdXJyZW50KTtcbiAgICAgIHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cygnb2ZmbGluZScpO1xuICAgICAgdGhpcy5yZXBvcnRTdGF0dXMocmVwb3J0RnVuY3Rpb24pO1xuICAgICAgLy8gcmV0cnkgKHllcywgYWx3YXlzIGluY3JlbWVudCBwaW5nSWQpXG4gICAgICB0aGlzLl9fc3luY0xvb3Aoc2VuZEZ1bmN0aW9uLCByZXBvcnRGdW5jdGlvbik7XG4gICAgfSwgTWF0aC5jZWlsKDEwMDAgKiB0aGlzLnBpbmdUaW1lb3V0RGVsYXkuY3VycmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGEgc3luY2hyb25pc2F0aW9uIHByb2Nlc3MgYnkgcmVnaXN0ZXJpbmcgdGhlIHJlY2VpdmVcbiAgICogZnVuY3Rpb24gcGFzc2VkIGFzIHNlY29uZCBwYXJhbWV0ZXIuIFRoZW4sIHNlbmQgcmVndWxhciBtZXNzYWdlc1xuICAgKiB0byB0aGUgc2VydmVyLCB1c2luZyB0aGUgc2VuZCBmdW5jdGlvbiBwYXNzZWQgYXMgZmlyc3QgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gU3luY0NsaWVudH5zdGFydFxuICAgKiBAcGFyYW0ge1N5bmNDbGllbnR+c2VuZEZ1bmN0aW9ufSBzZW5kRnVuY3Rpb25cbiAgICogQHBhcmFtIHtTeW5jQ2xpZW50fnJlY2VpdmVGdW5jdGlvbn0gcmVjZWl2ZUZ1bmN0aW9uIHRvIHJlZ2lzdGVyXG4gICAqIEBwYXJhbSB7U3luY0NsaWVudH5yZXBvcnRGdW5jdGlvbn0gcmVwb3J0RnVuY3Rpb24gaWYgZGVmaW5lZCwgaXMgY2FsbGVkIHRvXG4gICAqICAgcmVwb3J0IHRoZSBzdGF0dXMsIG9uIGVhY2ggc3RhdHVzIGNoYW5nZVxuICAgKi9cbiAgc3RhcnQoc2VuZEZ1bmN0aW9uLCByZWNlaXZlRnVuY3Rpb24sIHJlcG9ydEZ1bmN0aW9uKSB7XG4gICAgdGhpcy5zZXRTdGF0dXMoJ3N0YXJ0dXAnKTtcbiAgICB0aGlzLnNldENvbm5lY3Rpb25TdGF0dXMoJ29mZmxpbmUnKTtcblxuICAgIHRoaXMuc2VyaWVzRGF0YSA9IFtdO1xuICAgIHRoaXMuc2VyaWVzRGF0YU5leHRJbmRleCA9IDA7XG5cbiAgICB0aGlzLmxvbmdUZXJtRGF0YSA9IFtdO1xuICAgIHRoaXMubG9uZ1Rlcm1EYXRhTmV4dEluZGV4ID0gMDtcblxuICAgIHJlY2VpdmVGdW5jdGlvbigocGluZ0lkLCBjbGllbnRQaW5nVGltZSwgc2VydmVyUGluZ1RpbWUsIHNlcnZlclBvbmdUaW1lKSA9PiB7XG4gICAgICAvLyBhY2NlcHQgb25seSB0aGUgcG9uZyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBsYXN0IHBpbmdcbiAgICAgIGlmIChwaW5nSWQgPT09IHRoaXMucGluZ0lkKSB7XG4gICAgICAgICsrdGhpcy5waW5nU2VyaWVzQ291bnQ7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cygnb25saW5lJyk7XG4gICAgICAgIC8vIHJlZHVjZSB0aW1lb3V0IGR1cmF0aW9uIG9uIHBvbmcsIGZvciBiZXR0ZXIgcmVhY3Rpdml0eVxuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0RGVsYXkuY3VycmVudCA9IE1hdGgubWF4KHRoaXMucGluZ1RpbWVvdXREZWxheS5jdXJyZW50ICogMC43NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmdUaW1lb3V0RGVsYXkubWluKTtcblxuICAgICAgICAvLyB0aW1lLWRpZmZlcmVuY2VzIGFyZSB2YWxpZCBvbiBhIHNpbmdsZS1zaWRlIG9ubHkgKGNsaWVudCBvciBzZXJ2ZXIpXG4gICAgICAgIGNvbnN0IGNsaWVudFBvbmdUaW1lID0gdGhpcy5nZXRMb2NhbFRpbWUoKTtcbiAgICAgICAgY29uc3QgY2xpZW50VGltZSA9IDAuNSAqIChjbGllbnRQb25nVGltZSArIGNsaWVudFBpbmdUaW1lKTtcbiAgICAgICAgY29uc3Qgc2VydmVyVGltZSA9IDAuNSAqIChzZXJ2ZXJQb25nVGltZSArIHNlcnZlclBpbmdUaW1lKTtcbiAgICAgICAgY29uc3QgdHJhdmVsRHVyYXRpb24gPSBNYXRoLm1heCgwLCAoY2xpZW50UG9uZ1RpbWUgLSBjbGllbnRQaW5nVGltZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIChzZXJ2ZXJQb25nVGltZSAtIHNlcnZlclBpbmdUaW1lKSk7XG4gICAgICAgIGNvbnN0IG9mZnNldFRpbWUgPSBzZXJ2ZXJUaW1lIC0gY2xpZW50VGltZTtcblxuICAgICAgICAvLyBvcmRlciBpcyBpbXBvcnRhbnQgZm9yIHNvcnRpbmcsIGxhdGVyLlxuICAgICAgICB0aGlzLnNlcmllc0RhdGFbdGhpcy5zZXJpZXNEYXRhTmV4dEluZGV4XVxuICAgICAgICAgID0gW3RyYXZlbER1cmF0aW9uLCBvZmZzZXRUaW1lLCBjbGllbnRUaW1lLCBzZXJ2ZXJUaW1lXTtcbiAgICAgICAgdGhpcy5zZXJpZXNEYXRhTmV4dEluZGV4ID0gKCsrdGhpcy5zZXJpZXNEYXRhTmV4dEluZGV4KSAlIHRoaXMuc2VyaWVzRGF0YUxlbmd0aDtcblxuICAgICAgICAvLyBsb2coJ3BpbmcgJXMsIHRyYXZlbCA9ICVzLCBvZmZzZXQgPSAlcywgY2xpZW50ID0gJXMsIHNlcnZlciA9ICVzJyxcbiAgICAgICAgLy8gICAgICAgcGluZ0lkLCB0cmF2ZWxEdXJhdGlvbiwgb2Zmc2V0VGltZSwgY2xpZW50VGltZSwgc2VydmVyVGltZSk7XG5cbiAgICAgICAgLy8gZW5kIG9mIGEgc2VyaWVzXG4gICAgICAgIGlmICh0aGlzLnBpbmdTZXJpZXNDb3VudCA+PSB0aGlzLnBpbmdTZXJpZXNJdGVyYXRpb25zXG4gICAgICAgICAgICAmJiB0aGlzLnNlcmllc0RhdGEubGVuZ3RoID49IHRoaXMuc2VyaWVzRGF0YUxlbmd0aCkge1xuICAgICAgICAgIC8vIHBsYW4gdGhlIGJlZ2luaW5nIG9mIHRoZSBuZXh0IHNlcmllc1xuICAgICAgICAgIHRoaXMucGluZ0RlbGF5ID0gdGhpcy5waW5nU2VyaWVzRGVsYXkubWluXG4gICAgICAgICAgICArIE1hdGgucmFuZG9tKCkgKiAodGhpcy5waW5nU2VyaWVzRGVsYXkubWF4IC0gdGhpcy5waW5nU2VyaWVzRGVsYXkubWluKTtcbiAgICAgICAgICB0aGlzLnBpbmdTZXJpZXNDb3VudCA9IDA7XG5cbiAgICAgICAgICAvLyBzb3J0IGJ5IHRyYXZlbCB0aW1lIGZpcnN0LCB0aGVuIG9mZnNldCB0aW1lLlxuICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IHRoaXMuc2VyaWVzRGF0YS5zbGljZSgwKS5zb3J0KGRhdGFDb21wYXJlKTtcblxuICAgICAgICAgIGNvbnN0IHNlcmllc1RyYXZlbER1cmF0aW9uID0gc29ydGVkWzBdWzBdO1xuXG4gICAgICAgICAgLy8gV2hlbiB0aGUgY2xvY2sgdGljayBpcyBsb25nIGVub3VnaCxcbiAgICAgICAgICAvLyBzb21lIHRyYXZlbCB0aW1lcyAoZGltZW5zaW9uIDApIG1pZ2h0IGJlIGlkZW50aWNhbC5cbiAgICAgICAgICAvLyBUaGVuLCB1c2UgdGhlIG9mZnNldCBtZWRpYW4gKGRpbWVuc2lvbiAxIGlzIHRoZSBzZWNvbmQgc29ydCBrZXkpXG4gICAgICAgICAgLy8gb2Ygc2hvcnRlc3QgdHJhdmVsIGR1cmF0aW9uXG4gICAgICAgICAgbGV0IHF1aWNrID0gMDtcbiAgICAgICAgICB3aGlsZShxdWljayA8IHNvcnRlZC5sZW5ndGggJiYgc29ydGVkW3F1aWNrXVswXSA8PSBzZXJpZXNUcmF2ZWxEdXJhdGlvbiAqIDEuMDEpIHtcbiAgICAgICAgICAgICsrcXVpY2s7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1aWNrID0gTWF0aC5tYXgoMCwgcXVpY2sgLSAxKTtcbiAgICAgICAgICBjb25zdCBtZWRpYW4gPSBNYXRoLmZsb29yKHF1aWNrIC8gMik7XG5cbiAgICAgICAgICBjb25zdCBzZXJpZXNDbGllbnRUaW1lID0gc29ydGVkW21lZGlhbl1bMl07XG4gICAgICAgICAgY29uc3Qgc2VyaWVzU2VydmVyVGltZSA9IHNvcnRlZFttZWRpYW5dWzNdO1xuICAgICAgICAgIGNvbnN0IHNlcmllc0NsaWVudFNxdWFyZWRUaW1lID0gc2VyaWVzQ2xpZW50VGltZSAqIHNlcmllc0NsaWVudFRpbWU7XG4gICAgICAgICAgY29uc3Qgc2VyaWVzQ2xpZW50U2VydmVyVGltZSA9IHNlcmllc0NsaWVudFRpbWUgKiBzZXJpZXNTZXJ2ZXJUaW1lO1xuXG4gICAgICAgICAgdGhpcy5sb25nVGVybURhdGFbdGhpcy5sb25nVGVybURhdGFOZXh0SW5kZXhdXG4gICAgICAgICAgICA9IFtzZXJpZXNUcmF2ZWxEdXJhdGlvbiwgc2VyaWVzQ2xpZW50VGltZSwgc2VyaWVzU2VydmVyVGltZSxcbiAgICAgICAgICAgICAgIHNlcmllc0NsaWVudFNxdWFyZWRUaW1lLCBzZXJpZXNDbGllbnRTZXJ2ZXJUaW1lXTtcbiAgICAgICAgICB0aGlzLmxvbmdUZXJtRGF0YU5leHRJbmRleCA9ICgrK3RoaXMubG9uZ1Rlcm1EYXRhTmV4dEluZGV4KSAlIHRoaXMubG9uZ1Rlcm1EYXRhTGVuZ3RoO1xuXG4gICAgICAgICAgLy8gbWVhbiBvZiB0aGUgdGltZSBvZmZzZXQgb3ZlciAzIHNhbXBsZXMgYXJvdW5kIG1lZGlhblxuICAgICAgICAgIC8vIChsaW1pdGVkIHRvIHNob3J0ZXN0IHRyYXZlbCBkdXJhdGlvbilcbiAgICAgICAgICBjb25zdCBhcm91bmRNZWRpYW4gPSBzb3J0ZWQuc2xpY2UoTWF0aC5tYXgoMCwgbWVkaWFuIC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHF1aWNrLCBtZWRpYW4gKyAxKSArIDEpO1xuICAgICAgICAgIHRoaXMudGltZU9mZnNldCA9IG1lYW4oYXJvdW5kTWVkaWFuLCAxKTtcblxuICAgICAgICAgIGlmKHRoaXMuc3RhdHVzID09PSAnc3RhcnR1cCdcbiAgICAgICAgICAgICB8fCAodGhpcy5zdGF0dXMgPT09ICd0cmFpbmluZydcbiAgICAgICAgICAgICAgICAgJiYgdGhpcy5nZXRTdGF0dXNEdXJhdGlvbigpIDwgdGhpcy5sb25nVGVybURhdGFUcmFpbmluZ0R1cmF0aW9uKSApIHtcbiAgICAgICAgICAgIC8vIHNldCBvbmx5IHRoZSBwaGFzZSBvZmZzZXQsIG5vdCB0aGUgZnJlcXVlbmN5XG4gICAgICAgICAgICB0aGlzLnNlcnZlclRpbWVSZWZlcmVuY2UgPSB0aGlzLnRpbWVPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5mcmVxdWVuY3lSYXRpbyA9IDE7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cygndHJhaW5pbmcnKTtcbiAgICAgICAgICAgIGxvZygnVCA9ICVzICsgJXMgKiAoJXMgLSAlcykgPSAlcycsXG4gICAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclRpbWVSZWZlcmVuY2UsIHRoaXMuZnJlcXVlbmN5UmF0aW8sXG4gICAgICAgICAgICAgICAgICBzZXJpZXNDbGllbnRUaW1lLCB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICB0aGlzLmdldFN5bmNUaW1lKHNlcmllc0NsaWVudFRpbWUpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZigodGhpcy5zdGF0dXMgPT09ICd0cmFpbmluZydcbiAgICAgICAgICAgICAgJiYgdGhpcy5nZXRTdGF0dXNEdXJhdGlvbigpID49IHRoaXMubG9uZ1Rlcm1EYXRhVHJhaW5pbmdEdXJhdGlvbilcbiAgICAgICAgICAgICB8fCB0aGlzLnN0YXR1cyA9PT0gJ3N5bmMnKSB7XG4gICAgICAgICAgICAvLyBsaW5lYXIgcmVncmVzc2lvbiwgUiA9IGNvdmFyaWFuY2UodCxUKSAvIHZhcmlhbmNlKHQpXG4gICAgICAgICAgICBjb25zdCByZWdDbGllbnRUaW1lID0gbWVhbih0aGlzLmxvbmdUZXJtRGF0YSwgMSk7XG4gICAgICAgICAgICBjb25zdCByZWdTZXJ2ZXJUaW1lID0gbWVhbih0aGlzLmxvbmdUZXJtRGF0YSwgMik7XG4gICAgICAgICAgICBjb25zdCByZWdDbGllbnRTcXVhcmVkVGltZSA9IG1lYW4odGhpcy5sb25nVGVybURhdGEsIDMpO1xuICAgICAgICAgICAgY29uc3QgcmVnQ2xpZW50U2VydmVyVGltZSA9IG1lYW4odGhpcy5sb25nVGVybURhdGEsIDQpO1xuXG4gICAgICAgICAgICBjb25zdCBjb3ZhcmlhbmNlID0gcmVnQ2xpZW50U2VydmVyVGltZSAtIHJlZ0NsaWVudFRpbWUgKiByZWdTZXJ2ZXJUaW1lO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFuY2UgPSByZWdDbGllbnRTcXVhcmVkVGltZSAtIHJlZ0NsaWVudFRpbWUgKiByZWdDbGllbnRUaW1lO1xuICAgICAgICAgICAgaWYodmFyaWFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBmcmVxIGFuZCBzaGlmdFxuICAgICAgICAgICAgICB0aGlzLmZyZXF1ZW5jeVJhdGlvID0gY292YXJpYW5jZSAvIHZhcmlhbmNlO1xuICAgICAgICAgICAgICB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UgPSByZWdDbGllbnRUaW1lO1xuICAgICAgICAgICAgICB0aGlzLnNlcnZlclRpbWVSZWZlcmVuY2UgPSByZWdTZXJ2ZXJUaW1lO1xuXG4gICAgICAgICAgICAgIC8vIDAuMDUlIGlzIGEgbG90ICg1MDAgUFBNLCBsaWtlIGFuIG9sZCBtZWNoYW5pY2FsIGNsb2NrKVxuICAgICAgICAgICAgICBpZih0aGlzLmZyZXF1ZW5jeVJhdGlvID4gMC45OTk1ICYmIHRoaXMuZnJlcXVlbmN5UmF0aW8gPCAxLjAwMDUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cygnc3luYycpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZygnY2xvY2sgZnJlcXVlbmN5IHJhdGlvIG91dCBvZiBzeW5jOiAlcywgdHJhaW5pbmcgYWdhaW4nLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5UmF0aW8pO1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB0cmFpbmluZyBhZ2FpbiBmcm9tIHRoZSBsYXN0IHNlcmllc1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyVGltZVJlZmVyZW5jZSA9IHRoaXMudGltZU9mZnNldDsgLy8gb2Zmc2V0IG9ubHlcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJlcXVlbmN5UmF0aW8gPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKCd0cmFpbmluZycpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sb25nVGVybURhdGFbMF1cbiAgICAgICAgICAgICAgICAgID0gW3Nlcmllc1RyYXZlbER1cmF0aW9uLCBzZXJpZXNDbGllbnRUaW1lLCBzZXJpZXNTZXJ2ZXJUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ2xpZW50U3F1YXJlZFRpbWUsIHNlcmllc0NsaWVudFNlcnZlclRpbWVdO1xuICAgICAgICAgICAgICAgIHRoaXMubG9uZ1Rlcm1EYXRhLmxlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5sb25nVGVybURhdGFOZXh0SW5kZXggPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZygnVCA9ICVzICsgJXMgKiAoJXMgLSAlcykgPSAlcycsXG4gICAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclRpbWVSZWZlcmVuY2UsIHRoaXMuZnJlcXVlbmN5UmF0aW8sXG4gICAgICAgICAgICAgICAgICBzZXJpZXNDbGllbnRUaW1lLCB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICB0aGlzLmdldFN5bmNUaW1lKHNlcmllc0NsaWVudFRpbWUpICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy50cmF2ZWxEdXJhdGlvbiA9IG1lYW4oc29ydGVkLCAwKTtcbiAgICAgICAgICB0aGlzLnRyYXZlbER1cmF0aW9uTWluID0gc29ydGVkWzBdWzBdO1xuICAgICAgICAgIHRoaXMudHJhdmVsRHVyYXRpb25NYXggPSBzb3J0ZWRbc29ydGVkLmxlbmd0aCAtIDFdWzBdO1xuXG4gICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMocmVwb3J0RnVuY3Rpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGFyZSBpbiBhIHNlcmllcywgdXNlIHRoZSBwaW5nSW50ZXJ2YWwgdmFsdWVcbiAgICAgICAgICB0aGlzLnBpbmdEZWxheSA9IHRoaXMucGluZ1Nlcmllc1BlcmlvZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fX3N5bmNMb29wKHNlbmRGdW5jdGlvbiwgcmVwb3J0RnVuY3Rpb24pO1xuICAgICAgICB9LCBNYXRoLmNlaWwoMTAwMCAqIHRoaXMucGluZ0RlbGF5KSk7XG4gICAgICB9ICAvLyBwaW5nIGFuZCBwb25nIElEIG1hdGNoXG4gICAgfSk7IC8vIHJlY2VpdmUgZnVuY3Rpb25cblxuICAgIHRoaXMuX19zeW5jTG9vcChzZW5kRnVuY3Rpb24sIHJlcG9ydEZ1bmN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbG9jYWwgdGltZSwgb3IgY29udmVydCBhIHN5bmNocm9uaXNlZCB0aW1lIHRvIGEgbG9jYWwgdGltZS5cbiAgICpcbiAgICogQGZ1bmN0aW9uIFN5bmNDbGllbnR+Z2V0TG9jYWxUaW1lXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzeW5jVGltZSB1bmRlZmluZWQgdG8gZ2V0IGxvY2FsIHRpbWVcbiAgICogQHJldHVybnMge051bWJlcn0gbG9jYWwgdGltZSwgaW4gc2Vjb25kc1xuICAgKi9cbiAgZ2V0TG9jYWxUaW1lKHN5bmNUaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBzeW5jVGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGNvbnZlcnNpb246IHQoVCkgPSB0MCArIChUIC0gVDApIC8gUlxuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50VGltZVJlZmVyZW5jZVxuICAgICAgICArIChzeW5jVGltZSAtIHRoaXMuc2VydmVyVGltZVJlZmVyZW5jZSkgLyB0aGlzLmZyZXF1ZW5jeVJhdGlvO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWFkIGxvY2FsIGNsb2NrXG4gICAgICByZXR1cm4gdGhpcy5nZXRUaW1lRnVuY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN5bmNocm9uaXNlZCB0aW1lLCBvciBjb252ZXJ0IGEgbG9jYWwgdGltZSB0byBhIHN5bmNocm9uaXNlZCB0aW1lLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gU3luY0NsaWVudH5nZXRTeW5jVGltZVxuICAgKiBAcGFyYW0ge051bWJlcn0gbG9jYWxUaW1lIHVuZGVmaW5lZCB0byBnZXQgc3luY2hyb25pc2VkIHRpbWVcbiAgICogQHJldHVybnMge051bWJlcn0gc3luY2hyb25pc2VkIHRpbWUsIGluIHNlY29uZHMuXG4gICAqL1xuICBnZXRTeW5jVGltZShsb2NhbFRpbWUgPSB0aGlzLmdldExvY2FsVGltZSgpKSB7XG4gICAgLy8gYWx3YXlzIGNvbnZlcnQ6IFQodCkgPSBUMCArIFIgKiAodCAtIHQwKVxuICAgIHJldHVybiB0aGlzLnNlcnZlclRpbWVSZWZlcmVuY2VcbiAgICAgICsgdGhpcy5mcmVxdWVuY3lSYXRpbyAqIChsb2NhbFRpbWUgLSB0aGlzLmNsaWVudFRpbWVSZWZlcmVuY2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmNDbGllbnQ7XG4iXX0=","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Sync.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Sync.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _wavesAudio = require('waves-audio');\n\nvar _SegmentedView = require('../views/SegmentedView');\n\nvar _SegmentedView2 = _interopRequireDefault(_SegmentedView);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _client = require('@ircam/sync/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:sync';\n\n/**\n * Interface for the client `'sync'` service.\n *\n * The `sync` service synchronizes the local audio clock of the client with the\n * clock of the server (master clock). It internally relies on the `WebAudio`\n * clock and then requires the `platform` service to access this feature.\n *\n * __*The service must be used with its\n * [server-side counterpart]{@link module:soundworks/server.Sync}*__\n *\n * _<span class=\"warning\">__WARNING__</span> This class should never be\n * instanciated manually_\n *\n * _Note:_ the service is based on\n * [`github.com/collective-soundworks/sync`](https://github.com/collective-soundworks/sync).\n *\n * @memberof module:soundworks/client\n *\n * @example\n * // inside the experience constructor\n * this.sync = this.require('sync');\n * // when the experience has started, translate the sync time in local time\n * const syncTime = this.sync.getSyncTime();\n * const localTime = this.sync.getAudioTime(syncTime);\n */\n\nvar Sync = function (_Service) {\n  (0, _inherits3.default)(Sync, _Service);\n\n  function Sync() {\n    (0, _classCallCheck3.default)(this, Sync);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Sync.__proto__ || (0, _getPrototypeOf2.default)(Sync)).call(this, SERVICE_ID, true));\n\n    var defaults = {\n      viewPriority: 3,\n      useAudioTime: true\n      // @todo - add options to configure the sync service\n    };\n\n    _this.configure(defaults);\n\n    var getTime = _this.options.useAudioTime ? function () {\n      return _wavesAudio.audioContext.currentTime;\n    } : function () {\n      return new Date().getTime() * 0.001;\n    };\n\n    _this._sync = new _client2.default(getTime);\n    _this._ready = false;\n\n    _this.require('platform', { features: 'web-audio' });\n\n    _this._syncStatusReport = _this._syncStatusReport.bind(_this);\n    _this._reportListeners = [];\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Sync, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(Sync.prototype.__proto__ || (0, _getPrototypeOf2.default)(Sync.prototype), 'start', this).call(this);\n      this.show();\n\n      var sendFunction = function sendFunction() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _this2.send.apply(_this2, ['ping'].concat(args));\n      };\n      var receiveFunction = function receiveFunction(callback) {\n        return _this2.receive('pong', callback);\n      };\n\n      this._sync.start(sendFunction, receiveFunction, this._syncStatusReport);\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.hide();\n      (0, _get3.default)(Sync.prototype.__proto__ || (0, _getPrototypeOf2.default)(Sync.prototype), 'stop', this).call(this);\n    }\n\n    /**\n     * Return the time in the local clock. If no arguments provided,\n     * returns the current local time.\n     * @param {Number} syncTime - Time from the sync clock (in _seconds_).\n     * @return {Number} - Local time corresponding to the given\n     *  `syncTime` (in _seconds_).\n     */\n\n  }, {\n    key: 'getAudioTime',\n    value: function getAudioTime(syncTime) {\n      return this._sync.getLocalTime(syncTime);\n    }\n  }, {\n    key: 'getLocalTime',\n    value: function getLocalTime(syncTime) {\n      return this._sync.getLocalTime(syncTime);\n    }\n\n    /**\n     * Return the time in the sync clock. If no arguments provided,\n     * returns the current sync time.\n     * @param {Number} audioTime - Time from the local clock (in _seconds_).\n     * @return {Number} - Sync time corresponding to the given\n     *  `audioTime` (in _seconds_).\n     */\n\n  }, {\n    key: 'getSyncTime',\n    value: function getSyncTime(audioTime) {\n      return this._sync.getSyncTime(audioTime);\n    }\n\n    /**\n     * Add a callback function to the synchronization reports from the server.\n     * @param {Function} callback\n     */\n\n  }, {\n    key: 'addListener',\n    value: function addListener(callback) {\n      this._reportListeners.push(callback);\n    }\n  }, {\n    key: '_syncStatusReport',\n    value: function _syncStatusReport(report) {\n      if (report.status === 'training' || report.status === 'sync') {\n        this._reportListeners.forEach(function (callback) {\n          return callback(report);\n        });\n\n        if (!this._ready) {\n          this._ready = true;\n          this.ready();\n        }\n      }\n    }\n  }]);\n  return Sync;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Sync);\n\nexports.default = Sync;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN5bmMuanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIlN5bmMiLCJkZWZhdWx0cyIsInZpZXdQcmlvcml0eSIsInVzZUF1ZGlvVGltZSIsImNvbmZpZ3VyZSIsImdldFRpbWUiLCJvcHRpb25zIiwiYXVkaW9Db250ZXh0IiwiY3VycmVudFRpbWUiLCJEYXRlIiwiX3N5bmMiLCJTeW5jTW9kdWxlIiwiX3JlYWR5IiwicmVxdWlyZSIsImZlYXR1cmVzIiwiX3N5bmNTdGF0dXNSZXBvcnQiLCJiaW5kIiwiX3JlcG9ydExpc3RlbmVycyIsInNob3ciLCJzZW5kRnVuY3Rpb24iLCJhcmdzIiwic2VuZCIsInJlY2VpdmVGdW5jdGlvbiIsInJlY2VpdmUiLCJjYWxsYmFjayIsInN0YXJ0IiwiaGlkZSIsInN5bmNUaW1lIiwiZ2V0TG9jYWxUaW1lIiwiYXVkaW9UaW1lIiwiZ2V0U3luY1RpbWUiLCJwdXNoIiwicmVwb3J0Iiwic3RhdHVzIiwiZm9yRWFjaCIsInJlYWR5IiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLGNBQW5COztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXlCTUMsSTs7O0FBQ0osa0JBQWM7QUFBQTs7QUFBQSxrSUFDTkQsVUFETSxFQUNNLElBRE47O0FBR1osUUFBTUUsV0FBVztBQUNmQyxvQkFBYyxDQURDO0FBRWZDLG9CQUFjO0FBQ2Q7QUFIZSxLQUFqQjs7QUFNQSxVQUFLQyxTQUFMLENBQWVILFFBQWY7O0FBRUEsUUFBTUksVUFBVSxNQUFLQyxPQUFMLENBQWFILFlBQWIsR0FDZDtBQUFBLGFBQU1JLHlCQUFhQyxXQUFuQjtBQUFBLEtBRGMsR0FFZDtBQUFBLGFBQU8sSUFBSUMsSUFBSixHQUFXSixPQUFYLEtBQXVCLEtBQTlCO0FBQUEsS0FGRjs7QUFJQSxVQUFLSyxLQUFMLEdBQWEsSUFBSUMsZ0JBQUosQ0FBZU4sT0FBZixDQUFiO0FBQ0EsVUFBS08sTUFBTCxHQUFjLEtBQWQ7O0FBRUEsVUFBS0MsT0FBTCxDQUFhLFVBQWIsRUFBeUIsRUFBRUMsVUFBVSxXQUFaLEVBQXpCOztBQUVBLFVBQUtDLGlCQUFMLEdBQXlCLE1BQUtBLGlCQUFMLENBQXVCQyxJQUF2QixPQUF6QjtBQUNBLFVBQUtDLGdCQUFMLEdBQXdCLEVBQXhCO0FBckJZO0FBc0JiOztBQUVEOzs7Ozs0QkFDUTtBQUFBOztBQUNOO0FBQ0EsV0FBS0MsSUFBTDs7QUFFQSxVQUFNQyxlQUFlLFNBQWZBLFlBQWU7QUFBQSwwQ0FBSUMsSUFBSjtBQUFJQSxjQUFKO0FBQUE7O0FBQUEsZUFBYSxPQUFLQyxJQUFMLGdCQUFVLE1BQVYsU0FBcUJELElBQXJCLEVBQWI7QUFBQSxPQUFyQjtBQUNBLFVBQU1FLGtCQUFrQixTQUFsQkEsZUFBa0I7QUFBQSxlQUFZLE9BQUtDLE9BQUwsQ0FBYSxNQUFiLEVBQXFCQyxRQUFyQixDQUFaO0FBQUEsT0FBeEI7O0FBRUEsV0FBS2QsS0FBTCxDQUFXZSxLQUFYLENBQWlCTixZQUFqQixFQUErQkcsZUFBL0IsRUFBZ0QsS0FBS1AsaUJBQXJEO0FBQ0Q7O0FBRUQ7Ozs7MkJBQ087QUFDTCxXQUFLVyxJQUFMO0FBQ0E7QUFDRDs7QUFFRDs7Ozs7Ozs7OztpQ0FPYUMsUSxFQUFVO0FBQ3JCLGFBQU8sS0FBS2pCLEtBQUwsQ0FBV2tCLFlBQVgsQ0FBd0JELFFBQXhCLENBQVA7QUFDRDs7O2lDQUVZQSxRLEVBQVU7QUFDckIsYUFBTyxLQUFLakIsS0FBTCxDQUFXa0IsWUFBWCxDQUF3QkQsUUFBeEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7O2dDQU9ZRSxTLEVBQVc7QUFDckIsYUFBTyxLQUFLbkIsS0FBTCxDQUFXb0IsV0FBWCxDQUF1QkQsU0FBdkIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7O2dDQUlZTCxRLEVBQVU7QUFDcEIsV0FBS1AsZ0JBQUwsQ0FBc0JjLElBQXRCLENBQTJCUCxRQUEzQjtBQUNEOzs7c0NBRWlCUSxNLEVBQVE7QUFDeEIsVUFBSUEsT0FBT0MsTUFBUCxLQUFrQixVQUFsQixJQUFnQ0QsT0FBT0MsTUFBUCxLQUFrQixNQUF0RCxFQUE4RDtBQUM1RCxhQUFLaEIsZ0JBQUwsQ0FBc0JpQixPQUF0QixDQUE4QixVQUFDVixRQUFEO0FBQUEsaUJBQWVBLFNBQVNRLE1BQVQsQ0FBZjtBQUFBLFNBQTlCOztBQUVBLFlBQUksQ0FBQyxLQUFLcEIsTUFBVixFQUFrQjtBQUNoQixlQUFLQSxNQUFMLEdBQWMsSUFBZDtBQUNBLGVBQUt1QixLQUFMO0FBQ0Q7QUFDRjtBQUNGOzs7RUFyRmdCQyxpQjs7QUF5Rm5CQyx5QkFBZUMsUUFBZixDQUF3QnZDLFVBQXhCLEVBQW9DQyxJQUFwQzs7a0JBRWVBLEkiLCJmaWxlIjoiU3luYy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1ZGlvQ29udGV4dCB9IGZyb20gJ3dhdmVzLWF1ZGlvJztcbmltcG9ydCBTZWdtZW50ZWRWaWV3IGZyb20gJy4uL3ZpZXdzL1NlZ21lbnRlZFZpZXcnO1xuaW1wb3J0IFNlcnZpY2UgZnJvbSAnLi4vY29yZS9TZXJ2aWNlJztcbmltcG9ydCBzZXJ2aWNlTWFuYWdlciBmcm9tICcuLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcbmltcG9ydCBTeW5jTW9kdWxlIGZyb20gJ0BpcmNhbS9zeW5jL2NsaWVudCc7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpzeW5jJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCdzeW5jJ2Agc2VydmljZS5cbiAqXG4gKiBUaGUgYHN5bmNgIHNlcnZpY2Ugc3luY2hyb25pemVzIHRoZSBsb2NhbCBhdWRpbyBjbG9jayBvZiB0aGUgY2xpZW50IHdpdGggdGhlXG4gKiBjbG9jayBvZiB0aGUgc2VydmVyIChtYXN0ZXIgY2xvY2spLiBJdCBpbnRlcm5hbGx5IHJlbGllcyBvbiB0aGUgYFdlYkF1ZGlvYFxuICogY2xvY2sgYW5kIHRoZW4gcmVxdWlyZXMgdGhlIGBwbGF0Zm9ybWAgc2VydmljZSB0byBhY2Nlc3MgdGhpcyBmZWF0dXJlLlxuICpcbiAqIF9fKlRoZSBzZXJ2aWNlIG11c3QgYmUgdXNlZCB3aXRoIGl0c1xuICogW3NlcnZlci1zaWRlIGNvdW50ZXJwYXJ0XXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9zZXJ2ZXIuU3luY30qX19cbiAqXG4gKiBfPHNwYW4gY2xhc3M9XCJ3YXJuaW5nXCI+X19XQVJOSU5HX188L3NwYW4+IFRoaXMgY2xhc3Mgc2hvdWxkIG5ldmVyIGJlXG4gKiBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfXG4gKlxuICogX05vdGU6XyB0aGUgc2VydmljZSBpcyBiYXNlZCBvblxuICogW2BnaXRodWIuY29tL2NvbGxlY3RpdmUtc291bmR3b3Jrcy9zeW5jYF0oaHR0cHM6Ly9naXRodWIuY29tL2NvbGxlY3RpdmUtc291bmR3b3Jrcy9zeW5jKS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGluc2lkZSB0aGUgZXhwZXJpZW5jZSBjb25zdHJ1Y3RvclxuICogdGhpcy5zeW5jID0gdGhpcy5yZXF1aXJlKCdzeW5jJyk7XG4gKiAvLyB3aGVuIHRoZSBleHBlcmllbmNlIGhhcyBzdGFydGVkLCB0cmFuc2xhdGUgdGhlIHN5bmMgdGltZSBpbiBsb2NhbCB0aW1lXG4gKiBjb25zdCBzeW5jVGltZSA9IHRoaXMuc3luYy5nZXRTeW5jVGltZSgpO1xuICogY29uc3QgbG9jYWxUaW1lID0gdGhpcy5zeW5jLmdldEF1ZGlvVGltZShzeW5jVGltZSk7XG4gKi9cbmNsYXNzIFN5bmMgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgdHJ1ZSk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIHZpZXdQcmlvcml0eTogMyxcbiAgICAgIHVzZUF1ZGlvVGltZTogdHJ1ZSxcbiAgICAgIC8vIEB0b2RvIC0gYWRkIG9wdGlvbnMgdG8gY29uZmlndXJlIHRoZSBzeW5jIHNlcnZpY2VcbiAgICB9O1xuXG4gICAgdGhpcy5jb25maWd1cmUoZGVmYXVsdHMpO1xuXG4gICAgY29uc3QgZ2V0VGltZSA9IHRoaXMub3B0aW9ucy51c2VBdWRpb1RpbWUgP1xuICAgICAgKCkgPT4gYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lIDpcbiAgICAgICgpID0+IChuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDAuMDAxKTtcblxuICAgIHRoaXMuX3N5bmMgPSBuZXcgU3luY01vZHVsZShnZXRUaW1lKTtcbiAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xuXG4gICAgdGhpcy5yZXF1aXJlKCdwbGF0Zm9ybScsIHsgZmVhdHVyZXM6ICd3ZWItYXVkaW8nIH0pO1xuXG4gICAgdGhpcy5fc3luY1N0YXR1c1JlcG9ydCA9IHRoaXMuX3N5bmNTdGF0dXNSZXBvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZXBvcnRMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc2hvdygpO1xuXG4gICAgY29uc3Qgc2VuZEZ1bmN0aW9uID0gKC4uLmFyZ3MpID0+IHRoaXMuc2VuZCgncGluZycsIC4uLmFyZ3MpO1xuICAgIGNvbnN0IHJlY2VpdmVGdW5jdGlvbiA9IGNhbGxiYWNrID0+IHRoaXMucmVjZWl2ZSgncG9uZycsIGNhbGxiYWNrKTtcblxuICAgIHRoaXMuX3N5bmMuc3RhcnQoc2VuZEZ1bmN0aW9uLCByZWNlaXZlRnVuY3Rpb24sIHRoaXMuX3N5bmNTdGF0dXNSZXBvcnQpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gICAgc3VwZXIuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGltZSBpbiB0aGUgbG9jYWwgY2xvY2suIElmIG5vIGFyZ3VtZW50cyBwcm92aWRlZCxcbiAgICogcmV0dXJucyB0aGUgY3VycmVudCBsb2NhbCB0aW1lLlxuICAgKiBAcGFyYW0ge051bWJlcn0gc3luY1RpbWUgLSBUaW1lIGZyb20gdGhlIHN5bmMgY2xvY2sgKGluIF9zZWNvbmRzXykuXG4gICAqIEByZXR1cm4ge051bWJlcn0gLSBMb2NhbCB0aW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuXG4gICAqICBgc3luY1RpbWVgIChpbiBfc2Vjb25kc18pLlxuICAgKi9cbiAgZ2V0QXVkaW9UaW1lKHN5bmNUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmMuZ2V0TG9jYWxUaW1lKHN5bmNUaW1lKTtcbiAgfVxuXG4gIGdldExvY2FsVGltZShzeW5jVGltZSkge1xuICAgIHJldHVybiB0aGlzLl9zeW5jLmdldExvY2FsVGltZShzeW5jVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0aW1lIGluIHRoZSBzeW5jIGNsb2NrLiBJZiBubyBhcmd1bWVudHMgcHJvdmlkZWQsXG4gICAqIHJldHVybnMgdGhlIGN1cnJlbnQgc3luYyB0aW1lLlxuICAgKiBAcGFyYW0ge051bWJlcn0gYXVkaW9UaW1lIC0gVGltZSBmcm9tIHRoZSBsb2NhbCBjbG9jayAoaW4gX3NlY29uZHNfKS5cbiAgICogQHJldHVybiB7TnVtYmVyfSAtIFN5bmMgdGltZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlblxuICAgKiAgYGF1ZGlvVGltZWAgKGluIF9zZWNvbmRzXykuXG4gICAqL1xuICBnZXRTeW5jVGltZShhdWRpb1RpbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fc3luYy5nZXRTeW5jVGltZShhdWRpb1RpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRoZSBzeW5jaHJvbml6YXRpb24gcmVwb3J0cyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIHRoaXMuX3JlcG9ydExpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIF9zeW5jU3RhdHVzUmVwb3J0KHJlcG9ydCkge1xuICAgIGlmIChyZXBvcnQuc3RhdHVzID09PSAndHJhaW5pbmcnIHx8IHJlcG9ydC5zdGF0dXMgPT09ICdzeW5jJykge1xuICAgICAgdGhpcy5fcmVwb3J0TGlzdGVuZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiAgY2FsbGJhY2socmVwb3J0KSk7XG5cbiAgICAgIGlmICghdGhpcy5fcmVhZHkpIHtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgU3luYyk7XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmM7XG4iXX0=","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../views/SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","@ircam/sync/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js","source":"var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","deps":{"./_property-desc":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js","./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","./_object-pie":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js","./_to-primitive":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_ie8-dom-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ie8-dom-define.js","./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","source":"// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","deps":{"./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","./_object-sap":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js","./_object-gopd":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-own-property-descriptor.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-own-property-descriptor.js","source":"require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.get-own-property-descriptor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","deps":{"core-js/library/fn/object/get-own-property-descriptor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-own-property-descriptor.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};","deps":{"../core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","../core-js/object/get-own-property-descriptor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-proto.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-proto.js","source":"// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","deps":{"./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_object-gopd":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.set-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","source":"// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_set-proto":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-proto.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/set-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/set-prototype-of.js","source":"require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.set-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.set-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/set-prototype-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/set-prototype-of.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","deps":{"core-js/library/fn/object/set-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/set-prototype-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","deps":{"../helpers/typeof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js","../core-js/object/set-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/set-prototype-of.js","../core-js/object/create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.is-iterable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.is-iterable.js","source":"var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","deps":{"./_classof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/is-iterable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/is-iterable.js","source":"require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","deps":{"../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../modules/core.is-iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.is-iterable.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/is-iterable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/is-iterable.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };","deps":{"core-js/library/fn/is-iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/is-iterable.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/slicedToArray.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/slicedToArray.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();","deps":{"../core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","../core-js/is-iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/is-iterable.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SpaceView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SpaceView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _View2 = require('../views/View');\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar svgTemplate = '\\n<div class=\"svg-container\">\\n  <svg></svg>\\n</div>';\n\nvar ns = 'http://www.w3.org/2000/svg';\n\n/**\n * A view that render an `area` object (as defined in server configuration).\n *\n * @param {String} template - Template of the view.\n * @param {Object} content - Object containing the variables used to populate\n *  the template. {@link module:soundworks/client.View#content}.\n * @param {Object} events - Listeners to install in the view\n *  {@link module:soundworks/client.View#events}.\n * @param {Object} options - Options of the view.\n *  {@link module:soundworks/client.View#options}.\n *\n * @memberof module:soundworks/client\n */\n\nvar SpaceView = function (_View) {\n  (0, _inherits3.default)(SpaceView, _View);\n\n  function SpaceView() {\n    var template = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : svgTemplate;\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var events = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, SpaceView);\n\n    options = (0, _assign2.default)({ className: 'space' }, options);\n\n    /**\n     * The area to display.\n     *\n     * @type {Object}\n     * @property {Number} area.width - Width of the area.\n     * @property {Number} area.height - Height of the area.\n     * @property {String} area.background - Optionnal background image to\n     *  display in background.\n     * @name area\n     * @instance\n     * @memberof module:soundworks/client.SpaceView\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SpaceView.__proto__ || (0, _getPrototypeOf2.default)(SpaceView)).call(this, template, content, events, options));\n\n    _this.area = null;\n\n    /**\n     * Width of the rendered area in pixels.\n     *\n     * @type {Number}\n     * @name areaWidth\n     * @instance\n     * @memberof module:soundworks/client.SpaceView\n     */\n    _this.areaWidth = null;\n\n    /**\n     * Height of the rendered area in pixels.\n     *\n     * @type {Number}\n     * @name areaHeight\n     * @instance\n     * @memberof module:soundworks/client.SpaceView\n     */\n    _this.areaHeight = null;\n\n    /**\n     * Map associating `$shapes` and their relative `point` object.\n     *\n     * @type {Map}\n     * @name shapePointMap\n     * @instance\n     * @memberof module:soundworks/client.SpaceView\n     */\n    _this.shapePointMap = new _map2.default();\n\n    /**\n     * Expose a Map of the $shapes and their relative line object.\n     * @type {Map}\n     * @private\n     */\n    _this.shapeLineMap = new _map2.default();\n\n    _this._renderedPoints = new _map2.default();\n    _this._renderedLines = new _map2.default();\n    return _this;\n  }\n\n  /**\n   * Set the `area` to be renderered.\n   *\n   * @type {Object} area - Object describing the area, generally defined in\n   *  server configuration.\n   * @property {Number} area.width - Width of the area.\n   * @property {Number} area.height - Height of the area.\n   * @property {String} area.background - Optionnal background image to\n     *  display in background.\n   */\n\n\n  (0, _createClass3.default)(SpaceView, [{\n    key: 'setArea',\n    value: function setArea(area) {\n      this.area = area;\n    }\n\n    /** @private */\n\n  }, {\n    key: 'onRender',\n    value: function onRender() {\n      this.$svgContainer = this.$el.querySelector('.svg-container');\n      this.$svg = this.$el.querySelector('svg');\n      this.addDefinitions();\n      this.renderArea();\n    }\n\n    /** @private */\n\n  }, {\n    key: 'onResize',\n    value: function onResize(viewportWidth, viewportHeight, orientation) {\n      (0, _get3.default)(SpaceView.prototype.__proto__ || (0, _getPrototypeOf2.default)(SpaceView.prototype), 'onResize', this).call(this, viewportWidth, viewportHeight, orientation);\n      // override size to match parent size if component of another view\n      this.$el.style.width = '100%';\n      this.$el.style.height = '100%';\n\n      this.renderArea();\n    }\n\n    /**\n     * Add svg definitions.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'addDefinitions',\n    value: function addDefinitions() {\n      this.$defs = document.createElementNS(ns, 'defs');\n\n      var markerArrow = '\\n      <marker id=\"marker-arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"5\" refY=\"5\" orient=\"auto\">\\n          <path d=\"M0,0 L0,10 L10,5 L0,0\" class=\"marker-arrow\" />\\n      </marker>\\n    ';\n\n      this.$defs.innerHTML = markerArrow;\n      this.$svg.insertBefore(this.$defs, this.$svg.firstChild);\n    }\n\n    /**\n     * Update the displayed area, according to changes in `area` definition or\n     * if a `resize` event has been trigerred.\n     */\n\n  }, {\n    key: 'renderArea',\n    value: function renderArea() {\n      var area = this.area;\n      // use `this.$el` size instead of `this.$parent` size to ignore parent padding\n      var boundingRect = this.$el.getBoundingClientRect();\n      var containerWidth = boundingRect.width;\n      var containerHeight = boundingRect.height;\n\n      this.ratio = Math.min(containerWidth / area.width, containerHeight / area.height);\n      var svgWidth = area.width * this.ratio;\n      var svgHeight = area.height * this.ratio;\n\n      var top = (containerHeight - svgHeight) / 2;\n      var left = (containerWidth - svgWidth) / 2;\n\n      this.$svgContainer.style.width = svgWidth + 'px';\n      this.$svgContainer.style.height = svgHeight + 'px';\n      this.$svg.setAttribute('width', svgWidth);\n      this.$svg.setAttribute('height', svgHeight);\n      // center the svg into the parent\n      this.$svgContainer.style.position = 'absolute';\n      this.$svgContainer.style.top = top + 'px';\n      this.$svgContainer.style.left = left + 'px';\n\n      this.$svg.style.position = 'absolute';\n      this.$svg.style.top = '0px';\n      this.$svg.style.left = '0px';\n\n      // display background if any\n      if (area.background) {\n        this.$el.style.backgroundImage = 'url(' + area.background + ')';\n        this.$el.style.backgroundPosition = '50% 50%';\n        this.$el.style.backgroundRepeat = 'no-repeat';\n        this.$el.style.backgroundSize = 'contain';\n        // force $svg to be transparent\n        this.$svg.style.backgroundColor = 'transparent';\n      }\n\n      // update existing points position\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this.shapePointMap), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n              $shape = _step$value[0],\n              point = _step$value[1];\n\n          this.updatePoint(point);\n        } // expose the size of the area in pixel\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.areaWidth = svgWidth;\n      this.areaHeight = svgHeight;\n    }\n\n    /**\n     * Method used to render a specific point. Override this method to display\n     * points with user defined shapes. The shape returned by this method is\n     * inserted into the `svg` element.\n     *\n     * @param {Object} point - Point to render.\n     * @param {String|Number} point.id - Unique identifier for the point.\n     * @param {Number} point.x - Value in the x axis in the area coordinate system.\n     * @param {Number} point.y - Value in the y axis in the area coordinate system.\n     * @param {Number} [point.radius=0.3] - Radius of the point (relative to the\n     *  area width and height).\n     * @param {String} [point.color=undefined] - Optionnal color of the point.\n     */\n\n  }, {\n    key: 'renderPoint',\n    value: function renderPoint(point) {\n      var $shape = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if ($shape === null) {\n        $shape = document.createElementNS(ns, 'circle');\n        $shape.classList.add('point');\n      }\n\n      $shape.setAttribute('data-id', point.id);\n      $shape.setAttribute('cx', '' + point.x * this.ratio);\n      $shape.setAttribute('cy', '' + point.y * this.ratio);\n      $shape.setAttribute('r', point.radius || 8); // radius is relative to area size\n\n      if (point.color) $shape.style.fill = point.color;\n\n      var method = point.selected ? 'add' : 'remove';\n      $shape.classList[method]('selected');\n\n      return $shape;\n    }\n\n    /**\n     * Replace all the existing points with the given array of points.\n     *\n     * @param {Array<Object>} points - Points to render.\n     */\n\n  }, {\n    key: 'setPoints',\n    value: function setPoints(points) {\n      this.clearPoints();\n      this.addPoints(points);\n    }\n\n    /**\n     * Delete all points.\n     */\n\n  }, {\n    key: 'clearPoints',\n    value: function clearPoints() {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(this._renderedPoints.keys()), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var id = _step2.value;\n\n          this.deletePoint(id);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n\n    /**\n     * Add new points to the area.\n     *\n     * @param {Array<Object>} points - New points to add to the view.\n     */\n\n  }, {\n    key: 'addPoints',\n    value: function addPoints(points) {\n      var _this2 = this;\n\n      points.forEach(function (point) {\n        return _this2.addPoint(point);\n      });\n    }\n\n    /**\n     * Add a new point to the area.\n     *\n     * @param {Object} point - New point to add to the view.\n     */\n\n  }, {\n    key: 'addPoint',\n    value: function addPoint(point) {\n      var $shape = this.renderPoint(point);\n      this.$svg.appendChild($shape);\n      this._renderedPoints.set(point.id, $shape);\n      // map for easier retrieving of the point\n      this.shapePointMap.set($shape, point);\n    }\n\n    /**\n     * Update a point.\n     *\n     * @param {Object} point - Point to update.\n     */\n\n  }, {\n    key: 'updatePoint',\n    value: function updatePoint(point) {\n      var $shape = this._renderedPoints.get(point.id);\n      this.renderPoint(point, $shape);\n    }\n\n    /**\n     * Delete a point.\n     *\n     * @param {String|Number} id - Id of the point to delete.\n     */\n\n  }, {\n    key: 'deletePoint',\n    value: function deletePoint(id) {\n      var $shape = this._renderedPoints.get(id);\n      this.$svg.removeChild($shape);\n      this._renderedPoints.delete(id);\n      // map for easier retrieving of the point\n      this.shapePointMap.delete($shape);\n    }\n  }]);\n  return SpaceView;\n}(_View3.default);\n\nexports.default = SpaceView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNwYWNlVmlldy5qcyJdLCJuYW1lcyI6WyJzdmdUZW1wbGF0ZSIsIm5zIiwiU3BhY2VWaWV3IiwidGVtcGxhdGUiLCJjb250ZW50IiwiZXZlbnRzIiwib3B0aW9ucyIsImNsYXNzTmFtZSIsImFyZWEiLCJhcmVhV2lkdGgiLCJhcmVhSGVpZ2h0Iiwic2hhcGVQb2ludE1hcCIsInNoYXBlTGluZU1hcCIsIl9yZW5kZXJlZFBvaW50cyIsIl9yZW5kZXJlZExpbmVzIiwiJHN2Z0NvbnRhaW5lciIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCIkc3ZnIiwiYWRkRGVmaW5pdGlvbnMiLCJyZW5kZXJBcmVhIiwidmlld3BvcnRXaWR0aCIsInZpZXdwb3J0SGVpZ2h0Iiwib3JpZW50YXRpb24iLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiJGRlZnMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsIm1hcmtlckFycm93IiwiaW5uZXJIVE1MIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0IiwicmF0aW8iLCJNYXRoIiwibWluIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJ0b3AiLCJsZWZ0Iiwic2V0QXR0cmlidXRlIiwicG9zaXRpb24iLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFJlcGVhdCIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZENvbG9yIiwiJHNoYXBlIiwicG9pbnQiLCJ1cGRhdGVQb2ludCIsImNsYXNzTGlzdCIsImFkZCIsImlkIiwieCIsInkiLCJyYWRpdXMiLCJjb2xvciIsImZpbGwiLCJtZXRob2QiLCJzZWxlY3RlZCIsInBvaW50cyIsImNsZWFyUG9pbnRzIiwiYWRkUG9pbnRzIiwia2V5cyIsImRlbGV0ZVBvaW50IiwiZm9yRWFjaCIsImFkZFBvaW50IiwicmVuZGVyUG9pbnQiLCJhcHBlbmRDaGlsZCIsInNldCIsImdldCIsInJlbW92ZUNoaWxkIiwiZGVsZXRlIiwiVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxJQUFNQSxvRUFBTjs7QUFLQSxJQUFNQyxLQUFLLDRCQUFYOztBQUVBOzs7Ozs7Ozs7Ozs7OztJQWFNQyxTOzs7QUFDSix1QkFBNkU7QUFBQSxRQUFqRUMsUUFBaUUsdUVBQXRESCxXQUFzRDtBQUFBLFFBQXpDSSxPQUF5Qyx1RUFBL0IsRUFBK0I7QUFBQSxRQUEzQkMsTUFBMkIsdUVBQWxCLEVBQWtCO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQUE7O0FBQzNFQSxjQUFVLHNCQUFjLEVBQUVDLFdBQVcsT0FBYixFQUFkLEVBQXNDRCxPQUF0QyxDQUFWOztBQUdBOzs7Ozs7Ozs7Ozs7QUFKMkUsNElBRXJFSCxRQUZxRSxFQUUzREMsT0FGMkQsRUFFbERDLE1BRmtELEVBRTFDQyxPQUYwQzs7QUFnQjNFLFVBQUtFLElBQUwsR0FBWSxJQUFaOztBQUVBOzs7Ozs7OztBQVFBLFVBQUtDLFNBQUwsR0FBaUIsSUFBakI7O0FBRUE7Ozs7Ozs7O0FBUUEsVUFBS0MsVUFBTCxHQUFrQixJQUFsQjs7QUFFQTs7Ozs7Ozs7QUFRQSxVQUFLQyxhQUFMLEdBQXFCLG1CQUFyQjs7QUFFQTs7Ozs7QUFLQSxVQUFLQyxZQUFMLEdBQW9CLG1CQUFwQjs7QUFFQSxVQUFLQyxlQUFMLEdBQXVCLG1CQUF2QjtBQUNBLFVBQUtDLGNBQUwsR0FBc0IsbUJBQXRCO0FBeEQyRTtBQXlENUU7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7OzRCQVVRTixJLEVBQU07QUFDWixXQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDRDs7QUFFRDs7OzsrQkFDVztBQUNULFdBQUtPLGFBQUwsR0FBcUIsS0FBS0MsR0FBTCxDQUFTQyxhQUFULENBQXVCLGdCQUF2QixDQUFy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QUFMLENBQXFCK0QsR0FBckIsQ0FBeUJsQixFQUF6QixDQUFmO0FBQ0EsV0FBS3hDLElBQUwsQ0FBVTJELFdBQVYsQ0FBc0J4QixNQUF0QjtBQUNBLFdBQUt4QyxlQUFMLENBQXFCaUUsTUFBckIsQ0FBNEJwQixFQUE1QjtBQUNBO0FBQ0EsV0FBSy9DLGFBQUwsQ0FBbUJtRSxNQUFuQixDQUEwQnpCLE1BQTFCO0FBQ0Q7OztFQTlQcUIwQixjOztrQkFpUVQ3RSxTIiwiZmlsZSI6IlNwYWNlVmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3IGZyb20gJy4uL3ZpZXdzL1ZpZXcnO1xuXG5jb25zdCBzdmdUZW1wbGF0ZSA9IGBcbjxkaXYgY2xhc3M9XCJzdmctY29udGFpbmVyXCI+XG4gIDxzdmc+PC9zdmc+XG48L2Rpdj5gO1xuXG5jb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogQSB2aWV3IHRoYXQgcmVuZGVyIGFuIGBhcmVhYCBvYmplY3QgKGFzIGRlZmluZWQgaW4gc2VydmVyIGNvbmZpZ3VyYXRpb24pLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZSAtIFRlbXBsYXRlIG9mIHRoZSB2aWV3LlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRlbnQgLSBPYmplY3QgY29udGFpbmluZyB0aGUgdmFyaWFibGVzIHVzZWQgdG8gcG9wdWxhdGVcbiAqICB0aGUgdGVtcGxhdGUuIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNjb250ZW50fS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudHMgLSBMaXN0ZW5lcnMgdG8gaW5zdGFsbCBpbiB0aGUgdmlld1xuICogIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNldmVudHN9LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIG9mIHRoZSB2aWV3LlxuICogIHtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuVmlldyNvcHRpb25zfS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50XG4gKi9cbmNsYXNzIFNwYWNlVmlldyBleHRlbmRzIFZpZXcge1xuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSA9IHN2Z1RlbXBsYXRlLCBjb250ZW50ID0ge30sIGV2ZW50cyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogJ3NwYWNlJyB9LCBvcHRpb25zKTtcbiAgICBzdXBlcih0ZW1wbGF0ZSwgY29udGVudCwgZXZlbnRzLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmVhIHRvIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBhcmVhLndpZHRoIC0gV2lkdGggb2YgdGhlIGFyZWEuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGFyZWEuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBhcmVhLlxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBhcmVhLmJhY2tncm91bmQgLSBPcHRpb25uYWwgYmFja2dyb3VuZCBpbWFnZSB0b1xuICAgICAqICBkaXNwbGF5IGluIGJhY2tncm91bmQuXG4gICAgICogQG5hbWUgYXJlYVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuU3BhY2VWaWV3XG4gICAgICovXG4gICAgdGhpcy5hcmVhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRoZSByZW5kZXJlZCBhcmVhIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG5hbWUgYXJlYVdpZHRoXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TcGFjZVZpZXdcbiAgICAgKi9cbiAgICB0aGlzLmFyZWFXaWR0aCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgb2YgdGhlIHJlbmRlcmVkIGFyZWEgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbmFtZSBhcmVhSGVpZ2h0XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TcGFjZVZpZXdcbiAgICAgKi9cbiAgICB0aGlzLmFyZWFIZWlnaHQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTWFwIGFzc29jaWF0aW5nIGAkc2hhcGVzYCBhbmQgdGhlaXIgcmVsYXRpdmUgYHBvaW50YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TWFwfVxuICAgICAqIEBuYW1lIHNoYXBlUG9pbnRNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlNwYWNlVmlld1xuICAgICAqL1xuICAgIHRoaXMuc2hhcGVQb2ludE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBhIE1hcCBvZiB0aGUgJHNoYXBlcyBhbmQgdGhlaXIgcmVsYXRpdmUgbGluZSBvYmplY3QuXG4gICAgICogQHR5cGUge01hcH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGVMaW5lTWFwID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5fcmVuZGVyZWRQb2ludHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fcmVuZGVyZWRMaW5lcyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGBhcmVhYCB0byBiZSByZW5kZXJlcmVkLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fSBhcmVhIC0gT2JqZWN0IGRlc2NyaWJpbmcgdGhlIGFyZWEsIGdlbmVyYWxseSBkZWZpbmVkIGluXG4gICAqICBzZXJ2ZXIgY29uZmlndXJhdGlvbi5cbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGFyZWEud2lkdGggLSBXaWR0aCBvZiB0aGUgYXJlYS5cbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGFyZWEuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBhcmVhLlxuICAgKiBAcHJvcGVydHkge1N0cmluZ30gYXJlYS5iYWNrZ3JvdW5kIC0gT3B0aW9ubmFsIGJhY2tncm91bmQgaW1hZ2UgdG9cbiAgICAgKiAgZGlzcGxheSBpbiBiYWNrZ3JvdW5kLlxuICAgKi9cbiAgc2V0QXJlYShhcmVhKSB7XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBvblJlbmRlcigpIHtcbiAgICB0aGlzLiRzdmdDb250YWluZXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuc3ZnLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuJHN2ZyA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xuICAgIHRoaXMuYWRkRGVmaW5pdGlvbnMoKTtcbiAgICB0aGlzLnJlbmRlckFyZWEoKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBvblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pIHtcbiAgICBzdXBlci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuICAgIC8vIG92ZXJyaWRlIHNpemUgdG8gbWF0Y2ggcGFyZW50IHNpemUgaWYgY29tcG9uZW50IG9mIGFub3RoZXIgdmlld1xuICAgIHRoaXMuJGVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuJGVsLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblxuICAgIHRoaXMucmVuZGVyQXJlYSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBzdmcgZGVmaW5pdGlvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGREZWZpbml0aW9ucygpIHtcbiAgICB0aGlzLiRkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCAnZGVmcycpO1xuXG4gICAgY29uc3QgbWFya2VyQXJyb3cgPSBgXG4gICAgICA8bWFya2VyIGlkPVwibWFya2VyLWFycm93XCIgbWFya2VyV2lkdGg9XCIxMFwiIG1hcmtlckhlaWdodD1cIjEwXCIgcmVmWD1cIjVcIiByZWZZPVwiNVwiIG9yaWVudD1cImF1dG9cIj5cbiAgICAgICAgICA8cGF0aCBkPVwiTTAsMCBMMCwxMCBMMTAsNSBMMCwwXCIgY2xhc3M9XCJtYXJrZXItYXJyb3dcIiAvPlxuICAgICAgPC9tYXJrZXI+XG4gICAgYDtcblxuICAgIHRoaXMuJGRlZnMuaW5uZXJIVE1MID0gbWFya2VyQXJyb3c7XG4gICAgdGhpcy4kc3ZnLmluc2VydEJlZm9yZSh0aGlzLiRkZWZzLCB0aGlzLiRzdmcuZmlyc3RDaGlsZCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBkaXNwbGF5ZWQgYXJlYSwgYWNjb3JkaW5nIHRvIGNoYW5nZXMgaW4gYGFyZWFgIGRlZmluaXRpb24gb3JcbiAgICogaWYgYSBgcmVzaXplYCBldmVudCBoYXMgYmVlbiB0cmlnZXJyZWQuXG4gICAqL1xuICByZW5kZXJBcmVhKCkge1xuICAgIGNvbnN0IGFyZWEgPSB0aGlzLmFyZWE7XG4gICAgLy8gdXNlIGB0aGlzLiRlbGAgc2l6ZSBpbnN0ZWFkIG9mIGB0aGlzLiRwYXJlbnRgIHNpemUgdG8gaWdub3JlIHBhcmVudCBwYWRkaW5nXG4gICAgY29uc3QgYm91bmRpbmdSZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBib3VuZGluZ1JlY3Qud2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gYm91bmRpbmdSZWN0LmhlaWdodDtcblxuICAgIHRoaXMucmF0aW8gPSBNYXRoLm1pbihjb250YWluZXJXaWR0aCAvIGFyZWEud2lkdGgsIGNvbnRhaW5lckhlaWdodCAvIGFyZWEuaGVpZ2h0KTtcbiAgICBjb25zdCBzdmdXaWR0aCA9IGFyZWEud2lkdGggKiB0aGlzLnJhdGlvO1xuICAgIGNvbnN0IHN2Z0hlaWdodCA9IGFyZWEuaGVpZ2h0ICogdGhpcy5yYXRpbztcblxuICAgIGNvbnN0IHRvcCA9IChjb250YWluZXJIZWlnaHQgLSBzdmdIZWlnaHQpIC8gMjtcbiAgICBjb25zdCBsZWZ0ID0gKGNvbnRhaW5lcldpZHRoIC0gc3ZnV2lkdGgpIC8gMjtcblxuICAgIHRoaXMuJHN2Z0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IHN2Z1dpZHRoICsgJ3B4JztcbiAgICB0aGlzLiRzdmdDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gc3ZnSGVpZ2h0ICsgJ3B4JztcbiAgICB0aGlzLiRzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHN2Z1dpZHRoKTtcbiAgICB0aGlzLiRzdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzdmdIZWlnaHQpO1xuICAgIC8vIGNlbnRlciB0aGUgc3ZnIGludG8gdGhlIHBhcmVudFxuICAgIHRoaXMuJHN2Z0NvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy4kc3ZnQ29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gICAgdGhpcy4kc3ZnQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcblxuICAgIHRoaXMuJHN2Zy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy4kc3ZnLnN0eWxlLnRvcCA9IGAwcHhgO1xuICAgIHRoaXMuJHN2Zy5zdHlsZS5sZWZ0ID0gYDBweGA7XG5cbiAgICAvLyBkaXNwbGF5IGJhY2tncm91bmQgaWYgYW55XG4gICAgaWYgKGFyZWEuYmFja2dyb3VuZCkge1xuICAgICAgdGhpcy4kZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2FyZWEuYmFja2dyb3VuZH0pYDtcbiAgICAgIHRoaXMuJGVsLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICc1MCUgNTAlJztcbiAgICAgIHRoaXMuJGVsLnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSAnbm8tcmVwZWF0JztcbiAgICAgIHRoaXMuJGVsLnN0eWxlLmJhY2tncm91bmRTaXplID0gJ2NvbnRhaW4nO1xuICAgICAgLy8gZm9yY2UgJHN2ZyB0byBiZSB0cmFuc3BhcmVudFxuICAgICAgdGhpcy4kc3ZnLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGV4aXN0aW5nIHBvaW50cyBwb3NpdGlvblxuICAgIGZvciAobGV0IFskc2hhcGUsIHBvaW50XSBvZiB0aGlzLnNoYXBlUG9pbnRNYXApXG4gICAgICB0aGlzLnVwZGF0ZVBvaW50KHBvaW50KTtcblxuICAgIC8vIGV4cG9zZSB0aGUgc2l6ZSBvZiB0aGUgYXJlYSBpbiBwaXhlbFxuICAgIHRoaXMuYXJlYVdpZHRoID0gc3ZnV2lkdGg7XG4gICAgdGhpcy5hcmVhSGVpZ2h0ID0gc3ZnSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIHJlbmRlciBhIHNwZWNpZmljIHBvaW50LiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBkaXNwbGF5XG4gICAqIHBvaW50cyB3aXRoIHVzZXIgZGVmaW5lZCBzaGFwZXMuIFRoZSBzaGFwZSByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCBpc1xuICAgKiBpbnNlcnRlZCBpbnRvIHRoZSBgc3ZnYCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSBQb2ludCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9pbnQuaWQgLSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHBvaW50LlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG9pbnQueCAtIFZhbHVlIGluIHRoZSB4IGF4aXMgaW4gdGhlIGFyZWEgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb2ludC55IC0gVmFsdWUgaW4gdGhlIHkgYXhpcyBpbiB0aGUgYXJlYSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb2ludC5yYWRpdXM9MC4zXSAtIFJhZGl1cyBvZiB0aGUgcG9pbnQgKHJlbGF0aXZlIHRvIHRoZVxuICAgKiAgYXJlYSB3aWR0aCBhbmQgaGVpZ2h0KS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwb2ludC5jb2xvcj11bmRlZmluZWRdIC0gT3B0aW9ubmFsIGNvbG9yIG9mIHRoZSBwb2ludC5cbiAgICovXG4gIHJlbmRlclBvaW50KHBvaW50LCAkc2hhcGUgPSBudWxsKSB7XG4gICAgaWYgKCRzaGFwZSA9PT0gbnVsbCkge1xuICAgICAgJHNoYXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCAnY2lyY2xlJyk7XG4gICAgICAkc2hhcGUuY2xhc3NMaXN0LmFkZCgncG9pbnQnKTtcbiAgICB9XG5cbiAgICAkc2hhcGUuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgcG9pbnQuaWQpO1xuICAgICRzaGFwZS5zZXRBdHRyaWJ1dGUoJ2N4JywgYCR7cG9pbnQueCAqIHRoaXMucmF0aW99YCk7XG4gICAgJHNoYXBlLnNldEF0dHJpYnV0ZSgnY3knLCBgJHtwb2ludC55ICogdGhpcy5yYXRpb31gKTtcbiAgICAkc2hhcGUuc2V0QXR0cmlidXRlKCdyJywgcG9pbnQucmFkaXVzIHx8wqA4KTsgLy8gcmFkaXVzIGlzIHJlbGF0aXZlIHRvIGFyZWEgc2l6ZVxuXG4gICAgaWYgKHBvaW50LmNvbG9yKVxuICAgICAgJHNoYXBlLnN0eWxlLmZpbGwgPSBwb2ludC5jb2xvcjtcblxuICAgIGNvbnN0IG1ldGhvZCA9IHBvaW50LnNlbGVjdGVkID8gJ2FkZCcgOiAncmVtb3ZlJztcbiAgICAkc2hhcGUuY2xhc3NMaXN0W21ldGhvZF0oJ3NlbGVjdGVkJyk7XG5cbiAgICByZXR1cm4gJHNoYXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgYWxsIHRoZSBleGlzdGluZyBwb2ludHMgd2l0aCB0aGUgZ2l2ZW4gYXJyYXkgb2YgcG9pbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IHBvaW50cyAtIFBvaW50cyB0byByZW5kZXIuXG4gICAqL1xuICBzZXRQb2ludHMocG9pbnRzKSB7XG4gICAgdGhpcy5jbGVhclBvaW50cygpO1xuICAgIHRoaXMuYWRkUG9pbnRzKHBvaW50cyk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGFsbCBwb2ludHMuXG4gICAqL1xuICBjbGVhclBvaW50cygpIHtcbiAgICBmb3IgKGxldCBpZCBvZiB0aGlzLl9yZW5kZXJlZFBvaW50cy5rZXlzKCkpXG4gICAgICB0aGlzLmRlbGV0ZVBvaW50KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHBvaW50cyB0byB0aGUgYXJlYS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBwb2ludHMgLSBOZXcgcG9pbnRzIHRvIGFkZCB0byB0aGUgdmlldy5cbiAgICovXG4gIGFkZFBvaW50cyhwb2ludHMpIHtcbiAgICBwb2ludHMuZm9yRWFjaChwb2ludCA9PiB0aGlzLmFkZFBvaW50KHBvaW50KSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IHBvaW50IHRvIHRoZSBhcmVhLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSBOZXcgcG9pbnQgdG8gYWRkIHRvIHRoZSB2aWV3LlxuICAgKi9cbiAgYWRkUG9pbnQocG9pbnQpIHtcbiAgICBjb25zdCAkc2hhcGUgPSB0aGlzLnJlbmRlclBvaW50KHBvaW50KTtcbiAgICB0aGlzLiRzdmcuYXBwZW5kQ2hpbGQoJHNoYXBlKTtcbiAgICB0aGlzLl9yZW5kZXJlZFBvaW50cy5zZXQocG9pbnQuaWQsICRzaGFwZSk7XG4gICAgLy8gbWFwIGZvciBlYXNpZXIgcmV0cmlldmluZyBvZiB0aGUgcG9pbnRcbiAgICB0aGlzLnNoYXBlUG9pbnRNYXAuc2V0KCRzaGFwZSwgcG9pbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIHBvaW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSBQb2ludCB0byB1cGRhdGUuXG4gICAqL1xuICB1cGRhdGVQb2ludChwb2ludCkge1xuICAgIGNvbnN0ICRzaGFwZSA9IHRoaXMuX3JlbmRlcmVkUG9pbnRzLmdldChwb2ludC5pZCk7XG4gICAgdGhpcy5yZW5kZXJQb2ludChwb2ludCwgJHNoYXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBwb2ludC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBpZCAtIElkIG9mIHRoZSBwb2ludCB0byBkZWxldGUuXG4gICAqL1xuICBkZWxldGVQb2ludChpZCkge1xuICAgIGNvbnN0ICRzaGFwZSA9IHRoaXMuX3JlbmRlcmVkUG9pbnRzLmdldChpZCk7XG4gICAgdGhpcy4kc3ZnLnJlbW92ZUNoaWxkKCRzaGFwZSk7XG4gICAgdGhpcy5fcmVuZGVyZWRQb2ludHMuZGVsZXRlKGlkKTtcbiAgICAvLyBtYXAgZm9yIGVhc2llciByZXRyaWV2aW5nIG9mIHRoZSBwb2ludFxuICAgIHRoaXMuc2hhcGVQb2ludE1hcC5kZWxldGUoJHNoYXBlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGFjZVZpZXc7XG4iXX0=","deps":{"../views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/slicedToArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/slicedToArray.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/get-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js","babel-runtime/core-js/map":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.observable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.observable.js","source":"require('./_wks-define')('observable');\n","deps":{"./_wks-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js","source":"/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","deps":{"./is-buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js","isarray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/isarray/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.async-iterator.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","source":"require('./_wks-define')('asyncIterator');\n","deps":{"./_wks-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-of.js","source":"'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.of.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.of.js","source":"// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","deps":{"./_set-collection-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js","source":"var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-strong.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-strong.js","source":"'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","deps":{"./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_for-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js","./_object-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_redefine-all":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js","./_set-species":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-species.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_validate-collection":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js","./_an-instance":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js","./_iter-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js","./_iter-step":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-step.js","./_meta":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-from.js","source":"'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","deps":{"./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_for-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_a-function":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.from.js","source":"// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","deps":{"./_set-collection-from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/ms/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/ms/index.js","source":"/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/debug.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/debug.js","source":"\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","deps":{"ms":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/ms/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js","source":"(function (process){(function (){\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLFxuICAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsXG4gICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJyxcbiAgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLFxuICAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsXG4gICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJyxcbiAgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLFxuICAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsXG4gICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJyxcbiAgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLFxuICAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iXX0=","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","./debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/debug.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/ms/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/ms/index.js","source":"/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/debug.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/debug.js","source":"\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","deps":{"ms":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/ms/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/browser.js","source":"(function (process){(function (){\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXZlcy1tYXN0ZXJzL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICdsaWdodHNlYWdyZWVuJyxcbiAgJ2ZvcmVzdGdyZWVuJyxcbiAgJ2dvbGRlbnJvZCcsXG4gICdkb2RnZXJibHVlJyxcbiAgJ2RhcmtvcmNoaWQnLFxuICAnY3JpbXNvbidcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmIHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iXX0=","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","./debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/debug.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TimeEngine = require('./core/TimeEngine');\n\nObject.defineProperty(exports, 'TimeEngine', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_TimeEngine).default;\n  }\n});\n\nvar _PriorityQueue = require('./core/PriorityQueue');\n\nObject.defineProperty(exports, 'PriorityQueue', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_PriorityQueue).default;\n  }\n});\n\nvar _SchedulingQueue = require('./core/SchedulingQueue');\n\nObject.defineProperty(exports, 'SchedulingQueue', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SchedulingQueue).default;\n  }\n});\n\nvar _PlayControl = require('./masters/PlayControl');\n\nObject.defineProperty(exports, 'PlayControl', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_PlayControl).default;\n  }\n});\n\nvar _Transport = require('./masters/Transport');\n\nObject.defineProperty(exports, 'Transport', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Transport).default;\n  }\n});\n\nvar _Scheduler = require('./masters/Scheduler');\n\nObject.defineProperty(exports, 'Scheduler', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Scheduler).default;\n  }\n});\n\nvar _SimpleScheduler = require('./masters/SimpleScheduler');\n\nObject.defineProperty(exports, 'SimpleScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SimpleScheduler).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OytDQUNTQSxPOzs7Ozs7Ozs7a0RBQ0FBLE87Ozs7Ozs7OztvREFDQUEsTzs7Ozs7Ozs7O2dEQUdBQSxPOzs7Ozs7Ozs7OENBQ0FBLE87Ozs7Ozs7Ozs4Q0FDQUEsTzs7Ozs7Ozs7O29EQUNBQSxPIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY29yZVxuZXhwb3J0IHsgZGVmYXVsdCBhcyBUaW1lRW5naW5lIH0gZnJvbSAnLi9jb3JlL1RpbWVFbmdpbmUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQcmlvcml0eVF1ZXVlIH0gZnJvbSAnLi9jb3JlL1ByaW9yaXR5UXVldWUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2hlZHVsaW5nUXVldWUgfSBmcm9tICcuL2NvcmUvU2NoZWR1bGluZ1F1ZXVlJztcblxuLy8gbWFzdGVyc1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQbGF5Q29udHJvbCB9IGZyb20gJy4vbWFzdGVycy9QbGF5Q29udHJvbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyYW5zcG9ydCB9IGZyb20gJy4vbWFzdGVycy9UcmFuc3BvcnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2hlZHVsZXIgfSBmcm9tICcuL21hc3RlcnMvU2NoZWR1bGVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2ltcGxlU2NoZWR1bGVyIH0gZnJvbSAnLi9tYXN0ZXJzL1NpbXBsZVNjaGVkdWxlcic7XG4iXX0=","deps":{"./core/TimeEngine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js","./core/SchedulingQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js","./core/PriorityQueue":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js","./masters/Transport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Transport.js","./masters/PlayControl":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/PlayControl.js","./masters/Scheduler":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Scheduler.js","./masters/SimpleScheduler":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/SimpleScheduler.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SyncScheduler.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SyncScheduler.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nvar _wavesMasters = require('waves-masters');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:sync-scheduler';\n\n/**\n * Interface for the client `'sync-scheduler'` service.\n *\n * The `sync-scheduler` provides a scheduler synchronised among all client using the\n * [`sync`]{@link module:soundworks/client.Sync} service.\n *\n * While this service has no direct server counterpart, its dependency on the\n * [`sync`]{@link module:soundworks/client.Sync} service which requires the\n * existence of a server.\n *\n * @param {Object} options\n * @param {Number} [options.period] - Period of the scheduler (defauts to\n *  current value).\n * @param {Number} [options.lookahead] - Lookahead of the scheduler (defauts\n *  to current value).\n *\n * @memberof module:soundworks/client\n * @see [`wavesAudio.Scheduler`]{@link http://wavesjs.github.io/audio/#audio-scheduler}\n * @see [`platform` service]{@link module:soundworks/client.Platform}\n * @see [`sync` service]{@link module:soundworks/client.Sync}\n *\n * @example\n * // inside the experience constructor\n * this.syncScheduler = this.require('scheduler');\n *\n * // when the experience has started\n * const nextSyncTime = this.syncScheduler.current + 2;\n * this.syncScheduler.add(timeEngine, nextSyncTime);\n */\n\nvar SyncScheduler = function (_Service) {\n  (0, _inherits3.default)(SyncScheduler, _Service);\n\n  /** _<span class=\"warning\">__WARNING__</span> This class should never be instanciated manually_ */\n  function SyncScheduler() {\n    (0, _classCallCheck3.default)(this, SyncScheduler);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SyncScheduler.__proto__ || (0, _getPrototypeOf2.default)(SyncScheduler)).call(this, SERVICE_ID, false));\n\n    _this._sync = _this.require('sync');\n    _this._scheduler = null;\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(SyncScheduler, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(SyncScheduler.prototype.__proto__ || (0, _getPrototypeOf2.default)(SyncScheduler.prototype), 'start', this).call(this);\n\n      // init scheduler based on sync-time\n      var getTimeFunction = function getTimeFunction() {\n        return _this2._sync.getSyncTime();\n      };\n      this._scheduler = new _wavesMasters.Scheduler(getTimeFunction);\n\n      this.ready();\n    }\n\n    /**\n     * Current audio time of the scheduler.\n     * @instance\n     * @type {Number}\n     */\n\n  }, {\n    key: 'getSyncTimeAtAudioTime',\n\n\n    /**\n     * Get sync time corresponding to given audio time.\n     *\n     * @param  {Number} audioTime - audio time.\n     * @return {Number} - sync time corresponding to given audio time.\n     */\n    value: function getSyncTimeAtAudioTime(audioTime) {\n      return this._sync.getSyncTime(audioTime);\n    }\n\n    /**\n     * Get audio time corresponding to given sync time.\n     *\n     * @param  {Number} syncTime - sync time.\n     * @return {Number} - audio time corresponding to given sync time.\n     */\n\n  }, {\n    key: 'getAudioTimeAtSyncTime',\n    value: function getAudioTimeAtSyncTime(syncTime) {\n      return this._sync.getAudioTime(syncTime);\n    }\n\n    /**\n     * Call a function at a given time.\n     *\n     * @param {Function} fun - Function to be deferred.\n     * @param {Number} time - The time at which the function should be executed.\n     * @param {Boolean} [lookahead=false] - Defines whether the function is called\n     *  anticipated (e.g. for audio events) or precisely at the given time (default).\n     */\n\n  }, {\n    key: 'defer',\n    value: function defer(fun, time) {\n      var lookahead = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var scheduler = this._scheduler;\n      var schedulerService = this;\n      var engine = void 0;\n\n      if (lookahead) {\n        scheduler.defer(fun, time);\n      } else {\n        engine = {\n          advanceTime: function advanceTime(time) {\n            var delta = schedulerService.deltaTime;\n\n            if (delta > 0) setTimeout(fun, 1000 * delta, time); // bridge scheduler lookahead with timeout\n            else fun(time);\n          }\n        };\n\n        scheduler.add(engine, time); // add without checks\n      }\n    }\n\n    /**\n     * Add a time engine to the queue.\n     *\n     * @param {Function} engine - Engine to schedule.\n     * @param {Number} time - The time at which the function should be executed.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(engine, time) {\n      this._scheduler.add(engine, time);\n    }\n\n    /**\n     * Remove the given engine from the queue.\n     *\n     * @param {Function} engine - Engine to remove from the scheduler.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(engine) {\n      this._scheduler.remove(engine);\n    }\n\n    /**\n     * Remove all scheduled functions and time engines from the scheduler.\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this._scheduler.clear();\n    }\n  }, {\n    key: 'audioTime',\n    get: function get() {\n      return this._sync.getAudioTime(this._scheduler.currentTime);\n    }\n\n    /**\n     * Current sync time of the scheduler.\n     * @instance\n     * @type {Number}\n     */\n\n  }, {\n    key: 'syncTime',\n    get: function get() {\n      return this._scheduler.currentTime;\n    }\n\n    /**\n     * Current sync time of the scheduler (alias `this.syncTime`).\n     * @instance\n     * @type {Number}\n     */\n\n  }, {\n    key: 'currentTime',\n    get: function get() {\n      return this._scheduler.currentTime;\n    }\n\n    /**\n     * Difference between the scheduler's logical time and the current `syncTime`\n     * @instance\n     * @type {Number}\n     */\n\n  }, {\n    key: 'deltaTime',\n    get: function get() {\n      return this._scheduler.currentTime - this._sync.getSyncTime();\n    }\n  }]);\n  return SyncScheduler;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, SyncScheduler);\n\nexports.default = SyncScheduler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN5bmNTY2hlZHVsZXIuanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIlN5bmNTY2hlZHVsZXIiLCJfc3luYyIsInJlcXVpcmUiLCJfc2NoZWR1bGVyIiwiZ2V0VGltZUZ1bmN0aW9uIiwiZ2V0U3luY1RpbWUiLCJTY2hlZHVsZXIiLCJyZWFkeSIsImF1ZGlvVGltZSIsInN5bmNUaW1lIiwiZ2V0QXVkaW9UaW1lIiwiZnVuIiwidGltZSIsImxvb2thaGVhZCIsInNjaGVkdWxlciIsInNjaGVkdWxlclNlcnZpY2UiLCJlbmdpbmUiLCJkZWZlciIsImFkdmFuY2VUaW1lIiwiZGVsdGEiLCJkZWx0YVRpbWUiLCJzZXRUaW1lb3V0IiwiYWRkIiwicmVtb3ZlIiwiY2xlYXIiLCJjdXJyZW50VGltZSIsIlNlcnZpY2UiLCJzZXJ2aWNlTWFuYWdlciIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxhQUFhLHdCQUFuQjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBNkJNQyxhOzs7QUFDSjtBQUNBLDJCQUFlO0FBQUE7O0FBQUEsb0pBQ1BELFVBRE8sRUFDSyxLQURMOztBQUdiLFVBQUtFLEtBQUwsR0FBYSxNQUFLQyxPQUFMLENBQWEsTUFBYixDQUFiO0FBQ0EsVUFBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUphO0FBS2Q7O0FBRUQ7Ozs7OzRCQUNRO0FBQUE7O0FBQ047O0FBRUE7QUFDQSxVQUFNQyxrQkFBa0IsU0FBbEJBLGVBQWtCO0FBQUEsZUFBTSxPQUFLSCxLQUFMLENBQVdJLFdBQVgsRUFBTjtBQUFBLE9BQXhCO0FBQ0EsV0FBS0YsVUFBTCxHQUFrQixJQUFJRyx1QkFBSixDQUFjRixlQUFkLENBQWxCOztBQUVBLFdBQUtHLEtBQUw7QUFDRDs7QUFFRDs7Ozs7Ozs7OztBQW9DQTs7Ozs7OzJDQU11QkMsUyxFQUFXO0FBQ2hDLGFBQU8sS0FBS1AsS0FBTCxDQUFXSSxXQUFYLENBQXVCRyxTQUF2QixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzsyQ0FNdUJDLFEsRUFBVTtBQUMvQixhQUFPLEtBQUtSLEtBQUwsQ0FBV1MsWUFBWCxDQUF3QkQsUUFBeEIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7OzswQkFRTUUsRyxFQUFLQyxJLEVBQXlCO0FBQUEsVUFBbkJDLFNBQW1CLHVFQUFQLEtBQU87O0FBQ2xDLFVBQU1DLFlBQVksS0FBS1gsVUFBdkI7QUFDQSxVQUFNWSxtQkFBbUIsSUFBekI7QUFDQSxVQUFJQyxlQUFKOztBQUVBLFVBQUlILFNBQUosRUFBZTtBQUNiQyxrQkFBVUcsS0FBVixDQUFnQk4sR0FBaEIsRUFBcUJDLElBQXJCO0FBQ0QsT0FGRCxNQUVPO0FBQ0xJLGlCQUFTO0FBQ1BFLHVCQUFhLHFCQUFTTixJQUFULEVBQWU7QUFDMUIsZ0JBQU1PLFFBQVFKLGlCQUFpQkssU0FBL0I7O0FBRUEsZ0JBQUlELFFBQVEsQ0FBWixFQUNFRSxXQUFXVixHQUFYLEVBQWdCLE9BQU9RLEtBQXZCLEVBQThCUCxJQUE5QixFQURGLENBQ3VDO0FBRHZDLGlCQUdFRCxJQUFJQyxJQUFKO0FBQ0g7QUFSTSxTQUFUOztBQVdBRSxrQkFBVVEsR0FBVixDQUFjTixNQUFkLEVBQXNCSixJQUF0QixFQVpLLENBWXdCO0FBQzlCO0FBQ0Y7O0FBRUQ7Ozs7Ozs7Ozt3QkFNSUksTSxFQUFRSixJLEVBQU07QUFDaEIsV0FBS1QsVUFBTCxDQUFnQm1CLEdBQWhCLENBQW9CTixNQUFwQixFQUE0QkosSUFBNUI7QUFDRDs7QUFFRDs7Ozs7Ozs7MkJBS09JLE0sRUFBUTtBQUNiLFdBQUtiLFVBQUwsQ0FBZ0JvQixNQUFoQixDQUF1QlAsTUFBdkI7QUFDRDs7QUFFRDs7Ozs7OzRCQUdRO0FBQ04sV0FBS2IsVUFBTCxDQUFnQnFCLEtBQWhCO0FBQ0Q7Ozt3QkExR2U7QUFDZCxhQUFPLEtBQUt2QixLQUFMLENBQVdTLFlBQVgsQ0FBd0IsS0FBS1AsVUFBTCxDQUFnQnNCLFdBQXhDLENBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7d0JBS2U7QUFDYixhQUFPLEtBQUt0QixVQUFMLENBQWdCc0IsV0FBdkI7QUFDRDs7QUFFRDs7Ozs7Ozs7d0JBS2tCO0FBQ2hCLGFBQU8sS0FBS3RCLFVBQUwsQ0FBZ0JzQixXQUF2QjtBQUNEOztBQUVEOzs7Ozs7Ozt3QkFLZ0I7QUFDZCxhQUFPLEtBQUt0QixVQUFMLENBQWdCc0IsV0FBaEIsR0FBOEIsS0FBS3hCLEtBQUwsQ0FBV0ksV0FBWCxFQUFyQztBQUNEOzs7RUF0RHlCcUIsaUI7O0FBc0k1QkMseUJBQWVDLFFBQWYsQ0FBd0I3QixVQUF4QixFQUFvQ0MsYUFBcEM7O2tCQUVlQSxhIiwiZmlsZSI6IlN5bmNTY2hlZHVsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnd2F2ZXMtbWFzdGVycyc7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpzeW5jLXNjaGVkdWxlcic7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgY2xpZW50IGAnc3luYy1zY2hlZHVsZXInYCBzZXJ2aWNlLlxuICpcbiAqIFRoZSBgc3luYy1zY2hlZHVsZXJgIHByb3ZpZGVzIGEgc2NoZWR1bGVyIHN5bmNocm9uaXNlZCBhbW9uZyBhbGwgY2xpZW50IHVzaW5nIHRoZVxuICogW2BzeW5jYF17QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlN5bmN9IHNlcnZpY2UuXG4gKlxuICogV2hpbGUgdGhpcyBzZXJ2aWNlIGhhcyBubyBkaXJlY3Qgc2VydmVyIGNvdW50ZXJwYXJ0LCBpdHMgZGVwZW5kZW5jeSBvbiB0aGVcbiAqIFtgc3luY2Bde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5TeW5jfSBzZXJ2aWNlIHdoaWNoIHJlcXVpcmVzIHRoZVxuICogZXhpc3RlbmNlIG9mIGEgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGVyaW9kXSAtIFBlcmlvZCBvZiB0aGUgc2NoZWR1bGVyIChkZWZhdXRzIHRvXG4gKiAgY3VycmVudCB2YWx1ZSkuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubG9va2FoZWFkXSAtIExvb2thaGVhZCBvZiB0aGUgc2NoZWR1bGVyIChkZWZhdXRzXG4gKiAgdG8gY3VycmVudCB2YWx1ZSkuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudFxuICogQHNlZSBbYHdhdmVzQXVkaW8uU2NoZWR1bGVyYF17QGxpbmsgaHR0cDovL3dhdmVzanMuZ2l0aHViLmlvL2F1ZGlvLyNhdWRpby1zY2hlZHVsZXJ9XG4gKiBAc2VlIFtgcGxhdGZvcm1gIHNlcnZpY2Vde0BsaW5rIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5QbGF0Zm9ybX1cbiAqIEBzZWUgW2BzeW5jYCBzZXJ2aWNlXXtAbGluayBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuU3luY31cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gaW5zaWRlIHRoZSBleHBlcmllbmNlIGNvbnN0cnVjdG9yXG4gKiB0aGlzLnN5bmNTY2hlZHVsZXIgPSB0aGlzLnJlcXVpcmUoJ3NjaGVkdWxlcicpO1xuICpcbiAqIC8vIHdoZW4gdGhlIGV4cGVyaWVuY2UgaGFzIHN0YXJ0ZWRcbiAqIGNvbnN0IG5leHRTeW5jVGltZSA9IHRoaXMuc3luY1NjaGVkdWxlci5jdXJyZW50ICsgMjtcbiAqIHRoaXMuc3luY1NjaGVkdWxlci5hZGQodGltZUVuZ2luZSwgbmV4dFN5bmNUaW1lKTtcbiAqL1xuY2xhc3MgU3luY1NjaGVkdWxlciBleHRlbmRzIFNlcnZpY2Uge1xuICAvKiogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZSBpbnN0YW5jaWF0ZWQgbWFudWFsbHlfICovXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcihTRVJWSUNFX0lELCBmYWxzZSk7XG5cbiAgICB0aGlzLl9zeW5jID0gdGhpcy5yZXF1aXJlKCdzeW5jJyk7XG4gICAgdGhpcy5fc2NoZWR1bGVyID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgLy8gaW5pdCBzY2hlZHVsZXIgYmFzZWQgb24gc3luYy10aW1lXG4gICAgY29uc3QgZ2V0VGltZUZ1bmN0aW9uID0gKCkgPT4gdGhpcy5fc3luYy5nZXRTeW5jVGltZSgpO1xuICAgIHRoaXMuX3NjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoZ2V0VGltZUZ1bmN0aW9uKTtcblxuICAgIHRoaXMucmVhZHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXJyZW50IGF1ZGlvIHRpbWUgb2YgdGhlIHNjaGVkdWxlci5cbiAgICogQGluc3RhbmNlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgYXVkaW9UaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zeW5jLmdldEF1ZGlvVGltZSh0aGlzLl9zY2hlZHVsZXIuY3VycmVudFRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgc3luYyB0aW1lIG9mIHRoZSBzY2hlZHVsZXIuXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IHN5bmNUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zY2hlZHVsZXIuY3VycmVudFRpbWU7XG4gIH1cblxuICAvKipcbiAgICogQ3VycmVudCBzeW5jIHRpbWUgb2YgdGhlIHNjaGVkdWxlciAoYWxpYXMgYHRoaXMuc3luY1RpbWVgKS5cbiAgICogQGluc3RhbmNlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlci5jdXJyZW50VGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaWZmZXJlbmNlIGJldHdlZW4gdGhlIHNjaGVkdWxlcidzIGxvZ2ljYWwgdGltZSBhbmQgdGhlIGN1cnJlbnQgYHN5bmNUaW1lYFxuICAgKiBAaW5zdGFuY2VcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdldCBkZWx0YVRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjaGVkdWxlci5jdXJyZW50VGltZSAtIHRoaXMuX3N5bmMuZ2V0U3luY1RpbWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3luYyB0aW1lIGNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gYXVkaW8gdGltZS5cbiAgICpcbiAgICogQHBhcmFtICB7TnVtYmVyfSBhdWRpb1RpbWUgLSBhdWRpbyB0aW1lLlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gc3luYyB0aW1lIGNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gYXVkaW8gdGltZS5cbiAgICovXG4gIGdldFN5bmNUaW1lQXRBdWRpb1RpbWUoYXVkaW9UaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmMuZ2V0U3luY1RpbWUoYXVkaW9UaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYXVkaW8gdGltZSBjb3JyZXNwb25kaW5nIHRvIGdpdmVuIHN5bmMgdGltZS5cbiAgICpcbiAgICogQHBhcmFtICB7TnVtYmVyfSBzeW5jVGltZSAtIHN5bmMgdGltZS5cbiAgICogQHJldHVybiB7TnVtYmVyfSAtIGF1ZGlvIHRpbWUgY29ycmVzcG9uZGluZyB0byBnaXZlbiBzeW5jIHRpbWUuXG4gICAqL1xuICBnZXRBdWRpb1RpbWVBdFN5bmNUaW1lKHN5bmNUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmMuZ2V0QXVkaW9UaW1lKHN5bmNUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGEgZnVuY3Rpb24gYXQgYSBnaXZlbiB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW4gLSBGdW5jdGlvbiB0byBiZSBkZWZlcnJlZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgLSBUaGUgdGltZSBhdCB3aGljaCB0aGUgZnVuY3Rpb24gc2hvdWxkIGJlIGV4ZWN1dGVkLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtsb29rYWhlYWQ9ZmFsc2VdIC0gRGVmaW5lcyB3aGV0aGVyIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWRcbiAgICogIGFudGljaXBhdGVkIChlLmcuIGZvciBhdWRpbyBldmVudHMpIG9yIHByZWNpc2VseSBhdCB0aGUgZ2l2ZW4gdGltZSAoZGVmYXVsdCkuXG4gICAqL1xuICBkZWZlcihmdW4sIHRpbWUsIGxvb2thaGVhZCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gdGhpcy5fc2NoZWR1bGVyO1xuICAgIGNvbnN0IHNjaGVkdWxlclNlcnZpY2UgPSB0aGlzO1xuICAgIGxldCBlbmdpbmU7XG5cbiAgICBpZiAobG9va2FoZWFkKSB7XG4gICAgICBzY2hlZHVsZXIuZGVmZXIoZnVuLCB0aW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5naW5lID0ge1xuICAgICAgICBhZHZhbmNlVGltZTogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgIGNvbnN0IGRlbHRhID0gc2NoZWR1bGVyU2VydmljZS5kZWx0YVRpbWU7XG5cbiAgICAgICAgICBpZiAoZGVsdGEgPiAwKVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW4sIDEwMDAgKiBkZWx0YSwgdGltZSk7IC8vIGJyaWRnZSBzY2hlZHVsZXIgbG9va2FoZWFkIHdpdGggdGltZW91dFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZ1bih0aW1lKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIHNjaGVkdWxlci5hZGQoZW5naW5lLCB0aW1lKTsgLy8gYWRkIHdpdGhvdXQgY2hlY2tzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHRpbWUgZW5naW5lIHRvIHRoZSBxdWV1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZW5naW5lIC0gRW5naW5lIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSAtIFRoZSB0aW1lIGF0IHdoaWNoIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgZXhlY3V0ZWQuXG4gICAqL1xuICBhZGQoZW5naW5lLCB0aW1lKSB7XG4gICAgdGhpcy5fc2NoZWR1bGVyLmFkZChlbmdpbmUsIHRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZ2l2ZW4gZW5naW5lIGZyb20gdGhlIHF1ZXVlLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmdpbmUgLSBFbmdpbmUgdG8gcmVtb3ZlIGZyb20gdGhlIHNjaGVkdWxlci5cbiAgICovXG4gIHJlbW92ZShlbmdpbmUpIHtcbiAgICB0aGlzLl9zY2hlZHVsZXIucmVtb3ZlKGVuZ2luZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBzY2hlZHVsZWQgZnVuY3Rpb25zIGFuZCB0aW1lIGVuZ2luZXMgZnJvbSB0aGUgc2NoZWR1bGVyLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fc2NoZWR1bGVyLmNsZWFyKCk7XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgU3luY1NjaGVkdWxlcik7XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmNTY2hlZHVsZXI7XG4iXX0=","deps":{"../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","waves-masters":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/node_modules/isarray/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/node_modules/isarray/index.js","source":"var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/index.js","source":"(function (Buffer){(function (){\n/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n}).call(this)}).call(this,require(\"buffer\").Buffer)\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9oYXMtYmluYXJ5Mi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIEJsb2IgRmlsZSAqL1xuXG4vKlxuICogTW9kdWxlIHJlcXVpcmVtZW50cy5cbiAqL1xuXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gJ1tvYmplY3QgQmxvYkNvbnN0cnVjdG9yXSc7XG52YXIgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnICYmIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09ICdbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl0nO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gaGFzQmluYXJ5O1xuXG4vKipcbiAqIENoZWNrcyBmb3IgYmluYXJ5IGRhdGEuXG4gKlxuICogU3VwcG9ydHMgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQmxvYiBhbmQgRmlsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW55dGhpbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gaGFzQmluYXJ5IChvYmopIHtcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBCdWZmZXIuaXNCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKG9iaikpIHx8XG4gICAgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICAod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSlcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2hhcy1iaW5hcnkvcHVsbC80XG4gIGlmIChvYmoudG9KU09OICYmIHR5cGVvZiBvYmoudG9KU09OID09PSAnZnVuY3Rpb24nICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gaGFzQmluYXJ5KG9iai50b0pTT04oKSwgdHJ1ZSk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuIl19","deps":{"isarray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/node_modules/isarray/index.js","buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/socket.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/socket.js","source":"\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\nvar hasBin = require('has-binary2');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  if (!this.io.reconnecting) this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n","deps":{"./on":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/on.js","component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","component-bind":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-bind/index.js","to-array":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/to-array/index.js","parseqs":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js","socket.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js","has-binary2":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dps.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dps.js","source":"var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","deps":{"./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_object-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js","source":"// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","deps":{"./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","./_shared-key":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js","./_html":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_html.js","./_enum-bug-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js","./_dom-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js","./_object-dps":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dps.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-create.js","source":"'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","deps":{"./_property-desc":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js","./_set-to-string-tag":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_object-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js","source":"'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","./_iterators":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js","./_set-to-string-tag":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_library":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","./_object-gpo":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gpo.js","./_redefine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine.js","./_iter-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/promise.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/promise.js","source":"require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","deps":{"../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../modules/es6.object.to-string":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js","../modules/es7.promise.try":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.try.js","../modules/es7.promise.finally":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.finally.js","../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../modules/es6.promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.promise.js","../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","deps":{"core-js/library/fn/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/promise.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js","source":"var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","deps":{"./_uid":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js","./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js","source":"var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","./_library":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","./_wks-ext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-keys.js","source":"// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","deps":{"./_object-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js","./_object-gops":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js","./_object-pie":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn-ext.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn-ext.js","source":"// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","deps":{"./_object-gopn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn.js","./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array.js","source":"// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","deps":{"./_cof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn.js","source":"// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","deps":{"./_object-keys-internal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys-internal.js","./_enum-bug-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.symbol.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.symbol.js","source":"'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_redefine":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","./_set-to-string-tag":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","./_shared":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js","./_uid":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_wks-ext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js","./_an-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js","./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_to-primitive":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js","./_object-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js","./_property-desc":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_object-pie":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js","./_object-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","./_object-gops":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js","./_library":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js","./_object-gopd":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_meta":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js","./_wks-define":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js","./_is-array":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array.js","./_enum-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-keys.js","./_object-gopn-ext":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn-ext.js","./_object-gopn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/index.js","source":"require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","deps":{"../../modules/es6.object.to-string":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js","../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es7.symbol.observable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.observable.js","../../modules/es7.symbol.async-iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../modules/es6.symbol":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.symbol.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","deps":{"core-js/library/fn/symbol":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","deps":{"../core-js/symbol/iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol/iterator.js","../core-js/symbol":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","source":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","deps":{"../helpers/typeof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-from-iterable.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-from-iterable.js","source":"var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","deps":{"./_for-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-to-json.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-to-json.js","source":"// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","deps":{"./_classof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js","./_array-from-iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-from-iterable.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.to-json.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.to-json.js","source":"// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_collection-to-json":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-to-json.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_create-property.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_create-property.js","source":"'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","deps":{"./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_property-desc":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.from.js","source":"'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","deps":{"./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_iter-call":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-call.js","./_is-array-iter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array-iter.js","./_to-length":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js","./core.get-iterator-method":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js","./_iter-detect":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-detect.js","./_create-property":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_create-property.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/array/from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/array/from.js","source":"require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../../modules/es6.array.from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/array/from.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/array/from.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","deps":{"core-js/library/fn/array/from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/array/from.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ieee754/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ieee754/index.js","source":"/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-js/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-js/index.js","source":"'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js","source":"(function (Buffer){(function (){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\n// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\nif (typeof Symbol !== 'undefined' && Symbol.species != null &&\n    Buffer[Symbol.species] === Buffer) {\n  Object.defineProperty(Buffer, Symbol.species, {\n    value: null,\n    configurable: true,\n    enumerable: false,\n    writable: false\n  })\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayLike(value)\n  }\n\n  if (value == null) {\n    throw TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nBuffer.prototype.__proto__ = Uint8Array.prototype\nBuffer.__proto__ = Uint8Array\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  buf.__proto__ = Buffer.prototype\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      buf = Buffer.from(buf)\n    }\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n        : (firstByte > 0xBF) ? 2\n          : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  newBuf.__proto__ = Buffer.prototype\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (var i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n}).call(this)}).call(this,require(\"buffer\").Buffer)\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG52YXIgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHsgX19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgYnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAhPSBudWxsICYmXG4gICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICApXG4gIH1cblxuICB2YXIgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YgJiYgdmFsdWUudmFsdWVPZigpXG4gIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgdmFyIGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKFxuICAgICAgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSgnc3RyaW5nJyksIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aFxuICAgIClcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5CdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5CdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgc2l6ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIHZhciBidWZcbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIGJ1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgIH1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2UgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbi8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzXG4vLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8XG4gICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiZcbiAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpXG59XG5mdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7XG4gIC8vIEZvciBJRTExIHN1cHBvcnRcbiAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iXX0=","deps":{"buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js","base64-js":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-js/index.js","ieee754":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ieee754/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js","source":"(function (Buffer){(function (){\n\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n\n}).call(this)}).call(this,require(\"buffer\").Buffer)\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2lzLWJ1ZmZlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcbm1vZHVsZS5leHBvcnRzID0gaXNCdWY7XG5cbnZhciB3aXRoTmF0aXZlQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgQnVmZmVyLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nO1xudmFyIHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcblxudmFyIGlzVmlldyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKSA6IChvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgYnVmZmVyIG9yIGFuIGFycmF5YnVmZmVyLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzQnVmKG9iaikge1xuICByZXR1cm4gKHdpdGhOYXRpdmVCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKG9iaikpIHx8XG4gICAgICAgICAgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJiAob2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KG9iaikpKTtcbn1cbiJdfQ==","deps":{"buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","source":"\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var start = i + 1;\n    while (str.charAt(++i) !== '-' && i != str.length) {}\n    var buf = str.substring(start, i);\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    var start = i + 1;\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      if (i === str.length) break;\n    }\n    p.nsp = str.substring(start, i);\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    var start = i + 1;\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      if (i === str.length) break;\n    }\n    p.id = Number(str.substring(start, i + 1));\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","deps":{"component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js","./is-buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js","./binary":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js","isarray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/isarray/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/keys.js","source":"\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/utf8.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/utf8.js","source":"/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, it’s not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-absolute-index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-absolute-index.js","source":"var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","deps":{"./_to-integer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-includes.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-includes.js","source":"// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","deps":{"./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","./_to-length":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js","./_to-absolute-index":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-absolute-index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys-internal.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys-internal.js","source":"var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","deps":{"./_has":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js","./_to-iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js","./_shared-key":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js","./_array-includes":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-includes.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js","source":"// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","deps":{"./_enum-bug-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js","./_object-keys-internal":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys-internal.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-assign.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-assign.js","source":"'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","deps":{"./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","./_object-pie":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js","./_object-gops":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js","./_object-keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.assign.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.assign.js","source":"// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","deps":{"./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_object-assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-assign.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/assign.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/assign.js","source":"require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","deps":{"../../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../../modules/es6.object.assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.assign.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","deps":{"core-js/library/fn/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/assign.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/after/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/after/index.js","source":"module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/arraybuffer.slice/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/arraybuffer.slice/index.js","source":"/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/blob/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/blob/index.js","source":"/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","source":"/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js","source":"/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (typeof ArrayBuffer !== 'undefined') {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n","deps":{"has-binary2":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/index.js","./keys":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/keys.js","./utf8":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/utf8.js","arraybuffer.slice":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/arraybuffer.slice/index.js","blob":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/blob/index.js","after":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/after/index.js","base64-arraybuffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js","source":"/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // results of ReactNative environment detection\n  this.isReactNative = opts.isReactNative;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","deps":{"component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","engine.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-constructor.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-constructor.js","source":"var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","deps":{"./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_wks":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js","./_is-array":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-create.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-create.js","source":"// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","deps":{"./_array-species-constructor":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-constructor.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-methods.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-methods.js","source":"// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","deps":{"./_iobject":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js","./_ctx":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js","./_to-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js","./_to-length":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js","./_array-species-create":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-create.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection.js","source":"'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","deps":{"./_global":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js","./_export":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js","./_redefine-all":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js","./_for-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js","./_an-instance":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js","./_fails":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js","./_set-to-string-tag":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js","./_is-object":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js","./_object-dp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js","./_descriptors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js","./_hide":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js","./_meta":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js","./_array-methods":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-methods.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.set.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.set.js","source":"'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","deps":{"./_validate-collection":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js","./_collection-strong":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-strong.js","./_collection":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/set.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/set.js","source":"require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","deps":{"../modules/es6.string.iterator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js","../modules/_core":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js","../modules/es6.object.to-string":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js","../modules/web.dom.iterable":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js","../modules/es7.set.of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.of.js","../modules/es7.set.from":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.from.js","../modules/es7.set.to-json":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.to-json.js","../modules/es6.set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.set.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","source":"module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","deps":{"core-js/library/fn/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/set.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Platform.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Platform.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _wavesAudio = require('waves-audio');\n\nvar _client = require('../core/client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nvar _mobileDetect = require('mobile-detect');\n\nvar _mobileDetect2 = _interopRequireDefault(_mobileDetect);\n\nvar _NoSleep = require('nosleep.js/dist/NoSleep.min');\n\nvar _NoSleep2 = _interopRequireDefault(_NoSleep);\n\nvar _screenfull = require('screenfull');\n\nvar _screenfull2 = _interopRequireDefault(_screenfull);\n\nvar _Service2 = require('../core/Service');\n\nvar _Service3 = _interopRequireDefault(_Service2);\n\nvar _serviceManager = require('../core/serviceManager');\n\nvar _serviceManager2 = _interopRequireDefault(_serviceManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * API of a compliant view for the `platform` service.\n *\n * @memberof module:soundworks/client\n * @interface AbstractPlatformView\n * @extends module:soundworks/client.AbstractView\n * @abstract\n */\n/**\n * Register the callback to execute when the user touches the screen for the first time.\n *\n * @name setTouchStartCallback\n * @memberof module:soundworks/client.AbstractPlatformView\n * @function\n * @abstract\n * @instance\n *\n * @param {touchStartCallback} callback - Callback to execute when the user\n *  touches the screen for the first time.\n */\n/**\n * Register the callback to execute when the user clicks the screen for the first time.\n *\n * @name setMousedownCallback\n * @memberof module:soundworks/client.AbstractPlatformView\n * @function\n * @abstract\n * @instance\n *\n * @param {mouseDownCallback} callback - Callback to execute when the user\n *  clicks the screen for the first time.\n */\n/**\n * Update the view to notify that the compatibility checks are terminated.\n *\n * @name updateCheckingStatus\n * @memberof module:soundworks/client.AbstractPlatformView\n * @function\n * @abstract\n * @instance\n *\n * @param {Boolean} value\n */\n/**\n * Update the view to notify if the device is compatible or not.\n *\n * @name updateIsCompatibleStatus\n * @memberof module:soundworks/client.AbstractPlatformView\n * @function\n * @abstract\n * @instance\n *\n * @param {Boolean} value\n */\n/**\n * Update the view to notify if the application obtained all the authorizations\n * or not.\n *\n * @name updateHasAuthorizationsStatus\n * @memberof module:soundworks/client.AbstractPlatformView\n * @function\n * @abstract\n * @instance\n *\n * @param {Boolean} value\n */\n\n/**\n * Callback to execute when the user touches the screen for the first time.\n *\n * @callback\n * @name touchStartCallback\n * @memberof module:soundworks/client.AbstractPlatformView\n *\n * @param {String} password - Password given by the user.\n */\n/**\n * Callback to execute when the user clicks the screen for the first time.\n *\n * @callback\n * @name mouseDownCallback\n * @memberof module:soundworks/client.AbstractPlatformView\n */\n\n/**\n * Structure of the definition for the test of a feature.\n *\n * @typedef {Object} module:soundworks/client.Platform~definition\n *\n * @property {String} id - Id of the definition.\n * @property {Function} check - A function that should return `true` if the\n *  feature is available on the platform, `false` otherwise.\n * @property {Function} [startHook] - A function returning a `Promise` to be\n *  executed on start (for example to ask access to microphone or geolocation).\n *  The returned promise should be resolved on `true` is the process succeded or\n *  `false` is the precess failed (e.g. permission not granted).\n * @property {Function} [interactionHook] - A function returning a Promiseto be\n *  executed on the first interaction (i.e. `click` or `touchstart`) of the user\n *  with application (for example, to initialize AudioContext on iOS devices).\n *  The returned promise should be resolved on `true` is the process succeded or\n *  `false` is the precess failed (e.g. permission not granted).\n */\nvar defaultDefinitions = [{\n  id: 'web-audio',\n  check: function check() {\n    return !!_wavesAudio.audioContext;\n  },\n  interactionHook: function interactionHook() {\n    return _wavesAudio.audioContext.resume().then(function () {\n      if (!_client2.default.platform.isMobile) return _promise2.default.resolve(true);\n\n      var g = _wavesAudio.audioContext.createGain();\n      g.connect(_wavesAudio.audioContext.destination);\n      g.gain.value = 0.000000001; // -180dB ?\n\n      var o = _wavesAudio.audioContext.createOscillator();\n      o.connect(g);\n      o.frequency.value = 20;\n      o.start(0);\n\n      // prevent android to stop audio by keeping the oscillator active\n      if (_client2.default.platform.os !== 'android') o.stop(_wavesAudio.audioContext.currentTime + 0.01);\n\n      return _promise2.default.resolve(true);\n    });\n  }\n}, {\n  id: 'fix-ios-samplerate',\n  check: function check() {\n    return true;\n  },\n  interactionHook: function interactionHook() {\n    if (_client2.default.platform.os === 'ios') {\n      // in ipod, when the problem occurs, sampleRate has been observed\n      // to be set at 16000Hz, as no exhaustive testing has been done\n      // assume < 40000 is a bad value.\n\n      // this can throw an error in safari\n      // const localStorageKey = 'soundworks:fix-ios-samplerate';\n\n      if (_wavesAudio.audioContext.sampleRate < 40000) {\n        // window.localStorage.setItem(localStorageKey, true);\n        window.location.reload(true);\n        return;\n      }\n\n      // const hasReloaded = !!window.localStorage.getItem(localStorageKey);\n\n      // if (hasReloaded) {\n      //   window.localStorage.removeItem(localStorageKey);\n      //   client.platform.hasReloaded = true;\n      // }\n    }\n\n    return _promise2.default.resolve(true);\n  }\n}, {\n  // @note: `touch` feature workaround\n  // cf. http://www.stucox.com/blog/you-cant-detect-a-touchscreen/\n  id: 'mobile-device',\n  check: function check() {\n    return _client2.default.platform.isMobile;\n  }\n}, {\n  id: 'audio-input',\n  check: function check() {\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      return true;\n    } else {\n      navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\n      return !!navigator.getUserMedia;\n    }\n  },\n  startHook: function startHook() {\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      return navigator.mediaDevices.getUserMedia({ audio: true }).then(function (stream) {\n        stream.getAudioTracks()[0].stop();\n        return _promise2.default.resolve(true);\n      }).catch(function (err) {\n        console.log(err);\n        return _promise2.default.resolve(false);\n      });\n    } else {\n      return new _promise2.default(function (resolve, reject) {\n        navigator.mediaDevices.getUserMedia({ audio: true }, function (stream) {\n          stream.getAudioTracks()[0].stop();\n          resolve(true);\n        }, function (err) {\n          resolve(false);\n          throw err;\n        });\n      });\n    }\n  }\n}, {\n  id: 'full-screen',\n  check: function check() {\n    // functionnality that cannot brake the application\n    return true;\n  },\n  interactionHook: function interactionHook() {\n    if (_screenfull2.default.enabled) _screenfull2.default.request();\n\n    return _promise2.default.resolve(true);\n  }\n}, {\n  id: 'geolocation',\n  check: function check() {\n    return !!navigator.geolocation.getCurrentPosition;\n  },\n  startHook: function startHook() {\n    return new _promise2.default(function (resolve, reject) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        // populate client with first value\n        var coords = position.coords;\n        _client2.default.coordinates = [coords.latitude, coords.longitude];\n        _client2.default.geoposition = position;\n\n        resolve(true);\n      }, function (err) {\n        resolve(false);\n        throw err;\n      }, {});\n    });\n  }\n}, {\n  id: 'geolocation-mock',\n  check: function check() {\n    return true;\n  },\n  startHook: function startHook() {\n    var lat = Math.random() * 360 - 180;\n    var lng = Math.random() * 180 - 90;\n    _client2.default.coordinates = [lat, lng];\n    return _promise2.default.resolve(true);\n  }\n}, {\n  // adapted from https://github.com/richtr/NoSleep.js/blob/master/NoSleep.js\n  // warning: cause 150% cpu use in chrome desktop...\n  id: 'wake-lock',\n  check: function check() {\n    // functionnality that cannot brake the application\n    return true;\n  },\n  interactionHook: function interactionHook() {\n    var noSleep = new _NoSleep2.default();\n    noSleep.enable();\n\n    return _promise2.default.resolve(true);\n  }\n}];\n\nvar SERVICE_ID = 'service:platform';\n\n/**\n * Interface for the client `'platform'` service.\n *\n * The `platform` services is responsible for giving general informations\n * about the user's device as well as checking availability and providing hooks\n * in order to initialize the features required by the application (audio,\n * microphone, etc.).\n * If one of the required definitions is not available, a view is created with\n * an error message and `client.compatible` is set to `false`.\n *\n * Available built-in definitions are:\n * - 'web-audio'\n * - 'mobile-device': only-accept mobile devices in the application (based on\n *   User-Agent sniffing)\n * - 'audio-input': Android Only\n * - 'full-screen': Android Only, this feature won't block the application if\n *   not available.\n * - 'geolocation': check if the navigator supports geolocation. The `coordinates`\n *   and `geoposition` of the `client` are populated when the plaform service\n *   resolves. (if no update of the coordinates are needed in the application,\n *   requiring geolocation feature without using the Geolocation service should\n *   suffice).\n * - 'wake-lock': use with caution, has been observed consumming\n *   150% cpu in chrome desktop.\n *\n *\n * _<span class=\"warning\">__WARNING__</span> This class should never be\n * instanciated manually_\n *\n * @param {Object} options\n * @param {Array<String>|String} options.features - Id(s) of the feature(s)\n *  required by the application. Available build-in features are:\n *  - 'web-audio'\n *  - 'mobile-device': only accept mobile devices (recognition based User-Agent)\n *  - 'audio-input': Android only\n *  - 'full-screen': Android only\n *  - 'geolocation': accept geolocalized devices. Populate the client with\n *     current position\n *  - 'wake-lock': this feature should be used with caution as\n *     it has been observed to use 150% of cpu in chrome desktop.\n * @param {Boolean} [options.showDialog=true] - If set to `false`, the service\n *  execute all hooks without waiting for a user interaction and doesn't show\n *  the service's view. This option should only be used on controlled\n *  environnements where the target platform is known for working without\n *  this need (e.g. is not iOS).\n *\n * @memberof module:soundworks/client\n * @example\n * // inside the experience constructor\n * this.platform = this.require('platform', { features: 'web-audio' });\n *\n * @see {@link module:soundworks/client.client#platform}\n */\n\nvar Platform = function (_Service) {\n  (0, _inherits3.default)(Platform, _Service);\n\n  function Platform() {\n    (0, _classCallCheck3.default)(this, Platform);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Platform.__proto__ || (0, _getPrototypeOf2.default)(Platform)).call(this, SERVICE_ID, false));\n\n    var defaults = {\n      showDialog: true,\n      view: null,\n      viewPriority: 10,\n      noSleep: true\n    };\n\n    _this.configure(defaults);\n\n    _this.view = null;\n\n    // this._defaultViewTemplate = defaultViewTemplate;\n    // this._defaultViewContent = defaultViewContent;\n\n    _this._requiredFeatures = new _set2.default();\n    _this._featureDefinitions = {};\n\n    defaultDefinitions.forEach(function (def) {\n      return _this.addFeatureDefinition(def);\n    });\n    return _this;\n  }\n\n  /** @private */\n\n\n  (0, _createClass3.default)(Platform, [{\n    key: 'configure',\n    value: function configure(options) {\n      if (options.features) {\n        var features = options.features;\n\n        if (typeof features === 'string') features = [features];\n\n        if (features.indexOf('web-audio') !== -1) features.push('fix-ios-samplerate');\n\n        this.requireFeature.apply(this, (0, _toConsumableArray3.default)(features));\n\n        delete options.features;\n      }\n\n      (0, _get3.default)(Platform.prototype.__proto__ || (0, _getPrototypeOf2.default)(Platform.prototype), 'configure', this).call(this, options);\n    }\n\n    /**\n     *  Start the client.\n     *  Algorithm:\n     *  - check required features\n     *  - if (false)\n     *     show 'sorry' screen\n     *  - else\n     *     show 'welcome' screen\n     *     execute start hook (promise)\n     *     - if (promise === true)\n     *        show touch to start\n     *        bind events\n     *     - else\n     *        show 'sorry' screen\n     * @private\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(Platform.prototype.__proto__ || (0, _getPrototypeOf2.default)(Platform.prototype), 'start', this).call(this);\n\n      this._defineAudioFileExtention();\n      this._definePlatform();\n\n      // resolve required features from the application\n      _client2.default.compatible = this._checkRequiredFeatures();\n\n      // handle `showDialog === false`\n      if (this.options.showDialog === false) {\n        if (_client2.default.compatible) {\n          var startPromises = this._getHooks('startHook');\n          var interactionPromises = this._getHooks('interactionHook');\n          var promises = [].concat(startPromises, interactionPromises);\n\n          _promise2.default.all(promises).then(function (results) {\n            var resolved = true;\n            results.forEach(function (bool) {\n              return resolved = resolved && bool;\n            });\n\n            if (resolved) _this2.ready();else throw new Error('service:platform - didn\\'t obtain the necessary authorizations');\n          });\n        } else {\n          throw new Error('service:platform - client not compatible');\n        }\n      } else {\n        // default view values\n        this.view.updateCheckingStatus(false);\n        this.view.updateIsCompatibleStatus(null);\n        this.view.updateHasAuthorizationsStatus(null);\n\n        if (!_client2.default.compatible) {\n          this.view.updateIsCompatibleStatus(false);\n          this.show();\n        } else {\n          this.view.updateIsCompatibleStatus(true);\n          this.view.updateCheckingStatus(true);\n          this.show();\n\n          // execute start hook\n          var _startPromises = this._getHooks('startHook');\n\n          _promise2.default.all(_startPromises).then(function (results) {\n            // if one of the start hook failed\n            var hasAuthorizations = true;\n            results.forEach(function (success) {\n              return hasAuthorizations = hasAuthorizations && success;\n            });\n\n            _this2.view.updateHasAuthorizationsStatus(hasAuthorizations);\n            _this2.view.updateCheckingStatus(false);\n\n            if (hasAuthorizations) {\n              // move to 'touchend' and 'mouseup' because 'touchstart' is no\n              // longer recognized as a user gesture in android\n              // @todo - define what to do with the template...\n              // cf. https://docs.google.com/document/d/1oF1T3O7_E4t1PYHV6gyCwHxOi3ystm0eSL5xZu7nvOg/edit#heading=h.qq59ev3u8fba\n              _this2.view.$el.addEventListener('touchend', _this2._onInteraction('touch'));\n              _this2.view.$el.addEventListener('mouseup', _this2._onInteraction('mouse'));\n              // this.view.setTouchStartCallback(this._onInteraction('touch'));\n              // this.view.setMouseDownCallback(this._onInteraction('mouse'));\n            }\n          }).catch(function (err) {\n            return console.error(err.stack);\n          });\n        }\n      }\n    }\n\n    /** @private */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.hide();\n      (0, _get3.default)(Platform.prototype.__proto__ || (0, _getPrototypeOf2.default)(Platform.prototype), 'stop', this).call(this);\n    }\n\n    /**\n     * Structure of the definition for the test of a feature.\n     *\n     * @param {module:soundworks/client.Platform~definition} obj - Definition of\n     *  the feature.\n     */\n\n  }, {\n    key: 'addFeatureDefinition',\n    value: function addFeatureDefinition(obj) {\n      this._featureDefinitions[obj.id] = obj;\n    }\n\n    /**\n     * Require features for the application.\n     *\n     * @param {...String} features - Id(s) of the feature(s) to be required.\n     * @private\n     */\n\n  }, {\n    key: 'requireFeature',\n    value: function requireFeature() {\n      var _this3 = this;\n\n      for (var _len = arguments.length, features = Array(_len), _key = 0; _key < _len; _key++) {\n        features[_key] = arguments[_key];\n      }\n\n      features.forEach(function (id) {\n        return _this3._requiredFeatures.add(id);\n      });\n    }\n\n    /**\n     * Execute `interactions` hooks from the `platform` service.\n     * Also activate the media according to the `options`.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_onInteraction',\n    value: function _onInteraction(type) {\n      var _this4 = this;\n\n      return function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (_this4.options.noSleep) {\n          var noSleep = new _NoSleep2.default();\n          noSleep.enable();\n        }\n\n        _client2.default.platform.interaction = type;\n        // execute interaction hooks from the platform\n        var interactionPromises = _this4._getHooks('interactionHook');\n\n        _promise2.default.all(interactionPromises).then(function (results) {\n          var resolved = true;\n          results.forEach(function (bool) {\n            return resolved = resolved && bool;\n          });\n\n          if (resolved) {\n            _this4.ready();\n          } else {\n            _this4.view.updateHasAuthorizationsStatus(resolved);\n          }\n        }).catch(function (err) {\n          return console.error(err.stack);\n        });\n      };\n    }\n\n    /**\n     * Execute all `check` functions defined in the required features.\n     *\n     * @return {Boolean} - `true` if all checks pass, `false` otherwise.\n     * @private\n     */\n\n  }, {\n    key: '_checkRequiredFeatures',\n    value: function _checkRequiredFeatures() {\n      var _this5 = this;\n\n      var result = true;\n\n      this._requiredFeatures.forEach(function (feature) {\n        var checkFunction = _this5._featureDefinitions[feature].check;\n\n        if (!(typeof checkFunction === 'function')) throw new Error('No check function defined for ' + feature + ' feature');\n\n        result = result && checkFunction();\n      });\n\n      return result;\n    }\n\n    /** @private */\n\n  }, {\n    key: '_getHooks',\n    value: function _getHooks(type) {\n      var _this6 = this;\n\n      var hooks = [];\n\n      this._requiredFeatures.forEach(function (feature) {\n        var hook = _this6._featureDefinitions[feature][type];\n\n        if (hook) hooks.push(hook);\n      });\n\n      // return an array of Promises instead of function\n      return hooks.map(function (hook) {\n        return hook();\n      });\n    }\n\n    /**\n     * Populate `client.platform` with the prefered audio file extention\n     * for the platform.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_defineAudioFileExtention',\n    value: function _defineAudioFileExtention() {\n      var a = document.createElement('audio');\n      // http://diveintohtml5.info/everything.html\n      if (!!(a.canPlayType && a.canPlayType('audio/mpeg;'))) _client2.default.platform.audioFileExt = '.mp3';else if (!!(a.canPlayType && a.canPlayType('audio/ogg; codecs=\"vorbis\"'))) _client2.default.platform.audioFileExt = '.ogg';else _client2.default.platform.audioFileExt = '.wav';\n    }\n\n    /**\n     * Populate `client.platform` with the os name.\n     *\n     * @private\n     */\n\n  }, {\n    key: '_definePlatform',\n    value: function _definePlatform() {\n      var ua = window.navigator.userAgent;\n      var md = new _mobileDetect2.default(ua);\n\n      _client2.default.platform.isMobile = md.mobile() !== null; // true if phone or tablet\n      _client2.default.platform.os = function () {\n        var os = md.os();\n\n        if (os === 'AndroidOS') return 'android';else if (os === 'iOS') return 'ios';else return 'other';\n      }();\n    }\n  }]);\n  return Platform;\n}(_Service3.default);\n\n_serviceManager2.default.register(SERVICE_ID, Platform);\n\nexports.default = Platform;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXRmb3JtLmpzIl0sIm5hbWVzIjpbImRlZmF1bHREZWZpbml0aW9ucyIsImlkIiwiY2hlY2siLCJhdWRpb0NvbnRleHQiLCJpbnRlcmFjdGlvbkhvb2siLCJyZXN1bWUiLCJ0aGVuIiwiY2xpZW50IiwicGxhdGZvcm0iLCJpc01vYmlsZSIsInJlc29sdmUiLCJnIiwiY3JlYXRlR2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImdhaW4iLCJ2YWx1ZSIsIm8iLCJjcmVhdGVPc2NpbGxhdG9yIiwiZnJlcXVlbmN5Iiwic3RhcnQiLCJvcyIsInN0b3AiLCJjdXJyZW50VGltZSIsInNhbXBsZVJhdGUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsIndlYmtpdEdldFVzZXJNZWRpYSIsIm1vekdldFVzZXJNZWRpYSIsIm1zR2V0VXNlck1lZGlhIiwic3RhcnRIb29rIiwiYXVkaW8iLCJzdHJlYW0iLCJnZXRBdWRpb1RyYWNrcyIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsImVyciIsInJlamVjdCIsInNjcmVlbmZ1bGwiLCJlbmFibGVkIiwicmVxdWVzdCIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJjb29yZHMiLCJjb29yZGluYXRlcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZ2VvcG9zaXRpb24iLCJsYXQiLCJNYXRoIiwicmFuZG9tIiwibG5nIiwibm9TbGVlcCIsIk5vU2xlZXAiLCJlbmFibGUiLCJTRVJWSUNFX0lEIiwiUGxhdGZvcm0iLCJkZWZhdWx0cyIsInNob3dEaWFsb2ciLCJ2aWV3Iiwidmlld1ByaW9yaXR5IiwiY29uZmlndXJlIiwiX3JlcXVpcmVkRmVhdHVyZXMiLCJfZmVhdHVyZURlZmluaXRpb25zIiwiZm9yRWFjaCIsImRlZiIsImFkZEZlYXR1cmVEZWZpbml0aW9uIiwib3B0aW9ucyIsImZlYXR1cmVzIiwiaW5kZXhPZiIsInB1c2giLCJyZXF1aXJlRmVhdHVyZSIsIl9kZWZpbmVBdWRpb0ZpbGVFeHRlbnRpb24iLCJfZGVmaW5lUGxhdGZvcm0iLCJjb21wYXRpYmxlIiwiX2NoZWNrUmVxdWlyZWRGZWF0dXJlcyIsInN0YXJ0UHJvbWlzZXMiLCJfZ2V0SG9va3MiLCJpbnRlcmFjdGlvblByb21pc2VzIiwicHJvbWlzZXMiLCJjb25jYXQiLCJhbGwiLCJyZXNvbHZlZCIsInJlc3VsdHMiLCJib29sIiwicmVhZHkiLCJFcnJvciIsInVwZGF0ZUNoZWNraW5nU3RhdHVzIiwidXBkYXRlSXNDb21wYXRpYmxlU3RhdHVzIiwidXBkYXRlSGFzQXV0aG9yaXphdGlvbnNTdGF0dXMiLCJzaG93IiwiaGFzQXV0aG9yaXphdGlvbnMiLCJzdWNjZXNzIiwiJGVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vbkludGVyYWN0aW9uIiwiZXJyb3IiLCJzdGFjayIsImhpZGUiLCJvYmoiLCJhZGQiLCJ0eXBlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaW50ZXJhY3Rpb24iLCJyZXN1bHQiLCJjaGVja0Z1bmN0aW9uIiwiZmVhdHVyZSIsImhvb2tzIiwiaG9vayIsIm1hcCIsImEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYW5QbGF5VHlwZSIsImF1ZGlvRmlsZUV4dCIsInVhIiwidXNlckFnZW50IiwibWQiLCJNb2JpbGVEZXRlY3QiLCJtb2JpbGUiLCJTZXJ2aWNlIiwic2VydmljZU1hbmFnZXIiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7Ozs7QUFRQTs7Ozs7Ozs7Ozs7O0FBWUE7Ozs7Ozs7Ozs7OztBQVlBOzs7Ozs7Ozs7OztBQVdBOzs7Ozs7Ozs7OztBQVdBOzs7Ozs7Ozs7Ozs7O0FB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QXhCLEVBQW9DQyxRQUFwQzs7a0JBRWVBLFEiLCJmaWxlIjoiUGxhdGZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb0NvbnRleHQgfSBmcm9tICd3YXZlcy1hdWRpbyc7XG5pbXBvcnQgY2xpZW50IGZyb20gJy4uL2NvcmUvY2xpZW50JztcbmltcG9ydCBNb2JpbGVEZXRlY3QgZnJvbSAnbW9iaWxlLWRldGVjdCc7XG5pbXBvcnQgTm9TbGVlcCBmcm9tICdub3NsZWVwLmpzL2Rpc3QvTm9TbGVlcC5taW4nO1xuaW1wb3J0IHNjcmVlbmZ1bGwgZnJvbSAnc2NyZWVuZnVsbCc7XG5pbXBvcnQgU2VydmljZSBmcm9tICcuLi9jb3JlL1NlcnZpY2UnO1xuaW1wb3J0IHNlcnZpY2VNYW5hZ2VyIGZyb20gJy4uL2NvcmUvc2VydmljZU1hbmFnZXInO1xuXG4vKipcbiAqIEFQSSBvZiBhIGNvbXBsaWFudCB2aWV3IGZvciB0aGUgYHBsYXRmb3JtYCBzZXJ2aWNlLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBpbnRlcmZhY2UgQWJzdHJhY3RQbGF0Zm9ybVZpZXdcbiAqIEBleHRlbmRzIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFZpZXdcbiAqIEBhYnN0cmFjdFxuICovXG4vKipcbiAqIFJlZ2lzdGVyIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXIgdG91Y2hlcyB0aGUgc2NyZWVuIGZvciB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBAbmFtZSBzZXRUb3VjaFN0YXJ0Q2FsbGJhY2tcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnQuQWJzdHJhY3RQbGF0Zm9ybVZpZXdcbiAqIEBmdW5jdGlvblxuICogQGFic3RyYWN0XG4gKiBAaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0ge3RvdWNoU3RhcnRDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXJcbiAqICB0b3VjaGVzIHRoZSBzY3JlZW4gZm9yIHRoZSBmaXJzdCB0aW1lLlxuICovXG4vKipcbiAqIFJlZ2lzdGVyIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBzY3JlZW4gZm9yIHRoZSBmaXJzdCB0aW1lLlxuICpcbiAqIEBuYW1lIHNldE1vdXNlZG93bkNhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhdGZvcm1WaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHttb3VzZURvd25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIHVzZXJcbiAqICBjbGlja3MgdGhlIHNjcmVlbiBmb3IgdGhlIGZpcnN0IHRpbWUuXG4gKi9cbi8qKlxuICogVXBkYXRlIHRoZSB2aWV3IHRvIG5vdGlmeSB0aGF0IHRoZSBjb21wYXRpYmlsaXR5IGNoZWNrcyBhcmUgdGVybWluYXRlZC5cbiAqXG4gKiBAbmFtZSB1cGRhdGVDaGVja2luZ1N0YXR1c1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFBsYXRmb3JtVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWVcbiAqL1xuLyoqXG4gKiBVcGRhdGUgdGhlIHZpZXcgdG8gbm90aWZ5IGlmIHRoZSBkZXZpY2UgaXMgY29tcGF0aWJsZSBvciBub3QuXG4gKlxuICogQG5hbWUgdXBkYXRlSXNDb21wYXRpYmxlU3RhdHVzXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhdGZvcm1WaWV3XG4gKiBAZnVuY3Rpb25cbiAqIEBhYnN0cmFjdFxuICogQGluc3RhbmNlXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZVxuICovXG4vKipcbiAqIFVwZGF0ZSB0aGUgdmlldyB0byBub3RpZnkgaWYgdGhlIGFwcGxpY2F0aW9uIG9idGFpbmVkIGFsbCB0aGUgYXV0aG9yaXphdGlvbnNcbiAqIG9yIG5vdC5cbiAqXG4gKiBAbmFtZSB1cGRhdGVIYXNBdXRob3JpemF0aW9uc1N0YXR1c1xuICogQG1lbWJlcm9mIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5BYnN0cmFjdFBsYXRmb3JtVmlld1xuICogQGZ1bmN0aW9uXG4gKiBAYWJzdHJhY3RcbiAqIEBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWVcbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgdXNlciB0b3VjaGVzIHRoZSBzY3JlZW4gZm9yIHRoZSBmaXJzdCB0aW1lLlxuICpcbiAqIEBjYWxsYmFja1xuICogQG5hbWUgdG91Y2hTdGFydENhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhdGZvcm1WaWV3XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIC0gUGFzc3dvcmQgZ2l2ZW4gYnkgdGhlIHVzZXIuXG4gKi9cbi8qKlxuICogQ2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgc2NyZWVuIGZvciB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBAY2FsbGJhY2tcbiAqIEBuYW1lIG1vdXNlRG93bkNhbGxiYWNrXG4gKiBAbWVtYmVyb2YgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LkFic3RyYWN0UGxhdGZvcm1WaWV3XG4gKi9cblxuXG5cbi8qKlxuICogU3RydWN0dXJlIG9mIHRoZSBkZWZpbml0aW9uIGZvciB0aGUgdGVzdCBvZiBhIGZlYXR1cmUuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYXRmb3JtfmRlZmluaXRpb25cbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaWQgLSBJZCBvZiB0aGUgZGVmaW5pdGlvbi5cbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNoZWNrIC0gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCByZXR1cm4gYHRydWVgIGlmIHRoZVxuICogIGZlYXR1cmUgaXMgYXZhaWxhYmxlIG9uIHRoZSBwbGF0Zm9ybSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbc3RhcnRIb29rXSAtIEEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgYFByb21pc2VgIHRvIGJlXG4gKiAgZXhlY3V0ZWQgb24gc3RhcnQgKGZvciBleGFtcGxlIHRvIGFzayBhY2Nlc3MgdG8gbWljcm9waG9uZSBvciBnZW9sb2NhdGlvbikuXG4gKiAgVGhlIHJldHVybmVkIHByb21pc2Ugc2hvdWxkIGJlIHJlc29sdmVkIG9uIGB0cnVlYCBpcyB0aGUgcHJvY2VzcyBzdWNjZWRlZCBvclxuICogIGBmYWxzZWAgaXMgdGhlIHByZWNlc3MgZmFpbGVkIChlLmcuIHBlcm1pc3Npb24gbm90IGdyYW50ZWQpLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2ludGVyYWN0aW9uSG9va10gLSBBIGZ1bmN0aW9uIHJldHVybmluZyBhIFByb21pc2V0byBiZVxuICogIGV4ZWN1dGVkIG9uIHRoZSBmaXJzdCBpbnRlcmFjdGlvbiAoaS5lLiBgY2xpY2tgIG9yIGB0b3VjaHN0YXJ0YCkgb2YgdGhlIHVzZXJcbiAqICB3aXRoIGFwcGxpY2F0aW9uIChmb3IgZXhhbXBsZSwgdG8gaW5pdGlhbGl6ZSBBdWRpb0NvbnRleHQgb24gaU9TIGRldmljZXMpLlxuICogIFRoZSByZXR1cm5lZCBwcm9taXNlIHNob3VsZCBiZSByZXNvbHZlZCBvbiBgdHJ1ZWAgaXMgdGhlIHByb2Nlc3Mgc3VjY2VkZWQgb3JcbiAqICBgZmFsc2VgIGlzIHRoZSBwcmVjZXNzIGZhaWxlZCAoZS5nLiBwZXJtaXNzaW9uIG5vdCBncmFudGVkKS5cbiAqL1xuY29uc3QgZGVmYXVsdERlZmluaXRpb25zID0gW1xuICB7XG4gICAgaWQ6ICd3ZWItYXVkaW8nLFxuICAgIGNoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIWF1ZGlvQ29udGV4dDtcbiAgICB9LFxuICAgIGludGVyYWN0aW9uSG9vazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYXVkaW9Db250ZXh0LnJlc3VtZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWNsaWVudC5wbGF0Zm9ybS5pc01vYmlsZSlcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGcgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICBnLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgZy5nYWluLnZhbHVlID0gMC4wMDAwMDAwMDE7IC8vIC0xODBkQiA/XG5cbiAgICAgICAgY29uc3QgbyA9IGF1ZGlvQ29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XG4gICAgICAgIG8uY29ubmVjdChnKTtcbiAgICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSAyMDtcbiAgICAgICAgby5zdGFydCgwKTtcblxuICAgICAgICAvLyBwcmV2ZW50IGFuZHJvaWQgdG8gc3RvcCBhdWRpbyBieSBrZWVwaW5nIHRoZSBvc2NpbGxhdG9yIGFjdGl2ZVxuICAgICAgICBpZiAoY2xpZW50LnBsYXRmb3JtLm9zICE9PSAnYW5kcm9pZCcpXG4gICAgICAgICAgby5zdG9wKGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIDAuMDEpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogJ2ZpeC1pb3Mtc2FtcGxlcmF0ZScsXG4gICAgY2hlY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpbnRlcmFjdGlvbkhvb2s6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNsaWVudC5wbGF0Zm9ybS5vcyA9PT0gJ2lvcycpIHtcbiAgICAgICAgLy8gaW4gaXBvZCwgd2hlbiB0aGUgcHJvYmxlbSBvY2N1cnMsIHNhbXBsZVJhdGUgaGFzIGJlZW4gb2JzZXJ2ZWRcbiAgICAgICAgLy8gdG8gYmUgc2V0IGF0IDE2MDAwSHosIGFzIG5vIGV4aGF1c3RpdmUgdGVzdGluZyBoYXMgYmVlbiBkb25lXG4gICAgICAgIC8vIGFzc3VtZSA8IDQwMDAwIGlzIGEgYmFkIHZhbHVlLlxuXG4gICAgICAgIC8vIHRoaXMgY2FuIHRocm93IGFuIGVycm9yIGluIHNhZmFyaVxuICAgICAgICAvLyBjb25zdCBsb2NhbFN0b3JhZ2VLZXkgPSAnc291bmR3b3JrczpmaXgtaW9zLXNhbXBsZXJhdGUnO1xuXG4gICAgICAgIGlmIChhdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSA8IDQwMDAwKSB7XG4gICAgICAgICAgLy8gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZUtleSwgdHJ1ZSk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zdCBoYXNSZWxvYWRlZCA9ICEhd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSk7XG5cbiAgICAgICAgLy8gaWYgKGhhc1JlbG9hZGVkKSB7XG4gICAgICAgIC8vICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxvY2FsU3RvcmFnZUtleSk7XG4gICAgICAgIC8vICAgY2xpZW50LnBsYXRmb3JtLmhhc1JlbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICAvLyBAbm90ZTogYHRvdWNoYCBmZWF0dXJlIHdvcmthcm91bmRcbiAgICAvLyBjZi4gaHR0cDovL3d3dy5zdHVjb3guY29tL2Jsb2cveW91LWNhbnQtZGV0ZWN0LWEtdG91Y2hzY3JlZW4vXG4gICAgaWQ6ICdtb2JpbGUtZGV2aWNlJyxcbiAgICBjaGVjazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2xpZW50LnBsYXRmb3JtLmlzTW9iaWxlO1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiAnYXVkaW8taW5wdXQnLFxuICAgIGNoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IChcbiAgICAgICAgICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fFxuICAgICAgICAgIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHxcbiAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWFcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gISFuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhO1xuICAgICAgfVxuICAgIH0sXG4gICAgc3RhcnRIb29rOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgICAgIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSwgKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uc3RvcCgpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6ICdmdWxsLXNjcmVlbicsXG4gICAgY2hlY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gZnVuY3Rpb25uYWxpdHkgdGhhdCBjYW5ub3QgYnJha2UgdGhlIGFwcGxpY2F0aW9uXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGludGVyYWN0aW9uSG9vaygpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmVuYWJsZWQpXG4gICAgICAgIHNjcmVlbmZ1bGwucmVxdWVzdCgpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiAnZ2VvbG9jYXRpb24nLFxuICAgIGNoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIW5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb247XG4gICAgfSxcbiAgICBzdGFydEhvb2s6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgIC8vIHBvcHVsYXRlIGNsaWVudCB3aXRoIGZpcnN0IHZhbHVlXG4gICAgICAgICAgY29uc3QgY29vcmRzID0gcG9zaXRpb24uY29vcmRzO1xuICAgICAgICAgIGNsaWVudC5jb29yZGluYXRlcyA9IFtjb29yZHMubGF0aXR1ZGUsIGNvb3Jkcy5sb25naXR1ZGVdO1xuICAgICAgICAgIGNsaWVudC5nZW9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSwge30pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6ICdnZW9sb2NhdGlvbi1tb2NrJyxcbiAgICBjaGVjazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHN0YXJ0SG9vazogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBsYXQgPSBNYXRoLnJhbmRvbSgpICogMzYwIC0gMTgwO1xuICAgICAgY29uc3QgbG5nID0gTWF0aC5yYW5kb20oKSAqIDE4MCAtIDkwO1xuICAgICAgY2xpZW50LmNvb3JkaW5hdGVzID0gW2xhdCwgbG5nXTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICB9LFxuICB7XG4gICAgLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yaWNodHIvTm9TbGVlcC5qcy9ibG9iL21hc3Rlci9Ob1NsZWVwLmpzXG4gICAgLy8gd2FybmluZzogY2F1c2UgMTUwJSBjcHUgdXNlIGluIGNocm9tZSBkZXNrdG9wLi4uXG4gICAgaWQ6ICd3YWtlLWxvY2snLFxuICAgIGNoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGZ1bmN0aW9ubmFsaXR5IHRoYXQgY2Fubm90IGJyYWtlIHRoZSBhcHBsaWNhdGlvblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpbnRlcmFjdGlvbkhvb2s6IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3Qgbm9TbGVlcCA9IG5ldyBOb1NsZWVwKCk7XG4gICAgICBub1NsZWVwLmVuYWJsZSgpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgfVxuXTtcblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOnBsYXRmb3JtJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBjbGllbnQgYCdwbGF0Zm9ybSdgIHNlcnZpY2UuXG4gKlxuICogVGhlIGBwbGF0Zm9ybWAgc2VydmljZXMgaXMgcmVzcG9uc2libGUgZm9yIGdpdmluZyBnZW5lcmFsIGluZm9ybWF0aW9uc1xuICogYWJvdXQgdGhlIHVzZXIncyBkZXZpY2UgYXMgd2VsbCBhcyBjaGVja2luZyBhdmFpbGFiaWxpdHkgYW5kIHByb3ZpZGluZyBob29rc1xuICogaW4gb3JkZXIgdG8gaW5pdGlhbGl6ZSB0aGUgZmVhdHVyZXMgcmVxdWlyZWQgYnkgdGhlIGFwcGxpY2F0aW9uIChhdWRpbyxcbiAqIG1pY3JvcGhvbmUsIGV0Yy4pLlxuICogSWYgb25lIG9mIHRoZSByZXF1aXJlZCBkZWZpbml0aW9ucyBpcyBub3QgYXZhaWxhYmxlLCBhIHZpZXcgaXMgY3JlYXRlZCB3aXRoXG4gKiBhbiBlcnJvciBtZXNzYWdlIGFuZCBgY2xpZW50LmNvbXBhdGlibGVgIGlzIHNldCB0byBgZmFsc2VgLlxuICpcbiAqIEF2YWlsYWJsZSBidWlsdC1pbiBkZWZpbml0aW9ucyBhcmU6XG4gKiAtICd3ZWItYXVkaW8nXG4gKiAtICdtb2JpbGUtZGV2aWNlJzogb25seS1hY2NlcHQgbW9iaWxlIGRldmljZXMgaW4gdGhlIGFwcGxpY2F0aW9uIChiYXNlZCBvblxuICogICBVc2VyLUFnZW50IHNuaWZmaW5nKVxuICogLSAnYXVkaW8taW5wdXQnOiBBbmRyb2lkIE9ubHlcbiAqIC0gJ2Z1bGwtc2NyZWVuJzogQW5kcm9pZCBPbmx5LCB0aGlzIGZlYXR1cmUgd29uJ3QgYmxvY2sgdGhlIGFwcGxpY2F0aW9uIGlmXG4gKiAgIG5vdCBhdmFpbGFibGUuXG4gKiAtICdnZW9sb2NhdGlvbic6IGNoZWNrIGlmIHRoZSBuYXZpZ2F0b3Igc3VwcG9ydHMgZ2VvbG9jYXRpb24uIFRoZSBgY29vcmRpbmF0ZXNgXG4gKiAgIGFuZCBgZ2VvcG9zaXRpb25gIG9mIHRoZSBgY2xpZW50YCBhcmUgcG9wdWxhdGVkIHdoZW4gdGhlIHBsYWZvcm0gc2VydmljZVxuICogICByZXNvbHZlcy4gKGlmIG5vIHVwZGF0ZSBvZiB0aGUgY29vcmRpbmF0ZXMgYXJlIG5lZWRlZCBpbiB0aGUgYXBwbGljYXRpb24sXG4gKiAgIHJlcXVpcmluZyBnZW9sb2NhdGlvbiBmZWF0dXJlIHdpdGhvdXQgdXNpbmcgdGhlIEdlb2xvY2F0aW9uIHNlcnZpY2Ugc2hvdWxkXG4gKiAgIHN1ZmZpY2UpLlxuICogLSAnd2FrZS1sb2NrJzogdXNlIHdpdGggY2F1dGlvbiwgaGFzIGJlZW4gb2JzZXJ2ZWQgY29uc3VtbWluZ1xuICogICAxNTAlIGNwdSBpbiBjaHJvbWUgZGVza3RvcC5cbiAqXG4gKlxuICogXzxzcGFuIGNsYXNzPVwid2FybmluZ1wiPl9fV0FSTklOR19fPC9zcGFuPiBUaGlzIGNsYXNzIHNob3VsZCBuZXZlciBiZVxuICogaW5zdGFuY2lhdGVkIG1hbnVhbGx5X1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZz58U3RyaW5nfSBvcHRpb25zLmZlYXR1cmVzIC0gSWQocykgb2YgdGhlIGZlYXR1cmUocylcbiAqICByZXF1aXJlZCBieSB0aGUgYXBwbGljYXRpb24uIEF2YWlsYWJsZSBidWlsZC1pbiBmZWF0dXJlcyBhcmU6XG4gKiAgLSAnd2ViLWF1ZGlvJ1xuICogIC0gJ21vYmlsZS1kZXZpY2UnOiBvbmx5IGFjY2VwdCBtb2JpbGUgZGV2aWNlcyAocmVjb2duaXRpb24gYmFzZWQgVXNlci1BZ2VudClcbiAqICAtICdhdWRpby1pbnB1dCc6IEFuZHJvaWQgb25seVxuICogIC0gJ2Z1bGwtc2NyZWVuJzogQW5kcm9pZCBvbmx5XG4gKiAgLSAnZ2VvbG9jYXRpb24nOiBhY2NlcHQgZ2VvbG9jYWxpemVkIGRldmljZXMuIFBvcHVsYXRlIHRoZSBjbGllbnQgd2l0aFxuICogICAgIGN1cnJlbnQgcG9zaXRpb25cbiAqICAtICd3YWtlLWxvY2snOiB0aGlzIGZlYXR1cmUgc2hvdWxkIGJlIHVzZWQgd2l0aCBjYXV0aW9uIGFzXG4gKiAgICAgaXQgaGFzIGJlZW4gb2JzZXJ2ZWQgdG8gdXNlIDE1MCUgb2YgY3B1IGluIGNocm9tZSBkZXNrdG9wLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93RGlhbG9nPXRydWVdIC0gSWYgc2V0IHRvIGBmYWxzZWAsIHRoZSBzZXJ2aWNlXG4gKiAgZXhlY3V0ZSBhbGwgaG9va3Mgd2l0aG91dCB3YWl0aW5nIGZvciBhIHVzZXIgaW50ZXJhY3Rpb24gYW5kIGRvZXNuJ3Qgc2hvd1xuICogIHRoZSBzZXJ2aWNlJ3Mgdmlldy4gVGhpcyBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBvbiBjb250cm9sbGVkXG4gKiAgZW52aXJvbm5lbWVudHMgd2hlcmUgdGhlIHRhcmdldCBwbGF0Zm9ybSBpcyBrbm93biBmb3Igd29ya2luZyB3aXRob3V0XG4gKiAgdGhpcyBuZWVkIChlLmcuIGlzIG5vdCBpT1MpLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqIEBleGFtcGxlXG4gKiAvLyBpbnNpZGUgdGhlIGV4cGVyaWVuY2UgY29uc3RydWN0b3JcbiAqIHRoaXMucGxhdGZvcm0gPSB0aGlzLnJlcXVpcmUoJ3BsYXRmb3JtJywgeyBmZWF0dXJlczogJ3dlYi1hdWRpbycgfSk7XG4gKlxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LmNsaWVudCNwbGF0Zm9ybX1cbiAqL1xuY2xhc3MgUGxhdGZvcm0gZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgZmFsc2UpO1xuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBzaG93RGlhbG9nOiB0cnVlLFxuICAgICAgdmlldzogbnVsbCxcbiAgICAgIHZpZXdQcmlvcml0eTogMTAsXG4gICAgICBub1NsZWVwOiB0cnVlLFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG5cbiAgICB0aGlzLnZpZXcgPSBudWxsO1xuXG4gICAgLy8gdGhpcy5fZGVmYXVsdFZpZXdUZW1wbGF0ZSA9IGRlZmF1bHRWaWV3VGVtcGxhdGU7XG4gICAgLy8gdGhpcy5fZGVmYXVsdFZpZXdDb250ZW50ID0gZGVmYXVsdFZpZXdDb250ZW50O1xuXG4gICAgdGhpcy5fcmVxdWlyZWRGZWF0dXJlcyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLl9mZWF0dXJlRGVmaW5pdGlvbnMgPSB7fTtcblxuICAgIGRlZmF1bHREZWZpbml0aW9ucy5mb3JFYWNoKChkZWYpID0+IHRoaXMuYWRkRmVhdHVyZURlZmluaXRpb24oZGVmKSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5mZWF0dXJlcykge1xuICAgICAgbGV0IGZlYXR1cmVzID0gb3B0aW9ucy5mZWF0dXJlcztcblxuICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlcyA9PT0gJ3N0cmluZycpXG4gICAgICAgIGZlYXR1cmVzID0gW2ZlYXR1cmVzXTtcblxuICAgICAgaWYgKGZlYXR1cmVzLmluZGV4T2YoJ3dlYi1hdWRpbycpICE9PSAtMSlcbiAgICAgICAgZmVhdHVyZXMucHVzaCgnZml4LWlvcy1zYW1wbGVyYXRlJyk7XG5cbiAgICAgIHRoaXMucmVxdWlyZUZlYXR1cmUoLi4uZmVhdHVyZXMpO1xuXG4gICAgICBkZWxldGUgb3B0aW9ucy5mZWF0dXJlcztcbiAgICB9XG5cbiAgICBzdXBlci5jb25maWd1cmUob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogIFN0YXJ0IHRoZSBjbGllbnQuXG4gICAqICBBbGdvcml0aG06XG4gICAqICAtIGNoZWNrIHJlcXVpcmVkIGZlYXR1cmVzXG4gICAqICAtIGlmIChmYWxzZSlcbiAgICogICAgIHNob3cgJ3NvcnJ5JyBzY3JlZW5cbiAgICogIC0gZWxzZVxuICAgKiAgICAgc2hvdyAnd2VsY29tZScgc2NyZWVuXG4gICAqICAgICBleGVjdXRlIHN0YXJ0IGhvb2sgKHByb21pc2UpXG4gICAqICAgICAtIGlmIChwcm9taXNlID09PSB0cnVlKVxuICAgKiAgICAgICAgc2hvdyB0b3VjaCB0byBzdGFydFxuICAgKiAgICAgICAgYmluZCBldmVudHNcbiAgICogICAgIC0gZWxzZVxuICAgKiAgICAgICAgc2hvdyAnc29ycnknIHNjcmVlblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMuX2RlZmluZUF1ZGlvRmlsZUV4dGVudGlvbigpO1xuICAgIHRoaXMuX2RlZmluZVBsYXRmb3JtKCk7XG5cbiAgICAvLyByZXNvbHZlIHJlcXVpcmVkIGZlYXR1cmVzIGZyb20gdGhlIGFwcGxpY2F0aW9uXG4gICAgY2xpZW50LmNvbXBhdGlibGUgPSB0aGlzLl9jaGVja1JlcXVpcmVkRmVhdHVyZXMoKTtcblxuICAgIC8vIGhhbmRsZSBgc2hvd0RpYWxvZyA9PT0gZmFsc2VgXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93RGlhbG9nID09PSBmYWxzZSkge1xuICAgICAgaWYgKGNsaWVudC5jb21wYXRpYmxlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UHJvbWlzZXMgPSB0aGlzLl9nZXRIb29rcygnc3RhcnRIb29rJyk7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uUHJvbWlzZXMgPSB0aGlzLl9nZXRIb29rcygnaW50ZXJhY3Rpb25Ib29rJyk7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW10uY29uY2F0KHN0YXJ0UHJvbWlzZXMsIGludGVyYWN0aW9uUHJvbWlzZXMpO1xuXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICAgIGxldCByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKGJvb2wgPT4gcmVzb2x2ZWQgPSByZXNvbHZlZCAmJiBib29sKTtcblxuICAgICAgICAgIGlmIChyZXNvbHZlZClcbiAgICAgICAgICAgIHRoaXMucmVhZHkoKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNlcnZpY2U6cGxhdGZvcm0gLSBkaWRuJ3Qgb2J0YWluIHRoZSBuZWNlc3NhcnkgYXV0aG9yaXphdGlvbnNgKTtcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2VydmljZTpwbGF0Zm9ybSAtIGNsaWVudCBub3QgY29tcGF0aWJsZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZpZXcgdmFsdWVzXG4gICAgICB0aGlzLnZpZXcudXBkYXRlQ2hlY2tpbmdTdGF0dXMoZmFsc2UpO1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZUlzQ29tcGF0aWJsZVN0YXR1cyhudWxsKTtcbiAgICAgIHRoaXMudmlldy51cGRhdGVIYXNBdXRob3JpemF0aW9uc1N0YXR1cyhudWxsKTtcblxuICAgICAgaWYgKCFjbGllbnQuY29tcGF0aWJsZSkge1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlSXNDb21wYXRpYmxlU3RhdHVzKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlSXNDb21wYXRpYmxlU3RhdHVzKHRydWUpO1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlQ2hlY2tpbmdTdGF0dXModHJ1ZSk7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuXG4gICAgICAgIC8vIGV4ZWN1dGUgc3RhcnQgaG9va1xuICAgICAgICBjb25zdCBzdGFydFByb21pc2VzID0gdGhpcy5fZ2V0SG9va3MoJ3N0YXJ0SG9vaycpO1xuXG4gICAgICAgIFByb21pc2UuYWxsKHN0YXJ0UHJvbWlzZXMpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBzdGFydCBob29rIGZhaWxlZFxuICAgICAgICAgIGxldCBoYXNBdXRob3JpemF0aW9ucyA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKHN1Y2Nlc3MgPT4gaGFzQXV0aG9yaXphdGlvbnMgPSBoYXNBdXRob3JpemF0aW9ucyAmJiBzdWNjZXNzKTtcblxuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVIYXNBdXRob3JpemF0aW9uc1N0YXR1cyhoYXNBdXRob3JpemF0aW9ucyk7XG4gICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUNoZWNraW5nU3RhdHVzKGZhbHNlKTtcblxuICAgICAgICAgIGlmIChoYXNBdXRob3JpemF0aW9ucykge1xuICAgICAgICAgICAgLy8gbW92ZSB0byAndG91Y2hlbmQnIGFuZCAnbW91c2V1cCcgYmVjYXVzZSAndG91Y2hzdGFydCcgaXMgbm9cbiAgICAgICAgICAgIC8vIGxvbmdlciByZWNvZ25pemVkIGFzIGEgdXNlciBnZXN0dXJlIGluIGFuZHJvaWRcbiAgICAgICAgICAgIC8vIEB0b2RvIC0gZGVmaW5lIHdoYXQgdG8gZG8gd2l0aCB0aGUgdGVtcGxhdGUuLi5cbiAgICAgICAgICAgIC8vIGNmLiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFvRjFUM083X0U0dDFQWUhWNmd5Q3dIeE9pM3lzdG0wZVNMNXhadTdudk9nL2VkaXQjaGVhZGluZz1oLnFxNTlldjN1OGZiYVxuICAgICAgICAgICAgdGhpcy52aWV3LiRlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX29uSW50ZXJhY3Rpb24oJ3RvdWNoJykpO1xuICAgICAgICAgICAgdGhpcy52aWV3LiRlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25JbnRlcmFjdGlvbignbW91c2UnKSk7XG4gICAgICAgICAgICAvLyB0aGlzLnZpZXcuc2V0VG91Y2hTdGFydENhbGxiYWNrKHRoaXMuX29uSW50ZXJhY3Rpb24oJ3RvdWNoJykpO1xuICAgICAgICAgICAgLy8gdGhpcy52aWV3LnNldE1vdXNlRG93bkNhbGxiYWNrKHRoaXMuX29uSW50ZXJhY3Rpb24oJ21vdXNlJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIuc3RhY2spKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmhpZGUoKTtcbiAgICBzdXBlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RydWN0dXJlIG9mIHRoZSBkZWZpbml0aW9uIGZvciB0aGUgdGVzdCBvZiBhIGZlYXR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOnNvdW5kd29ya3MvY2xpZW50LlBsYXRmb3JtfmRlZmluaXRpb259IG9iaiAtIERlZmluaXRpb24gb2ZcbiAgICogIHRoZSBmZWF0dXJlLlxuICAgKi9cbiAgYWRkRmVhdHVyZURlZmluaXRpb24ob2JqKSB7XG4gICAgdGhpcy5fZmVhdHVyZURlZmluaXRpb25zW29iai5pZF0gPSBvYmo7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWlyZSBmZWF0dXJlcyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gZmVhdHVyZXMgLSBJZChzKSBvZiB0aGUgZmVhdHVyZShzKSB0byBiZSByZXF1aXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlcXVpcmVGZWF0dXJlKC4uLmZlYXR1cmVzKSB7XG4gICAgZmVhdHVyZXMuZm9yRWFjaCgoaWQpID0+IHRoaXMuX3JlcXVpcmVkRmVhdHVyZXMuYWRkKGlkKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGBpbnRlcmFjdGlvbnNgIGhvb2tzIGZyb20gdGhlIGBwbGF0Zm9ybWAgc2VydmljZS5cbiAgICogQWxzbyBhY3RpdmF0ZSB0aGUgbWVkaWEgYWNjb3JkaW5nIHRvIHRoZSBgb3B0aW9uc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25JbnRlcmFjdGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vU2xlZXApIHtcbiAgICAgICAgY29uc3Qgbm9TbGVlcCA9IG5ldyBOb1NsZWVwKCk7XG4gICAgICAgIG5vU2xlZXAuZW5hYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGNsaWVudC5wbGF0Zm9ybS5pbnRlcmFjdGlvbiA9IHR5cGU7XG4gICAgICAvLyBleGVjdXRlIGludGVyYWN0aW9uIGhvb2tzIGZyb20gdGhlIHBsYXRmb3JtXG4gICAgICBjb25zdCBpbnRlcmFjdGlvblByb21pc2VzID0gdGhpcy5fZ2V0SG9va3MoJ2ludGVyYWN0aW9uSG9vaycpO1xuXG4gICAgICBQcm9taXNlLmFsbChpbnRlcmFjdGlvblByb21pc2VzKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgIGxldCByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaChib29sID0+IHJlc29sdmVkID0gcmVzb2x2ZWQgJiYgYm9vbCk7XG5cbiAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgdGhpcy5yZWFkeSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVIYXNBdXRob3JpemF0aW9uc1N0YXR1cyhyZXNvbHZlZCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVyci5zdGFjaykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGFsbCBgY2hlY2tgIGZ1bmN0aW9ucyBkZWZpbmVkIGluIHRoZSByZXF1aXJlZCBmZWF0dXJlcy5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gLSBgdHJ1ZWAgaWYgYWxsIGNoZWNrcyBwYXNzLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jaGVja1JlcXVpcmVkRmVhdHVyZXMoKSB7XG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XG5cbiAgICB0aGlzLl9yZXF1aXJlZEZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgICBjb25zdCBjaGVja0Z1bmN0aW9uID0gdGhpcy5fZmVhdHVyZURlZmluaXRpb25zW2ZlYXR1cmVdLmNoZWNrO1xuXG4gICAgICBpZiAoISh0eXBlb2YgY2hlY2tGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY2hlY2sgZnVuY3Rpb24gZGVmaW5lZCBmb3IgJHtmZWF0dXJlfSBmZWF0dXJlYCk7XG5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiBjaGVja0Z1bmN0aW9uKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF9nZXRIb29rcyh0eXBlKSB7XG4gICAgY29uc3QgaG9va3MgPSBbXTtcblxuICAgIHRoaXMuX3JlcXVpcmVkRmVhdHVyZXMuZm9yRWFjaChmZWF0dXJlID0+IHtcbiAgICAgIGNvbnN0IGhvb2sgPSB0aGlzLl9mZWF0dXJlRGVmaW5pdGlvbnNbZmVhdHVyZV1bdHlwZV07XG5cbiAgICAgIGlmIChob29rKVxuICAgICAgICBob29rcy5wdXNoKGhvb2spO1xuICAgIH0pO1xuXG4gICAgLy8gcmV0dXJuIGFuIGFycmF5IG9mIFByb21pc2VzIGluc3RlYWQgb2YgZnVuY3Rpb25cbiAgICByZXR1cm4gaG9va3MubWFwKGhvb2sgPT4gaG9vaygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3B1bGF0ZSBgY2xpZW50LnBsYXRmb3JtYCB3aXRoIHRoZSBwcmVmZXJlZCBhdWRpbyBmaWxlIGV4dGVudGlvblxuICAgKiBmb3IgdGhlIHBsYXRmb3JtLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlZmluZUF1ZGlvRmlsZUV4dGVudGlvbigpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAvLyBodHRwOi8vZGl2ZWludG9odG1sNS5pbmZvL2V2ZXJ5dGhpbmcuaHRtbFxuICAgIGlmICghIShhLmNhblBsYXlUeXBlICYmIGEuY2FuUGxheVR5cGUoJ2F1ZGlvL21wZWc7JykpKVxuICAgICAgY2xpZW50LnBsYXRmb3JtLmF1ZGlvRmlsZUV4dCA9ICcubXAzJztcbiAgICBlbHNlIGlmICghIShhLmNhblBsYXlUeXBlICYmIGEuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKSkpXG4gICAgICBjbGllbnQucGxhdGZvcm0uYXVkaW9GaWxlRXh0ID0gJy5vZ2cnO1xuICAgIGVsc2VcbiAgICAgIGNsaWVudC5wbGF0Zm9ybS5hdWRpb0ZpbGVFeHQgPSAnLndhdic7XG4gIH1cblxuICAvKipcbiAgICogUG9wdWxhdGUgYGNsaWVudC5wbGF0Zm9ybWAgd2l0aCB0aGUgb3MgbmFtZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kZWZpbmVQbGF0Zm9ybSgpIHtcbiAgICBjb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XG4gICAgY29uc3QgbWQgPSBuZXcgTW9iaWxlRGV0ZWN0KHVhKTtcblxuICAgIGNsaWVudC5wbGF0Zm9ybS5pc01vYmlsZSA9IChtZC5tb2JpbGUoKSAhPT0gbnVsbCk7IC8vIHRydWUgaWYgcGhvbmUgb3IgdGFibGV0XG4gICAgY2xpZW50LnBsYXRmb3JtLm9zID0gKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3Qgb3MgPSBtZC5vcygpO1xuXG4gICAgICBpZiAob3MgPT09ICdBbmRyb2lkT1MnKVxuICAgICAgICByZXR1cm4gJ2FuZHJvaWQnO1xuICAgICAgZWxzZSBpZiAob3MgPT09ICdpT1MnKVxuICAgICAgICByZXR1cm4gJ2lvcyc7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH0pKCk7XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgUGxhdGZvcm0pO1xuXG5leHBvcnQgZGVmYXVsdCBQbGF0Zm9ybTtcbiJdfQ==","deps":{"waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","../core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js","../core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","../core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","mobile-detect":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/mobile-detect/mobile-detect.js","babel-runtime/helpers/toConsumableArray":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","screenfull":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/screenfull/dist/screenfull.js","nosleep.js/dist/NoSleep.min":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/nosleep.js/dist/NoSleep.min.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js","source":"module.exports = (function () {\n  if (typeof self !== 'undefined') {\n    return self;\n  } else if (typeof window !== 'undefined') {\n    return window;\n  } else {\n    return Function('return this')(); // eslint-disable-line no-new-func\n  }\n})();\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browser-resolve/empty.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browser-resolve/empty.js","source":"","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/ms/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/ms/index.js","source":"/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/debug.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/debug.js","source":"\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","deps":{"ms":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/ms/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js","source":"(function (process){(function (){\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n}).call(this)}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLFxuICAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsXG4gICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJyxcbiAgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLFxuICAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsXG4gICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJyxcbiAgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLFxuICAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsXG4gICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJyxcbiAgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLFxuICAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iXX0=","deps":{"_process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js","./debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/debug.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-cors/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-cors/index.js","source":"\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js","source":"// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\nvar globalThis = require('./globalThis');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new globalThis[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n","deps":{"./globalThis":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js","has-cors":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-cors/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-jsonp.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-jsonp.js","source":"/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\nvar globalThis = require('../globalThis');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    callbacks = globalThis.___eio = (globalThis.___eio || []);\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (typeof addEventListener === 'function') {\n    addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","deps":{"../globalThis":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js","./polling":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/yeast/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/yeast/index.js","source":"'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/websocket.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/websocket.js","source":"(function (Buffer){(function (){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\n\nvar BrowserWebSocket, NodeWebSocket;\n\nif (typeof WebSocket !== 'undefined') {\n  BrowserWebSocket = WebSocket;\n} else if (typeof self !== 'undefined') {\n  BrowserWebSocket = self.WebSocket || self.MozWebSocket;\n}\n\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocketImpl = BrowserWebSocket || NodeWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocketImpl = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n\n  var opts = {};\n\n  if (!this.isReactNative) {\n    opts.agent = this.agent;\n    opts.perMessageDeflate = this.perMessageDeflate;\n\n    // SSL options for Node.js client\n    opts.pfx = this.pfx;\n    opts.key = this.key;\n    opts.passphrase = this.passphrase;\n    opts.cert = this.cert;\n    opts.ca = this.ca;\n    opts.ciphers = this.ciphers;\n    opts.rejectUnauthorized = this.rejectUnauthorized;\n  }\n\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws =\n      this.usingBrowserWebSocket && !this.isReactNative\n        ? protocols\n          ? new WebSocketImpl(uri, protocols)\n          : new WebSocketImpl(uri)\n        : new WebSocketImpl(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);\n};\n\n}).call(this)}).call(this,require(\"buffer\").Buffer)\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3dlYnNvY2tldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4uL3RyYW5zcG9ydCcpO1xudmFyIHBhcnNlciA9IHJlcXVpcmUoJ2VuZ2luZS5pby1wYXJzZXInKTtcbnZhciBwYXJzZXFzID0gcmVxdWlyZSgncGFyc2VxcycpO1xudmFyIGluaGVyaXQgPSByZXF1aXJlKCdjb21wb25lbnQtaW5oZXJpdCcpO1xudmFyIHllYXN0ID0gcmVxdWlyZSgneWVhc3QnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2VuZ2luZS5pby1jbGllbnQ6d2Vic29ja2V0Jyk7XG5cbnZhciBCcm93c2VyV2ViU29ja2V0LCBOb2RlV2ViU29ja2V0O1xuXG5pZiAodHlwZW9mIFdlYlNvY2tldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgQnJvd3NlcldlYlNvY2tldCA9IFdlYlNvY2tldDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIEJyb3dzZXJXZWJTb2NrZXQgPSBzZWxmLldlYlNvY2tldCB8fCBzZWxmLk1veldlYlNvY2tldDtcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRyeSB7XG4gICAgTm9kZVdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJyk7XG4gIH0gY2F0Y2ggKGUpIHsgfVxufVxuXG4vKipcbiAqIEdldCBlaXRoZXIgdGhlIGBXZWJTb2NrZXRgIG9yIGBNb3pXZWJTb2NrZXRgIGdsb2JhbHNcbiAqIGluIHRoZSBicm93c2VyIG9yIHRyeSB0byByZXNvbHZlIFdlYlNvY2tldC1jb21wYXRpYmxlXG4gKiBpbnRlcmZhY2UgZXhwb3NlZCBieSBgd3NgIGZvciBOb2RlLWxpa2UgZW52aXJvbm1lbnQuXG4gKi9cblxudmFyIFdlYlNvY2tldEltcGwgPSBCcm93c2VyV2ViU29ja2V0IHx8IE5vZGVXZWJTb2NrZXQ7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBXUztcblxuLyoqXG4gKiBXZWJTb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBhcGkge09iamVjdH0gY29ubmVjdGlvbiBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFdTIChvcHRzKSB7XG4gIHZhciBmb3JjZUJhc2U2NCA9IChvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQpO1xuICBpZiAoZm9yY2VCYXNlNjQpIHtcbiAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG4gIH1cbiAgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSA9IG9wdHMucGVyTWVzc2FnZURlZmxhdGU7XG4gIHRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0ID0gQnJvd3NlcldlYlNvY2tldCAmJiAhb3B0cy5mb3JjZU5vZGU7XG4gIHRoaXMucHJvdG9jb2xzID0gb3B0cy5wcm90b2NvbHM7XG4gIGlmICghdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICBXZWJTb2NrZXRJbXBsID0gTm9kZVdlYlNvY2tldDtcbiAgfVxuICBUcmFuc3BvcnQuY2FsbCh0aGlzLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFRyYW5zcG9ydC5cbiAqL1xuXG5pbmhlcml0KFdTLCBUcmFuc3BvcnQpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBuYW1lLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuV1MucHJvdG90eXBlLm5hbWUgPSAnd2Vic29ja2V0JztcblxuLypcbiAqIFdlYlNvY2tldHMgc3VwcG9ydCBiaW5hcnlcbiAqL1xuXG5XUy5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuXG4vKipcbiAqIE9wZW5zIHNvY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUuZG9PcGVuID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2hlY2soKSkge1xuICAgIC8vIGxldCBwcm9iZSB0aW1lb3V0XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHVyaSA9IHRoaXMudXJpKCk7XG4gIHZhciBwcm90b2NvbHMgPSB0aGlzLnByb3RvY29scztcblxuICB2YXIgb3B0cyA9IHt9O1xuXG4gIGlmICghdGhpcy5pc1JlYWN0TmF0aXZlKSB7XG4gICAgb3B0cy5hZ2VudCA9IHRoaXMuYWdlbnQ7XG4gICAgb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMucGVyTWVzc2FnZURlZmxhdGU7XG5cbiAgICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgICBvcHRzLnBmeCA9IHRoaXMucGZ4O1xuICAgIG9wdHMua2V5ID0gdGhpcy5rZXk7XG4gICAgb3B0cy5wYXNzcGhyYXNlID0gdGhpcy5wYXNzcGhyYXNlO1xuICAgIG9wdHMuY2VydCA9IHRoaXMuY2VydDtcbiAgICBvcHRzLmNhID0gdGhpcy5jYTtcbiAgICBvcHRzLmNpcGhlcnMgPSB0aGlzLmNpcGhlcnM7XG4gICAgb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQgPSB0aGlzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgfVxuXG4gIGlmICh0aGlzLmV4dHJhSGVhZGVycykge1xuICAgIG9wdHMuaGVhZGVycyA9IHRoaXMuZXh0cmFIZWFkZXJzO1xuICB9XG4gIGlmICh0aGlzLmxvY2FsQWRkcmVzcykge1xuICAgIG9wdHMubG9jYWxBZGRyZXNzID0gdGhpcy5sb2NhbEFkZHJlc3M7XG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMud3MgPVxuICAgICAgdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIXRoaXMuaXNSZWFjdE5hdGl2ZVxuICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgID8gbmV3IFdlYlNvY2tldEltcGwodXJpLCBwcm90b2NvbHMpXG4gICAgICAgICAgOiBuZXcgV2ViU29ja2V0SW1wbCh1cmkpXG4gICAgICAgIDogbmV3IFdlYlNvY2tldEltcGwodXJpLCBwcm90b2NvbHMsIG9wdHMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cblxuICBpZiAodGhpcy53cy5iaW5hcnlUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy53cy5zdXBwb3J0cyAmJiB0aGlzLndzLnN1cHBvcnRzLmJpbmFyeSkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdub2RlYnVmZmVyJztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB9XG5cbiAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xufTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc29ja2V0XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy53cy5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbk9wZW4oKTtcbiAgfTtcbiAgdGhpcy53cy5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25DbG9zZSgpO1xuICB9O1xuICB0aGlzLndzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikge1xuICAgIHNlbGYub25EYXRhKGV2LmRhdGEpO1xuICB9O1xuICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHNlbGYub25FcnJvcignd2Vic29ja2V0IGVycm9yJywgZSk7XG4gIH07XG59O1xuXG4vKipcbiAqIFdyaXRlcyBkYXRhIHRvIHNvY2tldC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBvZiBwYWNrZXRzLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHBhY2tldHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICB2YXIgdG90YWwgPSBwYWNrZXRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB0b3RhbDsgaSA8IGw7IGkrKykge1xuICAgIChmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgICBwYXJzZXIuZW5jb2RlUGFja2V0KHBhY2tldCwgc2VsZi5zdXBwb3J0c0JpbmFyeSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCFzZWxmLnVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgIC8vIGFsd2F5cyBjcmVhdGUgYSBuZXcgb2JqZWN0IChHSC00MzcpXG4gICAgICAgICAgdmFyIG9wdHMgPSB7fTtcbiAgICAgICAgICBpZiAocGFja2V0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBwYWNrZXQub3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9ICdzdHJpbmcnID09PSB0eXBlb2YgZGF0YSA/IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuIDwgc2VsZi5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHNlbGYudXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgICAvLyBUeXBlRXJyb3IgaXMgdGhyb3duIHdoZW4gcGFzc2luZyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9uIFNhZmFyaVxuICAgICAgICAgICAgc2VsZi53cy5zZW5kKGRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVidWcoJ3dlYnNvY2tldCBjbG9zZWQgYmVmb3JlIG9uY2xvc2UgZXZlbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC0tdG90YWwgfHwgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSkocGFja2V0c1tpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lICgpIHtcbiAgICBzZWxmLmVtaXQoJ2ZsdXNoJyk7XG5cbiAgICAvLyBmYWtlIGRyYWluXG4gICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi53cml0YWJsZSA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2RyYWluJyk7XG4gICAgfSwgMCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gY2xvc2VcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUub25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlLmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIENsb3NlcyBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmRvQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLndzLmNsb3NlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUudXJpID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICB2YXIgc2NoZW1hID0gdGhpcy5zZWN1cmUgPyAnd3NzJyA6ICd3cyc7XG4gIHZhciBwb3J0ID0gJyc7XG5cbiAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgaWYgKHRoaXMucG9ydCAmJiAoKCd3c3MnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAoJ3dzJyA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgcG9ydCA9ICc6JyArIHRoaXMucG9ydDtcbiAgfVxuXG4gIC8vIGFwcGVuZCB0aW1lc3RhbXAgdG8gVVJJXG4gIGlmICh0aGlzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgcXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICB9XG5cbiAgLy8gY29tbXVuaWNhdGUgYmluYXJ5IHN1cHBvcnQgY2FwYWJpbGl0aWVzXG4gIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSkge1xuICAgIHF1ZXJ5LmI2NCA9IDE7XG4gIH1cblxuICBxdWVyeSA9IHBhcnNlcXMuZW5jb2RlKHF1ZXJ5KTtcblxuICAvLyBwcmVwZW5kID8gdG8gcXVlcnlcbiAgaWYgKHF1ZXJ5Lmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gJz8nICsgcXVlcnk7XG4gIH1cblxuICB2YXIgaXB2NiA9IHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpICE9PSAtMTtcbiAgcmV0dXJuIHNjaGVtYSArICc6Ly8nICsgKGlwdjYgPyAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nIDogdGhpcy5ob3N0bmFtZSkgKyBwb3J0ICsgdGhpcy5wYXRoICsgcXVlcnk7XG59O1xuXG4vKipcbiAqIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciBXZWJTb2NrZXQuXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGlzIHRyYW5zcG9ydCBpcyBhdmFpbGFibGUuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbldTLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhV2ViU29ja2V0SW1wbCAmJiAhKCdfX2luaXRpYWxpemUnIGluIFdlYlNvY2tldEltcGwgJiYgdGhpcy5uYW1lID09PSBXUy5wcm90b3R5cGUubmFtZSk7XG59O1xuIl19","deps":{"parseqs":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js","../transport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js","buffer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js","engine.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js","component-inherit":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js","yeast":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/yeast/index.js","ws":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browser-resolve/empty.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js","source":"\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","deps":{}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling.js","source":"/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState && packet.type === 'open') {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","deps":{"parseqs":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js","xmlhttprequest-ssl":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js","../transport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js","engine.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js","component-inherit":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js","yeast":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/yeast/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-xhr.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-xhr.js","source":"/* global attachEvent */\n\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\nvar globalThis = require('../globalThis');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n  opts.withCredentials = this.withCredentials;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = this.withCredentials;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(typeof xhr.status === 'number' ? xhr.status : 0);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (typeof document !== 'undefined') {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (typeof document !== 'undefined') {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== 'undefined') {\n  if (typeof attachEvent === 'function') {\n    attachEvent('onunload', unloadHandler);\n  } else if (typeof addEventListener === 'function') {\n    var terminationEvent = 'onpagehide' in globalThis ? 'pagehide' : 'unload';\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","deps":{"component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","xmlhttprequest-ssl":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js","../globalThis":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js","component-inherit":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js","./polling":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/index.js","source":"/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","deps":{"./polling-jsonp":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-jsonp.js","xmlhttprequest-ssl":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js","./websocket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/websocket.js","./polling-xhr":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-xhr.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/socket.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/socket.js","source":"/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (typeof location !== 'undefined' && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (typeof location !== 'undefined' ? location.hostname : 'localhost');\n  this.port = opts.port || (typeof location !== 'undefined' && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.withCredentials = false !== opts.withCredentials;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || undefined;\n  this.key = opts.key || undefined;\n  this.passphrase = opts.passphrase || undefined;\n  this.cert = opts.cert || undefined;\n  this.ca = opts.ca || undefined;\n  this.ciphers = opts.ciphers || undefined;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // detect ReactNative environment\n  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');\n\n  // other options for Node.js or ReactNative client\n  if (typeof self === 'undefined' || this.isReactNative) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    withCredentials: options.withCredentials || this.withCredentials,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0),\n    isReactNative: this.isReactNative\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","deps":{"component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","parseuri":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseuri/index.js","indexof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/indexof/index.js","parseqs":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js","engine.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js","./transports/index":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/index.js","./transport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/index.js","source":"\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n","deps":{"engine.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js","./socket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/socket.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/manager.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/manager.js","source":"\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    if (timeout === 0) {\n      openSub.destroy(); // prevents a race condition with the 'open' event\n    }\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","deps":{"./socket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/socket.js","./on":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/on.js","socket.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","component-emitter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js","component-bind":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-bind/index.js","backo2":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/backo2/index.js","indexof":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/indexof/index.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js","engine.io-client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/index.js","source":"\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","deps":{"socket.io-parser":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js","./url":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/url.js","./socket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/socket.js","./manager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/manager.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/socket.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/socket.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _socket2 = require('socket.io-client');\n\nvar _socket3 = _interopRequireDefault(_socket2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar log = (0, _debug2.default)('soundworks:socket');\n\nvar socket = {\n  /**\n   * Store the instance of Socket.io Manager.\n   */\n  socket: null,\n\n  /**\n   * Is set to `true` when a `Activity` that requires network is instanciated.\n   * Is checked by the `client` to initialize the connection or not.\n   */\n  required: false,\n\n  /**\n   * Initialize a namespaced connection with given options.\n   *\n   * @param {String} namespace - Correspond to the `client.type` {@link client}.\n   * @param {Object} options - Options of the socket.\n   * @param {String} options.url - The url where the socket should connect.\n   * @param {Array<String>} options.transports - The transports to use for the socket (cf. socket.io).\n   * @param {Array<String>} options.path - Defines where socket should find the `socket.io` file.\n   */\n  init: function init(namespace, options) {\n    this.socket = (0, _socket3.default)(options.url + '/' + namespace, {\n      transports: options.transports,\n      path: options.path\n    });\n\n    log('initialized\\n          - url: ' + options.url + '/' + namespace + '\\n          - transports: ' + options.transports + '\\n          - path: ' + options.path + '\\n    ');\n\n    this._stateListeners = new _set2.default();\n    this._state = null;\n\n    this._listenSocketState();\n  },\n\n\n  /**\n   * Listen to the different states of the socket.\n   *\n   * @param {Function} callback - The function to be called when the state\n   *  of the socket changes, the given function is called with the name of the\n   *  event as argument.\n   * @see {http://socket.io/docs/client-api/#socket}\n   */\n  addStateListener: function addStateListener(callback) {\n    this._stateListeners.add(callback);\n\n    if (this._state !== null) callback(this._state);\n  },\n  _listenSocketState: function _listenSocketState() {\n    var _this = this;\n\n    // see: http://socket.io/docs/client-api/#socket\n    ['connect', 'reconnect', 'disconnect', 'connect_error', 'reconnect_attempt', 'reconnecting', 'reconnect_error', 'reconnect_failed'].forEach(function (eventName) {\n      _this.socket.on(eventName, function () {\n        _this._state = eventName;\n        _this._stateListeners.forEach(function (listener) {\n          return listener(_this._state);\n        });\n        log('state - ' + _this._state);\n      });\n    });\n  },\n\n\n  /**\n   * Sends a WebSocket message to the server side socket.\n   *\n   * @param {String} channel - The channel of the message.\n   * @param {...*} args - Arguments of the message (as many as needed, of any type).\n   */\n  send: function send(channel) {\n    var _socket;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_socket = this.socket).emit.apply(_socket, [channel].concat(args));\n    log.apply(undefined, ['send - channel: \"' + channel + '\"'].concat(args));\n  },\n  sendVolatile: function sendVolatile(channel) {\n    var _socket$volatile;\n\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    (_socket$volatile = this.socket.volatile).emit.apply(_socket$volatile, [channel].concat(args));\n    log.apply(undefined, ['sendVolatile - channel: \"' + channel + '\"'].concat(args));\n  },\n\n\n  /**\n   * Listen a WebSocket message from the server.\n   *\n   * @param {String} channel - The channel of the message.\n   * @param {...*} callback - The callback to execute when a message is received.\n   */\n  receive: function receive(channel, callback) {\n    this.socket.removeListener(channel, callback);\n    this.socket.on(channel, callback);\n    log('receive listener - channel: \"' + channel + '\"');\n  },\n\n\n  /**\n   * Stop listening to a message from the server.\n   *\n   * @param {String} channel - The channel of the message.\n   * @param {...*} callback - The callback to cancel.\n   */\n  removeListener: function removeListener(channel, callback) {\n    this.socket.removeListener(channel, callback);\n    log('remove listener - channel: \"' + channel + '\"');\n  }\n};\n\nexports.default = socket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC5qcyJdLCJuYW1lcyI6WyJsb2ciLCJzb2NrZXQiLCJyZXF1aXJlZCIsImluaXQiLCJuYW1lc3BhY2UiLCJvcHRpb25zIiwidXJsIiwidHJhbnNwb3J0cyIsInBhdGgiLCJfc3RhdGVMaXN0ZW5lcnMiLCJfc3RhdGUiLCJfbGlzdGVuU29ja2V0U3RhdGUiLCJhZGRTdGF0ZUxpc3RlbmVyIiwiY2FsbGJhY2siLCJhZGQiLCJmb3JFYWNoIiwiZXZlbnROYW1lIiwib24iLCJsaXN0ZW5lciIsInNlbmQiLCJjaGFubmVsIiwiYXJncyIsImVtaXQiLCJzZW5kVm9sYXRpbGUiLCJ2b2xhdGlsZSIsInJlY2VpdmUiLCJyZW1vdmVMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE1BQU0scUJBQU0sbUJBQU4sQ0FBWjs7QUFFQSxJQUFNQyxTQUFTO0FBQ2I7OztBQUdBQSxVQUFRLElBSks7O0FBTWI7Ozs7QUFJQUMsWUFBVSxLQVZHOztBQVliOzs7Ozs7Ozs7QUFTQUMsTUFyQmEsZ0JBcUJSQyxTQXJCUSxFQXFCR0MsT0FyQkgsRUFxQlk7QUFDdkIsU0FBS0osTUFBTCxHQUFjLHNCQUFPSSxRQUFRQyxHQUFmLFNBQXNCRixTQUF0QixFQUFtQztBQUMvQ0csa0JBQVlGLFFBQVFFLFVBRDJCO0FBRS9DQyxZQUFNSCxRQUFRRztBQUZpQyxLQUFuQyxDQUFkOztBQUtBUiwyQ0FDZUssUUFBUUMsR0FEdkIsU0FDOEJGLFNBRDlCLGtDQUVzQkMsUUFBUUUsVUFGOUIsNEJBR2dCRixRQUFRRyxJQUh4Qjs7QUFNQSxTQUFLQyxlQUFMLEdBQXVCLG1CQUF2QjtBQUNBLFNBQUtDLE1BQUwsR0FBYyxJQUFkOztBQUVBLFNBQUtDLGtCQUFMO0FBQ0QsR0FyQ1k7OztBQXVDYjs7Ozs7Ozs7QUFRQUMsa0JBL0NhLDRCQStDSUMsUUEvQ0osRUErQ2M7QUFDekIsU0FBS0osZUFBTCxDQUFxQkssR0FBckIsQ0FBeUJELFFBQXpCOztBQUVBLFFBQUksS0FBS0gsTUFBTCxLQUFnQixJQUFwQixFQUNFRyxTQUFTLEtBQUtILE1BQWQ7QUFDSCxHQXBEWTtBQXNEYkMsb0JBdERhLGdDQXNEUTtBQUFBOztBQUNuQjtBQUNBLEtBQUUsU0FBRixFQUNFLFdBREYsRUFFRSxZQUZGLEVBR0UsZUFIRixFQUlFLG1CQUpGLEVBS0UsY0FMRixFQU1FLGlCQU5GLEVBT0Usa0JBUEYsRUFRRUksT0FSRixDQVFVLFVBQUNDLFNBQUQsRUFBZTtBQUN2QixZQUFLZixNQUFMLENBQVlnQixFQUFaLENBQWVELFNBQWYsRUFBMEIsWUFBTTtBQUM5QixjQUFLTixNQUFMLEdBQWNNLFNBQWQ7QUFDQSxjQUFLUCxlQUFMLENBQXFCTSxPQUFyQixDQUE2QixVQUFDRyxRQUFEO0FBQUEsaUJBQWNBLFNBQVMsTUFBS1IsTUFBZCxDQUFkO0FBQUEsU0FBN0I7QUFDQVYseUJBQWUsTUFBS1UsTUFBcEI7QUFDRCxPQUpEO0FBS0QsS0FkRDtBQWVELEdBdkVZOzs7QUF5RWI7Ozs7OztBQU1BUyxNQS9FYSxnQkErRVJDLE9BL0VRLEVBK0VVO0FBQUE7O0FBQUEsc0NBQU5DLElBQU07QUFBTkEsVUFBTTtBQUFBOztBQUNyQixvQkFBS3BCLE1BQUwsRUFBWXFCLElBQVosaUJBQWlCRixPQUFqQixTQUE2QkMsSUFBN0I7QUFDQXJCLGdEQUF3Qm9CLE9BQXhCLGVBQXVDQyxJQUF2QztBQUNELEdBbEZZO0FBb0ZiRSxjQXBGYSx3QkFvRkFILE9BcEZBLEVBb0ZrQjtBQUFBOztBQUFBLHVDQUFOQyxJQUFNO0FBQU5BLFVBQU07QUFBQTs7QUFDN0IsNkJBQUtwQixNQUFMLENBQVl1QixRQUFaLEVBQXFCRixJQUFyQiwwQkFBMEJGLE9BQTFCLFNBQXNDQyxJQUF0QztBQUNBckIsd0RBQWdDb0IsT0FBaEMsZUFBK0NDLElBQS9DO0FBQ0QsR0F2Rlk7OztBQXlGYjs7Ozs7O0FBTUFJLFNBL0ZhLG1CQStGTEwsT0EvRkssRUErRklQLFFBL0ZKLEVBK0ZjO0FBQ3pCLFNBQUtaLE1BQUwsQ0FBWXlCLGNBQVosQ0FBMkJOLE9BQTNCLEVBQW9DUCxRQUFwQztBQUNBLFNBQUtaLE1BQUwsQ0FBWWdCLEVBQVosQ0FBZUcsT0FBZixFQUF3QlAsUUFBeEI7QUFDQWIsMENBQW9Db0IsT0FBcEM7QUFDRCxHQW5HWTs7O0FBcUdiOzs7Ozs7QUFNQU0sZ0JBM0dhLDBCQTJHRU4sT0EzR0YsRUEyR1dQLFFBM0dYLEVBMkdxQjtBQUNoQyxTQUFLWixNQUFMLENBQVl5QixjQUFaLENBQTJCTixPQUEzQixFQUFvQ1AsUUFBcEM7QUFDQWIseUNBQW1Db0IsT0FBbkM7QUFDRDtBQTlHWSxDQUFmOztrQkFpSGVuQixNIiwiZmlsZSI6InNvY2tldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgc2lvIGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zygnc291bmR3b3Jrczpzb2NrZXQnKTtcblxuY29uc3Qgc29ja2V0ID0ge1xuICAvKipcbiAgICogU3RvcmUgdGhlIGluc3RhbmNlIG9mIFNvY2tldC5pbyBNYW5hZ2VyLlxuICAgKi9cbiAgc29ja2V0OiBudWxsLFxuXG4gIC8qKlxuICAgKiBJcyBzZXQgdG8gYHRydWVgIHdoZW4gYSBgQWN0aXZpdHlgIHRoYXQgcmVxdWlyZXMgbmV0d29yayBpcyBpbnN0YW5jaWF0ZWQuXG4gICAqIElzIGNoZWNrZWQgYnkgdGhlIGBjbGllbnRgIHRvIGluaXRpYWxpemUgdGhlIGNvbm5lY3Rpb24gb3Igbm90LlxuICAgKi9cbiAgcmVxdWlyZWQ6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmFtZXNwYWNlZCBjb25uZWN0aW9uIHdpdGggZ2l2ZW4gb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSAtIENvcnJlc3BvbmQgdG8gdGhlIGBjbGllbnQudHlwZWAge0BsaW5rIGNsaWVudH0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBvZiB0aGUgc29ja2V0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy51cmwgLSBUaGUgdXJsIHdoZXJlIHRoZSBzb2NrZXQgc2hvdWxkIGNvbm5lY3QuXG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gb3B0aW9ucy50cmFuc3BvcnRzIC0gVGhlIHRyYW5zcG9ydHMgdG8gdXNlIGZvciB0aGUgc29ja2V0IChjZi4gc29ja2V0LmlvKS5cbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBvcHRpb25zLnBhdGggLSBEZWZpbmVzIHdoZXJlIHNvY2tldCBzaG91bGQgZmluZCB0aGUgYHNvY2tldC5pb2AgZmlsZS5cbiAgICovXG4gIGluaXQobmFtZXNwYWNlLCBvcHRpb25zKSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzaW8oYCR7b3B0aW9ucy51cmx9LyR7bmFtZXNwYWNlfWAsIHtcbiAgICAgIHRyYW5zcG9ydHM6IG9wdGlvbnMudHJhbnNwb3J0cyxcbiAgICAgIHBhdGg6IG9wdGlvbnMucGF0aCxcbiAgICB9KTtcblxuICAgIGxvZyhgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAtIHVybDogJHtvcHRpb25zLnVybH0vJHtuYW1lc3BhY2V9XG4gICAgICAgICAgLSB0cmFuc3BvcnRzOiAke29wdGlvbnMudHJhbnNwb3J0c31cbiAgICAgICAgICAtIHBhdGg6ICR7b3B0aW9ucy5wYXRofVxuICAgIGApO1xuXG4gICAgdGhpcy5fc3RhdGVMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuXG4gICAgdGhpcy5fbGlzdGVuU29ja2V0U3RhdGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogTGlzdGVuIHRvIHRoZSBkaWZmZXJlbnQgc3RhdGVzIG9mIHRoZSBzb2NrZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBzdGF0ZVxuICAgKiAgb2YgdGhlIHNvY2tldCBjaGFuZ2VzLCB0aGUgZ2l2ZW4gZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIG5hbWUgb2YgdGhlXG4gICAqICBldmVudCBhcyBhcmd1bWVudC5cbiAgICogQHNlZSB7aHR0cDovL3NvY2tldC5pby9kb2NzL2NsaWVudC1hcGkvI3NvY2tldH1cbiAgICovXG4gIGFkZFN0YXRlTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLl9zdGF0ZUxpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuXG4gICAgaWYgKHRoaXMuX3N0YXRlICE9PSBudWxsKVxuICAgICAgY2FsbGJhY2sodGhpcy5fc3RhdGUpO1xuICB9LFxuXG4gIF9saXN0ZW5Tb2NrZXRTdGF0ZSgpIHtcbiAgICAvLyBzZWU6IGh0dHA6Ly9zb2NrZXQuaW8vZG9jcy9jbGllbnQtYXBpLyNzb2NrZXRcbiAgICBbICdjb25uZWN0JyxcbiAgICAgICdyZWNvbm5lY3QnLFxuICAgICAgJ2Rpc2Nvbm5lY3QnLFxuICAgICAgJ2Nvbm5lY3RfZXJyb3InLFxuICAgICAgJ3JlY29ubmVjdF9hdHRlbXB0JyxcbiAgICAgICdyZWNvbm5lY3RpbmcnLFxuICAgICAgJ3JlY29ubmVjdF9lcnJvcicsXG4gICAgICAncmVjb25uZWN0X2ZhaWxlZCdcbiAgICBdLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xuICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnROYW1lLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLl9zdGF0ZUxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIodGhpcy5fc3RhdGUpKTtcbiAgICAgICAgbG9nKGBzdGF0ZSAtICR7dGhpcy5fc3RhdGV9YCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZHMgYSBXZWJTb2NrZXQgbWVzc2FnZSB0byB0aGUgc2VydmVyIHNpZGUgc29ja2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIFRoZSBjaGFubmVsIG9mIHRoZSBtZXNzYWdlLlxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgb2YgdGhlIG1lc3NhZ2UgKGFzIG1hbnkgYXMgbmVlZGVkLCBvZiBhbnkgdHlwZSkuXG4gICAqL1xuICBzZW5kKGNoYW5uZWwsIC4uLmFyZ3MpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KGNoYW5uZWwsIC4uLmFyZ3MpO1xuICAgIGxvZyhgc2VuZCAtIGNoYW5uZWw6IFwiJHtjaGFubmVsfVwiYCwgLi4uYXJncyk7XG4gIH0sXG5cbiAgc2VuZFZvbGF0aWxlKGNoYW5uZWwsIC4uLmFyZ3MpIHtcbiAgICB0aGlzLnNvY2tldC52b2xhdGlsZS5lbWl0KGNoYW5uZWwsIC4uLmFyZ3MpO1xuICAgIGxvZyhgc2VuZFZvbGF0aWxlIC0gY2hhbm5lbDogXCIke2NoYW5uZWx9XCJgLCAuLi5hcmdzKTtcbiAgfSxcblxuICAvKipcbiAgICogTGlzdGVuIGEgV2ViU29ja2V0IG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIFRoZSBjaGFubmVsIG9mIHRoZSBtZXNzYWdlLlxuICAgKiBAcGFyYW0gey4uLip9IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuXG4gICAqL1xuICByZWNlaXZlKGNoYW5uZWwsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoY2hhbm5lbCwgY2FsbGJhY2spO1xuICAgIHRoaXMuc29ja2V0Lm9uKGNoYW5uZWwsIGNhbGxiYWNrKTtcbiAgICBsb2coYHJlY2VpdmUgbGlzdGVuZXIgLSBjaGFubmVsOiBcIiR7Y2hhbm5lbH1cImApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmluZyB0byBhIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbCAtIFRoZSBjaGFubmVsIG9mIHRoZSBtZXNzYWdlLlxuICAgKiBAcGFyYW0gey4uLip9IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRvIGNhbmNlbC5cbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGNoYW5uZWwsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoY2hhbm5lbCwgY2FsbGJhY2spO1xuICAgIGxvZyhgcmVtb3ZlIGxpc3RlbmVyIC0gY2hhbm5lbDogXCIke2NoYW5uZWx9XCJgKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNvY2tldDtcbiJdfQ==","deps":{"babel-runtime/core-js/set":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js","debug":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js","socket.io-client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SquaredView = exports.SpaceView = exports.SelectView = exports.ControllerExperience = exports.ControllerScene = exports.viewport = exports.View = exports.TouchSurface = exports.SegmentedView = exports.CanvasView = exports.CanvasRenderingGroup = exports.Canvas2dRenderer = exports.SyncScheduler = exports.Sync = exports.SharedRecorder = exports.SharedParams = exports.SharedConfig = exports.RawSocket = exports.Platform = exports.Placer = exports.Network = exports.MotionInput = exports.MetricScheduler = exports.Locator = exports.Language = exports.Geolocation = exports.FileSystem = exports.ErrorReporter = exports.Checkin = exports.Auth = exports.AudioScheduler = exports.AudioStreamManager = exports.AudioBufferManager = exports.serviceManager = exports.Service = exports.Process = exports.Experience = exports.client = exports.Activity = exports.version = exports.audioContext = exports.audio = undefined;\n\nvar _wavesAudio = require('waves-audio');\n\nObject.defineProperty(exports, 'audioContext', {\n  enumerable: true,\n  get: function get() {\n    return _wavesAudio.audioContext;\n  }\n});\n\nvar _Activity = require('./core/Activity');\n\nObject.defineProperty(exports, 'Activity', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Activity).default;\n  }\n});\n\nvar _client = require('./core/client');\n\nObject.defineProperty(exports, 'client', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_client).default;\n  }\n});\n\nvar _Experience = require('./core/Experience');\n\nObject.defineProperty(exports, 'Experience', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Experience).default;\n  }\n});\n\nvar _Process = require('./core/Process');\n\nObject.defineProperty(exports, 'Process', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Process).default;\n  }\n});\n\nvar _Service = require('./core/Service');\n\nObject.defineProperty(exports, 'Service', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Service).default;\n  }\n});\n\nvar _serviceManager = require('./core/serviceManager');\n\nObject.defineProperty(exports, 'serviceManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_serviceManager).default;\n  }\n});\n\nvar _AudioBufferManager = require('./services/AudioBufferManager');\n\nObject.defineProperty(exports, 'AudioBufferManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AudioBufferManager).default;\n  }\n});\n\nvar _AudioStreamManager = require('./services/AudioStreamManager');\n\nObject.defineProperty(exports, 'AudioStreamManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AudioStreamManager).default;\n  }\n});\n\nvar _AudioScheduler = require('./services/AudioScheduler');\n\nObject.defineProperty(exports, 'AudioScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AudioScheduler).default;\n  }\n});\n\nvar _Auth = require('./services/Auth');\n\nObject.defineProperty(exports, 'Auth', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Auth).default;\n  }\n});\n\nvar _Checkin = require('./services/Checkin');\n\nObject.defineProperty(exports, 'Checkin', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Checkin).default;\n  }\n});\n\nvar _ErrorReporter = require('./services/ErrorReporter');\n\nObject.defineProperty(exports, 'ErrorReporter', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ErrorReporter).default;\n  }\n});\n\nvar _FileSystem = require('./services/FileSystem');\n\nObject.defineProperty(exports, 'FileSystem', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_FileSystem).default;\n  }\n});\n\nvar _Geolocation = require('./services/Geolocation');\n\nObject.defineProperty(exports, 'Geolocation', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Geolocation).default;\n  }\n});\n\nvar _Language = require('./services/Language');\n\nObject.defineProperty(exports, 'Language', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Language).default;\n  }\n});\n\nvar _Locator = require('./services/Locator');\n\nObject.defineProperty(exports, 'Locator', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Locator).default;\n  }\n});\n\nvar _MetricScheduler = require('./services/MetricScheduler');\n\nObject.defineProperty(exports, 'MetricScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_MetricScheduler).default;\n  }\n});\n\nvar _MotionInput = require('./services/MotionInput');\n\nObject.defineProperty(exports, 'MotionInput', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_MotionInput).default;\n  }\n});\n\nvar _Network = require('./services/Network');\n\nObject.defineProperty(exports, 'Network', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Network).default;\n  }\n});\n\nvar _Placer = require('./services/Placer');\n\nObject.defineProperty(exports, 'Placer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Placer).default;\n  }\n});\n\nvar _Platform = require('./services/Platform');\n\nObject.defineProperty(exports, 'Platform', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Platform).default;\n  }\n});\n\nvar _RawSocket = require('./services/RawSocket');\n\nObject.defineProperty(exports, 'RawSocket', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_RawSocket).default;\n  }\n});\n\nvar _SharedConfig = require('./services/SharedConfig');\n\nObject.defineProperty(exports, 'SharedConfig', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SharedConfig).default;\n  }\n});\n\nvar _SharedParams = require('./services/SharedParams');\n\nObject.defineProperty(exports, 'SharedParams', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SharedParams).default;\n  }\n});\n\nvar _SharedRecorder = require('./services/SharedRecorder');\n\nObject.defineProperty(exports, 'SharedRecorder', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SharedRecorder).default;\n  }\n});\n\nvar _Sync = require('./services/Sync');\n\nObject.defineProperty(exports, 'Sync', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Sync).default;\n  }\n});\n\nvar _SyncScheduler = require('./services/SyncScheduler');\n\nObject.defineProperty(exports, 'SyncScheduler', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SyncScheduler).default;\n  }\n});\n\nvar _Canvas2dRenderer = require('./views/Canvas2dRenderer');\n\nObject.defineProperty(exports, 'Canvas2dRenderer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Canvas2dRenderer).default;\n  }\n});\n\nvar _CanvasRenderingGroup = require('./views/CanvasRenderingGroup');\n\nObject.defineProperty(exports, 'CanvasRenderingGroup', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_CanvasRenderingGroup).default;\n  }\n});\n\nvar _CanvasView = require('./views/CanvasView');\n\nObject.defineProperty(exports, 'CanvasView', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_CanvasView).default;\n  }\n});\n\nvar _SegmentedView = require('./views/SegmentedView');\n\nObject.defineProperty(exports, 'SegmentedView', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SegmentedView).default;\n  }\n});\n\nvar _TouchSurface = require('./views/TouchSurface');\n\nObject.defineProperty(exports, 'TouchSurface', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_TouchSurface).default;\n  }\n});\n\nvar _View = require('./views/View');\n\nObject.defineProperty(exports, 'View', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_View).default;\n  }\n});\n\nvar _viewport = require('./views/viewport');\n\nObject.defineProperty(exports, 'viewport', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_viewport).default;\n  }\n});\n\nvar _ControllerScene = require('./prefabs/ControllerScene');\n\nObject.defineProperty(exports, 'ControllerScene', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ControllerScene).default;\n  }\n});\n\nvar _ControllerExperience = require('./prefabs/ControllerExperience');\n\nObject.defineProperty(exports, 'ControllerExperience', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ControllerExperience).default;\n  }\n});\n\nvar _SelectView = require('./prefabs/SelectView');\n\nObject.defineProperty(exports, 'SelectView', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SelectView).default;\n  }\n});\n\nvar _SpaceView = require('./prefabs/SpaceView');\n\nObject.defineProperty(exports, 'SpaceView', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SpaceView).default;\n  }\n});\n\nvar _SquaredView = require('./prefabs/SquaredView');\n\nObject.defineProperty(exports, 'SquaredView', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SquaredView).default;\n  }\n});\n\nvar _audio = _interopRequireWildcard(_wavesAudio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar audio = exports.audio = _audio; /**\n                                     * Client-side entry point of the *soundworks* framework.\n                                     *\n                                     * @module soundworks/client\n                                     * @example\n                                     * import * as soundworks from 'soundworks/client';\n                                     */\n\n// export * as audio from 'waves-audio';\n\n\n// version (cf. bin/javascripts)\nvar version = exports.version = '2.2.6';\n\n// core\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImF1ZGlvQ29udGV4dCIsImRlZmF1bHQiLCJfYXVkaW8iLCJhdWRpbyIsInZlcnNpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFTQTs7Ozs7dUJBRVNBLFk7Ozs7Ozs7Ozs2Q0FNQUMsTzs7Ozs7Ozs7OzJDQUNBQSxPOzs7Ozs7Ozs7K0NBQ0FBLE87Ozs7Ozs7Ozs0Q0FDQUEsTzs7Ozs7Ozs7OzRDQUNBQSxPOzs7Ozs7Ozs7bURBQ0FBLE87Ozs7Ozs7Ozt1REFHQUEsTzs7Ozs7Ozs7O3VEQUNBQSxPOzs7Ozs7Ozs7bURBQ0FBLE87Ozs7Ozs7Ozt5Q0FDQUEsTzs7Ozs7Ozs7OzRDQUNBQSxPOzs7Ozs7Ozs7a0RBQ0FBLE87Ozs7Ozs7OzsrQ0FDQUEsTzs7Ozs7Ozs7O2dEQUNBQSxPOzs7Ozs7Ozs7NkNBQ0FBLE87Ozs7Ozs7Ozs0Q0FDQUEsTzs7Ozs7Ozs7O29EQUNBQSxPOzs7Ozs7Ozs7Z0RBQ0FBLE87Ozs7Ozs7Ozs0Q0FDQUEsTzs7Ozs7Ozs7OzJDQUNBQSxPOzs7Ozs7Ozs7NkNBQ0FBLE87Ozs7Ozs7Ozs4Q0FDQUEsTzs7Ozs7Ozs7O2lEQUNBQSxPOzs7Ozs7Ozs7aURBQ0FBLE87Ozs7Ozs7OzttREFDQUEsTzs7Ozs7Ozs7O3lDQUNBQSxPOzs7Ozs7Ozs7a0RBQ0FBLE87Ozs7Ozs7OztxREFHQUEsTzs7Ozs7Ozs7O3lEQUNBQSxPOzs7Ozs7Ozs7K0NBQ0FBLE87Ozs7Ozs7OztrREFDQUEsTzs7Ozs7Ozs7O2lEQUNBQSxPOzs7Ozs7Ozs7eUNBQ0FBLE87Ozs7Ozs7Ozs2Q0FDQUEsTzs7Ozs7Ozs7O29EQUdBQSxPOzs7Ozs7Ozs7eURBQ0FBLE87Ozs7Ozs7OzsrQ0FDQUEsTzs7Ozs7Ozs7OzhDQUNBQSxPOzs7Ozs7Ozs7Z0RBQ0FBLE87Ozs7SUFwREdDLE07Ozs7OztBQUNMLElBQU1DLHdCQUFRRCxNQUFkLEMsQ0FWUDs7Ozs7Ozs7QUFRQTs7O0FBS0E7QUFDTyxJQUFNRSw0QkFBVSxXQUFoQjs7QUFFUCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2xpZW50LXNpZGUgZW50cnkgcG9pbnQgb2YgdGhlICpzb3VuZHdvcmtzKiBmcmFtZXdvcmsuXG4gKlxuICogQG1vZHVsZSBzb3VuZHdvcmtzL2NsaWVudFxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIHNvdW5kd29ya3MgZnJvbSAnc291bmR3b3Jrcy9jbGllbnQnO1xuICovXG5cbi8vIGV4cG9ydCAqIGFzIGF1ZGlvIGZyb20gJ3dhdmVzLWF1ZGlvJztcbmltcG9ydCAqIGFzIF9hdWRpbyBmcm9tICd3YXZlcy1hdWRpbyc7XG5leHBvcnQgY29uc3QgYXVkaW8gPSBfYXVkaW87XG5leHBvcnQgeyBhdWRpb0NvbnRleHQgfSBmcm9tICd3YXZlcy1hdWRpbyc7XG5cbi8vIHZlcnNpb24gKGNmLiBiaW4vamF2YXNjcmlwdHMpXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9ICcldmVyc2lvbiUnO1xuXG4vLyBjb3JlXG5leHBvcnQgeyBkZWZhdWx0IGFzIEFjdGl2aXR5IH0gZnJvbSAnLi9jb3JlL0FjdGl2aXR5JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY2xpZW50IH0gZnJvbSAnLi9jb3JlL2NsaWVudCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4cGVyaWVuY2UgfSBmcm9tICcuL2NvcmUvRXhwZXJpZW5jZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFByb2Nlc3MgfSBmcm9tICcuL2NvcmUvUHJvY2Vzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlcnZpY2UgfSBmcm9tICcuL2NvcmUvU2VydmljZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHNlcnZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL3NlcnZpY2VNYW5hZ2VyJztcblxuLy8gc2VydmljZXNcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXVkaW9CdWZmZXJNYW5hZ2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9BdWRpb0J1ZmZlck1hbmFnZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBdWRpb1N0cmVhbU1hbmFnZXIgfSBmcm9tICcuL3NlcnZpY2VzL0F1ZGlvU3RyZWFtTWFuYWdlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF1ZGlvU2NoZWR1bGVyIH0gZnJvbSAnLi9zZXJ2aWNlcy9BdWRpb1NjaGVkdWxlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF1dGggfSBmcm9tICcuL3NlcnZpY2VzL0F1dGgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGVja2luIH0gZnJvbSAnLi9zZXJ2aWNlcy9DaGVja2luJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXJyb3JSZXBvcnRlciB9IGZyb20gJy4vc2VydmljZXMvRXJyb3JSZXBvcnRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVTeXN0ZW0gfSBmcm9tICcuL3NlcnZpY2VzL0ZpbGVTeXN0ZW0nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHZW9sb2NhdGlvbiB9IGZyb20gJy4vc2VydmljZXMvR2VvbG9jYXRpb24nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYW5ndWFnZSB9IGZyb20gJy4vc2VydmljZXMvTGFuZ3VhZ2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhdG9yIH0gZnJvbSAnLi9zZXJ2aWNlcy9Mb2NhdG9yJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWV0cmljU2NoZWR1bGVyIH0gZnJvbSAnLi9zZXJ2aWNlcy9NZXRyaWNTY2hlZHVsZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb3Rpb25JbnB1dCB9IGZyb20gJy4vc2VydmljZXMvTW90aW9uSW5wdXQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBOZXR3b3JrIH0gZnJvbSAnLi9zZXJ2aWNlcy9OZXR3b3JrJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGxhY2VyIH0gZnJvbSAnLi9zZXJ2aWNlcy9QbGFjZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQbGF0Zm9ybSB9IGZyb20gJy4vc2VydmljZXMvUGxhdGZvcm0nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBSYXdTb2NrZXQgfSBmcm9tICcuL3NlcnZpY2VzL1Jhd1NvY2tldCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNoYXJlZENvbmZpZyB9IGZyb20gJy4vc2VydmljZXMvU2hhcmVkQ29uZmlnJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2hhcmVkUGFyYW1zIH0gZnJvbSAnLi9zZXJ2aWNlcy9TaGFyZWRQYXJhbXMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTaGFyZWRSZWNvcmRlciB9IGZyb20gJy4vc2VydmljZXMvU2hhcmVkUmVjb3JkZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTeW5jIH0gZnJvbSAnLi9zZXJ2aWNlcy9TeW5jJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3luY1NjaGVkdWxlciB9IGZyb20gJy4vc2VydmljZXMvU3luY1NjaGVkdWxlcic7XG5cbi8vIHZpZXdzXG5leHBvcnQgeyBkZWZhdWx0IGFzIENhbnZhczJkUmVuZGVyZXIgfSBmcm9tICcuL3ZpZXdzL0NhbnZhczJkUmVuZGVyZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW52YXNSZW5kZXJpbmdHcm91cCB9IGZyb20gJy4vdmlld3MvQ2FudmFzUmVuZGVyaW5nR3JvdXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW52YXNWaWV3IH0gZnJvbSAnLi92aWV3cy9DYW52YXNWaWV3JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VnbWVudGVkVmlldyB9IGZyb20gJy4vdmlld3MvU2VnbWVudGVkVmlldyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRvdWNoU3VyZmFjZSB9IGZyb20gJy4vdmlld3MvVG91Y2hTdXJmYWNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVmlldyB9IGZyb20gJy4vdmlld3MvVmlldyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZpZXdwb3J0IH0gZnJvbSAnLi92aWV3cy92aWV3cG9ydCc7XG5cbi8vIHByZWZhYnNcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29udHJvbGxlclNjZW5lIH0gZnJvbSAnLi9wcmVmYWJzL0NvbnRyb2xsZXJTY2VuZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIENvbnRyb2xsZXJFeHBlcmllbmNlIH0gZnJvbSAnLi9wcmVmYWJzL0NvbnRyb2xsZXJFeHBlcmllbmNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VsZWN0VmlldyB9IGZyb20gJy4vcHJlZmFicy9TZWxlY3RWaWV3JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3BhY2VWaWV3IH0gZnJvbSAnLi9wcmVmYWJzL1NwYWNlVmlldyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNxdWFyZWRWaWV3IH0gZnJvbSAnLi9wcmVmYWJzL1NxdWFyZWRWaWV3JztcbiJdfQ==","deps":{"./views/CanvasRenderingGroup":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasRenderingGroup.js","./views/Canvas2dRenderer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/Canvas2dRenderer.js","./views/TouchSurface":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/TouchSurface.js","./core/Experience":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Experience.js","./core/Activity":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js","./services/Auth":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Auth.js","./services/Geolocation":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Geolocation.js","./services/Locator":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Locator.js","./services/Network":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Network.js","./services/Placer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Placer.js","./services/SharedConfig":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedConfig.js","./services/SharedParams":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedParams.js","./services/AudioScheduler":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioScheduler.js","./services/Checkin":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Checkin.js","./services/SyncScheduler":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SyncScheduler.js","./services/ErrorReporter":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/ErrorReporter.js","./services/RawSocket":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/RawSocket.js","./services/Language":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Language.js","./prefabs/ControllerExperience":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerExperience.js","./prefabs/SquaredView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SquaredView.js","./prefabs/SpaceView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SpaceView.js","./prefabs/SelectView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SelectView.js","./core/Process":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Process.js","./services/SharedRecorder":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedRecorder.js","./views/SegmentedView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js","./services/MetricScheduler":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MetricScheduler.js","./views/CanvasView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasView.js","./views/viewport":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js","./core/Service":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js","./core/serviceManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js","./services/Platform":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Platform.js","./services/FileSystem":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/FileSystem.js","./services/AudioStreamManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioStreamManager.js","./views/View":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js","./services/AudioBufferManager":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioBufferManager.js","./services/MotionInput":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MotionInput.js","./prefabs/ControllerScene":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerScene.js","./services/Sync":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Sync.js","waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","./core/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/serviceViews.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/serviceViews.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// --------------------------- example\n/**\n * Interface for the view of the `audio-buffer-manager` service.\n *\n * @interface AbstractAudioBufferManagerView\n * @extends module:soundworks/client.View\n */\n/**\n * Method called when a new information about the currently loaded assets\n * is received.\n *\n * @function\n * @name AbstractAudioBufferManagerView.onProgress\n * @param {Number} percent - The purcentage of loaded assets.\n */\n// ------------------------------------\n\nvar noop = function noop() {};\n\nvar serviceViews = {\n  // ------------------------------------------------\n  // AudioBufferManager\n  // ------------------------------------------------\n  'service:audio-buffer-manager': function (_SegmentedView) {\n    (0, _inherits3.default)(AudioBufferManagerView, _SegmentedView);\n\n    function AudioBufferManagerView() {\n      (0, _classCallCheck3.default)(this, AudioBufferManagerView);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (AudioBufferManagerView.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManagerView)).call(this));\n\n      _this.template = '\\n        <div class=\"section-top flex-middle\">\\n          <p><%= msg[status] %></p>\\n        </div>\\n        <div class=\"section-center flex-center\">\\n          <% if (showProgress) { %>\\n          <div class=\"progress-wrap\">\\n            <div class=\"progress-bar\"></div>\\n          </div>\\n          <% } %>\\n        </div>\\n        <div class=\"section-bottom\"></div>\\n      ';\n\n      _this.model = {\n        status: 'loading',\n        showProgress: true,\n        msg: {\n          loading: 'Chargement des fichiers audio...',\n          decoding: 'Décodage...'\n        }\n      };\n      return _this;\n    }\n\n    (0, _createClass3.default)(AudioBufferManagerView, [{\n      key: 'onRender',\n      value: function onRender() {\n        (0, _get3.default)(AudioBufferManagerView.prototype.__proto__ || (0, _getPrototypeOf2.default)(AudioBufferManagerView.prototype), 'onRender', this).call(this);\n        this.$progressBar = this.$el.querySelector('.progress-bar');\n      }\n    }, {\n      key: 'onProgress',\n      value: function onProgress(ratio) {\n        var percent = Math.round(ratio * 100);\n\n        if (percent === 100) {\n          this.model.status = 'decoding';\n          this.render('.section-top');\n        }\n\n        if (this.model.showProgress) this.$progressBar.style.width = percent + '%';\n      }\n    }]);\n    return AudioBufferManagerView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Auth\n  // ------------------------------------------------\n  'service:auth': function (_SegmentedView2) {\n    (0, _inherits3.default)(AuthView, _SegmentedView2);\n\n    function AuthView() {\n      (0, _classCallCheck3.default)(this, AuthView);\n\n      var _this2 = (0, _possibleConstructorReturn3.default)(this, (AuthView.__proto__ || (0, _getPrototypeOf2.default)(AuthView)).call(this));\n\n      _this2.template = '\\n        <% if (!rejected) { %>\\n          <div class=\"section-top flex-middle\">\\n            <p><%= instructions %></p>\\n          </div>\\n          <div class=\"section-center flex-center\">\\n            <div>\\n              <input type=\"password\" id=\"password\" />\\n              <button class=\"btn\" id=\"send\"><%= send %></button>\\n            </div>\\n          </div>\\n          <div class=\"section-bottom flex-middle\">\\n            <button id=\"reset\" class=\"btn\"><%= reset %></button>\\n          </div>\\n        <% } else { %>\\n          <div class=\"section-top\"></div>\\n          <div class=\"section-center flex-center\">\\n            <p><%= rejectMessage %></p>\\n          </div>\\n          <div class=\"section-bottom flex-middle\">\\n            <button id=\"reset\" class=\"btn\"><%= reset %></button>\\n          </div>\\n        <% } %>\\n      ';\n\n      _this2.model = {\n        instructions: 'Login',\n        send: 'Send',\n        reset: 'Reset',\n        rejectMessage: 'Sorry, you don\\'t have access to this client',\n        rejected: false\n      };\n\n      _this2._sendPasswordCallback = noop;\n      _this2._resetCallback = noop;\n      return _this2;\n    }\n\n    (0, _createClass3.default)(AuthView, [{\n      key: 'onRender',\n      value: function onRender() {\n        var _this3 = this;\n\n        (0, _get3.default)(AuthView.prototype.__proto__ || (0, _getPrototypeOf2.default)(AuthView.prototype), 'onRender', this).call(this);\n\n        this.installEvents({\n          'click #send': function clickSend() {\n            var password = _this3.$el.querySelector('#password').value;\n\n            if (password !== '') _this3._sendPasswordCallback(password);\n          },\n          'click #reset': function clickReset() {\n            return _this3._resetCallback();\n          }\n        });\n      }\n    }, {\n      key: 'setSendPasswordCallback',\n      value: function setSendPasswordCallback(callback) {\n        this._sendPasswordCallback = callback;\n      }\n    }, {\n      key: 'setResetCallback',\n      value: function setResetCallback(callback) {\n        this._resetCallback = callback;\n      }\n    }, {\n      key: 'updateRejectedStatus',\n      value: function updateRejectedStatus(value) {\n        this.model.rejected = value;\n        this.render();\n      }\n    }]);\n    return AuthView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Checkin\n  // ------------------------------------------------\n  'service:checkin': function (_SegmentedView3) {\n    (0, _inherits3.default)(CheckinView, _SegmentedView3);\n\n    function CheckinView() {\n      (0, _classCallCheck3.default)(this, CheckinView);\n\n      var _this4 = (0, _possibleConstructorReturn3.default)(this, (CheckinView.__proto__ || (0, _getPrototypeOf2.default)(CheckinView)).call(this));\n\n      _this4.template = '\\n        <% if (label) { %>\\n          <div class=\"section-top flex-middle\">\\n            <p class=\"big\"><%= labelPrefix %></p>\\n          </div>\\n          <div class=\"section-center flex-center\">\\n            <div class=\"checkin-label\">\\n              <p class=\"huge bold\"><%= label %></p>\\n            </div>\\n          </div>\\n          <div class=\"section-bottom flex-middle\">\\n            <p class=\"small\"><%= labelPostfix %></p>\\n          </div>\\n        <% } else { %>\\n          <div class=\"section-top\"></div>\\n          <div class=\"section-center flex-center\">\\n            <p><%= error ? errorMessage : wait %></p>\\n          </div>\\n          <div class=\"section-bottom\"></div>\\n        <% } %>\\n      ';\n\n      _this4.model = {\n        labelPrefix: 'Go to',\n        labelPostfix: 'Touch the screen<br class=\"portrait-only\" />when you are ready.',\n        error: false,\n        errorMessage: 'Sorry,<br/>no place available',\n        wait: 'Connection...',\n        label: ''\n      };\n\n      _this4._readyCallback = null;\n      return _this4;\n    }\n\n    (0, _createClass3.default)(CheckinView, [{\n      key: 'onRender',\n      value: function onRender() {\n        var _this5 = this;\n\n        (0, _get3.default)(CheckinView.prototype.__proto__ || (0, _getPrototypeOf2.default)(CheckinView.prototype), 'onRender', this).call(this);\n\n        var eventName = this.options.interaction === 'mouse' ? 'click' : 'touchstart';\n\n        this.installEvents((0, _defineProperty3.default)({}, eventName, function () {\n          return _this5._readyCallback();\n        }));\n      }\n    }, {\n      key: 'setReadyCallback',\n      value: function setReadyCallback(callback) {\n        this._readyCallback = callback;\n      }\n    }, {\n      key: 'updateLabel',\n      value: function updateLabel(value) {\n        this.model.label = value;\n        this.render();\n      }\n    }, {\n      key: 'updateErrorStatus',\n      value: function updateErrorStatus(value) {\n        this.model.error = value;\n        this.render();\n      }\n    }]);\n    return CheckinView;\n  }(_client.SegmentedView),\n\n  'service:language': function (_SegmentedView4) {\n    (0, _inherits3.default)(LanguageView, _SegmentedView4);\n\n    function LanguageView() {\n      (0, _classCallCheck3.default)(this, LanguageView);\n\n      var _this6 = (0, _possibleConstructorReturn3.default)(this, (LanguageView.__proto__ || (0, _getPrototypeOf2.default)(LanguageView)).call(this));\n\n      _this6.template = '\\n        <div class=\"section-top\"></div>\\n        <div class=\"section-center\">\\n          <% for (let key in options) { %>\\n            <button class=\"btn\" data-id=\"<%= key %>\"><%= options[key] %></button>\\n          <% } %>\\n        </div>\\n        <div class=\"section-bottom\"></div>\\n      ';\n\n      _this6.model = {};\n\n      _this6._selectionCallback = noop;\n      return _this6;\n    }\n\n    (0, _createClass3.default)(LanguageView, [{\n      key: 'onRender',\n      value: function onRender() {\n        var _this7 = this;\n\n        (0, _get3.default)(LanguageView.prototype.__proto__ || (0, _getPrototypeOf2.default)(LanguageView.prototype), 'onRender', this).call(this);\n\n        var eventName = this.options.interaction === 'mouse' ? 'click' : 'touchstart';\n        this.installEvents((0, _defineProperty3.default)({}, eventName + ' .btn', function undefined(e) {\n          var target = e.target;\n          var id = target.getAttribute('data-id');\n          _this7._selectionCallback(id);\n        }));\n      }\n    }, {\n      key: 'setSelectionCallback',\n      value: function setSelectionCallback(callback) {\n        this._selectionCallback = callback;\n      }\n    }]);\n    return LanguageView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Locator\n  // ------------------------------------------------\n  'service:locator': function (_SquaredView) {\n    (0, _inherits3.default)(LocatorView, _SquaredView);\n\n    function LocatorView() {\n      (0, _classCallCheck3.default)(this, LocatorView);\n\n      var _this8 = (0, _possibleConstructorReturn3.default)(this, (LocatorView.__proto__ || (0, _getPrototypeOf2.default)(LocatorView)).call(this));\n\n      _this8.template = '\\n        <div class=\"section-square\"></div>\\n        <div class=\"section-float flex-middle\">\\n          <% if (!showBtn) { %>\\n            <p class=\"small\"><%= instructions %></p>\\n          <% } else { %>\\n            <button class=\"btn\"><%= send %></button>\\n          <% } %>\\n        </div>\\n      ';\n\n      _this8.model = {\n        instructions: 'Define your position in the area',\n        send: 'Send',\n        showBtn: false\n      };\n\n      _this8.area = null;\n      _this8._selectCallback = noop;\n\n      _this8._onAreaTouchStart = _this8._onAreaTouchStart.bind(_this8);\n      _this8._onAreaTouchMove = _this8._onAreaTouchMove.bind(_this8);\n      return _this8;\n    }\n\n    (0, _createClass3.default)(LocatorView, [{\n      key: 'show',\n      value: function show() {\n        (0, _get3.default)(LocatorView.prototype.__proto__ || (0, _getPrototypeOf2.default)(LocatorView.prototype), 'show', this).call(this);\n        this.selector.show();\n      }\n    }, {\n      key: 'onRender',\n      value: function onRender() {\n        (0, _get3.default)(LocatorView.prototype.__proto__ || (0, _getPrototypeOf2.default)(LocatorView.prototype), 'onRender', this).call(this);\n        this.$areaContainer = this.$el.querySelector('.section-square');\n      }\n    }, {\n      key: 'setArea',\n      value: function setArea(area) {\n        this._area = area;\n        this._renderArea();\n      }\n    }, {\n      key: 'setSelectCallback',\n      value: function setSelectCallback(callback) {\n        this._selectCallback = callback;\n      }\n    }, {\n      key: 'remove',\n      value: function remove() {\n        (0, _get3.default)(LocatorView.prototype.__proto__ || (0, _getPrototypeOf2.default)(LocatorView.prototype), 'remove', this).call(this);\n\n        this.surface.removeListener('touchstart', this._onAreaTouchStart);\n        this.surface.removeListener('touchmove', this._onAreaTouchMove);\n      }\n    }, {\n      key: 'onResize',\n      value: function onResize(viewportWidth, viewportHeight, orientation) {\n        (0, _get3.default)(LocatorView.prototype.__proto__ || (0, _getPrototypeOf2.default)(LocatorView.prototype), 'onResize', this).call(this, viewportWidth, viewportHeight, orientation);\n\n        if (this.selector) this.selector.onResize(viewportWidth, viewportHeight, orientation);\n      }\n    }, {\n      key: '_renderArea',\n      value: function _renderArea() {\n        this.selector = new _client.SpaceView();\n        this.selector.setArea(this._area);\n\n        this.selector.render();\n        this.selector.appendTo(this.$areaContainer);\n        this.selector.onRender();\n\n        this.surface = new _client.TouchSurface(this.selector.$svgContainer);\n        this.surface.addListener('touchstart', this._onAreaTouchStart);\n        this.surface.addListener('touchmove', this._onAreaTouchMove);\n      }\n    }, {\n      key: '_onAreaTouchStart',\n      value: function _onAreaTouchStart(id, normX, normY) {\n        var _this9 = this;\n\n        if (!this.position) {\n          this._createPosition(normX, normY);\n\n          this.model.showBtn = true;\n          this.render('.section-float');\n          this.installEvents({\n            'click .btn': function clickBtn(e) {\n              return _this9._selectCallback(_this9.position.x, _this9.position.y);\n            }\n          });\n        } else {\n          this._updatePosition(normX, normY);\n        }\n      }\n    }, {\n      key: '_onAreaTouchMove',\n      value: function _onAreaTouchMove(id, normX, normY) {\n        this._updatePosition(normX, normY);\n      }\n    }, {\n      key: '_createPosition',\n      value: function _createPosition(normX, normY) {\n        this.position = {\n          id: 'locator',\n          x: normX * this._area.width,\n          y: normY * this._area.height\n        };\n\n        this.selector.addPoint(this.position);\n      }\n    }, {\n      key: '_updatePosition',\n      value: function _updatePosition(normX, normY) {\n        this.position.x = normX * this._area.width;\n        this.position.y = normY * this._area.height;\n\n        this.selector.updatePoint(this.position);\n      }\n    }]);\n    return LocatorView;\n  }(_client.SquaredView),\n\n  // ------------------------------------------------\n  // Placer\n  // ------------------------------------------------\n  'service:placer': function (_SquaredView2) {\n    (0, _inherits3.default)(PlacerViewList, _SquaredView2);\n\n    function PlacerViewList() {\n      (0, _classCallCheck3.default)(this, PlacerViewList);\n\n      var _this10 = (0, _possibleConstructorReturn3.default)(this, (PlacerViewList.__proto__ || (0, _getPrototypeOf2.default)(PlacerViewList)).call(this));\n\n      _this10.template = '\\n        <div class=\"section-square flex-middle\">\\n          <% if (rejected) { %>\\n          <div class=\"fit-container flex-middle\">\\n            <p><%= reject %></p>\\n          </div>\\n          <% } %>\\n        </div>\\n        <div class=\"section-float flex-middle\">\\n          <% if (!rejected) { %>\\n            <% if (showBtn) { %>\\n              <button class=\"btn\"><%= send %></button>\\n            <% } %>\\n          <% } %>\\n        </div>\\n      ';\n\n      _this10.model = {\n        instructions: 'Select your position',\n        send: 'Send',\n        reject: 'Sorry, no place is available',\n        showBtn: false,\n        rejected: false\n      };\n\n      _this10._onSelectionChange = _this10._onSelectionChange.bind(_this10);\n      return _this10;\n    }\n\n    (0, _createClass3.default)(PlacerViewList, [{\n      key: 'show',\n      value: function show() {\n        (0, _get3.default)(PlacerViewList.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlacerViewList.prototype), 'show', this).call(this);\n        this.selector.show();\n      }\n    }, {\n      key: '_onSelectionChange',\n      value: function _onSelectionChange(e) {\n        var _this11 = this;\n\n        this.model.showBtn = true;\n        this.render('.section-float');\n\n        this.installEvents({\n          'click .btn': function clickBtn(e) {\n            var position = _this11.selector.value;\n\n            if (position) _this11._onSelect(position.index, position.label, position.coordinates);\n          }\n        });\n      }\n    }, {\n      key: 'setArea',\n      value: function setArea(area) {/* no need for area */}\n    }, {\n      key: 'onRender',\n      value: function onRender() {\n        (0, _get3.default)(PlacerViewList.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlacerViewList.prototype), 'onRender', this).call(this);\n        this.$selectorContainer = this.$el.querySelector('.section-square');\n      }\n    }, {\n      key: 'onResize',\n      value: function onResize(viewportWidth, viewportHeight, orientation) {\n        (0, _get3.default)(PlacerViewList.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlacerViewList.prototype), 'onResize', this).call(this, viewportWidth, viewportHeight, orientation);\n\n        if (this.selector) this.selector.onResize(viewportWidth, viewportHeight, orientation);\n      }\n    }, {\n      key: 'displayPositions',\n      value: function displayPositions(capacity) {\n        var labels = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var coordinates = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var maxClientsPerPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n        this.positions = [];\n        this.numberPositions = capacity / maxClientsPerPosition;\n\n        for (var index = 0; index < this.numberPositions; index++) {\n          var label = labels !== null ? labels[index] : (index + 1).toString();\n          var position = { index: index, label: label };\n\n          if (coordinates) position.coordinates = coordinates[index];\n\n          this.positions.push(position);\n        }\n\n        this.selector = new _client.SelectView({\n          instructions: this.model.instructions,\n          entries: this.positions\n        });\n\n        this.selector.render();\n        this.selector.appendTo(this.$selectorContainer);\n        this.selector.onRender();\n\n        this.selector.installEvents({\n          'change': this._onSelectionChange\n        });\n      }\n    }, {\n      key: 'updateDisabledPositions',\n      value: function updateDisabledPositions(indexes) {\n        for (var index = 0; index < this.numberPositions; index++) {\n          if (indexes.indexOf(index) === -1) this.selector.enableIndex(index);else this.selector.disableIndex(index);\n        }\n      }\n    }, {\n      key: 'setSelectCallack',\n      value: function setSelectCallack(callback) {\n        this._onSelect = callback;\n      }\n    }, {\n      key: 'reject',\n      value: function reject(disabledPositions) {\n        this.model.rejected = true;\n        this.render();\n      }\n    }]);\n    return PlacerViewList;\n  }(_client.SquaredView),\n\n  // graphic placer flavor for predetermined coordinates\n  // 'service:placer': class PlacerViewGraphic extends SquaredView {\n  //   constructor() {\n  //     super();\n\n  //     this.template = `\n  //       <div class=\"section-square flex-middle\">\n  //         <% if (rejected) { %>\n  //         <div class=\"fit-container flex-middle\">\n  //           <p><%= reject %></p>\n  //         </div>\n  //         <% } %>\n  //       </div>\n  //       <div class=\"section-float flex-middle\">\n  //         <% if (!rejected) { %>\n  //           <% if (showBtn) { %>\n  //             <button class=\"btn\"><%= send %></button>\n  //           <% } %>\n  //         <% } %>\n  //       </div>\n  //     `;\n\n  //     this.model = {\n  //       instructions: 'Select your position',\n  //       send: 'Send',\n  //       reject: 'Sorry, no place is available',\n  //       showBtn: false,\n  //       rejected: false,\n  //     };\n\n  //     this._area = null;\n  //     this._disabledPositions = [];\n  //     this._onSelectionChange = this._onSelectionChange.bind(this);\n  //   }\n\n  //   show() {\n  //     super.show();\n  //     this.selector.show();\n  //   }\n\n  //   onRender() {\n  //     super.onRender();\n  //     this.$selectorContainer = this.$el.querySelector('.section-square');\n  //   }\n\n  //   onResize(viewportWidth, viewportHeight, orientation) {\n  //     super.onResize(viewportWidth, viewportHeight, orientation);\n\n  //     if (this.selector)\n  //       this.selector.onResize(viewportWidth, viewportHeight, orientation);\n  //   }\n\n  //   _onSelectionChange(e) {\n  //     const position = this.selector.shapePointMap.get(e.target);\n  //     const disabledIndex = this._disabledPositions.indexOf(position.index);\n\n  //     if (disabledIndex === -1)\n  //       this._onSelect(position.id, position.label, [position.x, position.y]);\n  //   }\n\n  //   setArea(area) {\n  //     this._area = area;\n  //   }\n\n  //   displayPositions(capacity, labels = null, coordinates = null, maxClientsPerPosition = 1) {\n  //     this.numberPositions = capacity / maxClientsPerPosition;\n  //     this.positions = [];\n\n  //     for (let i = 0; i < this.numberPositions; i++) {\n  //       const label = labels !== null ? labels[i] : (i + 1).toString();\n  //       const position = { id: i, label: label };\n  //       const coords = coordinates[i];\n  //       position.x = coords[0];\n  //       position.y = coords[1];\n\n  //       this.positions.push(position);\n  //     }\n\n  //     this.selector = new SpaceView();\n  //     this.selector.setArea(this._area);\n  //     this.selector.render();\n  //     this.selector.appendTo(this.$selectorContainer);\n  //     this.selector.onRender();\n  //     this.selector.setPoints(this.positions);\n\n  //     this.selector.installEvents({\n  //       'click .point': this._onSelectionChange\n  //     });\n  //   }\n\n  //   updateDisabledPositions(indexes) {\n  //     this._disabledPositions = indexes;\n\n  //     for (let index = 0; index < this.numberPositions; index++) {\n  //       const position = this.positions[index];\n  //       const isDisabled = indexes.indexOf(index) !== -1;\n  //       position.selected = isDisabled ? true : false;\n  //       this.selector.updatePoint(position);\n  //     }\n  //   }\n\n  //   setSelectCallack(callback) {\n  //     this._onSelect = callback;\n  //   }\n\n  //   reject(disabledPositions) {\n  //     this.model.rejected = true;\n  //     this.render();\n  //   }\n  // },\n\n  // ------------------------------------------------\n  // Platform\n  // ------------------------------------------------\n  'service:platform': function (_SegmentedView5) {\n    (0, _inherits3.default)(PlatformView, _SegmentedView5);\n\n    function PlatformView() {\n      (0, _classCallCheck3.default)(this, PlatformView);\n\n      var _this12 = (0, _possibleConstructorReturn3.default)(this, (PlatformView.__proto__ || (0, _getPrototypeOf2.default)(PlatformView)).call(this));\n\n      _this12.template = '\\n        <% if (isCompatible === false) { %>\\n          <div class=\"section-top\"></div>\\n          <div class=\"section-center flex-center\">\\n            <p><%= errorCompatibleMessage %></p>\\n          </div>\\n          <div class=\"section-bottom\"></div>\\n        <% } else if (hasAuthorizations === false) { %>\\n          <div class=\"section-top\"></div>\\n          <div class=\"section-center flex-center\">\\n            <p><%= errorHooksMessage %></p>\\n          </div>\\n          <div class=\"section-bottom\"></div>\\n        <% } else { %>\\n          <div class=\"section-top flex-middle\">\\n              <p>\\n                <span class=\"title\"><%= globals.title %></span>\\n                <span class=\"subtitle\"><%= globals.subtitle %></span>\\n              </p>\\n          </div>\\n          <div class=\"section-center flex-center\">\\n            <div>\\n              <ul class=\"instructions soft-blink\">\\n                <% for (var key in globals.instructions) { %>\\n                  <li class=\"instruction\"><%= globals.instructions[key] %></li>\\n                <% } %>\\n              </ul>\\n              <p class=\"use-headphones\"><%= globals.useHeadphones %></p>\\n            </div>\\n          </div>\\n          <div class=\"section-bottom flex-middle\">\\n            <% if (checking === true) { %>\\n            <p class=\"small soft-blink\"><%= checkingMessage %></p>\\n            <% } else if (hasAuthorizations === true) { %>\\n            <p class=\"small soft-blink\"><%= globals.touchToStart %></p>\\n            <% } %>\\n          </div>\\n        <% } %>\\n      ';\n\n      _this12.model = {\n        isCompatible: null,\n        hasAuthorizations: null,\n        checking: false,\n        checkingMessage: 'Please wait while checking compatiblity',\n        errorCompatibleMessage: 'Sorry,<br />Your device is not compatible with the application.',\n        errorHooksMessage: 'Sorry,<br />The application didn\\'t obtain the necessary authorizations.'\n      };\n\n      _this12.ratios = {\n        '.section-top': 0.2,\n        '.section-center': 0.5,\n        '.section-bottom': 0.3\n      };\n\n      _this12._touchstartCallback = noop;\n      _this12._mousedownCallback = noop;\n      return _this12;\n    }\n\n    (0, _createClass3.default)(PlatformView, [{\n      key: 'onRender',\n      value: function onRender() {\n        var _this13 = this;\n\n        (0, _get3.default)(PlatformView.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlatformView.prototype), 'onRender', this).call(this);\n\n        this.installEvents({\n          'mousedown': function mousedown(e) {\n            return _this13._mousedownCallback(e);\n          },\n          'touchstart': function touchstart(e) {\n            return _this13._touchstartCallback(e);\n          }\n        });\n      }\n    }, {\n      key: 'setTouchStartCallback',\n      value: function setTouchStartCallback(callback) {\n        this._touchstartCallback = callback;\n      }\n    }, {\n      key: 'setMouseDownCallback',\n      value: function setMouseDownCallback(callback) {\n        this._mousedownCallback = callback;\n      }\n    }, {\n      key: 'updateCheckingStatus',\n      value: function updateCheckingStatus(value) {\n        this.model.checking = value;\n        this.render();\n      }\n    }, {\n      key: 'updateIsCompatibleStatus',\n      value: function updateIsCompatibleStatus(value) {\n        this.model.isCompatible = value;\n        this.render();\n      }\n    }, {\n      key: 'updateHasAuthorizationsStatus',\n      value: function updateHasAuthorizationsStatus(value) {\n        this.model.hasAuthorizations = value;\n        this.render();\n      }\n    }]);\n    return PlatformView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Sound-Check\n  // ------------------------------------------------\n  'service:sound-check': function (_SegmentedView6) {\n    (0, _inherits3.default)(SoundCheckView, _SegmentedView6);\n\n    function SoundCheckView() {\n      (0, _classCallCheck3.default)(this, SoundCheckView);\n\n      var _this14 = (0, _possibleConstructorReturn3.default)(this, (SoundCheckView.__proto__ || (0, _getPrototypeOf2.default)(SoundCheckView)).call(this));\n\n      _this14.template = '\\n        <div class=\"section-top flex-middle\">\\n          <p class=\"small\"><%= globals.question %></p>\\n        </div>\\n        <div class=\"section-center flex-center\">\\n          <button class=\"check-yes\"><%= globals.yes %></button>\\n        </div>\\n        <div class=\"section-bottom flex-center\">\\n          <button class=\"check-no\"><%= globals.no %></button>\\n        </div>\\n      ';\n\n      _this14.ratios = {\n        '.section-top': 0.3,\n        '.section-center': 0.35,\n        '.section-bottom': 0.35\n      };\n      return _this14;\n    }\n\n    (0, _createClass3.default)(SoundCheckView, [{\n      key: 'onRender',\n      value: function onRender() {\n        var _this15 = this;\n\n        (0, _get3.default)(SoundCheckView.prototype.__proto__ || (0, _getPrototypeOf2.default)(SoundCheckView.prototype), 'onRender', this).call(this);\n\n        this.installEvents({\n          'click .check-yes': function clickCheckYes() {\n            return _this15._checkCallback(true);\n          },\n          'click .check-no': function clickCheckNo() {\n            return _this15._checkCallback(false);\n          }\n        });\n      }\n    }, {\n      key: 'setCheckCallback',\n      value: function setCheckCallback(callback) {\n        this._checkCallback = callback;\n      }\n    }]);\n    return SoundCheckView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Raw-Socket\n  // ------------------------------------------------\n  'service:raw-socket': function (_SegmentedView7) {\n    (0, _inherits3.default)(RawSocketView, _SegmentedView7);\n\n    function RawSocketView() {\n      (0, _classCallCheck3.default)(this, RawSocketView);\n\n      var _this16 = (0, _possibleConstructorReturn3.default)(this, (RawSocketView.__proto__ || (0, _getPrototypeOf2.default)(RawSocketView)).call(this));\n\n      _this16.template = '\\n        <div class=\"section-top\"></div>\\n        <div class=\"section-center flex-center\">\\n          <p class=\"soft-blink\"><%= wait %></p>\\n        </div>\\n        <div class=\"section-bottom\"></div>\\n      ';\n\n      _this16.model = {\n        wait: 'Opening socket,<br />stand by&hellip;'\n      };\n      return _this16;\n    }\n\n    return RawSocketView;\n  }(_client.SegmentedView),\n\n  // ------------------------------------------------\n  // Sync\n  // ------------------------------------------------\n  'service:sync': function (_SegmentedView8) {\n    (0, _inherits3.default)(RawSocketView, _SegmentedView8);\n\n    function RawSocketView() {\n      (0, _classCallCheck3.default)(this, RawSocketView);\n\n      var _this17 = (0, _possibleConstructorReturn3.default)(this, (RawSocketView.__proto__ || (0, _getPrototypeOf2.default)(RawSocketView)).call(this));\n\n      _this17.template = '\\n        <div class=\"section-top\"></div>\\n        <div class=\"section-center flex-center\">\\n          <p class=\"soft-blink\"><%= wait %></p>\\n        </div>\\n        <div class=\"section-bottom\"></div>\\n      ';\n\n      _this17.model = {\n        wait: 'synchronisation'\n      };\n      return _this17;\n    }\n\n    return RawSocketView;\n  }(_client.SegmentedView),\n\n  // public API\n  has: function has(id) {\n    return !!this[id];\n  },\n  get: function get(id, config) {\n    var ctor = this[id];\n    var view = new ctor();\n    // additionnal configuration\n    view.model.globals = (0, _assign2.default)({}, config);\n    view.options.id = id.replace(/\\:/g, '-');\n\n    return view;\n  }\n};\n\nexports.default = serviceViews;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VWaWV3cy5qcyJdLCJuYW1lcyI6WyJub29wIiwic2VydmljZVZpZXdzIiwidGVtcGxhdGUiLCJtb2RlbCIsInN0YXR1cyIsInNob3dQcm9ncmVzcyIsIm1zZyIsImxvYWRpbmciLCJkZWNvZGluZyIsIiRwcm9ncmVzc0JhciIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJyYXRpbyIsInBlcmNlbnQiLCJNYXRoIiwicm91bmQiLCJyZW5kZXIiLCJzdHlsZSIsIndpZHRoIiwiU2VnbWVudGVkVmlldyIsImluc3RydWN0aW9ucyIsInNlbmQiLCJyZXNldCIsInJlamVjdE1lc3NhZ2UiLCJyZWplY3RlZCIsIl9zZW5kUGFzc3dvcmRDYWxsYmFjayIsIl9yZXNldENhbGxiYWNrIiwiaW5zdGFsbEV2ZW50cyIsInBhc3N3b3JkIiwidmFsdWUiLCJjYWxsYmFjayIsImxhYmVsUHJlZml4IiwibGFiZWxQb3N0Zml4IiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJ3YWl0IiwibGFiZWwiLCJfcmVhZHlDYWxsYmFjayIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJpbnRlcmFjdGlvbiIsIl9zZWxlY3Rpb25DYWxsYmFjayIsImUiLCJ0YXJnZXQiLCJpZCIsImdldEF0dHJpYnV0ZSIsInNob3dCdG4iLCJhcmVhIiwiX3NlbGVjdENhbGxiYWNrIiwiX29uQXJlYVRvdWNoU3RhcnQiLCJiaW5kIiwiX29uQXJlYVRvdWNoTW92ZSIsInNlbGVjdG9yIiwic2hvdyIsIiRhcmVhQ29udGFpbmVyIiwiX2FyZWEiLCJfcmVuZGVyQXJlYSIsInN1cmZhY2UiLCJyZW1vdmVMaXN0ZW5lciIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsIm9yaWVudGF0aW9uIiwib25SZXNpemUiLCJTcGFjZVZpZXciLCJzZXRBcmVhIiwiYXBwZW5kVG8iLCJvblJlbmRlciIsIlRvdWNoU3VyZmFjZSIsIiRzdmdDb250YWluZXIiLCJhZGRMaXN0ZW5lciIsIm5vcm1YIiwibm9ybVkiLCJwb3NpdGlvbiIsIl9jcmVhdGVQb3NpdGlvbiIsIngiLCJ5IiwiX3VwZGF0ZVBvc2l0aW9uIiwiaGVpZ2h0IiwiYWRkUG9pbnQiLCJ1cGRhdGVQb2ludCIsIlNxdWFyZWRWaWV3IiwicmVqZWN0IiwiX29uU2VsZWN0aW9uQ2hhbmdlIiwiX29uU2VsZWN0IiwiaW5kZXgiLCJjb29yZGluYXRlcyIsIiRzZWxlY3RvckNvbnRhaW5lciIsImNhcGFjaXR5IiwibGFiZWxzIiwibWF4Q2xpZW50c1BlclBvc2l0aW9uIiwicG9zaXRpb25zIiwibnVtYmVyUG9zaXRpb25zIiwidG9TdHJpbmciLCJwdXNoIiwiU2VsZWN0VmlldyIsImVudHJpZXMiLCJpbmRleGVzIiwiaW5kZXhPZiIsImVuYWJsZUluZGV4IiwiZGlzYWJsZUluZGV4IiwiZGlzYWJsZWRQb3NpdGlvbnMiLCJpc0NvbXBhdGlibGUiLCJoYXNBdXRob3JpemF0aW9ucyIsImNoZWNraW5nIiwiY2hlY2tpbmdNZXNzYWdlIiwiZXJyb3JDb21wYXRpYmxlTWVzc2FnZSIsImVycm9ySG9va3NNZXNzYWdlIiwicmF0aW9zIiwiX3RvdWNoc3RhcnRDYWxsYmFjayIsIl9tb3VzZWRvd25DYWxsYmFjayIsIl9jaGVja0NhbGxiYWNrIiwiaGFzIiwiZ2V0IiwiY29uZmlnIiwiY3RvciIsInZpZXciLCJnbG9iYWxzIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQVFBO0FBQ0E7Ozs7OztBQU1BOzs7Ozs7OztBQVFBOztBQUVBLElBQU1BLE9BQU8sU0FBUEEsSUFBTyxHQUFNLENBQUUsQ0FBckI7O0FBRUEsSUFBTUMsZUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUNFLHNDQUFxQjtBQUFBOztBQUFBOztBQUduQixZQUFLQyxRQUFMOztBQWNBLFlBQUtDLEtBQUwsR0FBYTtBQUNYQyxnQkFBUSxTQURHO0FBRVhDLHNCQUFjLElBRkg7QUFHWEMsYUFBSztBQUNIQyxt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QkFBYyxFQUFkLEVBQWtCSCxNQUFsQixDQUFyQjtBQUNBRSxTQUFLNUUsT0FBTCxDQUFhSyxFQUFiLEdBQWtCQSxHQUFHeUUsT0FBSCxDQUFXLEtBQVgsRUFBa0IsR0FBbEIsQ0FBbEI7O0FBRUEsV0FBT0YsSUFBUDtBQUNEO0FBeHZCa0IsQ0FBckI7O2tCQTJ2QmVsSCxZIiwiZmlsZSI6InNlcnZpY2VWaWV3cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFNlZ21lbnRlZFZpZXcsXG4gIFNlbGVjdFZpZXcsXG4gIFNwYWNlVmlldyxcbiAgU3F1YXJlZFZpZXcsXG4gIFRvdWNoU3VyZmFjZSxcbn0gZnJvbSAnc291bmR3b3Jrcy9jbGllbnQnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZXhhbXBsZVxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSB2aWV3IG9mIHRoZSBgYXVkaW8tYnVmZmVyLW1hbmFnZXJgIHNlcnZpY2UuXG4gKlxuICogQGludGVyZmFjZSBBYnN0cmFjdEF1ZGlvQnVmZmVyTWFuYWdlclZpZXdcbiAqIEBleHRlbmRzIG1vZHVsZTpzb3VuZHdvcmtzL2NsaWVudC5WaWV3XG4gKi9cbi8qKlxuICogTWV0aG9kIGNhbGxlZCB3aGVuIGEgbmV3IGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50bHkgbG9hZGVkIGFzc2V0c1xuICogaXMgcmVjZWl2ZWQuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBBYnN0cmFjdEF1ZGlvQnVmZmVyTWFuYWdlclZpZXcub25Qcm9ncmVzc1xuICogQHBhcmFtIHtOdW1iZXJ9IHBlcmNlbnQgLSBUaGUgcHVyY2VudGFnZSBvZiBsb2FkZWQgYXNzZXRzLlxuICovXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5jb25zdCBzZXJ2aWNlVmlld3MgPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBBdWRpb0J1ZmZlck1hbmFnZXJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOmF1ZGlvLWJ1ZmZlci1tYW5hZ2VyJzogY2xhc3MgQXVkaW9CdWZmZXJNYW5hZ2VyVmlldyBleHRlbmRzIFNlZ21lbnRlZFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcCBmbGV4LW1pZGRsZVwiPlxuICAgICAgICAgIDxwPjwlPSBtc2dbc3RhdHVzXSAlPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNlbnRlciBmbGV4LWNlbnRlclwiPlxuICAgICAgICAgIDwlIGlmIChzaG93UHJvZ3Jlc3MpIHsgJT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3Mtd3JhcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwlIH0gJT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvdHRvbVwiPjwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgc3RhdHVzOiAnbG9hZGluZycsXG4gICAgICAgIHNob3dQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgbXNnOiB7XG4gICAgICAgICAgbG9hZGluZzogJ0NoYXJnZW1lbnQgZGVzIGZpY2hpZXJzIGF1ZGlvLi4uJyxcbiAgICAgICAgICBkZWNvZGluZzogJ0TDqWNvZGFnZS4uLicsXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgb25SZW5kZXIoKSB7XG4gICAgICBzdXBlci5vblJlbmRlcigpO1xuICAgICAgdGhpcy4kcHJvZ3Jlc3NCYXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3MtYmFyJyk7XG4gICAgfVxuXG4gICAgb25Qcm9ncmVzcyhyYXRpbykge1xuICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGgucm91bmQocmF0aW8gKiAxMDApO1xuXG4gICAgICBpZiAocGVyY2VudCA9PT0gMTAwKSB7XG4gICAgICAgIHRoaXMubW9kZWwuc3RhdHVzID0gJ2RlY29kaW5nJztcbiAgICAgICAgdGhpcy5yZW5kZXIoJy5zZWN0aW9uLXRvcCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tb2RlbC5zaG93UHJvZ3Jlc3MpXG4gICAgICAgIHRoaXMuJHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudH0lYDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEF1dGhcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOmF1dGgnOiBjbGFzcyBBdXRoVmlldyBleHRlbmRzIFNlZ21lbnRlZFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGBcbiAgICAgICAgPCUgaWYgKCFyZWplY3RlZCkgeyAlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcCBmbGV4LW1pZGRsZVwiPlxuICAgICAgICAgICAgPHA+PCU9IGluc3RydWN0aW9ucyAlPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIGlkPVwic2VuZFwiPjwlPSBzZW5kICU+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1ib3R0b20gZmxleC1taWRkbGVcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZXNldFwiIGNsYXNzPVwiYnRuXCI+PCU9IHJlc2V0ICU+PC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwlIH0gZWxzZSB7ICU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tY2VudGVyIGZsZXgtY2VudGVyXCI+XG4gICAgICAgICAgICA8cD48JT0gcmVqZWN0TWVzc2FnZSAlPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1ib3R0b20gZmxleC1taWRkbGVcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZXNldFwiIGNsYXNzPVwiYnRuXCI+PCU9IHJlc2V0ICU+PC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwlIH0gJT5cbiAgICAgIGA7XG5cbiAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgIGluc3RydWN0aW9uczogJ0xvZ2luJyxcbiAgICAgICAgc2VuZDogJ1NlbmQnLFxuICAgICAgICByZXNldDogJ1Jlc2V0JyxcbiAgICAgICAgcmVqZWN0TWVzc2FnZTogYFNvcnJ5LCB5b3UgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyBjbGllbnRgLFxuICAgICAgICByZWplY3RlZDogZmFsc2UsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9zZW5kUGFzc3dvcmRDYWxsYmFjayA9IG5vb3A7XG4gICAgICB0aGlzLl9yZXNldENhbGxiYWNrID0gbm9vcDtcbiAgICB9XG5cbiAgICBvblJlbmRlcigpIHtcbiAgICAgIHN1cGVyLm9uUmVuZGVyKCk7XG5cbiAgICAgIHRoaXMuaW5zdGFsbEV2ZW50cyh7XG4gICAgICAgICdjbGljayAjc2VuZCc6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKHBhc3N3b3JkICE9PSAnJylcbiAgICAgICAgICAgIHRoaXMuX3NlbmRQYXNzd29yZENhbGxiYWNrKHBhc3N3b3JkKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2NsaWNrICNyZXNldCc6ICgpID0+IHRoaXMuX3Jlc2V0Q2FsbGJhY2soKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFNlbmRQYXNzd29yZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9zZW5kUGFzc3dvcmRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHNldFJlc2V0Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX3Jlc2V0Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICB1cGRhdGVSZWplY3RlZFN0YXR1cyh2YWx1ZSkge1xuICAgICAgdGhpcy5tb2RlbC5yZWplY3RlZCA9IHZhbHVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIENoZWNraW5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOmNoZWNraW4nOiBjbGFzcyBDaGVja2luVmlldyBleHRlbmRzIFNlZ21lbnRlZFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGBcbiAgICAgICAgPCUgaWYgKGxhYmVsKSB7ICU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wIGZsZXgtbWlkZGxlXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImJpZ1wiPjwlPSBsYWJlbFByZWZpeCAlPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2luLWxhYmVsXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiaHVnZSBib2xkXCI+PCU9IGxhYmVsICU+PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tIGZsZXgtbWlkZGxlXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInNtYWxsXCI+PCU9IGxhYmVsUG9zdGZpeCAlPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPCUgfSBlbHNlIHsgJT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10b3BcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxwPjwlPSBlcnJvciA/IGVycm9yTWVzc2FnZSA6IHdhaXQgJT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tXCI+PC9kaXY+XG4gICAgICAgIDwlIH0gJT5cbiAgICAgIGA7XG5cbiAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgIGxhYmVsUHJlZml4OiAnR28gdG8nLFxuICAgICAgICBsYWJlbFBvc3RmaXg6ICdUb3VjaCB0aGUgc2NyZWVuPGJyIGNsYXNzPVwicG9ydHJhaXQtb25seVwiIC8+d2hlbiB5b3UgYXJlIHJlYWR5LicsXG4gICAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnU29ycnksPGJyLz5ubyBwbGFjZSBhdmFpbGFibGUnLFxuICAgICAgICB3YWl0OiAnQ29ubmVjdGlvbi4uLicsXG4gICAgICAgIGxhYmVsOiAnJyxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX3JlYWR5Q2FsbGJhY2sgPSBudWxsO1xuICAgIH1cblxuICAgIG9uUmVuZGVyKCkge1xuICAgICAgc3VwZXIub25SZW5kZXIoKTtcblxuICAgICAgY29uc3QgZXZlbnROYW1lID0gdGhpcy5vcHRpb25zLmludGVyYWN0aW9uID09PSAnbW91c2UnID8gJ2NsaWNrJyA6ICd0b3VjaHN0YXJ0JztcblxuICAgICAgdGhpcy5pbnN0YWxsRXZlbnRzKHtcbiAgICAgICAgW2V2ZW50TmFtZV06ICgpID0+IHRoaXMuX3JlYWR5Q2FsbGJhY2soKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFJlYWR5Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX3JlYWR5Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICB1cGRhdGVMYWJlbCh2YWx1ZSkge1xuICAgICAgdGhpcy5tb2RlbC5sYWJlbCA9IHZhbHVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFcnJvclN0YXR1cyh2YWx1ZSkge1xuICAgICAgdGhpcy5tb2RlbC5lcnJvciA9IHZhbHVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgJ3NlcnZpY2U6bGFuZ3VhZ2UnOiBjbGFzcyBMYW5ndWFnZVZpZXcgZXh0ZW5kcyBTZWdtZW50ZWRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXJcIj5cbiAgICAgICAgICA8JSBmb3IgKGxldCBrZXkgaW4gb3B0aW9ucykgeyAlPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIGRhdGEtaWQ9XCI8JT0ga2V5ICU+XCI+PCU9IG9wdGlvbnNba2V5XSAlPjwvYnV0dG9uPlxuICAgICAgICAgIDwlIH0gJT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvdHRvbVwiPjwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5tb2RlbCA9IHt9O1xuXG4gICAgICB0aGlzLl9zZWxlY3Rpb25DYWxsYmFjayA9IG5vb3A7XG4gICAgfVxuXG4gICAgb25SZW5kZXIoKSB7XG4gICAgICBzdXBlci5vblJlbmRlcigpO1xuXG4gICAgICBjb25zdCBldmVudE5hbWUgPSB0aGlzLm9wdGlvbnMuaW50ZXJhY3Rpb24gPT09ICdtb3VzZScgPyAnY2xpY2snIDogJ3RvdWNoc3RhcnQnO1xuICAgICAgdGhpcy5pbnN0YWxsRXZlbnRzKHtcbiAgICAgICAgW2Ake2V2ZW50TmFtZX0gLmJ0bmBdOiAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgIGNvbnN0IGlkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkNhbGxiYWNrKGlkKTtcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc2V0U2VsZWN0aW9uQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX3NlbGVjdGlvbkNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICB9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBMb2NhdG9yXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAnc2VydmljZTpsb2NhdG9yJzogY2xhc3MgTG9jYXRvclZpZXcgZXh0ZW5kcyBTcXVhcmVkVmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICB0aGlzLnRlbXBsYXRlID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1zcXVhcmVcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tZmxvYXQgZmxleC1taWRkbGVcIj5cbiAgICAgICAgICA8JSBpZiAoIXNob3dCdG4pIHsgJT5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwic21hbGxcIj48JT0gaW5zdHJ1Y3Rpb25zICU+PC9wPlxuICAgICAgICAgIDwlIH0gZWxzZSB7ICU+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCI+PCU9IHNlbmQgJT48L2J1dHRvbj5cbiAgICAgICAgICA8JSB9ICU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRGVmaW5lIHlvdXIgcG9zaXRpb24gaW4gdGhlIGFyZWEnLFxuICAgICAgICBzZW5kOiAnU2VuZCcsXG4gICAgICAgIHNob3dCdG46IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5hcmVhID0gbnVsbDtcbiAgICAgIHRoaXMuX3NlbGVjdENhbGxiYWNrID0gbm9vcDtcblxuICAgICAgdGhpcy5fb25BcmVhVG91Y2hTdGFydCA9IHRoaXMuX29uQXJlYVRvdWNoU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uQXJlYVRvdWNoTW92ZSA9IHRoaXMuX29uQXJlYVRvdWNoTW92ZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICBzdXBlci5zaG93KCk7XG4gICAgICB0aGlzLnNlbGVjdG9yLnNob3coKTtcbiAgICB9XG5cbiAgICBvblJlbmRlcigpIHtcbiAgICAgIHN1cGVyLm9uUmVuZGVyKCk7XG4gICAgICB0aGlzLiRhcmVhQ29udGFpbmVyID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tc3F1YXJlJyk7XG4gICAgfVxuXG4gICAgc2V0QXJlYShhcmVhKSB7XG4gICAgICB0aGlzLl9hcmVhID0gYXJlYTtcbiAgICAgIHRoaXMuX3JlbmRlckFyZWEoKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgdGhpcy5fc2VsZWN0Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICBzdXBlci5yZW1vdmUoKTtcblxuICAgICAgdGhpcy5zdXJmYWNlLnJlbW92ZUxpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25BcmVhVG91Y2hTdGFydCk7XG4gICAgICB0aGlzLnN1cmZhY2UucmVtb3ZlTGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX29uQXJlYVRvdWNoTW92ZSk7XG4gICAgfVxuXG4gICAgb25SZXNpemUodmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIG9yaWVudGF0aW9uKSB7XG4gICAgICBzdXBlci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gICAgICBpZiAodGhpcy5zZWxlY3RvcilcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIF9yZW5kZXJBcmVhKCkge1xuICAgICAgdGhpcy5zZWxlY3RvciA9IG5ldyBTcGFjZVZpZXcoKTtcbiAgICAgIHRoaXMuc2VsZWN0b3Iuc2V0QXJlYSh0aGlzLl9hcmVhKTtcblxuICAgICAgdGhpcy5zZWxlY3Rvci5yZW5kZXIoKTtcbiAgICAgIHRoaXMuc2VsZWN0b3IuYXBwZW5kVG8odGhpcy4kYXJlYUNvbnRhaW5lcik7XG4gICAgICB0aGlzLnNlbGVjdG9yLm9uUmVuZGVyKCk7XG5cbiAgICAgIHRoaXMuc3VyZmFjZSA9IG5ldyBUb3VjaFN1cmZhY2UodGhpcy5zZWxlY3Rvci4kc3ZnQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuc3VyZmFjZS5hZGRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX29uQXJlYVRvdWNoU3RhcnQpO1xuICAgICAgdGhpcy5zdXJmYWNlLmFkZExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9vbkFyZWFUb3VjaE1vdmUpO1xuICAgIH1cblxuICAgIF9vbkFyZWFUb3VjaFN0YXJ0KGlkLCBub3JtWCwgbm9ybVkpIHtcbiAgICAgIGlmICghdGhpcy5wb3NpdGlvbikge1xuICAgICAgICB0aGlzLl9jcmVhdGVQb3NpdGlvbihub3JtWCwgbm9ybVkpO1xuXG4gICAgICAgIHRoaXMubW9kZWwuc2hvd0J0biA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyKCcuc2VjdGlvbi1mbG9hdCcpO1xuICAgICAgICB0aGlzLmluc3RhbGxFdmVudHMoe1xuICAgICAgICAgICdjbGljayAuYnRuJzogKGUpID0+IHRoaXMuX3NlbGVjdENhbGxiYWNrKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbihub3JtWCwgbm9ybVkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9vbkFyZWFUb3VjaE1vdmUoaWQsIG5vcm1YLCBub3JtWSkge1xuICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24obm9ybVgsIG5vcm1ZKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUG9zaXRpb24obm9ybVgsIG5vcm1ZKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uID0ge1xuICAgICAgICBpZDogJ2xvY2F0b3InLFxuICAgICAgICB4OiBub3JtWCAqIHRoaXMuX2FyZWEud2lkdGgsXG4gICAgICAgIHk6IG5vcm1ZICogdGhpcy5fYXJlYS5oZWlnaHQsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNlbGVjdG9yLmFkZFBvaW50KHRoaXMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIF91cGRhdGVQb3NpdGlvbihub3JtWCwgbm9ybVkpIHtcbiAgICAgIHRoaXMucG9zaXRpb24ueCA9IG5vcm1YICogdGhpcy5fYXJlYS53aWR0aDtcbiAgICAgIHRoaXMucG9zaXRpb24ueSA9IG5vcm1ZICogdGhpcy5fYXJlYS5oZWlnaHQ7XG5cbiAgICAgIHRoaXMuc2VsZWN0b3IudXBkYXRlUG9pbnQodGhpcy5wb3NpdGlvbik7XG4gICAgfVxuICB9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQbGFjZXJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOnBsYWNlcic6IGNsYXNzIFBsYWNlclZpZXdMaXN0IGV4dGVuZHMgU3F1YXJlZFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tc3F1YXJlIGZsZXgtbWlkZGxlXCI+XG4gICAgICAgICAgPCUgaWYgKHJlamVjdGVkKSB7ICU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZpdC1jb250YWluZXIgZmxleC1taWRkbGVcIj5cbiAgICAgICAgICAgIDxwPjwlPSByZWplY3QgJT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPCUgfSAlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tZmxvYXQgZmxleC1taWRkbGVcIj5cbiAgICAgICAgICA8JSBpZiAoIXJlamVjdGVkKSB7ICU+XG4gICAgICAgICAgICA8JSBpZiAoc2hvd0J0bikgeyAlPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCI+PCU9IHNlbmQgJT48L2J1dHRvbj5cbiAgICAgICAgICAgIDwlIH0gJT5cbiAgICAgICAgICA8JSB9ICU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnU2VsZWN0IHlvdXIgcG9zaXRpb24nLFxuICAgICAgICBzZW5kOiAnU2VuZCcsXG4gICAgICAgIHJlamVjdDogJ1NvcnJ5LCBubyBwbGFjZSBpcyBhdmFpbGFibGUnLFxuICAgICAgICBzaG93QnRuOiBmYWxzZSxcbiAgICAgICAgcmVqZWN0ZWQ6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2UgPSB0aGlzLl9vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICBzdXBlci5zaG93KCk7XG4gICAgICB0aGlzLnNlbGVjdG9yLnNob3coKTtcbiAgICB9XG5cbiAgICBfb25TZWxlY3Rpb25DaGFuZ2UoZSkge1xuICAgICAgdGhpcy5tb2RlbC5zaG93QnRuID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyKCcuc2VjdGlvbi1mbG9hdCcpO1xuXG4gICAgICB0aGlzLmluc3RhbGxFdmVudHMoe1xuICAgICAgICAnY2xpY2sgLmJ0bic6IChlKSA9PiB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnNlbGVjdG9yLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKHBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5fb25TZWxlY3QocG9zaXRpb24uaW5kZXgsIHBvc2l0aW9uLmxhYmVsLCBwb3NpdGlvbi5jb29yZGluYXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEFyZWEoYXJlYSkgeyAvKiBubyBuZWVkIGZvciBhcmVhICovIH1cblxuICAgIG9uUmVuZGVyKCkge1xuICAgICAgc3VwZXIub25SZW5kZXIoKTtcbiAgICAgIHRoaXMuJHNlbGVjdG9yQ29udGFpbmVyID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tc3F1YXJlJyk7XG4gICAgfVxuXG4gICAgb25SZXNpemUodmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIG9yaWVudGF0aW9uKSB7XG4gICAgICBzdXBlci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gICAgICBpZiAodGhpcy5zZWxlY3RvcilcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIGRpc3BsYXlQb3NpdGlvbnMoY2FwYWNpdHksIGxhYmVscyA9IG51bGwsIGNvb3JkaW5hdGVzID0gbnVsbCwgbWF4Q2xpZW50c1BlclBvc2l0aW9uID0gMSkge1xuICAgICAgdGhpcy5wb3NpdGlvbnMgPSBbXTtcbiAgICAgIHRoaXMubnVtYmVyUG9zaXRpb25zID0gY2FwYWNpdHkgLyBtYXhDbGllbnRzUGVyUG9zaXRpb247XG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm51bWJlclBvc2l0aW9uczsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVscyAhPT0gbnVsbCA/IGxhYmVsc1tpbmRleF0gOiAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHsgaW5kZXg6IGluZGV4LCBsYWJlbDogbGFiZWwgfTtcblxuICAgICAgICBpZiAoY29vcmRpbmF0ZXMpXG4gICAgICAgICAgcG9zaXRpb24uY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlc1tpbmRleF07XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VsZWN0b3IgPSBuZXcgU2VsZWN0Vmlldyh7XG4gICAgICAgIGluc3RydWN0aW9uczogdGhpcy5tb2RlbC5pbnN0cnVjdGlvbnMsXG4gICAgICAgIGVudHJpZXM6IHRoaXMucG9zaXRpb25zLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2VsZWN0b3IucmVuZGVyKCk7XG4gICAgICB0aGlzLnNlbGVjdG9yLmFwcGVuZFRvKHRoaXMuJHNlbGVjdG9yQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuc2VsZWN0b3Iub25SZW5kZXIoKTtcblxuICAgICAgdGhpcy5zZWxlY3Rvci5pbnN0YWxsRXZlbnRzKHtcbiAgICAgICAgJ2NoYW5nZSc6IHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRGlzYWJsZWRQb3NpdGlvbnMoaW5kZXhlcykge1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubnVtYmVyUG9zaXRpb25zOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChpbmRleGVzLmluZGV4T2YoaW5kZXgpID09PSAtMSlcbiAgICAgICAgICB0aGlzLnNlbGVjdG9yLmVuYWJsZUluZGV4KGluZGV4KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMuc2VsZWN0b3IuZGlzYWJsZUluZGV4KGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTZWxlY3RDYWxsYWNrKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblNlbGVjdCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHJlamVjdChkaXNhYmxlZFBvc2l0aW9ucykge1xuICAgICAgdGhpcy5tb2RlbC5yZWplY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfSxcblxuICAvLyBncmFwaGljIHBsYWNlciBmbGF2b3IgZm9yIHByZWRldGVybWluZWQgY29vcmRpbmF0ZXNcbiAgLy8gJ3NlcnZpY2U6cGxhY2VyJzogY2xhc3MgUGxhY2VyVmlld0dyYXBoaWMgZXh0ZW5kcyBTcXVhcmVkVmlldyB7XG4gIC8vICAgY29uc3RydWN0b3IoKSB7XG4gIC8vICAgICBzdXBlcigpO1xuXG4gIC8vICAgICB0aGlzLnRlbXBsYXRlID0gYFxuICAvLyAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1zcXVhcmUgZmxleC1taWRkbGVcIj5cbiAgLy8gICAgICAgICA8JSBpZiAocmVqZWN0ZWQpIHsgJT5cbiAgLy8gICAgICAgICA8ZGl2IGNsYXNzPVwiZml0LWNvbnRhaW5lciBmbGV4LW1pZGRsZVwiPlxuICAvLyAgICAgICAgICAgPHA+PCU9IHJlamVjdCAlPjwvcD5cbiAgLy8gICAgICAgICA8L2Rpdj5cbiAgLy8gICAgICAgICA8JSB9ICU+XG4gIC8vICAgICAgIDwvZGl2PlxuICAvLyAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1mbG9hdCBmbGV4LW1pZGRsZVwiPlxuICAvLyAgICAgICAgIDwlIGlmICghcmVqZWN0ZWQpIHsgJT5cbiAgLy8gICAgICAgICAgIDwlIGlmIChzaG93QnRuKSB7ICU+XG4gIC8vICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIj48JT0gc2VuZCAlPjwvYnV0dG9uPlxuICAvLyAgICAgICAgICAgPCUgfSAlPlxuICAvLyAgICAgICAgIDwlIH0gJT5cbiAgLy8gICAgICAgPC9kaXY+XG4gIC8vICAgICBgO1xuXG4gIC8vICAgICB0aGlzLm1vZGVsID0ge1xuICAvLyAgICAgICBpbnN0cnVjdGlvbnM6ICdTZWxlY3QgeW91ciBwb3NpdGlvbicsXG4gIC8vICAgICAgIHNlbmQ6ICdTZW5kJyxcbiAgLy8gICAgICAgcmVqZWN0OiAnU29ycnksIG5vIHBsYWNlIGlzIGF2YWlsYWJsZScsXG4gIC8vICAgICAgIHNob3dCdG46IGZhbHNlLFxuICAvLyAgICAgICByZWplY3RlZDogZmFsc2UsXG4gIC8vICAgICB9O1xuXG4gIC8vICAgICB0aGlzLl9hcmVhID0gbnVsbDtcbiAgLy8gICAgIHRoaXMuX2Rpc2FibGVkUG9zaXRpb25zID0gW107XG4gIC8vICAgICB0aGlzLl9vblNlbGVjdGlvbkNoYW5nZSA9IHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gIC8vICAgfVxuXG4gIC8vICAgc2hvdygpIHtcbiAgLy8gICAgIHN1cGVyLnNob3coKTtcbiAgLy8gICAgIHRoaXMuc2VsZWN0b3Iuc2hvdygpO1xuICAvLyAgIH1cblxuICAvLyAgIG9uUmVuZGVyKCkge1xuICAvLyAgICAgc3VwZXIub25SZW5kZXIoKTtcbiAgLy8gICAgIHRoaXMuJHNlbGVjdG9yQ29udGFpbmVyID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tc3F1YXJlJyk7XG4gIC8vICAgfVxuXG4gIC8vICAgb25SZXNpemUodmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIG9yaWVudGF0aW9uKSB7XG4gIC8vICAgICBzdXBlci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuXG4gIC8vICAgICBpZiAodGhpcy5zZWxlY3RvcilcbiAgLy8gICAgICAgdGhpcy5zZWxlY3Rvci5vblJlc2l6ZSh2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgb3JpZW50YXRpb24pO1xuICAvLyAgIH1cblxuICAvLyAgIF9vblNlbGVjdGlvbkNoYW5nZShlKSB7XG4gIC8vICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuc2VsZWN0b3Iuc2hhcGVQb2ludE1hcC5nZXQoZS50YXJnZXQpO1xuICAvLyAgICAgY29uc3QgZGlzYWJsZWRJbmRleCA9IHRoaXMuX2Rpc2FibGVkUG9zaXRpb25zLmluZGV4T2YocG9zaXRpb24uaW5kZXgpO1xuXG4gIC8vICAgICBpZiAoZGlzYWJsZWRJbmRleCA9PT0gLTEpXG4gIC8vICAgICAgIHRoaXMuX29uU2VsZWN0KHBvc2l0aW9uLmlkLCBwb3NpdGlvbi5sYWJlbCwgW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnldKTtcbiAgLy8gICB9XG5cbiAgLy8gICBzZXRBcmVhKGFyZWEpIHtcbiAgLy8gICAgIHRoaXMuX2FyZWEgPSBhcmVhO1xuICAvLyAgIH1cblxuICAvLyAgIGRpc3BsYXlQb3NpdGlvbnMoY2FwYWNpdHksIGxhYmVscyA9IG51bGwsIGNvb3JkaW5hdGVzID0gbnVsbCwgbWF4Q2xpZW50c1BlclBvc2l0aW9uID0gMSkge1xuICAvLyAgICAgdGhpcy5udW1iZXJQb3NpdGlvbnMgPSBjYXBhY2l0eSAvIG1heENsaWVudHNQZXJQb3NpdGlvbjtcbiAgLy8gICAgIHRoaXMucG9zaXRpb25zID0gW107XG5cbiAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1iZXJQb3NpdGlvbnM7IGkrKykge1xuICAvLyAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVscyAhPT0gbnVsbCA/IGxhYmVsc1tpXSA6IChpICsgMSkudG9TdHJpbmcoKTtcbiAgLy8gICAgICAgY29uc3QgcG9zaXRpb24gPSB7IGlkOiBpLCBsYWJlbDogbGFiZWwgfTtcbiAgLy8gICAgICAgY29uc3QgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gIC8vICAgICAgIHBvc2l0aW9uLnggPSBjb29yZHNbMF07XG4gIC8vICAgICAgIHBvc2l0aW9uLnkgPSBjb29yZHNbMV07XG5cbiAgLy8gICAgICAgdGhpcy5wb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIHRoaXMuc2VsZWN0b3IgPSBuZXcgU3BhY2VWaWV3KCk7XG4gIC8vICAgICB0aGlzLnNlbGVjdG9yLnNldEFyZWEodGhpcy5fYXJlYSk7XG4gIC8vICAgICB0aGlzLnNlbGVjdG9yLnJlbmRlcigpO1xuICAvLyAgICAgdGhpcy5zZWxlY3Rvci5hcHBlbmRUbyh0aGlzLiRzZWxlY3RvckNvbnRhaW5lcik7XG4gIC8vICAgICB0aGlzLnNlbGVjdG9yLm9uUmVuZGVyKCk7XG4gIC8vICAgICB0aGlzLnNlbGVjdG9yLnNldFBvaW50cyh0aGlzLnBvc2l0aW9ucyk7XG5cbiAgLy8gICAgIHRoaXMuc2VsZWN0b3IuaW5zdGFsbEV2ZW50cyh7XG4gIC8vICAgICAgICdjbGljayAucG9pbnQnOiB0aGlzLl9vblNlbGVjdGlvbkNoYW5nZVxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuXG4gIC8vICAgdXBkYXRlRGlzYWJsZWRQb3NpdGlvbnMoaW5kZXhlcykge1xuICAvLyAgICAgdGhpcy5fZGlzYWJsZWRQb3NpdGlvbnMgPSBpbmRleGVzO1xuXG4gIC8vICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5udW1iZXJQb3NpdGlvbnM7IGluZGV4KyspIHtcbiAgLy8gICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uc1tpbmRleF07XG4gIC8vICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBpbmRleGVzLmluZGV4T2YoaW5kZXgpICE9PSAtMTtcbiAgLy8gICAgICAgcG9zaXRpb24uc2VsZWN0ZWQgPSBpc0Rpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAvLyAgICAgICB0aGlzLnNlbGVjdG9yLnVwZGF0ZVBvaW50KHBvc2l0aW9uKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG5cbiAgLy8gICBzZXRTZWxlY3RDYWxsYWNrKGNhbGxiYWNrKSB7XG4gIC8vICAgICB0aGlzLl9vblNlbGVjdCA9IGNhbGxiYWNrO1xuICAvLyAgIH1cblxuICAvLyAgIHJlamVjdChkaXNhYmxlZFBvc2l0aW9ucykge1xuICAvLyAgICAgdGhpcy5tb2RlbC5yZWplY3RlZCA9IHRydWU7XG4gIC8vICAgICB0aGlzLnJlbmRlcigpO1xuICAvLyAgIH1cbiAgLy8gfSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUGxhdGZvcm1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOnBsYXRmb3JtJzogY2xhc3MgUGxhdGZvcm1WaWV3IGV4dGVuZHMgU2VnbWVudGVkVmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICB0aGlzLnRlbXBsYXRlID0gYFxuICAgICAgICA8JSBpZiAoaXNDb21wYXRpYmxlID09PSBmYWxzZSkgeyAlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcFwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNlbnRlciBmbGV4LWNlbnRlclwiPlxuICAgICAgICAgICAgPHA+PCU9IGVycm9yQ29tcGF0aWJsZU1lc3NhZ2UgJT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tXCI+PC9kaXY+XG4gICAgICAgIDwlIH0gZWxzZSBpZiAoaGFzQXV0aG9yaXphdGlvbnMgPT09IGZhbHNlKSB7ICU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tY2VudGVyIGZsZXgtY2VudGVyXCI+XG4gICAgICAgICAgICA8cD48JT0gZXJyb3JIb29rc01lc3NhZ2UgJT48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tXCI+PC9kaXY+XG4gICAgICAgIDwlIH0gZWxzZSB7ICU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wIGZsZXgtbWlkZGxlXCI+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGl0bGVcIj48JT0gZ2xvYmFscy50aXRsZSAlPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1YnRpdGxlXCI+PCU9IGdsb2JhbHMuc3VidGl0bGUgJT48L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cImluc3RydWN0aW9ucyBzb2Z0LWJsaW5rXCI+XG4gICAgICAgICAgICAgICAgPCUgZm9yICh2YXIga2V5IGluIGdsb2JhbHMuaW5zdHJ1Y3Rpb25zKSB7ICU+XG4gICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJpbnN0cnVjdGlvblwiPjwlPSBnbG9iYWxzLmluc3RydWN0aW9uc1trZXldICU+PC9saT5cbiAgICAgICAgICAgICAgICA8JSB9ICU+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidXNlLWhlYWRwaG9uZXNcIj48JT0gZ2xvYmFscy51c2VIZWFkcGhvbmVzICU+PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYm90dG9tIGZsZXgtbWlkZGxlXCI+XG4gICAgICAgICAgICA8JSBpZiAoY2hlY2tpbmcgPT09IHRydWUpIHsgJT5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwic21hbGwgc29mdC1ibGlua1wiPjwlPSBjaGVja2luZ01lc3NhZ2UgJT48L3A+XG4gICAgICAgICAgICA8JSB9IGVsc2UgaWYgKGhhc0F1dGhvcml6YXRpb25zID09PSB0cnVlKSB7ICU+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInNtYWxsIHNvZnQtYmxpbmtcIj48JT0gZ2xvYmFscy50b3VjaFRvU3RhcnQgJT48L3A+XG4gICAgICAgICAgICA8JSB9ICU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwlIH0gJT5cbiAgICAgIGA7XG5cbiAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgIGlzQ29tcGF0aWJsZTogbnVsbCxcbiAgICAgICAgaGFzQXV0aG9yaXphdGlvbnM6IG51bGwsXG4gICAgICAgIGNoZWNraW5nOiBmYWxzZSxcbiAgICAgICAgY2hlY2tpbmdNZXNzYWdlOiAnUGxlYXNlIHdhaXQgd2hpbGUgY2hlY2tpbmcgY29tcGF0aWJsaXR5JyxcbiAgICAgICAgZXJyb3JDb21wYXRpYmxlTWVzc2FnZTogJ1NvcnJ5LDxiciAvPllvdXIgZGV2aWNlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIGFwcGxpY2F0aW9uLicsXG4gICAgICAgIGVycm9ySG9va3NNZXNzYWdlOiBgU29ycnksPGJyIC8+VGhlIGFwcGxpY2F0aW9uIGRpZG4ndCBvYnRhaW4gdGhlIG5lY2Vzc2FyeSBhdXRob3JpemF0aW9ucy5gLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5yYXRpb3MgPSB7XG4gICAgICAgICcuc2VjdGlvbi10b3AnOiAwLjIsXG4gICAgICAgICcuc2VjdGlvbi1jZW50ZXInOiAwLjUsXG4gICAgICAgICcuc2VjdGlvbi1ib3R0b20nOiAwLjMsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLl90b3VjaHN0YXJ0Q2FsbGJhY2sgPSBub29wO1xuICAgICAgdGhpcy5fbW91c2Vkb3duQ2FsbGJhY2sgPSBub29wO1xuICAgIH1cblxuICAgIG9uUmVuZGVyKCkge1xuICAgICAgc3VwZXIub25SZW5kZXIoKTtcblxuICAgICAgdGhpcy5pbnN0YWxsRXZlbnRzKHtcbiAgICAgICAgJ21vdXNlZG93bic6IChlKSA9PiB0aGlzLl9tb3VzZWRvd25DYWxsYmFjayhlKSxcbiAgICAgICAgJ3RvdWNoc3RhcnQnOiAoZSkgPT4gdGhpcy5fdG91Y2hzdGFydENhbGxiYWNrKGUpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0VG91Y2hTdGFydENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl90b3VjaHN0YXJ0Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBzZXRNb3VzZURvd25DYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgdGhpcy5fbW91c2Vkb3duQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICB1cGRhdGVDaGVja2luZ1N0YXR1cyh2YWx1ZSkge1xuICAgICAgdGhpcy5tb2RlbC5jaGVja2luZyA9IHZhbHVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVJc0NvbXBhdGlibGVTdGF0dXModmFsdWUpIHtcbiAgICAgIHRoaXMubW9kZWwuaXNDb21wYXRpYmxlID0gdmFsdWU7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHVwZGF0ZUhhc0F1dGhvcml6YXRpb25zU3RhdHVzKHZhbHVlKSB7XG4gICAgICB0aGlzLm1vZGVsLmhhc0F1dGhvcml6YXRpb25zID0gdmFsdWU7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gU291bmQtQ2hlY2tcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOnNvdW5kLWNoZWNrJzogY2xhc3MgU291bmRDaGVja1ZpZXcgZXh0ZW5kcyBTZWdtZW50ZWRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcCBmbGV4LW1pZGRsZVwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwic21hbGxcIj48JT0gZ2xvYmFscy5xdWVzdGlvbiAlPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNlbnRlciBmbGV4LWNlbnRlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjaGVjay15ZXNcIj48JT0gZ2xvYmFscy55ZXMgJT48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvdHRvbSBmbGV4LWNlbnRlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjaGVjay1ub1wiPjwlPSBnbG9iYWxzLm5vICU+PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5yYXRpb3MgPSB7XG4gICAgICAgICcuc2VjdGlvbi10b3AnOiAwLjMsXG4gICAgICAgICcuc2VjdGlvbi1jZW50ZXInOiAwLjM1LFxuICAgICAgICAnLnNlY3Rpb24tYm90dG9tJzogMC4zNSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb25SZW5kZXIoKSB7XG4gICAgICBzdXBlci5vblJlbmRlcigpO1xuXG4gICAgICB0aGlzLmluc3RhbGxFdmVudHMoe1xuICAgICAgICAnY2xpY2sgLmNoZWNrLXllcyc6ICgpID0+IHRoaXMuX2NoZWNrQ2FsbGJhY2sodHJ1ZSksXG4gICAgICAgICdjbGljayAuY2hlY2stbm8nOiAoKSA9PiB0aGlzLl9jaGVja0NhbGxiYWNrKGZhbHNlKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldENoZWNrQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2NoZWNrQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gIH0sXG5cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUmF3LVNvY2tldFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJ3NlcnZpY2U6cmF3LXNvY2tldCc6IGNsYXNzIFJhd1NvY2tldFZpZXcgZXh0ZW5kcyBTZWdtZW50ZWRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRvcFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInNvZnQtYmxpbmtcIj48JT0gd2FpdCAlPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvdHRvbVwiPjwvZGl2PlxuICAgICAgYDtcblxuICAgICAgdGhpcy5tb2RlbCA9IHtcbiAgICAgICAgd2FpdDogYE9wZW5pbmcgc29ja2V0LDxiciAvPnN0YW5kIGJ5JmhlbGxpcDtgLFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFN5bmNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICdzZXJ2aWNlOnN5bmMnOiBjbGFzcyBSYXdTb2NrZXRWaWV3IGV4dGVuZHMgU2VnbWVudGVkVmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICB0aGlzLnRlbXBsYXRlID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10b3BcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tY2VudGVyIGZsZXgtY2VudGVyXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJzb2Z0LWJsaW5rXCI+PCU9IHdhaXQgJT48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1ib3R0b21cIj48L2Rpdj5cbiAgICAgIGA7XG5cbiAgICAgIHRoaXMubW9kZWwgPSB7XG4gICAgICAgIHdhaXQ6IGBzeW5jaHJvbmlzYXRpb25gLFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cblxuICAvLyBwdWJsaWMgQVBJXG4gIGhhcyhpZCkge1xuICAgIHJldHVybiAhIXRoaXNbaWRdO1xuICB9LFxuXG4gIGdldChpZCwgY29uZmlnKSB7XG4gICAgY29uc3QgY3RvciA9IHRoaXNbaWRdO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgY3RvcigpO1xuICAgIC8vIGFkZGl0aW9ubmFsIGNvbmZpZ3VyYXRpb25cbiAgICB2aWV3Lm1vZGVsLmdsb2JhbHMgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcpO1xuICAgIHZpZXcub3B0aW9ucy5pZCA9IGlkLnJlcGxhY2UoL1xcOi9nLCAnLScpO1xuXG4gICAgcmV0dXJuIHZpZXc7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZXJ2aWNlVmlld3M7XG4iXX0=","deps":{"babel-runtime/helpers/defineProperty":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/controller/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/controller/index.js","source":"'use strict';\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _client = require('soundworks/client');\n\nvar soundworks = _interopRequireWildcard(_client);\n\nvar _serviceViews = require('../shared/serviceViews');\n\nvar _serviceViews2 = _interopRequireDefault(_serviceViews);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import client side soundworks and player experience\nfunction bootstrap() {\n  document.body.classList.remove('loading');\n  // initialize the client with configuration received\n  // from the server through the `index.html`\n  // @see {~/src/server/index.js}\n  // @see {~/html/default.ejs}\n  var config = (0, _assign2.default)({ appContainer: '#container' }, window.soundworksConfig);\n  soundworks.client.init(config.clientType, config);\n\n  // configure views for the services\n  soundworks.client.setServiceInstanciationHook(function (id, instance) {\n    if (_serviceViews2.default.has(id)) instance.view = _serviceViews2.default.get(id, config);\n  });\n\n  // create client side (player) experience and start the client\n  var experience = new soundworks.ControllerExperience(config.assetsDomain);\n  soundworks.client.start();\n}\n// import PlayerExperience from './PlayerExperience';\n\n\nwindow.addEventListener('load', bootstrap);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInNvdW5kd29ya3MiLCJib290c3RyYXAiLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb25maWciLCJhcHBDb250YWluZXIiLCJ3aW5kb3ciLCJzb3VuZHdvcmtzQ29uZmlnIiwiY2xpZW50IiwiaW5pdCIsImNsaWVudFR5cGUiLCJzZXRTZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2siLCJpZCIsImluc3RhbmNlIiwic2VydmljZVZpZXdzIiwiaGFzIiwidmlldyIsImdldCIsImV4cGVyaWVuY2UiLCJDb250cm9sbGVyRXhwZXJpZW5jZSIsImFzc2V0c0RvbWFpbiIsInN0YXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7O0lBQVlBLFU7O0FBRVo7Ozs7Ozs7O0FBSEE7QUFLQSxTQUFTQyxTQUFULEdBQXFCO0FBQ25CQyxXQUFTQyxJQUFULENBQWNDLFNBQWQsQ0FBd0JDLE1BQXhCLENBQStCLFNBQS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxTQUFTLHNCQUFjLEVBQUVDLGNBQWMsWUFBaEIsRUFBZCxFQUE4Q0MsT0FBT0MsZ0JBQXJELENBQWY7QUFDQVQsYUFBV1UsTUFBWCxDQUFrQkMsSUFBbEIsQ0FBdUJMLE9BQU9NLFVBQTlCLEVBQTBDTixNQUExQzs7QUFFQTtBQUNBTixhQUFXVSxNQUFYLENBQWtCRywyQkFBbEIsQ0FBOEMsVUFBQ0MsRUFBRCxFQUFLQyxRQUFMLEVBQWtCO0FBQzlELFFBQUlDLHVCQUFhQyxHQUFiLENBQWlCSCxFQUFqQixDQUFKLEVBQ0VDLFNBQVNHLElBQVQsR0FBZ0JGLHVCQUFhRyxHQUFiLENBQWlCTCxFQUFqQixFQUFxQlIsTUFBckIsQ0FBaEI7QUFDSCxHQUhEOztBQUtBO0FBQ0EsTUFBTWMsYUFBYSxJQUFJcEIsV0FBV3FCLG9CQUFmLENBQW9DZixPQUFPZ0IsWUFBM0MsQ0FBbkI7QUFDQXRCLGFBQVdVLE1BQVgsQ0FBa0JhLEtBQWxCO0FBQ0Q7QUFyQkQ7OztBQXVCQWYsT0FBT2dCLGdCQUFQLENBQXdCLE1BQXhCLEVBQWdDdkIsU0FBaEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgY2xpZW50IHNpZGUgc291bmR3b3JrcyBhbmQgcGxheWVyIGV4cGVyaWVuY2VcbmltcG9ydCAqIGFzIHNvdW5kd29ya3MgZnJvbSAnc291bmR3b3Jrcy9jbGllbnQnO1xuLy8gaW1wb3J0IFBsYXllckV4cGVyaWVuY2UgZnJvbSAnLi9QbGF5ZXJFeHBlcmllbmNlJztcbmltcG9ydCBzZXJ2aWNlVmlld3MgZnJvbSAnLi4vc2hhcmVkL3NlcnZpY2VWaWV3cyc7XG5cbmZ1bmN0aW9uIGJvb3RzdHJhcCgpIHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XG4gIC8vIGluaXRpYWxpemUgdGhlIGNsaWVudCB3aXRoIGNvbmZpZ3VyYXRpb24gcmVjZWl2ZWRcbiAgLy8gZnJvbSB0aGUgc2VydmVyIHRocm91Z2ggdGhlIGBpbmRleC5odG1sYFxuICAvLyBAc2VlIHt+L3NyYy9zZXJ2ZXIvaW5kZXguanN9XG4gIC8vIEBzZWUge34vaHRtbC9kZWZhdWx0LmVqc31cbiAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7IGFwcENvbnRhaW5lcjogJyNjb250YWluZXInIH0sIHdpbmRvdy5zb3VuZHdvcmtzQ29uZmlnKTtcbiAgc291bmR3b3Jrcy5jbGllbnQuaW5pdChjb25maWcuY2xpZW50VHlwZSwgY29uZmlnKTtcblxuICAvLyBjb25maWd1cmUgdmlld3MgZm9yIHRoZSBzZXJ2aWNlc1xuICBzb3VuZHdvcmtzLmNsaWVudC5zZXRTZXJ2aWNlSW5zdGFuY2lhdGlvbkhvb2soKGlkLCBpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChzZXJ2aWNlVmlld3MuaGFzKGlkKSlcbiAgICAgIGluc3RhbmNlLnZpZXcgPSBzZXJ2aWNlVmlld3MuZ2V0KGlkLCBjb25maWcpO1xuICB9KTtcblxuICAvLyBjcmVhdGUgY2xpZW50IHNpZGUgKHBsYXllcikgZXhwZXJpZW5jZSBhbmQgc3RhcnQgdGhlIGNsaWVudFxuICBjb25zdCBleHBlcmllbmNlID0gbmV3IHNvdW5kd29ya3MuQ29udHJvbGxlckV4cGVyaWVuY2UoY29uZmlnLmFzc2V0c0RvbWFpbik7XG4gIHNvdW5kd29ya3MuY2xpZW50LnN0YXJ0KCk7XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYm9vdHN0cmFwKTtcbiJdfQ==","deps":{"babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js","../shared/serviceViews":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/serviceViews.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/ImagesLoader.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/ImagesLoader.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:images-loader';\n\nfunction prefixPaths(pathList, prefix) {\n  // test absolute urls (or protocol relative)\n  var isAbsolute = /^https?:\\/\\/|^\\/\\//i;\n\n  pathList = pathList.map(function (path) {\n    if (isAbsolute.test(path) || prefix === '/') return path;else return prefix + path;\n  });\n\n  return pathList;\n}\n\nvar ImagesLoader = function (_Service) {\n  (0, _inherits3.default)(ImagesLoader, _Service);\n\n  function ImagesLoader() {\n    (0, _classCallCheck3.default)(this, ImagesLoader);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ImagesLoader.__proto__ || (0, _getPrototypeOf2.default)(ImagesLoader)).call(this, SERVICE_ID, false));\n\n    var defaults = {\n      files: [],\n      viewPriority: 3,\n      assetsDomain: ''\n    };\n\n    _this.configure(defaults);\n    return _this;\n  }\n\n  (0, _createClass3.default)(ImagesLoader, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(ImagesLoader.prototype.__proto__ || (0, _getPrototypeOf2.default)(ImagesLoader.prototype), 'start', this).call(this);\n      this.show();\n\n      this.loadImages();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.hide();\n      (0, _get3.default)(ImagesLoader.prototype.__proto__ || (0, _getPrototypeOf2.default)(ImagesLoader.prototype), 'stop', this).call(this);\n    }\n  }, {\n    key: 'loadImages',\n    value: function loadImages() {\n      var _this2 = this;\n\n      var images = prefixPaths(this.options.files, this.options.assetsDomain);\n\n      var promises = images.map(function (src) {\n        return new _promise2.default(function (resolve, reject) {\n          var $img = new Image();\n          $img.src = src;\n          $img.onload = function () {\n            return resolve();\n          };\n        });\n      });\n\n      _promise2.default.all(promises).then(function () {\n        return _this2.ready();\n      });\n    }\n  }]);\n  return ImagesLoader;\n}(_client.Service);\n\n_client.serviceManager.register(SERVICE_ID, ImagesLoader);\n\nexports.default = ImagesLoader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkltYWdlc0xvYWRlci5qcyJdLCJuYW1lcyI6WyJTRVJWSUNFX0lEIiwicHJlZml4UGF0aHMiLCJwYXRoTGlzdCIsInByZWZpeCIsImlzQWJzb2x1dGUiLCJtYXAiLCJwYXRoIiwidGVzdCIsIkltYWdlc0xvYWRlciIsImRlZmF1bHRzIiwiZmlsZXMiLCJ2aWV3UHJpb3JpdHkiLCJhc3NldHNEb21haW4iLCJjb25maWd1cmUiLCJzaG93IiwibG9hZEltYWdlcyIsImhpZGUiLCJpbWFnZXMiLCJvcHRpb25zIiwicHJvbWlzZXMiLCJyZXNvbHZlIiwicmVqZWN0IiwiJGltZyIsIkltYWdlIiwic3JjIiwib25sb2FkIiwiYWxsIiwidGhlbiIsInJlYWR5IiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQU1BLGFBQWEsdUJBQW5COztBQUdBLFNBQVNDLFdBQVQsQ0FBcUJDLFFBQXJCLEVBQStCQyxNQUEvQixFQUF1QztBQUNyQztBQUNBLE1BQU1DLGFBQWEscUJBQW5COztBQUVBRixhQUFXQSxTQUFTRyxHQUFULENBQWEsVUFBQ0MsSUFBRCxFQUFVO0FBQ2hDLFFBQUlGLFdBQVdHLElBQVgsQ0FBZ0JELElBQWhCLEtBQXlCSCxXQUFXLEdBQXhDLEVBQ0UsT0FBT0csSUFBUCxDQURGLEtBR0UsT0FBT0gsU0FBU0csSUFBaEI7QUFDSCxHQUxVLENBQVg7O0FBT0EsU0FBT0osUUFBUDtBQUNEOztJQUdLTSxZOzs7QUFDSiwwQkFBYztBQUFBOztBQUFBLGtKQUNOUixVQURNLEVBQ00sS0FETjs7QUFHWixRQUFNUyxXQUFXO0FBQ2ZDLGFBQU8sRUFEUTtBQUVmQyxvQkFBYyxDQUZDO0FBR2ZDLG9CQUFjO0FBSEMsS0FBakI7O0FBTUEsVUFBS0MsU0FBTCxDQUFlSixRQUFmO0FBVFk7QUFVYjs7Ozs0QkFFTztBQUNOO0FBQ0EsV0FBS0ssSUFBTDs7QUFFQSxXQUFLQyxVQUFMO0FBQ0Q7OzsyQkFFTTtBQUNMLFdBQUtDLElBQUw7QUFDQTtBQUNEOzs7aUNBRVk7QUFBQTs7QUFDWCxVQUFNQyxTQUFTaEIsWUFBWSxLQUFLaUIsT0FBTCxDQUFhUixLQUF6QixFQUFnQyxLQUFLUSxPQUFMLENBQWFOLFlBQTdDLENBQWY7O0FBRUEsVUFBTU8sV0FBV0YsT0FBT1osR0FBUCxDQUFXLGVBQU87QUFDakMsZUFBTyxzQkFBWSxVQUFDZSxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdEMsY0FBTUMsT0FBTyxJQUFJQyxLQUFKLEVBQWI7QUFDQUQsZUFBS0UsR0FBTCxHQUFXQSxHQUFYO0FBQ0FGLGVBQUtHLE1BQUwsR0FBYztBQUFBLG1CQUFNTCxTQUFOO0FBQUEsV0FBZDtBQUNELFNBSk0sQ0FBUDtBQUtELE9BTmdCLENBQWpCOztBQVFBLHdCQUFRTSxHQUFSLENBQVlQLFFBQVosRUFBc0JRLElBQXRCLENBQTJCO0FBQUEsZUFBTSxPQUFLQyxLQUFMLEVBQU47QUFBQSxPQUEzQjtBQUNEOzs7RUFyQ3dCQyxlOztBQXdDM0JDLHVCQUFlQyxRQUFmLENBQXdCL0IsVUFBeEIsRUFBb0NRLFlBQXBDOztrQkFFZUEsWSIsImZpbGUiOiJJbWFnZXNMb2FkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2aWNlLCBzZXJ2aWNlTWFuYWdlciB9IGZyb20gJ3NvdW5kd29ya3MvY2xpZW50JztcblxuY29uc3QgU0VSVklDRV9JRCA9ICdzZXJ2aWNlOmltYWdlcy1sb2FkZXInO1xuXG5cbmZ1bmN0aW9uIHByZWZpeFBhdGhzKHBhdGhMaXN0LCBwcmVmaXgpIHtcbiAgLy8gdGVzdCBhYnNvbHV0ZSB1cmxzIChvciBwcm90b2NvbCByZWxhdGl2ZSlcbiAgY29uc3QgaXNBYnNvbHV0ZSA9IC9eaHR0cHM/OlxcL1xcL3xeXFwvXFwvL2k7XG5cbiAgcGF0aExpc3QgPSBwYXRoTGlzdC5tYXAoKHBhdGgpID0+IHtcbiAgICBpZiAoaXNBYnNvbHV0ZS50ZXN0KHBhdGgpIHx8IHByZWZpeCA9PT0gJy8nKVxuICAgICAgcmV0dXJuIHBhdGg7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHByZWZpeCArIHBhdGg7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoTGlzdDtcbn1cblxuXG5jbGFzcyBJbWFnZXNMb2FkZXIgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCwgZmFsc2UpO1xuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBmaWxlczogW10sXG4gICAgICB2aWV3UHJpb3JpdHk6IDMsXG4gICAgICBhc3NldHNEb21haW46ICcnLFxuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZ3VyZShkZWZhdWx0cyk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc2hvdygpO1xuXG4gICAgdGhpcy5sb2FkSW1hZ2VzKCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuaGlkZSgpO1xuICAgIHN1cGVyLnN0b3AoKTtcbiAgfVxuXG4gIGxvYWRJbWFnZXMoKSB7XG4gICAgY29uc3QgaW1hZ2VzID0gcHJlZml4UGF0aHModGhpcy5vcHRpb25zLmZpbGVzLCB0aGlzLm9wdGlvbnMuYXNzZXRzRG9tYWluKTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gaW1hZ2VzLm1hcChzcmMgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgJGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAkaW1nLnNyYyA9IHNyYztcbiAgICAgICAgJGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHRoaXMucmVhZHkoKSk7XG4gIH1cbn1cblxuc2VydmljZU1hbmFnZXIucmVnaXN0ZXIoU0VSVklDRV9JRCwgSW1hZ2VzTG9hZGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VzTG9hZGVyO1xuIl19","deps":{"babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/SoundCheck.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/SoundCheck.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nvar _wavesAudio = require('waves-audio');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SERVICE_ID = 'service:sound-check';\n\nvar SoundCheck = function (_Service) {\n  (0, _inherits3.default)(SoundCheck, _Service);\n\n  function SoundCheck() {\n    (0, _classCallCheck3.default)(this, SoundCheck);\n\n    // need a server counterpart\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SoundCheck.__proto__ || (0, _getPrototypeOf2.default)(SoundCheck)).call(this, SERVICE_ID));\n\n    _this.platform = _this.require('platform');\n    _this.audioBufferManager = _this.require('audio-buffer-manager');\n\n    var defaults = {\n      viewPriority: 5\n    };\n\n    _this.onCheckResult = _this.onCheckResult.bind(_this);\n\n    _this.configure(defaults);\n    return _this;\n  }\n\n  (0, _createClass3.default)(SoundCheck, [{\n    key: 'start',\n    value: function start() {\n      (0, _get3.default)(SoundCheck.prototype.__proto__ || (0, _getPrototypeOf2.default)(SoundCheck.prototype), 'start', this).call(this);\n      this.show();\n\n      this.view.setCheckCallback(this.onCheckResult);\n\n      this.audioStartTime = _wavesAudio.audioContext.currentTime;\n      this.dateStartTime = new Date().getTime() / 1000;\n      this.deltaStart = this.dateStartTime - this.audioStartTime;\n\n      // play sound and display buttons\n      this.testSrc = _wavesAudio.audioContext.createBufferSource();\n      this.testSrc.buffer = this.audioBufferManager.data.testFile;\n      this.testSrc.connect(_wavesAudio.audioContext.destination);\n      this.testSrc.start();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.testSrc.stop();\n      this.hide();\n\n      (0, _get3.default)(SoundCheck.prototype.__proto__ || (0, _getPrototypeOf2.default)(SoundCheck.prototype), 'stop', this).call(this);\n    }\n  }, {\n    key: 'onCheckResult',\n    value: function onCheckResult(result) {\n      var audioStopTime = _wavesAudio.audioContext.currentTime;\n      var clockStopTime = new Date().getTime() / 1000;\n      var deltaStop = clockStopTime - audioStopTime;\n\n      var results = {\n        result: result,\n        audioStartTime: this.audioStartTime,\n        dateStartTime: this.dateStartTime,\n        deltaStart: this.deltaStart,\n        audioStopTime: audioStopTime,\n        clockStopTime: clockStopTime,\n        deltaStop: deltaStop\n      };\n\n      this.send('results', results);\n\n      if (result === false) {\n        window.location.reload(true);\n      } else {\n        this.ready();\n      }\n    }\n  }]);\n  return SoundCheck;\n}(_client.Service);\n\n_client.serviceManager.register(SERVICE_ID, SoundCheck);\n\nexports.default = SoundCheck;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNvdW5kQ2hlY2suanMiXSwibmFtZXMiOlsiU0VSVklDRV9JRCIsIlNvdW5kQ2hlY2siLCJwbGF0Zm9ybSIsInJlcXVpcmUiLCJhdWRpb0J1ZmZlck1hbmFnZXIiLCJkZWZhdWx0cyIsInZpZXdQcmlvcml0eSIsIm9uQ2hlY2tSZXN1bHQiLCJiaW5kIiwiY29uZmlndXJlIiwic2hvdyIsInZpZXciLCJzZXRDaGVja0NhbGxiYWNrIiwiYXVkaW9TdGFydFRpbWUiLCJhdWRpb0NvbnRleHQiLCJjdXJyZW50VGltZSIsImRhdGVTdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImRlbHRhU3RhcnQiLCJ0ZXN0U3JjIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiZGF0YSIsInRlc3RGaWxlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJzdG9wIiwiaGlkZSIsInJlc3VsdCIsImF1ZGlvU3RvcFRpbWUiLCJjbG9ja1N0b3BUaW1lIiwiZGVsdGFTdG9wIiwicmVzdWx0cyIsInNlbmQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInJlYWR5IiwiU2VydmljZSIsInNlcnZpY2VNYW5hZ2VyIiwicmVnaXN0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsSUFBTUEsYUFBYSxxQkFBbkI7O0lBRU1DLFU7OztBQUNKLHdCQUFjO0FBQUE7O0FBQ087O0FBRFAsOElBQ05ELFVBRE07O0FBR1osVUFBS0UsUUFBTCxHQUFnQixNQUFLQyxPQUFMLENBQWEsVUFBYixDQUFoQjtBQUNBLFVBQUtDLGtCQUFMLEdBQTBCLE1BQUtELE9BQUwsQ0FBYSxzQkFBYixDQUExQjs7QUFFQSxRQUFNRSxXQUFXO0FBQ2ZDLG9CQUFjO0FBREMsS0FBakI7O0FBSUEsVUFBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjs7QUFFQSxVQUFLQyxTQUFMLENBQWVKLFFBQWY7QUFaWTtBQWFiOzs7OzRCQUVPO0FBQ047QUFDQSxXQUFLSyxJQUFMOztBQUVBLFdBQUtDLElBQUwsQ0FBVUMsZ0JBQVYsQ0FBMkIsS0FBS0wsYUFBaEM7O0FBRUEsV0FBS00sY0FBTCxHQUFzQkMseUJBQWFDLFdBQW5DO0FBQ0EsV0FBS0MsYUFBTCxHQUFxQixJQUFJQyxJQUFKLEdBQVdDLE9BQVgsS0FBdUIsSUFBNUM7QUFDQSxXQUFLQyxVQUFMLEdBQWtCLEtBQUtILGFBQUwsR0FBcUIsS0FBS0gsY0FBNUM7O0FBRUE7QUFDQSxXQUFLTyxPQUFMLEdBQWVOLHlCQUFhTyxrQkFBYixFQUFmO0FBQ0EsV0FBS0QsT0FBTCxDQUFhRSxNQUFiLEdBQXNCLEtBQUtsQixrQkFBTCxDQUF3Qm1CLElBQXhCLENBQTZCQyxRQUFuRDtBQUNBLFdBQUtKLE9BQUwsQ0FBYUssT0FBYixDQUFxQlgseUJBQWFZLFdBQWxDO0FBQ0EsV0FBS04sT0FBTCxDQUFhTyxLQUFiO0FBQ0Q7OzsyQkFFTTtBQUNMLFdBQUtQLE9BQUwsQ0FBYVEsSUFBYjtBQUNBLFdBQUtDLElBQUw7O0FBRUE7QUFDRDs7O2tDQUVhQyxNLEVBQVE7QUFDcEIsVUFBTUMsZ0JBQWdCakIseUJBQWFDLFdBQW5DO0FBQ0EsVUFBTWlCLGdCQUFnQixJQUFJZixJQUFKLEdBQVdDLE9BQVgsS0FBdUIsSUFBN0M7QUFDQSxVQUFNZSxZQUFZRCxnQkFBZ0JELGFBQWxDOztBQUVBLFVBQU1HLFVBQVU7QUFDZEosc0JBRGM7QUFFZGpCLHdCQUFnQixLQUFLQSxjQUZQO0FBR2RHLHVCQUFlLEtBQUtBLGFBSE47QUFJZEcsb0JBQVksS0FBS0EsVUFKSDtBQUtkWSxvQ0FMYztBQU1kQyxvQ0FOYztBQU9kQztBQVBjLE9BQWhCOztBQVVBLFdBQUtFLElBQUwsQ0FBVSxTQUFWLEVBQXFCRCxPQUFyQjs7QUFFQSxVQUFJSixXQUFXLEtBQWYsRUFBc0I7QUFDcEJNLGVBQU9DLFFBQVAsQ0FBZ0JDLE1BQWhCLENBQXVCLElBQXZCO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBS0MsS0FBTDtBQUNEO0FBQ0Y7OztFQTlEc0JDLGU7O0FBaUV6QkMsdUJBQWVDLFFBQWYsQ0FBd0IxQyxVQUF4QixFQUFvQ0MsVUFBcEM7O2tCQUVlQSxVIiwiZmlsZSI6IlNvdW5kQ2hlY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2aWNlLCBzZXJ2aWNlTWFuYWdlciB9IGZyb20gJ3NvdW5kd29ya3MvY2xpZW50JztcbmltcG9ydCB7wqBhdWRpb0NvbnRleHQgfSBmcm9tICd3YXZlcy1hdWRpbyc7XG5cbmNvbnN0IFNFUlZJQ0VfSUQgPSAnc2VydmljZTpzb3VuZC1jaGVjayc7XG5cbmNsYXNzIFNvdW5kQ2hlY2sgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoU0VSVklDRV9JRCk7IC8vIG5lZWQgYSBzZXJ2ZXIgY291bnRlcnBhcnRcblxuICAgIHRoaXMucGxhdGZvcm0gPSB0aGlzLnJlcXVpcmUoJ3BsYXRmb3JtJyk7XG4gICAgdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1tYW5hZ2VyJyk7XG5cbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIHZpZXdQcmlvcml0eTogNSxcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2hlY2tSZXN1bHQgPSB0aGlzLm9uQ2hlY2tSZXN1bHQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuY29uZmlndXJlKGRlZmF1bHRzKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG4gICAgdGhpcy5zaG93KCk7XG5cbiAgICB0aGlzLnZpZXcuc2V0Q2hlY2tDYWxsYmFjayh0aGlzLm9uQ2hlY2tSZXN1bHQpO1xuXG4gICAgdGhpcy5hdWRpb1N0YXJ0VGltZSA9IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICB0aGlzLmRhdGVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgdGhpcy5kZWx0YVN0YXJ0ID0gdGhpcy5kYXRlU3RhcnRUaW1lIC0gdGhpcy5hdWRpb1N0YXJ0VGltZTtcblxuICAgIC8vIHBsYXkgc291bmQgYW5kIGRpc3BsYXkgYnV0dG9uc1xuICAgIHRoaXMudGVzdFNyYyA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICB0aGlzLnRlc3RTcmMuYnVmZmVyID0gdGhpcy5hdWRpb0J1ZmZlck1hbmFnZXIuZGF0YS50ZXN0RmlsZTtcbiAgICB0aGlzLnRlc3RTcmMuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHRoaXMudGVzdFNyYy5zdGFydCgpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnRlc3RTcmMuc3RvcCgpO1xuICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgc3VwZXIuc3RvcCgpO1xuICB9XG5cbiAgb25DaGVja1Jlc3VsdChyZXN1bHQpIHtcbiAgICBjb25zdCBhdWRpb1N0b3BUaW1lID0gYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIGNvbnN0IGNsb2NrU3RvcFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgY29uc3QgZGVsdGFTdG9wID0gY2xvY2tTdG9wVGltZSAtIGF1ZGlvU3RvcFRpbWU7XG5cbiAgICBjb25zdCByZXN1bHRzID0ge1xuICAgICAgcmVzdWx0LFxuICAgICAgYXVkaW9TdGFydFRpbWU6IHRoaXMuYXVkaW9TdGFydFRpbWUsXG4gICAgICBkYXRlU3RhcnRUaW1lOiB0aGlzLmRhdGVTdGFydFRpbWUsXG4gICAgICBkZWx0YVN0YXJ0OiB0aGlzLmRlbHRhU3RhcnQsXG4gICAgICBhdWRpb1N0b3BUaW1lLFxuICAgICAgY2xvY2tTdG9wVGltZSxcbiAgICAgIGRlbHRhU3RvcCxcbiAgICB9XG5cbiAgICB0aGlzLnNlbmQoJ3Jlc3VsdHMnLCByZXN1bHRzKTtcblxuICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICB9XG59XG5cbnNlcnZpY2VNYW5hZ2VyLnJlZ2lzdGVyKFNFUlZJQ0VfSUQsIFNvdW5kQ2hlY2spO1xuXG5leHBvcnQgZGVmYXVsdCBTb3VuZENoZWNrO1xuIl19","deps":{"babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","waves-audio":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerView.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerView.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nvar soundworks = _interopRequireWildcard(_client);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar client = soundworks.client;\n\nvar template = '\\n  <div class=\"background fit-container\">\\n    <div id=\"background-image\" class=\"fit-container\"></div>\\n    <div id=\"background-color\" class=\"fit-container\"></div>\\n  </div>\\n  <div class=\"foreground\">\\n    <div class=\"section-top flex-middle\" id=\"top\">\\n    </div>\\n    <div class=\"section-center flex-middle\" id=\"center\">\\n    </div>\\n    <div class=\"section-bottom flex-middle\" id=\"bottom\">\\n    </div>\\n  </div>\\n  <% if (state === \\'choice\\') { %>\\n  <div id=\"choice\">\\n    <button id=\"restart\"><%= txt.restart %></button>\\n    <button id=\"continue\"><%= txt.continue %></button>\\n  </div>\\n  <% } %>\\n';\n\nvar PlayerView = function (_soundworks$Segmented) {\n  (0, _inherits3.default)(PlayerView, _soundworks$Segmented);\n\n  function PlayerView(model) {\n    (0, _classCallCheck3.default)(this, PlayerView);\n    return (0, _possibleConstructorReturn3.default)(this, (PlayerView.__proto__ || (0, _getPrototypeOf2.default)(PlayerView)).call(this, template, model, {}, {\n      id: 'experience',\n      ratios: {\n        '.section-top': 0.1,\n        '.section-center': 0.8,\n        '.section-bottom': 0.1\n      }\n    }));\n  }\n\n  (0, _createClass3.default)(PlayerView, [{\n    key: 'onRender',\n    value: function onRender() {\n      (0, _get3.default)(PlayerView.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlayerView.prototype), 'onRender', this).call(this);\n\n      this.$placeholders = {};\n      this.$placeholders['top'] = this.$el.querySelector('#top');\n      this.$placeholders['center'] = this.$el.querySelector('#center');\n      this.$placeholders['bottom'] = this.$el.querySelector('#bottom');\n      this.$placeholders['background-color'] = this.$el.querySelector('#background-color');\n      this.$placeholders['background-image'] = this.$el.querySelector('#background-image');\n      this.$placeholders['background-video'] = this.$el.querySelector('#background-video');\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.setTextContent('top', '');\n      this.setTextContent('center', '');\n      this.setTextContent('bottom', '');\n      this.$placeholders['top'].style.opacity = 1;\n      this.$placeholders['center'].style.opacity = 1;\n      this.$placeholders['bottom'].style.opacity = 1;\n      // make sure client can't click twice (during trigger-next-state event)\n      this.installEvents({}, true);\n    }\n  }, {\n    key: 'setId',\n    value: function setId(id) {\n      this.$el.dataset.id = 'state-' + id;\n    }\n  }, {\n    key: 'setBackgroundColor',\n    value: function setBackgroundColor(placeholder, color) {\n      this.$placeholders[placeholder].style.backgroundColor = color;\n    }\n  }, {\n    key: 'setBackgroundImage',\n    value: function setBackgroundImage(placeholder, url) {\n      this.$placeholders[placeholder].style.backgroundImage = 'url(' + url + ')';\n    }\n  }, {\n    key: 'setTextContent',\n    value: function setTextContent(placeholder, content) {\n      var classes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var $el = this.$placeholders[placeholder];\n      // classes that should never be removed\n      var forbiddenClasses = ['section-top', 'section-center', 'section-bottom', 'flex-middle'];\n\n      for (var i = $el.classList.length - 1; i >= 0; i--) {\n        var className = $el.classList.item(i);\n\n        if (forbiddenClasses.indexOf(className) === -1) $el.classList.remove(className);\n      }\n\n      classes.forEach(function (className) {\n        return $el.classList.add(className);\n      });\n\n      $el.innerHTML = '<div>' + content + '</div>';\n    }\n  }, {\n    key: 'fadeIn',\n    value: function fadeIn(placeholder, duration) {\n      var $el = this.$placeholders[placeholder];\n\n      $el.style.transition = 'opacity ' + duration + 's';\n      $el.style.opacity = 1;\n    }\n  }, {\n    key: 'fadeOut',\n    value: function fadeOut(placeholder, duration) {\n      var $el = this.$placeholders[placeholder];\n\n      $el.style.transition = 'opacity ' + duration + 's';\n      $el.style.opacity = 0;\n    }\n  }, {\n    key: 'setEvent',\n    value: function setEvent(placeholder, callback) {\n      var key = client.platform.interaction === 'touch' ? 'touchstart' : 'mousedown';\n\n      if (placeholder !== 'screen') key += ' #' + placeholder;\n\n      this.installEvents((0, _defineProperty3.default)({}, key, callback), true);\n    }\n  }]);\n  return PlayerView;\n}(soundworks.SegmentedView);\n\nexports.default = PlayerView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllclZpZXcuanMiXSwibmFtZXMiOlsic291bmR3b3JrcyIsImNsaWVudCIsInRlbXBsYXRlIiwiUGxheWVyVmlldyIsIm1vZGVsIiwiaWQiLCJyYXRpb3MiLCIkcGxhY2Vob2xkZXJzIiwiJGVsIiwicXVlcnlTZWxlY3RvciIsInNldFRleHRDb250ZW50Iiwic3R5bGUiLCJvcGFjaXR5IiwiaW5zdGFsbEV2ZW50cyIsImRhdGFzZXQiLCJwbGFjZWhvbGRlciIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwidXJsIiwiYmFja2dyb3VuZEltYWdlIiwiY29udGVudCIsImNsYXNzZXMiLCJmb3JiaWRkZW5DbGFzc2VzIiwiaSIsImNsYXNzTGlzdCIsImxlbmd0aCIsImNsYXNzTmFtZSIsIml0ZW0iLCJpbmRleE9mIiwicmVtb3ZlIiwiZm9yRWFjaCIsImFkZCIsImlubmVySFRNTCIsImR1cmF0aW9uIiwidHJhbnNpdGlvbiIsImNhbGxiYWNrIiwia2V5IiwicGxhdGZvcm0iLCJpbnRlcmFjdGlvbiIsIlNlZ21lbnRlZFZpZXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7SUFBWUEsVTs7Ozs7O0FBRVosSUFBTUMsU0FBU0QsV0FBV0MsTUFBMUI7O0FBRUEsSUFBTUMsNG1CQUFOOztJQXFCTUMsVTs7O0FBQ0osc0JBQVlDLEtBQVosRUFBbUI7QUFBQTtBQUFBLHlJQUNYRixRQURXLEVBQ0RFLEtBREMsRUFDTSxFQUROLEVBQ1U7QUFDekJDLFVBQUksWUFEcUI7QUFFekJDLGNBQVE7QUFDTix3QkFBZ0IsR0FEVjtBQUVOLDJCQUFtQixHQUZiO0FBR04sMkJBQW1CO0FBSGI7QUFGaUIsS0FEVjtBQVNsQjs7OzsrQkFFVTtBQUNUOztBQUVBLFdBQUtDLGFBQUwsR0FBcUIsRUFBckI7QUFDQSxXQUFLQSxhQUFMLENBQW1CLEtBQW5CLElBQTRCLEtBQUtDLEdBQUwsQ0FBU0MsYUFBVCxDQUF1QixNQUF2QixDQUE1QjtBQUNBLFdBQUtGLGFBQUwsQ0FBbUIsUUFBbkIsSUFBK0IsS0FBS0MsR0FBTCxDQUFTQyxhQUFULENBQXVCLFNBQXZCLENBQS9CO0FBQ0EsV0FBS0YsYUFBTCxDQUFtQixRQUFuQixJQUErQixLQUFLQyxHQUFMLENBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBL0I7QUFDQSxXQUFLRixhQUFMLENBQW1CLGtCQUFuQixJQUF5QyxLQUFLQyxHQUFMLENBQVNDLGFBQVQsQ0FBdUIsbUJBQXZCLENBQXpDO0FBQ0EsV0FBS0YsYUFBTCxDQUFtQixrQkFBbkIsSUFBeUMsS0FBS0MsR0FBTCxDQUFTQyxhQUFULENBQXVCLG1CQUF2QixDQUF6QztBQUNBLFdBQUtGLGFBQUwsQ0FBbUIsa0JBQW5CLElBQXlDLEtBQUtDLEdBQUwsQ0FBU0MsYUFBVCxDQUF1QixtQkFBdkIsQ0FBekM7QUFDRDs7OzRCQUVPO0FBQ04sV0FBS0MsY0FBTCxDQUFvQixLQUFwQixFQUEyQixFQUEzQjtBQUNBLFdBQUtBLGNBQUwsQ0FBb0IsUUFBcEIsRUFBOEIsRUFBOUI7QUFDQSxXQUFLQSxjQUFMLENBQW9CLFFBQXBCLEVBQThCLEVBQTlCO0FBQ0EsV0FBS0gsYUFBTCxDQUFtQixLQUFuQixFQUEwQkksS0FBMUIsQ0FBZ0NDLE9BQWhDLEdBQTBDLENBQTFDO0FBQ0EsV0FBS0wsYUFBTCxDQUFtQixRQUFuQixFQUE2QkksS0FBN0IsQ0FBbUNDLE9BQW5DLEdBQTZDLENBQTdDO0FBQ0EsV0FBS0wsYUFBTCxDQUFtQixRQUFuQixFQUE2QkksS0FBN0IsQ0FBbUNDLE9BQW5DLEdBQTZDLENBQTdDO0FBQ0E7QUFDQSxXQUFLQyxhQUFMLENBQW1CLEVBQW5CLEVBQXVCLElBQXZCO0FBQ0Q7OzswQkFFS1IsRSxFQUFJO0FBQ1IsV0FBS0csR0FBTCxDQUFTTSxPQUFULENBQWlCVCxFQUFqQixjQUErQkEsRUFBL0I7QUFDRDs7O3VDQUVrQlUsVyxFQUFhQyxLLEVBQU87QUFDckMsV0FBS1QsYUFBTCxDQUFtQlEsV0FBbkIsRUFBZ0NKLEtBQWhDLENBQXNDTSxlQUF0QyxHQUF3REQsS0FBeEQ7QUFDRDs7O3VDQUVrQkQsVyxFQUFhRyxHLEVBQUs7QUFDbkMsV0FBS1gsYUFBTCxDQUFtQlEsV0FBbkIsRUFBZ0NKLEtBQWhDLENBQXNDUSxlQUF0QyxZQUErREQsR0FBL0Q7QUFDRDs7O21DQUVjSCxXLEVBQWFLLE8sRUFBdUI7QUFBQSxVQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQ2pELFVBQU1iLE1BQU0sS0FBS0QsYUFBTCxDQUFtQlEsV0FBbkIsQ0FBWjtBQUNBO0FBQ0EsVUFBTU8sbUJBQW1CLENBQUMsYUFBRCxFQUFnQixnQkFBaEIsRUFBa0MsZ0JBQWxDLEVBQW9ELGFBQXBELENBQXpCOztBQUVBLFdBQUssSUFBSUMsSUFBSWYsSUFBSWdCLFNBQUosQ0FBY0MsTUFBZCxHQUF1QixDQUFwQyxFQUF1Q0YsS0FBSyxDQUE1QyxFQUErQ0EsR0FBL0MsRUFBb0Q7QUFDbEQsWUFBTUcsWUFBWWxCLElBQUlnQixTQUFKLENBQWNHLElBQWQsQ0FBbUJKLENBQW5CLENBQWxCOztBQUVBLFlBQUlELGlCQUFpQk0sT0FBakIsQ0FBeUJGLFNBQXpCLE1BQXdDLENBQUMsQ0FBN0MsRUFDRWxCLElBQUlnQixTQUFKLENBQWNLLE1BQWQsQ0FBcUJILFNBQXJCO0FBQ0g7O0FBRURMLGNBQVFTLE9BQVIsQ0FBZ0I7QUFBQSxlQUFhdEIsSUFBSWdCLFNBQUosQ0FBY08sR0FBZCxDQUFrQkwsU0FBbEIsQ0FBYjtBQUFBLE9BQWhCOztBQUVBbEIsVUFBSXdCLFNBQUosYUFBd0JaLE9BQXhCO0FBQ0Q7OzsyQkFFTUwsVyxFQUFha0IsUSxFQUFVO0FBQzVCLFVBQU16QixNQUFNLEtBQUtELGFBQUwsQ0FBbUJRLFdBQW5CLENBQVo7O0FBRUFQLFVBQUlHLEtBQUosQ0FBVXVCLFVBQVYsZ0JBQWtDRCxRQUFsQztBQUNBekIsVUFBSUcsS0FBSixDQUFVQyxPQUFWLEdBQW9CLENBQXBCO0FBQ0Q7Ozs0QkFFT0csVyxFQUFha0IsUSxFQUFVO0FBQzdCLFVBQU16QixNQUFNLEtBQUtELGFBQUwsQ0FBbUJRLFdBQW5CLENBQVo7O0FBRUFQLFVBQUlHLEtBQUosQ0FBVXVCLFVBQVYsZ0JBQWtDRCxRQUFsQztBQUNBekIsVUFBSUcsS0FBSixDQUFVQyxPQUFWLEdBQW9CLENBQXBCO0FBQ0Q7Ozs2QkFFUUcsVyxFQUFhb0IsUSxFQUFVO0FBQzlCLFVBQUlDLE1BQU1uQyxPQUFPb0MsUUFBUCxDQUFnQkMsV0FBaEIsS0FBZ0MsT0FBaEMsR0FBMEMsWUFBMUMsR0FBeUQsV0FBbkU7O0FBRUEsVUFBSXZCLGdCQUFnQixRQUFwQixFQUNFcUIsY0FBWXJCLFdBQVo7O0FBRUYsV0FBS0YsYUFBTCxtQ0FBc0J1QixHQUF0QixFQUE0QkQsUUFBNUIsR0FBd0MsSUFBeEM7QUFDRDs7O0VBckZzQm5DLFdBQVd1QyxhOztrQkF3RnJCcEMsVSIsImZpbGUiOiJQbGF5ZXJWaWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc291bmR3b3JrcyBmcm9tICdzb3VuZHdvcmtzL2NsaWVudCc7XG5cbmNvbnN0IGNsaWVudCA9IHNvdW5kd29ya3MuY2xpZW50O1xuXG5jb25zdCB0ZW1wbGF0ZSA9IGBcbiAgPGRpdiBjbGFzcz1cImJhY2tncm91bmQgZml0LWNvbnRhaW5lclwiPlxuICAgIDxkaXYgaWQ9XCJiYWNrZ3JvdW5kLWltYWdlXCIgY2xhc3M9XCJmaXQtY29udGFpbmVyXCI+PC9kaXY+XG4gICAgPGRpdiBpZD1cImJhY2tncm91bmQtY29sb3JcIiBjbGFzcz1cImZpdC1jb250YWluZXJcIj48L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJmb3JlZ3JvdW5kXCI+XG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9wIGZsZXgtbWlkZGxlXCIgaWQ9XCJ0b3BcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jZW50ZXIgZmxleC1taWRkbGVcIiBpZD1cImNlbnRlclwiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWJvdHRvbSBmbGV4LW1pZGRsZVwiIGlkPVwiYm90dG9tXCI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8JSBpZiAoc3RhdGUgPT09ICdjaG9pY2UnKSB7ICU+XG4gIDxkaXYgaWQ9XCJjaG9pY2VcIj5cbiAgICA8YnV0dG9uIGlkPVwicmVzdGFydFwiPjwlPSB0eHQucmVzdGFydCAlPjwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJjb250aW51ZVwiPjwlPSB0eHQuY29udGludWUgJT48L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDwlIH0gJT5cbmA7XG5cbmNsYXNzIFBsYXllclZpZXcgZXh0ZW5kcyBzb3VuZHdvcmtzLlNlZ21lbnRlZFZpZXcge1xuICBjb25zdHJ1Y3Rvcihtb2RlbCkge1xuICAgIHN1cGVyKHRlbXBsYXRlLCBtb2RlbCwge30sIHtcbiAgICAgIGlkOiAnZXhwZXJpZW5jZScsXG4gICAgICByYXRpb3M6IHtcbiAgICAgICAgJy5zZWN0aW9uLXRvcCc6IDAuMSxcbiAgICAgICAgJy5zZWN0aW9uLWNlbnRlcic6IDAuOCxcbiAgICAgICAgJy5zZWN0aW9uLWJvdHRvbSc6IDAuMVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25SZW5kZXIoKSB7XG4gICAgc3VwZXIub25SZW5kZXIoKTtcblxuICAgIHRoaXMuJHBsYWNlaG9sZGVycyA9IHt9O1xuICAgIHRoaXMuJHBsYWNlaG9sZGVyc1sndG9wJ10gPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcjdG9wJyk7XG4gICAgdGhpcy4kcGxhY2Vob2xkZXJzWydjZW50ZXInXSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNjZW50ZXInKTtcbiAgICB0aGlzLiRwbGFjZWhvbGRlcnNbJ2JvdHRvbSddID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignI2JvdHRvbScpO1xuICAgIHRoaXMuJHBsYWNlaG9sZGVyc1snYmFja2dyb3VuZC1jb2xvciddID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignI2JhY2tncm91bmQtY29sb3InKTtcbiAgICB0aGlzLiRwbGFjZWhvbGRlcnNbJ2JhY2tncm91bmQtaW1hZ2UnXSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNiYWNrZ3JvdW5kLWltYWdlJyk7XG4gICAgdGhpcy4kcGxhY2Vob2xkZXJzWydiYWNrZ3JvdW5kLXZpZGVvJ10gPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcjYmFja2dyb3VuZC12aWRlbycpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5zZXRUZXh0Q29udGVudCgndG9wJywgJycpO1xuICAgIHRoaXMuc2V0VGV4dENvbnRlbnQoJ2NlbnRlcicsICcnKTtcbiAgICB0aGlzLnNldFRleHRDb250ZW50KCdib3R0b20nLCAnJyk7XG4gICAgdGhpcy4kcGxhY2Vob2xkZXJzWyd0b3AnXS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICB0aGlzLiRwbGFjZWhvbGRlcnNbJ2NlbnRlciddLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIHRoaXMuJHBsYWNlaG9sZGVyc1snYm90dG9tJ10uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgLy8gbWFrZSBzdXJlIGNsaWVudCBjYW4ndCBjbGljayB0d2ljZSAoZHVyaW5nIHRyaWdnZXItbmV4dC1zdGF0ZSBldmVudClcbiAgICB0aGlzLmluc3RhbGxFdmVudHMoe30sIHRydWUpO1xuICB9XG5cbiAgc2V0SWQoaWQpIHtcbiAgICB0aGlzLiRlbC5kYXRhc2V0LmlkID0gYHN0YXRlLSR7aWR9YDtcbiAgfVxuXG4gIHNldEJhY2tncm91bmRDb2xvcihwbGFjZWhvbGRlciwgY29sb3IpIHtcbiAgICB0aGlzLiRwbGFjZWhvbGRlcnNbcGxhY2Vob2xkZXJdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgc2V0QmFja2dyb3VuZEltYWdlKHBsYWNlaG9sZGVyLCB1cmwpIHtcbiAgICB0aGlzLiRwbGFjZWhvbGRlcnNbcGxhY2Vob2xkZXJdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt1cmx9KWA7XG4gIH1cblxuICBzZXRUZXh0Q29udGVudChwbGFjZWhvbGRlciwgY29udGVudCwgY2xhc3NlcyA9IFtdKSB7XG4gICAgY29uc3QgJGVsID0gdGhpcy4kcGxhY2Vob2xkZXJzW3BsYWNlaG9sZGVyXTtcbiAgICAvLyBjbGFzc2VzIHRoYXQgc2hvdWxkIG5ldmVyIGJlIHJlbW92ZWRcbiAgICBjb25zdCBmb3JiaWRkZW5DbGFzc2VzID0gWydzZWN0aW9uLXRvcCcsICdzZWN0aW9uLWNlbnRlcicsICdzZWN0aW9uLWJvdHRvbScsICdmbGV4LW1pZGRsZSddO1xuXG4gICAgZm9yIChsZXQgaSA9ICRlbC5jbGFzc0xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9ICRlbC5jbGFzc0xpc3QuaXRlbShpKTtcblxuICAgICAgaWYgKGZvcmJpZGRlbkNsYXNzZXMuaW5kZXhPZihjbGFzc05hbWUpID09PSAtMSlcbiAgICAgICAgJGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBjbGFzc2VzLmZvckVhY2goY2xhc3NOYW1lID0+ICRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkpO1xuXG4gICAgJGVsLmlubmVySFRNTCA9IGA8ZGl2PiR7Y29udGVudH08L2Rpdj5gO1xuICB9XG5cbiAgZmFkZUluKHBsYWNlaG9sZGVyLCBkdXJhdGlvbikge1xuICAgIGNvbnN0ICRlbCA9IHRoaXMuJHBsYWNlaG9sZGVyc1twbGFjZWhvbGRlcl07XG5cbiAgICAkZWwuc3R5bGUudHJhbnNpdGlvbiA9IGBvcGFjaXR5ICR7ZHVyYXRpb259c2A7XG4gICAgJGVsLnN0eWxlLm9wYWNpdHkgPSAxO1xuICB9XG5cbiAgZmFkZU91dChwbGFjZWhvbGRlciwgZHVyYXRpb24pIHtcbiAgICBjb25zdCAkZWwgPSB0aGlzLiRwbGFjZWhvbGRlcnNbcGxhY2Vob2xkZXJdO1xuXG4gICAgJGVsLnN0eWxlLnRyYW5zaXRpb24gPSBgb3BhY2l0eSAke2R1cmF0aW9ufXNgO1xuICAgICRlbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgfVxuXG4gIHNldEV2ZW50KHBsYWNlaG9sZGVyLCBjYWxsYmFjaykge1xuICAgIGxldCBrZXkgPSBjbGllbnQucGxhdGZvcm0uaW50ZXJhY3Rpb24gPT09ICd0b3VjaCcgPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJztcblxuICAgIGlmIChwbGFjZWhvbGRlciAhPT0gJ3NjcmVlbicpXG4gICAgICBrZXkgKz0gYCAjJHtwbGFjZWhvbGRlcn1gO1xuXG4gICAgdGhpcy5pbnN0YWxsRXZlbnRzKHsgW2tleV06IGNhbGxiYWNrIH0sIHRydWUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllclZpZXc7XG4iXX0=","deps":{"babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/defineProperty":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/SimplePlayer.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/SimplePlayer.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _client = require('soundworks/client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SimplePlayer = function () {\n  function SimplePlayer(bufferList) {\n    (0, _classCallCheck3.default)(this, SimplePlayer);\n\n    this.bufferList = bufferList;\n  }\n\n  // connect(destination) {}\n\n  (0, _createClass3.default)(SimplePlayer, [{\n    key: 'trigger',\n    value: function trigger(bufferId) {\n      var buffer = this.bufferList[bufferId];\n\n      var src = _client.audioContext.createBufferSource();\n      src.connect(_client.audioContext.destination);\n      src.buffer = buffer;\n      src.start(_client.audioContext.currentTime);\n    }\n  }]);\n  return SimplePlayer;\n}();\n\nexports.default = SimplePlayer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpbXBsZVBsYXllci5qcyJdLCJuYW1lcyI6WyJTaW1wbGVQbGF5ZXIiLCJidWZmZXJMaXN0IiwiYnVmZmVySWQiLCJidWZmZXIiLCJzcmMiLCJhdWRpb0NvbnRleHQiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsImN1cnJlbnRUaW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0lBRU1BLFk7QUFDSix3QkFBWUMsVUFBWixFQUF3QjtBQUFBOztBQUN0QixTQUFLQSxVQUFMLEdBQWtCQSxVQUFsQjtBQUNEOztBQUVEOzs7OzRCQUVRQyxRLEVBQVU7QUFDaEIsVUFBTUMsU0FBUyxLQUFLRixVQUFMLENBQWdCQyxRQUFoQixDQUFmOztBQUVBLFVBQU1FLE1BQU1DLHFCQUFhQyxrQkFBYixFQUFaO0FBQ0FGLFVBQUlHLE9BQUosQ0FBWUYscUJBQWFHLFdBQXpCO0FBQ0FKLFVBQUlELE1BQUosR0FBYUEsTUFBYjtBQUNBQyxVQUFJSyxLQUFKLENBQVVKLHFCQUFhSyxXQUF2QjtBQUNEOzs7OztrQkFHWVYsWSIsImZpbGUiOiJTaW1wbGVQbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdWRpb0NvbnRleHQgfSBmcm9tICdzb3VuZHdvcmtzL2NsaWVudCc7XG5cbmNsYXNzIFNpbXBsZVBsYXllciB7XG4gIGNvbnN0cnVjdG9yKGJ1ZmZlckxpc3QpIHtcbiAgICB0aGlzLmJ1ZmZlckxpc3QgPSBidWZmZXJMaXN0O1xuICB9XG5cbiAgLy8gY29ubmVjdChkZXN0aW5hdGlvbikge31cblxuICB0cmlnZ2VyKGJ1ZmZlcklkKSB7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJMaXN0W2J1ZmZlcklkXTtcblxuICAgIGNvbnN0IHNyYyA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzcmMuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHNyYy5idWZmZXIgPSBidWZmZXI7XG4gICAgc3JjLnN0YXJ0KGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlUGxheWVyO1xuIl19","deps":{"babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/StereoPanner.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/StereoPanner.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _client = require('soundworks/client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar StereoPanner = function () {\n  function StereoPanner() {\n    (0, _classCallCheck3.default)(this, StereoPanner);\n\n    // locals\n    this.inversed = false;\n\n    // init channel splitter / merger used in audio panning\n    this.splitter = _client.audioContext.createChannelSplitter(2);\n    this.merger = _client.audioContext.createChannelMerger(2);\n    this.gainLL = _client.audioContext.createGain();\n    this.gainLR = _client.audioContext.createGain();\n    this.gainRL = _client.audioContext.createGain();\n    this.gainRR = _client.audioContext.createGain();\n    this.gainLL.gain.value = 1.0;\n    this.gainLR.gain.value = 0.0;\n    this.gainRL.gain.value = 0.0;\n    this.gainRR.gain.value = 1.0;\n\n    // connect graph\n    this.splitter.connect(this.gainLL, 0);\n    this.splitter.connect(this.gainLR, 0);\n    this.splitter.connect(this.gainRL, 1);\n    this.splitter.connect(this.gainRR, 1);\n\n    this.gainLL.connect(this.merger, 0, 0);\n    this.gainLR.connect(this.merger, 0, 1);\n    this.gainRL.connect(this.merger, 0, 0);\n    this.gainRR.connect(this.merger, 0, 1);\n  }\n\n  (0, _createClass3.default)(StereoPanner, [{\n    key: 'connect',\n    value: function connect(audioNode) {\n      this.merger.connect(audioNode);\n    }\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      this.merger.disconnect();\n    }\n  }, {\n    key: 'inverseChannels',\n    value: function inverseChannels(onOff) {\n      if (onOff && !this.inversed) {\n        this.rampGain(this.gainLL, 0);\n        this.rampGain(this.gainLR, 1);\n        this.rampGain(this.gainRL, 1);\n        this.rampGain(this.gainRR, 0);\n        this.inversed = true;\n      } else if (!onOff && this.inversed) {\n        this.rampGain(this.gainLL, 1);\n        this.rampGain(this.gainLR, 0);\n        this.rampGain(this.gainRL, 0);\n        this.rampGain(this.gainRR, 1);\n        this.inversed = false;\n      }\n    }\n  }, {\n    key: 'rampGain',\n    value: function rampGain(gNode, oneZero) {\n      var rampDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4.0;\n\n      // handle envelope\n      var now = _client.audioContext.currentTime;\n      gNode.gain.cancelScheduledValues(now);\n      gNode.gain.setValueAtTime(gNode.gain.value, now);\n      gNode.gain.linearRampToValueAtTime(oneZero, now + rampDuration);\n    }\n  }, {\n    key: 'input',\n    get: function get() {\n      return this.splitter;\n    }\n  }]);\n  return StereoPanner;\n}();\n\nexports.default = StereoPanner;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0ZXJlb1Bhbm5lci5qcyJdLCJuYW1lcyI6WyJTdGVyZW9QYW5uZXIiLCJpbnZlcnNlZCIsInNwbGl0dGVyIiwiYXVkaW9Db250ZXh0IiwiY3JlYXRlQ2hhbm5lbFNwbGl0dGVyIiwibWVyZ2VyIiwiY3JlYXRlQ2hhbm5lbE1lcmdlciIsImdhaW5MTCIsImNyZWF0ZUdhaW4iLCJnYWluTFIiLCJnYWluUkwiLCJnYWluUlIiLCJnYWluIiwidmFsdWUiLCJjb25uZWN0IiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsIm9uT2ZmIiwicmFtcEdhaW4iLCJnTm9kZSIsIm9uZVplcm8iLCJyYW1wRHVyYXRpb24iLCJub3ciLCJjdXJyZW50VGltZSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7SUFFTUEsWTtBQUNKLDBCQUFjO0FBQUE7O0FBQ1o7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLEtBQWhCOztBQUVBO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkMscUJBQWFDLHFCQUFiLENBQW1DLENBQW5DLENBQWhCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjRixxQkFBYUcsbUJBQWIsQ0FBaUMsQ0FBakMsQ0FBZDtBQUNBLFNBQUtDLE1BQUwsR0FBY0oscUJBQWFLLFVBQWIsRUFBZDtBQUNBLFNBQUtDLE1BQUwsR0FBY04scUJBQWFLLFVBQWIsRUFBZDtBQUNBLFNBQUtFLE1BQUwsR0FBY1AscUJBQWFLLFVBQWIsRUFBZDtBQUNBLFNBQUtHLE1BQUwsR0FBY1IscUJBQWFLLFVBQWIsRUFBZDtBQUNBLFNBQUtELE1BQUwsQ0FBWUssSUFBWixDQUFpQkMsS0FBakIsR0FBeUIsR0FBekI7QUFDQSxTQUFLSixNQUFMLENBQVlHLElBQVosQ0FBaUJDLEtBQWpCLEdBQXlCLEdBQXpCO0FBQ0EsU0FBS0gsTUFBTCxDQUFZRSxJQUFaLENBQWlCQyxLQUFqQixHQUF5QixHQUF6QjtBQUNBLFNBQUtGLE1BQUwsQ0FBWUMsSUFBWixDQUFpQkMsS0FBakIsR0FBeUIsR0FBekI7O0FBRUE7QUFDQSxTQUFLWCxRQUFMLENBQWNZLE9BQWQsQ0FBc0IsS0FBS1AsTUFBM0IsRUFBbUMsQ0FBbkM7QUFDQSxTQUFLTCxRQUFMLENBQWNZLE9BQWQsQ0FBc0IsS0FBS0wsTUFBM0IsRUFBbUMsQ0FBbkM7QUFDQSxTQUFLUCxRQUFMLENBQWNZLE9BQWQsQ0FBc0IsS0FBS0osTUFBM0IsRUFBbUMsQ0FBbkM7QUFDQSxTQUFLUixRQUFMLENBQWNZLE9BQWQsQ0FBc0IsS0FBS0gsTUFBM0IsRUFBbUMsQ0FBbkM7O0FBRUEsU0FBS0osTUFBTCxDQUFZTyxPQUFaLENBQW9CLEtBQUtULE1BQXpCLEVBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0EsU0FBS0ksTUFBTCxDQUFZSyxPQUFaLENBQW9CLEtBQUtULE1BQXpCLEVBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0EsU0FBS0ssTUFBTCxDQUFZSSxPQUFaLENBQW9CLEtBQUtULE1BQXpCLEVBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0EsU0FBS00sTUFBTCxDQUFZRyxPQUFaLENBQW9CLEtBQUtULE1BQXpCLEVBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0Q7Ozs7NEJBTU9VLFMsRUFBVztBQUNqQixXQUFLVixNQUFMLENBQVlTLE9BQVosQ0FBb0JDLFNBQXBCO0FBQ0Q7OztpQ0FFWTtBQUNYLFdBQUtWLE1BQUwsQ0FBWVcsVUFBWjtBQUNEOzs7b0NBRWVDLEssRUFBTztBQUNyQixVQUFJQSxTQUFTLENBQUMsS0FBS2hCLFFBQW5CLEVBQTZCO0FBQzNCLGFBQUtpQixRQUFMLENBQWMsS0FBS1gsTUFBbkIsRUFBMkIsQ0FBM0I7QUFDQSxhQUFLVyxRQUFMLENBQWMsS0FBS1QsTUFBbkIsRUFBMkIsQ0FBM0I7QUFDQSxhQUFLUyxRQUFMLENBQWMsS0FBS1IsTUFBbkIsRUFBMkIsQ0FBM0I7QUFDQSxhQUFLUSxRQUFMLENBQWMsS0FBS1AsTUFBbkIsRUFBMkIsQ0FBM0I7QUFDQSxhQUFLVixRQUFMLEdBQWdCLElBQWhCO0FBQ0QsT0FORCxNQU1PLElBQUksQ0FBQ2dCLEtBQUQsSUFBVSxLQUFLaEIsUUFBbkIsRUFBNkI7QUFDbEMsYUFBS2lCLFFBQUwsQ0FBYyxLQUFLWCxNQUFuQixFQUEyQixDQUEzQjtBQUNBLGFBQUtXLFFBQUwsQ0FBYyxLQUFLVCxNQUFuQixFQUEyQixDQUEzQjtBQUNBLGFBQUtTLFFBQUwsQ0FBYyxLQUFLUixNQUFuQixFQUEyQixDQUEzQjtBQUNBLGFBQUtRLFFBQUwsQ0FBYyxLQUFLUCxNQUFuQixFQUEyQixDQUEzQjtBQUNBLGFBQUtWLFFBQUwsR0FBZ0IsS0FBaEI7QUFDRDtBQUNGOzs7NkJBRVFrQixLLEVBQU9DLE8sRUFBNkI7QUFBQSxVQUFwQkMsWUFBb0IsdUVBQUwsR0FBSzs7QUFDM0M7QUFDQSxVQUFJQyxNQUFNbkIscUJBQWFvQixXQUF2QjtBQUNBSixZQUFNUCxJQUFOLENBQVdZLHFCQUFYLENBQWlDRixHQUFqQztBQUNBSCxZQUFNUCxJQUFOLENBQVdhLGNBQVgsQ0FBMEJOLE1BQU1QLElBQU4sQ0FBV0MsS0FBckMsRUFBNENTLEdBQTVDO0FBQ0FILFlBQU1QLElBQU4sQ0FBV2MsdUJBQVgsQ0FBbUNOLE9BQW5DLEVBQTRDRSxNQUFNRCxZQUFsRDtBQUNEOzs7d0JBbENXO0FBQ1YsYUFBTyxLQUFLbkIsUUFBWjtBQUNEOzs7OztrQkFtQ1lGLFkiLCJmaWxlIjoiU3RlcmVvUGFubmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXVkaW9Db250ZXh0IH0gZnJvbSAnc291bmR3b3Jrcy9jbGllbnQnO1xuXG5jbGFzcyBTdGVyZW9QYW5uZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBsb2NhbHNcbiAgICB0aGlzLmludmVyc2VkID0gZmFsc2U7XG5cbiAgICAvLyBpbml0IGNoYW5uZWwgc3BsaXR0ZXIgLyBtZXJnZXIgdXNlZCBpbiBhdWRpbyBwYW5uaW5nXG4gICAgdGhpcy5zcGxpdHRlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVDaGFubmVsU3BsaXR0ZXIoMik7XG4gICAgdGhpcy5tZXJnZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQ2hhbm5lbE1lcmdlcigyKTtcbiAgICB0aGlzLmdhaW5MTCA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5nYWluTFIgPSBhdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgIHRoaXMuZ2FpblJMID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICB0aGlzLmdhaW5SUiA9IGF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5nYWluTEwuZ2Fpbi52YWx1ZSA9IDEuMDtcbiAgICB0aGlzLmdhaW5MUi5nYWluLnZhbHVlID0gMC4wO1xuICAgIHRoaXMuZ2FpblJMLmdhaW4udmFsdWUgPSAwLjA7XG4gICAgdGhpcy5nYWluUlIuZ2Fpbi52YWx1ZSA9IDEuMDtcblxuICAgIC8vIGNvbm5lY3QgZ3JhcGhcbiAgICB0aGlzLnNwbGl0dGVyLmNvbm5lY3QodGhpcy5nYWluTEwsIDApO1xuICAgIHRoaXMuc3BsaXR0ZXIuY29ubmVjdCh0aGlzLmdhaW5MUiwgMCk7XG4gICAgdGhpcy5zcGxpdHRlci5jb25uZWN0KHRoaXMuZ2FpblJMLCAxKTtcbiAgICB0aGlzLnNwbGl0dGVyLmNvbm5lY3QodGhpcy5nYWluUlIsIDEpO1xuXG4gICAgdGhpcy5nYWluTEwuY29ubmVjdCh0aGlzLm1lcmdlciwgMCwgMCk7XG4gICAgdGhpcy5nYWluTFIuY29ubmVjdCh0aGlzLm1lcmdlciwgMCwgMSk7XG4gICAgdGhpcy5nYWluUkwuY29ubmVjdCh0aGlzLm1lcmdlciwgMCwgMCk7XG4gICAgdGhpcy5nYWluUlIuY29ubmVjdCh0aGlzLm1lcmdlciwgMCwgMSk7XG4gIH1cblxuICBnZXQgaW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BsaXR0ZXI7XG4gIH1cblxuICBjb25uZWN0KGF1ZGlvTm9kZSkge1xuICAgIHRoaXMubWVyZ2VyLmNvbm5lY3QoYXVkaW9Ob2RlKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5tZXJnZXIuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgaW52ZXJzZUNoYW5uZWxzKG9uT2ZmKSB7XG4gICAgaWYgKG9uT2ZmICYmICF0aGlzLmludmVyc2VkKSB7XG4gICAgICB0aGlzLnJhbXBHYWluKHRoaXMuZ2FpbkxMLCAwKTtcbiAgICAgIHRoaXMucmFtcEdhaW4odGhpcy5nYWluTFIsIDEpO1xuICAgICAgdGhpcy5yYW1wR2Fpbih0aGlzLmdhaW5STCwgMSk7XG4gICAgICB0aGlzLnJhbXBHYWluKHRoaXMuZ2FpblJSLCAwKTtcbiAgICAgIHRoaXMuaW52ZXJzZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIW9uT2ZmICYmIHRoaXMuaW52ZXJzZWQpIHtcbiAgICAgIHRoaXMucmFtcEdhaW4odGhpcy5nYWluTEwsIDEpO1xuICAgICAgdGhpcy5yYW1wR2Fpbih0aGlzLmdhaW5MUiwgMCk7XG4gICAgICB0aGlzLnJhbXBHYWluKHRoaXMuZ2FpblJMLCAwKTtcbiAgICAgIHRoaXMucmFtcEdhaW4odGhpcy5nYWluUlIsIDEpO1xuICAgICAgdGhpcy5pbnZlcnNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJhbXBHYWluKGdOb2RlLCBvbmVaZXJvLCByYW1wRHVyYXRpb24gPSA0LjApIHtcbiAgICAvLyBoYW5kbGUgZW52ZWxvcGVcbiAgICBsZXQgbm93ID0gYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIGdOb2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKG5vdyk7XG4gICAgZ05vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShnTm9kZS5nYWluLnZhbHVlLCBub3cpO1xuICAgIGdOb2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUob25lWmVybywgbm93ICsgcmFtcER1cmF0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGVyZW9QYW5uZXI7XG4iXX0=","deps":{"babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/State.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/State.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nvar soundworks = _interopRequireWildcard(_client);\n\nvar _StereoPanner = require('./audio/StereoPanner');\n\nvar _StereoPanner2 = _interopRequireDefault(_StereoPanner);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar audio = soundworks.audio;\nvar audioContext = soundworks.audioContext;\n\nvar EventEngine = function (_audio$TimeEngine) {\n  (0, _inherits3.default)(EventEngine, _audio$TimeEngine);\n\n  function EventEngine(state, events) {\n    (0, _classCallCheck3.default)(this, EventEngine);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (EventEngine.__proto__ || (0, _getPrototypeOf2.default)(EventEngine)).call(this));\n\n    _this.state = state;\n    // maybe sort by time to make sure everything is ok\n    _this.events = events;\n    _this.currentIndex = 0;\n    return _this;\n  }\n\n  (0, _createClass3.default)(EventEngine, [{\n    key: 'advancePosition',\n    value: function advancePosition(time, position) {\n      var _this2 = this;\n\n      var currentEvent = this.events[this.currentIndex];\n      var now = audioContext.currentTime;\n      var dt = time - now;\n      var currentIndex = this.currentIndex; // copy for setTimeout\n      // defer execution to be more precise\n      setTimeout(function () {\n        _this2.state.handleEvent(currentEvent, currentIndex);\n      }, dt * 1000);\n\n      this.currentIndex += 1;\n\n      if (this.events[this.currentIndex]) return this.events[this.currentIndex].time;else return Infinity;\n    }\n  }, {\n    key: 'syncPosition',\n    value: function syncPosition(time, position) {\n      // go to beginning of previous event\n      for (var i = 0; i < this.events.length; i++) {\n        var event = this.events[i];\n        var next = this.events[i + 1];\n\n        if (position >= event.time) {\n          // apply event silently, and test next event\n          if (next && position > next.time) {\n            // recreate whole time line from beginning of the state\n            this.state.handleEvent(event, i, true);\n\n            // if several event at same position, we pass here too\n          } else {\n            // we found the current index\n            this.currentIndex = i;\n            break;\n          }\n        }\n      }\n\n      return this.events[this.currentIndex].time;\n    }\n  }]);\n  return EventEngine;\n}(audio.TimeEngine);\n\nvar State = function () {\n  function State(index, experience, stateConfig, commonConfig, isLast) {\n    (0, _classCallCheck3.default)(this, State);\n\n    this.index = index;\n    this.experience = experience;\n    this.stateConfig = stateConfig;\n    this.commonConfig = commonConfig;\n    this.isLast = isLast;\n\n    this.eventEngine = new EventEngine(this, this.stateConfig.events);\n\n    this.initialOrientation = null;\n    this.motionInputCallback = this.motionInputCallback.bind(this);\n\n    this._createStream(0);\n  }\n\n  (0, _createClass3.default)(State, [{\n    key: '_createStream',\n    value: function _createStream() {\n      var _this3 = this;\n\n      this.audioStream = this.experience.audioStreamManager.getAudioStream();\n      this.audioStream.sync = false;\n      this.audioStream.loop = this.stateConfig.stream.loop;\n      this.audioStream.url = this.stateConfig.stream.id;\n      this.audioStream.periodic = !!this.stateConfig.stream.period;\n\n      this.audioStream.onended = function () {\n        _this3.audioStream.url = _this3.commonConfig.fallbackStream.id;\n        _this3.audioStream.loop = true;\n        _this3.audioStream.sync = false;\n        _this3.audioStream.start(0);\n      };\n\n      this.stereoPanner = new _StereoPanner2.default();\n\n      this.audioStream.connect(this.stereoPanner.input);\n      this.stereoPanner.connect(audioContext.destination);\n    }\n  }, {\n    key: 'enter',\n    value: function enter() {\n      var _experience = this.experience,\n          playControl = _experience.playControl,\n          transport = _experience.transport,\n          view = _experience.view,\n          motionInput = _experience.motionInput;\n\n\n      view.setId(this.index);\n      transport.add(this.eventEngine);\n      playControl.start();\n\n      if (this.stateConfig.stream.period) {\n        var syncTime = this.experience.sync.getSyncTime();\n        var offset = syncTime % this.stateConfig.stream.period;\n        this.audioStream.start(offset);\n      } else {\n        this.audioStream.start(0);\n      }\n\n      if (motionInput.isAvailable('deviceorientation')) motionInput.addListener('deviceorientation', this.motionInputCallback);\n    }\n  }, {\n    key: 'exit',\n    value: function exit() {\n      var _experience2 = this.experience,\n          playControl = _experience2.playControl,\n          transport = _experience2.transport,\n          motionInput = _experience2.motionInput;\n\n      playControl.stop();\n\n      if (this.eventEngine.master) transport.remove(this.eventEngine);\n\n      if (motionInput.isAvailable('deviceorientation')) motionInput.removeListener('deviceorientation', this.motionInputCallback);\n\n      this.audioStream.stop(0);\n      this.stereoPanner.disconnect();\n    }\n  }, {\n    key: 'seek',\n    value: function seek(eventIndex) {\n      var position = this.stateConfig.events[eventIndex].time;\n      this.experience.playControl.seek(position);\n\n      this.audioStream.stop(0);\n      this.stereoPanner.disconnect();\n\n      this._createStream();\n      this.audioStream.start(position);\n    }\n  }, {\n    key: 'handleEvent',\n    value: function handleEvent(event, eventIndex) {\n      var _this4 = this;\n\n      var silent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var view = this.experience.view;\n\n      switch (event.type) {\n        case 'background-color':\n          view.setBackgroundColor(event.placeholder, event.color);\n          break;\n        case 'background-image':\n          view.setBackgroundImage(event.placeholder, event.url);\n          break;\n        case 'text-subtitle':\n          if (this.commonConfig.enableSubtitles) {\n            view.setTextContent(event.placeholder, event.content, event.classes);\n          }\n          break;\n        case 'text':\n          view.setTextContent(event.placeholder, event.content, event.classes);\n          break;\n        case 'fade-in':\n          var fadeInDuration = silent ? 0 : event.duration;\n          view.fadeIn(event.placeholder, fadeInDuration);\n          break;\n        case 'fade-out':\n          var fadeOutDuration = silent ? 0 : event.duration;\n          view.fadeOut(event.placeholder, fadeOutDuration);\n          break;\n        case 'trigger-next-state':\n          if (!silent) {\n            view.setEvent(event.placeholder, function () {\n              _this4.experience.setState(_this4.index + 1);\n\n              if (event.triggerAudio) _this4.experience.simplePlayer.trigger(event.triggerAudio.id);\n            });\n          }\n          break;\n        case 'trigger-audio':\n          if (!silent) this.experience.simplePlayer.trigger(event.id);\n          break;\n        case 'vibrate':\n          if (!silent) {\n            // check for vibrate API (not in Safari)\n            if (window.navigator.vibrate !== undefined) window.navigator.vibrate(event.pattern);\n          }\n          break;\n      }\n\n      // for 'trigger-next-state' event type, we wait for the interaction\n      if (event.type !== 'trigger-next-state' && !silent) {\n        if (event.triggerAudio) this.experience.simplePlayer.trigger(event.triggerAudio.id);\n      }\n\n      // is we are in the last state, we delete the saved progression\n      if (!silent) {\n        if (!this.isLast) this.experience.saveProgression(this.index, eventIndex);else this.experience.deleteProgression();\n      }\n    }\n  }, {\n    key: 'motionInputCallback',\n    value: function motionInputCallback(data) {\n      var orientation = data[0];\n\n      if (this.initialOrientation === null) this.initialOrientation = orientation;\n\n      // get reverse orientation state (is subject facing opposite dir.\n      // from when current state started)\n      var inverseChannels = Math.cos((orientation - this.initialOrientation) / 180 * Math.PI) < 0;\n      this.stereoPanner.inverseChannels(inverseChannels);\n    }\n  }]);\n  return State;\n}();\n\nexports.default = State;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0YXRlLmpzIl0sIm5hbWVzIjpbInNvdW5kd29ya3MiLCJhdWRpbyIsImF1ZGlvQ29udGV4dCIsIkV2ZW50RW5naW5lIiwic3RhdGUiLCJldmVudHMiLCJjdXJyZW50SW5kZXgiLCJ0aW1lIiwicG9zaXRpb24iLCJjdXJyZW50RXZlbnQiLCJub3ciLCJjdXJyZW50VGltZSIsImR0Iiwic2V0VGltZW91dCIsImhhbmRsZUV2ZW50IiwiSW5maW5pdHkiLCJpIiwibGVuZ3RoIiwiZXZlbnQiLCJuZXh0IiwiVGltZUVuZ2luZSIsIlN0YXRlIiwiaW5kZXgiLCJleHBlcmllbmNlIiwic3RhdGVDb25maWciLCJjb21tb25Db25maWciLCJpc0xhc3QiLCJldmVudEVuZ2luZSIsImluaXRpYWxPcmllbnRhdGlvbiIsIm1vdGlvbklucHV0Q2FsbGJhY2siLCJiaW5kIiwiX2NyZWF0ZVN0cmVhbSIsImF1ZGlvU3RyZWFtIiwiYXVkaW9TdHJlYW1NYW5hZ2VyIiwiZ2V0QXVkaW9TdHJlYW0iLCJzeW5jIiwibG9vcCIsInN0cmVhbSIsInVybCIsImlkIiwicGVyaW9kaWMiLCJwZXJpb2QiLCJvbmVuZGVkIiwiZmFsbGJhY2tTdHJlYW0iLCJzdGFydCIsInN0ZXJlb1Bhbm5lciIsIlN0ZXJlb1Bhbm5lciIsImNvbm5lY3QiLCJpbnB1dCIsImRlc3RpbmF0aW9uIiwicGxheUNvbnRyb2wiLCJ0cmFuc3BvcnQiLCJ2aWV3IiwibW90aW9uSW5wdXQiLCJzZXRJZCIsImFkZCIsInN5bmNUaW1lIiwiZ2V0U3luY1RpbWUiLCJvZmZzZXQiLCJpc0F2YWlsYWJsZSIsImFkZExpc3RlbmVyIiwic3RvcCIsIm1hc3RlciIsInJlbW92ZSIsInJlbW92ZUxpc3RlbmVyIiwiZGlzY29ubmVjdCIsImV2ZW50SW5kZXgiLCJzZWVrIiwic2lsZW50IiwidHlwZSIsInNldEJhY2tncm91bmRDb2xvciIsInBsYWNlaG9sZGVyIiwiY29sb3IiLCJzZXRCYWNrZ3JvdW5kSW1hZ2UiLCJlbmFibGVTdWJ0aXRsZXMiLCJzZXRUZXh0Q29udGVudCIsImNvbnRlbnQiLCJjbGFzc2VzIiwiZmFkZUluRHVyYXRpb24iLCJkdXJhdGlvbiIsImZhZGVJbiIsImZhZGVPdXREdXJhdGlvbiIsImZhZGVPdXQiLCJzZXRFdmVudCIsInNldFN0YXRlIiwidHJpZ2dlckF1ZGlvIiwic2ltcGxlUGxheWVyIiwidHJpZ2dlciIsIndpbmRvdyIsIm5hdmlnYXRvciIsInZpYnJhdGUiLCJ1bmRlZmluZWQiLCJwYXR0ZXJuIiwic2F2ZVByb2dyZXNzaW9uIiwiZGVsZXRlUHJvZ3Jlc3Npb24iLCJkYXRhIiwib3JpZW50YXRpb24iLCJpbnZlcnNlQ2hhbm5lbHMiLCJNYXRoIiwiY29zIiwiUEkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0lBQVlBLFU7O0FBQ1o7Ozs7Ozs7O0FBRUEsSUFBTUMsUUFBUUQsV0FBV0MsS0FBekI7QUFDQSxJQUFNQyxlQUFlRixXQUFXRSxZQUFoQzs7SUFFTUMsVzs7O0FBQ0osdUJBQVlDLEtBQVosRUFBbUJDLE1BQW5CLEVBQTJCO0FBQUE7O0FBQUE7O0FBR3pCLFVBQUtELEtBQUwsR0FBYUEsS0FBYjtBQUNBO0FBQ0EsVUFBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsVUFBS0MsWUFBTCxHQUFvQixDQUFwQjtBQU55QjtBQU8xQjs7OztvQ0FFZUMsSSxFQUFNQyxRLEVBQVU7QUFBQTs7QUFDOUIsVUFBTUMsZUFBZSxLQUFLSixNQUFMLENBQVksS0FBS0MsWUFBakIsQ0FBckI7QUFDQSxVQUFNSSxNQUFNUixhQUFhUyxXQUF6QjtBQUNBLFVBQU1DLEtBQUtMLE9BQU9HLEdBQWxCO0FBQ0EsVUFBTUosZUFBZSxLQUFLQSxZQUExQixDQUo4QixDQUlVO0FBQ3hDO0FBQ0FPLGlCQUFXLFlBQU07QUFDZixlQUFLVCxLQUFMLENBQVdVLFdBQVgsQ0FBdUJMLFlBQXZCLEVBQXFDSCxZQUFyQztBQUNELE9BRkQsRUFFR00sS0FBSyxJQUZSOztBQUlBLFdBQUtOLFlB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MUUsTUFBTW1ELElBQU4sS0FBZSxvQkFBZixJQUF1QyxDQUFDRCxNQUE1QyxFQUFvRDtBQUNsRCxZQUFJbEQsTUFBTW1FLFlBQVYsRUFDRSxLQUFLOUQsVUFBTCxDQUFnQitELFlBQWhCLENBQTZCQyxPQUE3QixDQUFxQ3JFLE1BQU1tRSxZQUFOLENBQW1COUMsRUFBeEQ7QUFDSDs7QUFFRDtBQUNBLFVBQUksQ0FBQzZCLE1BQUwsRUFBYTtBQUNYLFlBQUksQ0FBQyxLQUFLMUMsTUFBVixFQUNFLEtBQUtILFVBQUwsQ0FBZ0JzRSxlQUFoQixDQUFnQyxLQUFLdkUsS0FBckMsRUFBNEM0QyxVQUE1QyxFQURGLEtBR0UsS0FBSzNDLFVBQUwsQ0FBZ0J1RSxpQkFBaEI7QUFDSDtBQUNGOzs7d0NBRW1CQyxJLEVBQU07QUFDeEIsVUFBTUMsY0FBY0QsS0FBSyxDQUFMLENBQXBCOztBQUVBLFVBQUksS0FBS25FLGtCQUFMLEtBQTRCLElBQWhDLEVBQ0UsS0FBS0Esa0JBQUwsR0FBMEJvRSxXQUExQjs7QUFFRjtBQUNBO0FBQ0EsVUFBTUMsa0JBQWtCQyxLQUFLQyxHQUFMLENBQVMsQ0FBQ0gsY0FBYyxLQUFLcEUsa0JBQXBCLElBQTBDLEdBQTFDLEdBQWdEc0UsS0FBS0UsRUFBOUQsSUFBb0UsQ0FBNUY7QUFDQSxXQUFLdkQsWUFBTCxDQUFrQm9ELGVBQWxCLENBQWtDQSxlQUFsQztBQUNEOzs7OztrQkFHWTVFLEsiLCJmaWxlIjoiU3RhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBzb3VuZHdvcmtzIGZyb20gJ3NvdW5kd29ya3MvY2xpZW50JztcbmltcG9ydCBTdGVyZW9QYW5uZXIgZnJvbSAnLi9hdWRpby9TdGVyZW9QYW5uZXInO1xuXG5jb25zdCBhdWRpbyA9IHNvdW5kd29ya3MuYXVkaW87XG5jb25zdCBhdWRpb0NvbnRleHQgPSBzb3VuZHdvcmtzLmF1ZGlvQ29udGV4dDtcblxuY2xhc3MgRXZlbnRFbmdpbmUgZXh0ZW5kcyBhdWRpby5UaW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3Ioc3RhdGUsIGV2ZW50cykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgLy8gbWF5YmUgc29ydCBieSB0aW1lIHRvIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIG9rXG4gICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICB9XG5cbiAgYWR2YW5jZVBvc2l0aW9uKHRpbWUsIHBvc2l0aW9uKSB7XG4gICAgY29uc3QgY3VycmVudEV2ZW50ID0gdGhpcy5ldmVudHNbdGhpcy5jdXJyZW50SW5kZXhdO1xuICAgIGNvbnN0IG5vdyA9IGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZTtcbiAgICBjb25zdCBkdCA9IHRpbWUgLSBub3c7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5jdXJyZW50SW5kZXg7IC8vIGNvcHkgZm9yIHNldFRpbWVvdXRcbiAgICAvLyBkZWZlciBleGVjdXRpb24gdG8gYmUgbW9yZSBwcmVjaXNlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlLmhhbmRsZUV2ZW50KGN1cnJlbnRFdmVudCwgY3VycmVudEluZGV4KTtcbiAgICB9LCBkdCAqIDEwMDApO1xuXG4gICAgdGhpcy5jdXJyZW50SW5kZXggKz0gMTtcblxuICAgIGlmICh0aGlzLmV2ZW50c1t0aGlzLmN1cnJlbnRJbmRleF0pXG4gICAgICByZXR1cm4gdGhpcy5ldmVudHNbdGhpcy5jdXJyZW50SW5kZXhdLnRpbWU7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG5cbiAgc3luY1Bvc2l0aW9uKHRpbWUsIHBvc2l0aW9uKSB7XG4gICAgLy8gZ28gdG8gYmVnaW5uaW5nIG9mIHByZXZpb3VzIGV2ZW50XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50c1tpXTtcbiAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmV2ZW50c1tpICsgMV07XG5cbiAgICAgIGlmIChwb3NpdGlvbiA+PSBldmVudC50aW1lKSB7XG4gICAgICAgIC8vIGFwcGx5IGV2ZW50IHNpbGVudGx5LCBhbmQgdGVzdCBuZXh0IGV2ZW50XG4gICAgICAgIGlmIChuZXh0ICYmIHBvc2l0aW9uID4gbmV4dC50aW1lKSB7XG4gICAgICAgICAgLy8gcmVjcmVhdGUgd2hvbGUgdGltZSBsaW5lIGZyb20gYmVnaW5uaW5nIG9mIHRoZSBzdGF0ZVxuICAgICAgICAgIHRoaXMuc3RhdGUuaGFuZGxlRXZlbnQoZXZlbnQsIGksIHRydWUpO1xuXG4gICAgICAgIC8vIGlmIHNldmVyYWwgZXZlbnQgYXQgc2FtZSBwb3NpdGlvbiwgd2UgcGFzcyBoZXJlIHRvb1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGZvdW5kIHRoZSBjdXJyZW50IGluZGV4XG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzW3RoaXMuY3VycmVudEluZGV4XS50aW1lO1xuICB9XG59XG5cbmNsYXNzIFN0YXRlIHtcbiAgY29uc3RydWN0b3IoaW5kZXgsIGV4cGVyaWVuY2UsIHN0YXRlQ29uZmlnLCBjb21tb25Db25maWcsIGlzTGFzdCkge1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLmV4cGVyaWVuY2UgPSBleHBlcmllbmNlO1xuICAgIHRoaXMuc3RhdGVDb25maWcgPSBzdGF0ZUNvbmZpZztcbiAgICB0aGlzLmNvbW1vbkNvbmZpZyA9IGNvbW1vbkNvbmZpZztcbiAgICB0aGlzLmlzTGFzdCA9IGlzTGFzdDtcblxuICAgIHRoaXMuZXZlbnRFbmdpbmUgPSBuZXcgRXZlbnRFbmdpbmUodGhpcywgdGhpcy5zdGF0ZUNvbmZpZy5ldmVudHMpO1xuXG4gICAgdGhpcy5pbml0aWFsT3JpZW50YXRpb24gPSBudWxsO1xuICAgIHRoaXMubW90aW9uSW5wdXRDYWxsYmFjayA9IHRoaXMubW90aW9uSW5wdXRDYWxsYmFjay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlU3RyZWFtKDApO1xuICB9XG5cbiAgX2NyZWF0ZVN0cmVhbSgpIHtcbiAgICB0aGlzLmF1ZGlvU3RyZWFtID0gdGhpcy5leHBlcmllbmNlLmF1ZGlvU3RyZWFtTWFuYWdlci5nZXRBdWRpb1N0cmVhbSgpO1xuICAgIHRoaXMuYXVkaW9TdHJlYW0uc3luYyA9IGZhbHNlO1xuICAgIHRoaXMuYXVkaW9TdHJlYW0ubG9vcCA9IHRoaXMuc3RhdGVDb25maWcuc3RyZWFtLmxvb3A7XG4gICAgdGhpcy5hdWRpb1N0cmVhbS51cmwgPSB0aGlzLnN0YXRlQ29uZmlnLnN0cmVhbS5pZDtcbiAgICB0aGlzLmF1ZGlvU3RyZWFtLnBlcmlvZGljID0gISF0aGlzLnN0YXRlQ29uZmlnLnN0cmVhbS5wZXJpb2Q7XG5cbiAgICB0aGlzLmF1ZGlvU3RyZWFtLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmF1ZGlvU3RyZWFtLnVybCA9IHRoaXMuY29tbW9uQ29uZmlnLmZhbGxiYWNrU3RyZWFtLmlkO1xuICAgICAgdGhpcy5hdWRpb1N0cmVhbS5sb29wID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXVkaW9TdHJlYW0uc3luYyA9IGZhbHNlO1xuICAgICAgdGhpcy5hdWRpb1N0cmVhbS5zdGFydCgwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGVyZW9QYW5uZXIgPSBuZXcgU3RlcmVvUGFubmVyKCk7XG5cbiAgICB0aGlzLmF1ZGlvU3RyZWFtLmNvbm5lY3QodGhpcy5zdGVyZW9QYW5uZXIuaW5wdXQpO1xuICAgIHRoaXMuc3RlcmVvUGFubmVyLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgfVxuXG4gIGVudGVyKCkge1xuICAgIGNvbnN0IHsgcGxheUNvbnRyb2wsIHRyYW5zcG9ydCwgdmlldywgbW90aW9uSW5wdXQgfSA9IHRoaXMuZXhwZXJpZW5jZTtcblxuICAgIHZpZXcuc2V0SWQodGhpcy5pbmRleCk7XG4gICAgdHJhbnNwb3J0LmFkZCh0aGlzLmV2ZW50RW5naW5lKTtcbiAgICBwbGF5Q29udHJvbC5zdGFydCgpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGVDb25maWcuc3RyZWFtLnBlcmlvZCkge1xuICAgICAgY29uc3Qgc3luY1RpbWUgPSB0aGlzLmV4cGVyaWVuY2Uuc3luYy5nZXRTeW5jVGltZSgpO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gc3luY1RpbWUgJSB0aGlzLnN0YXRlQ29uZmlnLnN0cmVhbS5wZXJpb2Q7XG4gICAgICB0aGlzLmF1ZGlvU3RyZWFtLnN0YXJ0KG9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXVkaW9TdHJlYW0uc3RhcnQoMCk7XG4gICAgfVxuXG4gICAgaWYgKG1vdGlvbklucHV0LmlzQXZhaWxhYmxlKCdkZXZpY2VvcmllbnRhdGlvbicpKVxuICAgICAgbW90aW9uSW5wdXQuYWRkTGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5tb3Rpb25JbnB1dENhbGxiYWNrKTtcbiAgfVxuXG4gIGV4aXQoKSB7XG4gICAgY29uc3QgeyBwbGF5Q29udHJvbCwgdHJhbnNwb3J0LCBtb3Rpb25JbnB1dCB9ID0gdGhpcy5leHBlcmllbmNlO1xuICAgIHBsYXlDb250cm9sLnN0b3AoKTtcblxuICAgIGlmICh0aGlzLmV2ZW50RW5naW5lLm1hc3RlcilcbiAgICAgIHRyYW5zcG9ydC5yZW1vdmUodGhpcy5ldmVudEVuZ2luZSk7XG5cbiAgICBpZiAobW90aW9uSW5wdXQuaXNBdmFpbGFibGUoJ2RldmljZW9yaWVudGF0aW9uJykpXG4gICAgICBtb3Rpb25JbnB1dC5yZW1vdmVMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLm1vdGlvbklucHV0Q2FsbGJhY2spO1xuXG4gICAgdGhpcy5hdWRpb1N0cmVhbS5zdG9wKDApO1xuICAgIHRoaXMuc3RlcmVvUGFubmVyLmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIHNlZWsoZXZlbnRJbmRleCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5zdGF0ZUNvbmZpZy5ldmVudHNbZXZlbnRJbmRleF0udGltZTtcbiAgICB0aGlzLmV4cGVyaWVuY2UucGxheUNvbnRyb2wuc2Vlayhwb3NpdGlvbik7XG5cbiAgICB0aGlzLmF1ZGlvU3RyZWFtLnN0b3AoMCk7XG4gICAgdGhpcy5zdGVyZW9QYW5uZXIuZGlzY29ubmVjdCgpO1xuXG4gICAgdGhpcy5fY3JlYXRlU3RyZWFtKCk7XG4gICAgdGhpcy5hdWRpb1N0cmVhbS5zdGFydChwb3NpdGlvbik7XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudCwgZXZlbnRJbmRleCwgc2lsZW50ID0gZmFsc2UpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5leHBlcmllbmNlLnZpZXc7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2JhY2tncm91bmQtY29sb3InOlxuICAgICAgICB2aWV3LnNldEJhY2tncm91bmRDb2xvcihldmVudC5wbGFjZWhvbGRlciwgZXZlbnQuY29sb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JhY2tncm91bmQtaW1hZ2UnOlxuICAgICAgICB2aWV3LnNldEJhY2tncm91bmRJbWFnZShldmVudC5wbGFjZWhvbGRlciwgZXZlbnQudXJsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXh0LXN1YnRpdGxlJzpcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uQ29uZmlnLmVuYWJsZVN1YnRpdGxlcyl7XG4gICAgICAgICAgdmlldy5zZXRUZXh0Q29udGVudChldmVudC5wbGFjZWhvbGRlciwgZXZlbnQuY29udGVudCwgZXZlbnQuY2xhc3Nlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgdmlldy5zZXRUZXh0Q29udGVudChldmVudC5wbGFjZWhvbGRlciwgZXZlbnQuY29udGVudCwgZXZlbnQuY2xhc3Nlcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZmFkZS1pbic6XG4gICAgICAgIGNvbnN0IGZhZGVJbkR1cmF0aW9uID0gc2lsZW50ID8gMCA6IGV2ZW50LmR1cmF0aW9uO1xuICAgICAgICB2aWV3LmZhZGVJbihldmVudC5wbGFjZWhvbGRlciwgZmFkZUluRHVyYXRpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZhZGUtb3V0JzpcbiAgICAgICAgY29uc3QgZmFkZU91dER1cmF0aW9uID0gc2lsZW50ID8gMCA6IGV2ZW50LmR1cmF0aW9uO1xuICAgICAgICB2aWV3LmZhZGVPdXQoZXZlbnQucGxhY2Vob2xkZXIsIGZhZGVPdXREdXJhdGlvbik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJpZ2dlci1uZXh0LXN0YXRlJzpcbiAgICAgICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgICB2aWV3LnNldEV2ZW50KGV2ZW50LnBsYWNlaG9sZGVyLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV4cGVyaWVuY2Uuc2V0U3RhdGUodGhpcy5pbmRleCArIDEpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQudHJpZ2dlckF1ZGlvKVxuICAgICAgICAgICAgICB0aGlzLmV4cGVyaWVuY2Uuc2ltcGxlUGxheWVyLnRyaWdnZXIoZXZlbnQudHJpZ2dlckF1ZGlvLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RyaWdnZXItYXVkaW8nOlxuICAgICAgICBpZiAoIXNpbGVudClcbiAgICAgICAgICB0aGlzLmV4cGVyaWVuY2Uuc2ltcGxlUGxheWVyLnRyaWdnZXIoZXZlbnQuaWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpYnJhdGUnOlxuICAgICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciB2aWJyYXRlIEFQSSAobm90IGluIFNhZmFyaSlcbiAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci52aWJyYXRlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnZpYnJhdGUoZXZlbnQucGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gZm9yICd0cmlnZ2VyLW5leHQtc3RhdGUnIGV2ZW50IHR5cGUsIHdlIHdhaXQgZm9yIHRoZSBpbnRlcmFjdGlvblxuICAgIGlmIChldmVudC50eXBlICE9PSAndHJpZ2dlci1uZXh0LXN0YXRlJyAmJiAhc2lsZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHJpZ2dlckF1ZGlvKVxuICAgICAgICB0aGlzLmV4cGVyaWVuY2Uuc2ltcGxlUGxheWVyLnRyaWdnZXIoZXZlbnQudHJpZ2dlckF1ZGlvLmlkKTtcbiAgICB9XG5cbiAgICAvLyBpcyB3ZSBhcmUgaW4gdGhlIGxhc3Qgc3RhdGUsIHdlIGRlbGV0ZSB0aGUgc2F2ZWQgcHJvZ3Jlc3Npb25cbiAgICBpZiAoIXNpbGVudCnCoHtcbiAgICAgIGlmICghdGhpcy5pc0xhc3QpXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZS5zYXZlUHJvZ3Jlc3Npb24odGhpcy5pbmRleCwgZXZlbnRJbmRleCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZS5kZWxldGVQcm9ncmVzc2lvbigpO1xuICAgIH1cbiAgfVxuXG4gIG1vdGlvbklucHV0Q2FsbGJhY2soZGF0YSkge1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gZGF0YVswXTtcblxuICAgIGlmICh0aGlzLmluaXRpYWxPcmllbnRhdGlvbiA9PT0gbnVsbClcbiAgICAgIHRoaXMuaW5pdGlhbE9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG5cbiAgICAvLyBnZXQgcmV2ZXJzZSBvcmllbnRhdGlvbiBzdGF0ZSAoaXMgc3ViamVjdCBmYWNpbmcgb3Bwb3NpdGUgZGlyLlxuICAgIC8vIGZyb20gd2hlbiBjdXJyZW50IHN0YXRlIHN0YXJ0ZWQpXG4gICAgY29uc3QgaW52ZXJzZUNoYW5uZWxzID0gTWF0aC5jb3MoKG9yaWVudGF0aW9uIC0gdGhpcy5pbml0aWFsT3JpZW50YXRpb24pIC8gMTgwICogTWF0aC5QSSkgPCAwO1xuICAgIHRoaXMuc3RlcmVvUGFubmVyLmludmVyc2VDaGFubmVscyhpbnZlcnNlQ2hhbm5lbHMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXRlO1xuIl19","deps":{"babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js","./audio/StereoPanner":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/StereoPanner.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerExperience.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerExperience.js","source":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = require('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _client = require('soundworks/client');\n\nvar soundworks = _interopRequireWildcard(_client);\n\nvar _slugify = require('slugify');\n\nvar _slugify2 = _interopRequireDefault(_slugify);\n\nvar _SimplePlayer = require('./audio/SimplePlayer');\n\nvar _SimplePlayer2 = _interopRequireDefault(_SimplePlayer);\n\nvar _State = require('./State');\n\nvar _State2 = _interopRequireDefault(_State);\n\nvar _PlayerView = require('./PlayerView');\n\nvar _PlayerView2 = _interopRequireDefault(_PlayerView);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar audioContext = soundworks.audioContext;\nvar client = soundworks.client;\nvar audio = soundworks.audio;\n// should be somewhere else, even if not a big deal\nvar localStorageId = 'lbh-square';\n\nvar PlayerExperience = function (_soundworks$Experienc) {\n  (0, _inherits3.default)(PlayerExperience, _soundworks$Experienc);\n\n  function PlayerExperience(envConfig, projectConfig) {\n    (0, _classCallCheck3.default)(this, PlayerExperience);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (PlayerExperience.__proto__ || (0, _getPrototypeOf2.default)(PlayerExperience)).call(this));\n\n    _this.envConfig = envConfig;\n    _this.projectConfig = projectConfig;\n\n    var features = ['web-audio', 'vibrate'];\n\n    if (projectConfig.environment.wakeLock) {\n      features.push('wake-lock');\n    }\n\n    // services\n    _this.platform = _this.require('platform', { features: features });\n    _this.sync = _this.require('sync');\n    _this.checkin = _this.require('checkin', { showDialog: false });\n    _this.sharedParams = _this.require('shared-params');\n    _this.motionInput = _this.require('motion-input', {\n      descriptors: ['deviceorientation']\n    });\n\n    var assetsPath = _this.envConfig.assetsDomain + 'assets/';\n\n    _this.audioStreamManager = _this.require('audio-stream-manager', {\n      assetsDomain: assetsPath,\n      monitorInterval: 1,\n      requiredAdvanceThreshold: 10\n    });\n\n    var triggerAudioBuffers = {};\n    var backgroundImages = [];\n\n    //\n    _this.projectConfig.states.forEach(function (state) {\n      state.events.forEach(function (event) {\n        if (event.triggerAudio) triggerAudioBuffers[event.triggerAudio.id] = event.triggerAudio.file;\n\n        // background image domain or sub location are not abstracted by\n        // a service, so override the url\n        if (event.type === 'background-image') {\n          event.url = assetsPath + event.url;\n          backgroundImages.push(event.url);\n        }\n      });\n    });\n\n    triggerAudioBuffers.testFile = _this.projectConfig.txt.soundCheck.testFile;\n\n    _this.audioBufferManager = _this.require('audio-buffer-manager', {\n      assetsDomain: assetsPath,\n      files: triggerAudioBuffers\n    });\n\n    _this.imagesLoader = _this.require('images-loader', {\n      // assetsDomain: assetsPath, // is already overriden...\n      files: backgroundImages\n    });\n\n    _this.soundCheck = _this.require('sound-check');\n    return _this;\n  }\n\n  (0, _createClass3.default)(PlayerExperience, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      (0, _get3.default)(PlayerExperience.prototype.__proto__ || (0, _getPrototypeOf2.default)(PlayerExperience.prototype), 'start', this).call(this);\n\n      this.simplePlayer = new _SimplePlayer2.default(this.audioBufferManager.data);\n      this.view = new _PlayerView2.default({\n        state: 'experience',\n        txt: this.projectConfig.txt.restartPage\n      });\n\n      this.show().then(function () {\n        _this2.transport = new audio.Transport();\n        _this2.playControl = new audio.PlayControl(_this2.transport);\n\n        _this2.currentStateIndex = null;\n        _this2.state = null;\n\n        // init debug - listen for controller for debugging / test\n        _this2.debugMode = false;\n\n        _this2.sharedParams.addParamListener('debug-mode', function (value) {\n          _this2.debugMode = value;\n        });\n\n        _this2.projectConfig.states.forEach(function (state, stateIndex) {\n          var name = (0, _slugify2.default)(state.title);\n\n          _this2.sharedParams.addParamListener(name, function (value) {\n            if (!_this2.debugMode || !value) return;\n\n            // get event index from value\n            var getPrefix = /^\\[[0-9]+\\]/;\n            var cleanPrefix = /\\[|\\]/g;\n            var prefix = getPrefix.exec(value)[0];\n            var eventIndex = parseInt(prefix.replace(cleanPrefix, ''));\n\n            _this2.setState(stateIndex, eventIndex);\n          });\n        });\n\n        var progression = _this2.retrieveProgression();\n\n        if (!_this2.debugMode) {\n          if (progression !== null) {\n            _this2.view.model.state = 'choice';\n            _this2.view.render();\n\n            _this2.view.installEvents({\n              'click #restart': function clickRestart() {\n                _this2.view.installEvents({}, true);\n                _this2.view.model.state = 'experience';\n                _this2.view.render();\n                _this2.setState(0);\n              },\n              'click #continue': function clickContinue() {\n                _this2.view.installEvents({}, true);\n                _this2.view.model.state = 'experience';\n                _this2.view.render();\n                _this2.setState(progression.stateIndex, progression.eventIndex);\n              }\n            }, true);\n          } else {\n            _this2.setState(0);\n          }\n        }\n      });\n    }\n\n    // setup and start introduction (text + reading voice)\n\n  }, {\n    key: 'setState',\n    value: function setState(stateIndex) {\n      var eventIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      this.currentStateIndex = stateIndex;\n      var config = this.projectConfig;\n\n      if (this.state) {\n        this.state.exit();\n        this.view.clear();\n      }\n\n      var stateConfig = config.states[stateIndex];\n      var commonConfig = config.common;\n      var isLast = stateIndex === config.states.length - 1;\n\n      this.state = new _State2.default(stateIndex, this, stateConfig, commonConfig, isLast);\n      this.state.enter();\n\n      if (eventIndex !== 0) this.state.seek(eventIndex);\n    }\n  }, {\n    key: 'saveProgression',\n    value: function saveProgression(stateIndex, eventIndex) {\n      var store = (0, _stringify2.default)({ stateIndex: stateIndex, eventIndex: eventIndex });\n      window.localStorage.setItem(localStorageId, store);\n    }\n  }, {\n    key: 'retrieveProgression',\n    value: function retrieveProgression() {\n      var store = null;\n\n      try {\n        store = JSON.parse(window.localStorage.getItem(localStorageId));\n      } catch (err) {}\n\n      return store;\n    }\n  }, {\n    key: 'deleteProgression',\n    value: function deleteProgression() {\n      window.localStorage.removeItem(localStorageId);\n    }\n  }]);\n  return PlayerExperience;\n}(soundworks.Experience);\n\nexports.default = PlayerExperience;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXllckV4cGVyaWVuY2UuanMiXSwibmFtZXMiOlsic291bmR3b3JrcyIsImF1ZGlvQ29udGV4dCIsImNsaWVudCIsImF1ZGlvIiwibG9jYWxTdG9yYWdlSWQiLCJQbGF5ZXJFeHBlcmllbmNlIiwiZW52Q29uZmlnIiwicHJvamVjdENvbmZpZyIsImZlYXR1cmVzIiwiZW52aXJvbm1lbnQiLCJ3YWtlTG9jayIsInB1c2giLCJwbGF0Zm9ybSIsInJlcXVpcmUiLCJzeW5jIiwiY2hlY2tpbiIsInNob3dEaWFsb2ciLCJzaGFyZWRQYXJhbXMiLCJtb3Rpb25JbnB1dCIsImRlc2NyaXB0b3JzIiwiYXNzZXRzUGF0aCIsImFzc2V0c0RvbWFpbiIsImF1ZGlvU3RyZWFtTWFuYWdlciIsIm1vbml0b3JJbnRlcnZhbCIsInJlcXVpcmVkQWR2YW5jZVRocmVzaG9sZCIsInRyaWdnZXJBdWRpb0J1ZmZlcnMiLCJiYWNrZ3JvdW5kSW1hZ2VzIiwic3RhdGVzIiwiZm9yRWFjaCIsInN0YXRlIiwiZXZlbnRzIiwiZXZlbnQiLCJ0cmlnZ2VyQXVkaW8iLCJpZCIsImZpbGUiLCJ0eXBlIiwidXJsIiwidGVzdEZpbGUiLCJ0eHQiLCJzb3VuZENoZWNrIiwiYXVkaW9CdWZmZXJNYW5hZ2VyIiwiZmlsZXMiLCJpbWFnZXNMb2FkZXIiLCJzaW1wbGVQbGF5ZXIiLCJTaW1wbGVQbGF5ZXIiLCJkYXRhIiwidmlldyIsIlBsYXllclZpZXciLCJyZXN0YXJ0UGFnZSIsInNob3ciLCJ0aGVuIiwidHJhbnNwb3J0IiwiVHJhbnNwb3J0IiwicGxheUNvbnRyb2wiLCJQbGF5Q29udHJvbCIsImN1cnJlbnRTdGF0ZUluZGV4IiwiZGVidWdNb2RlIiwiYWRkUGFyYW1MaXN0ZW5lciIsInZhbHVlIiwic3RhdGVJbmRleCIsIm5hbWUiLCJ0aXRsZSIsImdldFByZWZpeCIsImNsZWFuUHJlZml4IiwicHJlZml4IiwiZXhlYyIsImV2ZW50SW5kZXgiLCJwYXJzZUludCIsInJlcGxhY2UiLCJzZXRTdGF0ZSIsInByb2dyZXNzaW9uIiwicmV0cmlldmVQcm9ncmVzc2lvbiIsIm1vZGVsIiwicmVuZGVyIiwiaW5zdGFsbEV2ZW50cyIsImNvbmZpZyIsImV4aXQiLCJjbGVhciIsInN0YXRlQ29uZmlnIiwiY29tbW9uQ29uZmlnIiwiY29tbW9uIiwiaXNMYXN0IiwibGVuZ3RoIiwiU3RhdGUiLCJlbnRlciIsInNlZWsiLCJzdG9yZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJnZXRJdGVtIiwiZXJyIiwicmVtb3ZlSXRlbSIsIkV4cGVyaWVuY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7SUFBWUEsVTs7QUFDWjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUVBLElBQU1DLGVBQWVELFdBQVdDLFlBQWhDO0FBQ0EsSUFBTUMsU0FBU0YsV0FBV0UsTUFBMUI7QUFDQSxJQUFNQyxRQUFRSCxXQUFXRyxLQUF6QjtBQUNBO0FBQ0EsSUFBTUMsaUJBQWlCLFlBQXZCOztJQUVNQyxnQjs7O0FBQ0osNEJBQVlDLFNBQVosRUFBdUJDLGFBQXZCLEVBQXNDO0FBQUE7O0FBQUE7O0FBR3BDLFVBQUtELFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsVUFBS0MsYUFBTCxHQUFxQkEsYUFBckI7O0FBRUEsUUFBTUMsV0FBVyxDQUFDLFdBQUQsRUFBYyxTQUFkLENBQWpCOztBQUVBLFFBQUlELGNBQWNFLFdBQWQsQ0FBMEJDLFFBQTlCLEVBQXdDO0FBQ3RDRixlQUFTRyxJQUFULENBQWMsV0FBZDtBQUNEOztBQUVEO0FBQ0EsVUFBS0MsUUFBTCxHQUFnQixNQUFLQyxPQUFMLENBQWEsVUFBYixFQUF5QixFQUFFTCxVQUFVQSxRQUFaLEVBQXpCLENBQWhCO0FBQ0EsVUFBS00sSUFBTCxHQUFZLE1BQUtELE9BQUwsQ0FBYSxNQUFiLENBQVo7QUFDQSxVQUFLRSxPQUFMLEdBQWUsTUFBS0YsT0FBTCxD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QUFRSSxLQUFLQyxLQUFMLENBQVdKLE9BQU9DLFlBQVAsQ0FBb0JJLE9BQXBCLENBQTRCeEYsY0FBNUIsQ0FBWCxDQUFSO0FBQ0QsT0FGRCxDQUVFLE9BQU15RixHQUFOLEVBQVcsQ0FBRTs7QUFFZixhQUFPUCxLQUFQO0FBQ0Q7Ozt3Q0FFbUI7QUFDbEJDLGFBQU9DLFlBQVAsQ0FBb0JNLFVBQXBCLENBQStCMUYsY0FBL0I7QUFDRDs7O0VBMUs0QkosV0FBVytGLFU7O2tCQTZLM0IxRixnQiIsImZpbGUiOiJQbGF5ZXJFeHBlcmllbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc291bmR3b3JrcyBmcm9tICdzb3VuZHdvcmtzL2NsaWVudCc7XG5pbXBvcnQgc2x1Z2lmeSBmcm9tICdzbHVnaWZ5JztcbmltcG9ydCBTaW1wbGVQbGF5ZXIgZnJvbSAnLi9hdWRpby9TaW1wbGVQbGF5ZXInO1xuaW1wb3J0IFN0YXRlIGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IFBsYXllclZpZXcgZnJvbSAnLi9QbGF5ZXJWaWV3JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5jb25zdCBhdWRpb0NvbnRleHQgPSBzb3VuZHdvcmtzLmF1ZGlvQ29udGV4dDtcbmNvbnN0IGNsaWVudCA9IHNvdW5kd29ya3MuY2xpZW50O1xuY29uc3QgYXVkaW8gPSBzb3VuZHdvcmtzLmF1ZGlvO1xuLy8gc2hvdWxkIGJlIHNvbWV3aGVyZSBlbHNlLCBldmVuIGlmIG5vdCBhIGJpZyBkZWFsXG5jb25zdCBsb2NhbFN0b3JhZ2VJZCA9ICdsYmgtc3F1YXJlJztcblxuY2xhc3MgUGxheWVyRXhwZXJpZW5jZSBleHRlbmRzIHNvdW5kd29ya3MuRXhwZXJpZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGVudkNvbmZpZywgcHJvamVjdENvbmZpZykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmVudkNvbmZpZyA9IGVudkNvbmZpZztcbiAgICB0aGlzLnByb2plY3RDb25maWcgPSBwcm9qZWN0Q29uZmlnO1xuXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbJ3dlYi1hdWRpbycsICd2aWJyYXRlJ107XG5cbiAgICBpZiAocHJvamVjdENvbmZpZy5lbnZpcm9ubWVudC53YWtlTG9jaykge1xuICAgICAgZmVhdHVyZXMucHVzaCgnd2FrZS1sb2NrJyk7XG4gICAgfVxuXG4gICAgLy8gc2VydmljZXNcbiAgICB0aGlzLnBsYXRmb3JtID0gdGhpcy5yZXF1aXJlKCdwbGF0Zm9ybScsIHsgZmVhdHVyZXM6IGZlYXR1cmVzIH0pO1xuICAgIHRoaXMuc3luYyA9IHRoaXMucmVxdWlyZSgnc3luYycpO1xuICAgIHRoaXMuY2hlY2tpbiA9IHRoaXMucmVxdWlyZSgnY2hlY2tpbicsIHsgc2hvd0RpYWxvZzogZmFsc2UgfSk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMgPSB0aGlzLnJlcXVpcmUoJ3NoYXJlZC1wYXJhbXMnKTtcbiAgICB0aGlzLm1vdGlvbklucHV0ID0gdGhpcy5yZXF1aXJlKCdtb3Rpb24taW5wdXQnLCB7XG4gICAgICBkZXNjcmlwdG9yczogWydkZXZpY2VvcmllbnRhdGlvbiddLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYXNzZXRzUGF0aCA9IGAke3RoaXMuZW52Q29uZmlnLmFzc2V0c0RvbWFpbn1hc3NldHMvYDtcblxuICAgIHRoaXMuYXVkaW9TdHJlYW1NYW5hZ2VyID0gdGhpcy5yZXF1aXJlKCdhdWRpby1zdHJlYW0tbWFuYWdlcicsIHtcbiAgICAgIGFzc2V0c0RvbWFpbjogYXNzZXRzUGF0aCxcbiAgICAgIG1vbml0b3JJbnRlcnZhbDogMSxcbiAgICAgIHJlcXVpcmVkQWR2YW5jZVRocmVzaG9sZDogMTAsXG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmlnZ2VyQXVkaW9CdWZmZXJzID0ge307XG4gICAgY29uc3QgYmFja2dyb3VuZEltYWdlcyA9IFtdO1xuXG4gICAgLy9cbiAgICB0aGlzLnByb2plY3RDb25maWcuc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgc3RhdGUuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudHJpZ2dlckF1ZGlvKVxuICAgICAgICAgIHRyaWdnZXJBdWRpb0J1ZmZlcnNbZXZlbnQudHJpZ2dlckF1ZGlvLmlkXSA9IGV2ZW50LnRyaWdnZXJBdWRpby5maWxlO1xuXG4gICAgICAgIC8vIGJhY2tncm91bmQgaW1hZ2UgZG9tYWluIG9yIHN1YiBsb2NhdGlvbiBhcmUgbm90IGFic3RyYWN0ZWQgYnlcbiAgICAgICAgLy8gYSBzZXJ2aWNlLCBzbyBvdmVycmlkZSB0aGUgdXJsXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnYmFja2dyb3VuZC1pbWFnZScpIHtcbiAgICAgICAgICBldmVudC51cmwgPSBhc3NldHNQYXRoICsgZXZlbnQudXJsO1xuICAgICAgICAgIGJhY2tncm91bmRJbWFnZXMucHVzaChldmVudC51cmwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRyaWdnZXJBdWRpb0J1ZmZlcnMudGVzdEZpbGUgPSB0aGlzLnByb2plY3RDb25maWcudHh0LnNvdW5kQ2hlY2sudGVzdEZpbGU7XG5cbiAgICB0aGlzLmF1ZGlvQnVmZmVyTWFuYWdlciA9IHRoaXMucmVxdWlyZSgnYXVkaW8tYnVmZmVyLW1hbmFnZXInLCB7XG4gICAgICBhc3NldHNEb21haW46IGFzc2V0c1BhdGgsXG4gICAgICBmaWxlczogdHJpZ2dlckF1ZGlvQnVmZmVycyxcbiAgICB9KTtcblxuICAgIHRoaXMuaW1hZ2VzTG9hZGVyID0gdGhpcy5yZXF1aXJlKCdpbWFnZXMtbG9hZGVyJywge1xuICAgICAgLy8gYXNzZXRzRG9tYWluOiBhc3NldHNQYXRoLCAvLyBpcyBhbHJlYWR5IG92ZXJyaWRlbi4uLlxuICAgICAgZmlsZXM6IGJhY2tncm91bmRJbWFnZXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNvdW5kQ2hlY2sgPSB0aGlzLnJlcXVpcmUoJ3NvdW5kLWNoZWNrJyk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBzdXBlci5zdGFydCgpO1xuXG4gICAgdGhpcy5zaW1wbGVQbGF5ZXIgPSBuZXcgU2ltcGxlUGxheWVyKHRoaXMuYXVkaW9CdWZmZXJNYW5hZ2VyLmRhdGEpO1xuICAgIHRoaXMudmlldyA9IG5ldyBQbGF5ZXJWaWV3KHtcbiAgICAgIHN0YXRlOiAnZXhwZXJpZW5jZScsXG4gICAgICB0eHQ6IHRoaXMucHJvamVjdENvbmZpZy50eHQucmVzdGFydFBhZ2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNob3coKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMudHJhbnNwb3J0ID0gbmV3IGF1ZGlvLlRyYW5zcG9ydCgpO1xuICAgICAgdGhpcy5wbGF5Q29udHJvbCA9IG5ldyBhdWRpby5QbGF5Q29udHJvbCh0aGlzLnRyYW5zcG9ydCk7XG5cbiAgICAgIHRoaXMuY3VycmVudFN0YXRlSW5kZXggPSBudWxsO1xuICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG5cbiAgICAgIC8vIGluaXQgZGVidWcgLSBsaXN0ZW4gZm9yIGNvbnRyb2xsZXIgZm9yIGRlYnVnZ2luZyAvIHRlc3RcbiAgICAgIHRoaXMuZGVidWdNb2RlID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuc2hhcmVkUGFyYW1zLmFkZFBhcmFtTGlzdGVuZXIoJ2RlYnVnLW1vZGUnLCB2YWx1ZSA9PiB7XG4gICAgICAgIHRoaXMuZGVidWdNb2RlID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wcm9qZWN0Q29uZmlnLnN0YXRlcy5mb3JFYWNoKChzdGF0ZSwgc3RhdGVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gc2x1Z2lmeShzdGF0ZS50aXRsZSk7XG5cbiAgICAgICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkUGFyYW1MaXN0ZW5lcihuYW1lLCB2YWx1ZSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmRlYnVnTW9kZSB8fMKgIXZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gZ2V0IGV2ZW50IGluZGV4IGZyb20gdmFsdWVcbiAgICAgICAgICBjb25zdCBnZXRQcmVmaXggPSAvXlxcW1swLTldK1xcXS87XG4gICAgICAgICAgY29uc3QgY2xlYW5QcmVmaXggPSAvXFxbfFxcXS9nO1xuICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGdldFByZWZpeC5leGVjKHZhbHVlKVswXTtcbiAgICAgICAgICBjb25zdCBldmVudEluZGV4ID0gcGFyc2VJbnQocHJlZml4LnJlcGxhY2UoY2xlYW5QcmVmaXgsICcnKSk7XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlSW5kZXgsIGV2ZW50SW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwcm9ncmVzc2lvbiA9IHRoaXMucmV0cmlldmVQcm9ncmVzc2lvbigpO1xuXG4gICAgICBpZiAoIXRoaXMuZGVidWdNb2RlKSB7XG4gICAgICAgIGlmIChwcm9ncmVzc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMudmlldy5tb2RlbC5zdGF0ZSA9ICdjaG9pY2UnO1xuICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoKTtcblxuICAgICAgICAgIHRoaXMudmlldy5pbnN0YWxsRXZlbnRzKHtcbiAgICAgICAgICAgICdjbGljayAjcmVzdGFydCc6ICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3Lmluc3RhbGxFdmVudHMoe30sIHRydWUpO1xuICAgICAgICAgICAgICB0aGlzLnZpZXcubW9kZWwuc3RhdGUgPSAnZXhwZXJpZW5jZSc7XG4gICAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnY2xpY2sgI2NvbnRpbnVlJzogKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnZpZXcuaW5zdGFsbEV2ZW50cyh7fSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHRoaXMudmlldy5tb2RlbC5zdGF0ZSA9ICdleHBlcmllbmNlJztcbiAgICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHByb2dyZXNzaW9uLnN0YXRlSW5kZXgsIHByb2dyZXNzaW9uLmV2ZW50SW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKDApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8vIHNldHVwIGFuZCBzdGFydCBpbnRyb2R1Y3Rpb24gKHRleHQgKyByZWFkaW5nIHZvaWNlKVxuICBzZXRTdGF0ZShzdGF0ZUluZGV4LCBldmVudEluZGV4ID0gMCkge1xuICAgIHRoaXMuY3VycmVudFN0YXRlSW5kZXggPSBzdGF0ZUluZGV4O1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMucHJvamVjdENvbmZpZztcblxuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlLmV4aXQoKTtcbiAgICAgIHRoaXMudmlldy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlQ29uZmlnID0gY29uZmlnLnN0YXRlc1tzdGF0ZUluZGV4XTtcbiAgICBjb25zdCBjb21tb25Db25maWcgPSBjb25maWcuY29tbW9uO1xuICAgIGNvbnN0IGlzTGFzdCA9IChzdGF0ZUluZGV4ID09PSBjb25maWcuc3RhdGVzLmxlbmd0aCAtIDEpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZShzdGF0ZUluZGV4LCB0aGlzLCBzdGF0ZUNvbmZpZywgY29tbW9uQ29uZmlnLCBpc0xhc3QpO1xuICAgIHRoaXMuc3RhdGUuZW50ZXIoKTtcblxuICAgIGlmIChldmVudEluZGV4ICE9PSAwKVxuICAgICAgdGhpcy5zdGF0ZS5zZWVrKGV2ZW50SW5kZXgpO1xuICB9XG5cbiAgc2F2ZVByb2dyZXNzaW9uKHN0YXRlSW5kZXgsIGV2ZW50SW5kZXgpIHtcbiAgICBjb25zdCBzdG9yZSA9IEpTT04uc3RyaW5naWZ5KHsgc3RhdGVJbmRleCwgZXZlbnRJbmRleCB9KTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlSWQsIHN0b3JlKTtcbiAgfVxuXG4gIHJldHJpZXZlUHJvZ3Jlc3Npb24oKSB7XG4gICAgbGV0IHN0b3JlID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBzdG9yZSA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUlkKSk7XG4gICAgfSBjYXRjaChlcnIpIHt9XG5cbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cblxuICBkZWxldGVQcm9ncmVzc2lvbigpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9jYWxTdG9yYWdlSWQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllckV4cGVyaWVuY2U7XG5cblxuIl19","deps":{"path":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/path-browserify/index.js","babel-runtime/helpers/classCallCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js","babel-runtime/helpers/createClass":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js","babel-runtime/helpers/possibleConstructorReturn":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","babel-runtime/helpers/get":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js","babel-runtime/helpers/inherits":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js","slugify":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/slugify/slugify.js","babel-runtime/core-js/json/stringify":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/json/stringify.js","babel-runtime/core-js/object/get-prototype-of":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js","./PlayerView":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerView.js","./audio/SimplePlayer":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/SimplePlayer.js","./State":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/State.js"}},"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/index.js":{"file":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/index.js","source":"'use strict';\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nrequire('whatwg-fetch');\n\nvar _client = require('soundworks/client');\n\nvar soundworks = _interopRequireWildcard(_client);\n\nvar _PlayerExperience = require('./PlayerExperience');\n\nvar _PlayerExperience2 = _interopRequireDefault(_PlayerExperience);\n\nvar _serviceViews = require('../shared/serviceViews');\n\nvar _serviceViews2 = _interopRequireDefault(_serviceViews);\n\nvar _ImagesLoader = require('../shared/services/ImagesLoader');\n\nvar _ImagesLoader2 = _interopRequireDefault(_ImagesLoader);\n\nvar _SoundCheck = require('../shared/services/SoundCheck');\n\nvar _SoundCheck2 = _interopRequireDefault(_SoundCheck);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import client side soundworks and player experience\nvar config = (0, _assign2.default)({ appContainer: '#container' }, window.soundworksConfig);\n\nfunction bootstrap(projectConfig) {\n  projectConfig = JSON.parse(projectConfig);\n  document.body.classList.remove('loading');\n  // initialize the client with configuration received\n  // from the server through the `index.html`\n  // @see {~/src/server/index.js}\n  // @see {~/html/default.ejs}\n  soundworks.client.init(config.clientType, config);\n\n  // configure views for the services\n  soundworks.client.setServiceInstanciationHook(function (id, instance) {\n    if (_serviceViews2.default.has(id)) {\n      instance.view = _serviceViews2.default.get(id, config);\n    }\n\n    // use audio buffer manager view for images loader\n    if (id === 'service:images-loader') {\n      instance.view = _serviceViews2.default.get('service:audio-buffer-manager', config);\n    }\n\n    if (id === 'service:platform') {\n      instance.view = _serviceViews2.default.get('service:platform', projectConfig.txt.home);\n    }\n\n    if (id === 'service:sound-check') {\n      instance.view = _serviceViews2.default.get('service:sound-check', projectConfig.txt.soundCheck);\n    }\n  });\n\n  var vibrateHook = {\n    id: 'vibrate',\n    check: function check() {\n      return true; // can't break application\n    },\n    interactionHook: function interactionHook() {\n      // check for vibrate API (not in Safari)\n      if (window.navigator.vibrate !== undefined) {\n        window.navigator.vibrate(1);\n      }\n      return _promise2.default.resolve(true);\n    }\n  };\n\n  var platform = soundworks.client.require('platform');\n  platform.addFeatureDefinition(vibrateHook);\n\n  // create client side (player) experience and start the client\n  var experience = new _PlayerExperience2.default(config, projectConfig);\n  soundworks.client.start();\n}\n\nwindow.addEventListener('load', function () {\n  window.fetch(config.assetsDomain + 'project-config').then(function (response) {\n    return response.json();\n  }).then(bootstrap);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInNvdW5kd29ya3MiLCJjb25maWciLCJhcHBDb250YWluZXIiLCJ3aW5kb3ciLCJzb3VuZHdvcmtzQ29uZmlnIiwiYm9vdHN0cmFwIiwicHJvamVjdENvbmZpZyIsIkpTT04iLCJwYXJzZSIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNsaWVudCIsImluaXQiLCJjbGllbnRUeXBlIiwic2V0U2VydmljZUluc3RhbmNpYXRpb25Ib29rIiwiaWQiLCJpbnN0YW5jZSIsInNlcnZpY2VWaWV3cyIsImhhcyIsInZpZXciLCJnZXQiLCJ0eHQiLCJob21lIiwic291bmRDaGVjayIsInZpYnJhdGVIb29rIiwiY2hlY2siLCJpbnRlcmFjdGlvbkhvb2siLCJuYXZpZ2F0b3IiLCJ2aWJyYXRlIiwidW5kZWZpbmVkIiwicmVzb2x2ZSIsInBsYXRmb3JtIiwicmVxdWlyZSIsImFkZEZlYXR1cmVEZWZpbml0aW9uIiwiZXhwZXJpZW5jZSIsIlBsYXllckV4cGVyaWVuY2UiLCJzdGFydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmZXRjaCIsImFzc2V0c0RvbWFpbiIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQTs7QUFDQTs7SUFBWUEsVTs7QUFDWjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFOQTtBQVFBLElBQU1DLFNBQVMsc0JBQWMsRUFBRUMsY0FBYyxZQUFoQixFQUFkLEVBQThDQyxPQUFPQyxnQkFBckQsQ0FBZjs7QUFFQSxTQUFTQyxTQUFULENBQW1CQyxhQUFuQixFQUFrQztBQUNoQ0Esa0JBQWdCQyxLQUFLQyxLQUFMLENBQVdGLGFBQVgsQ0FBaEI7QUFDQUcsV0FBU0MsSUFBVCxDQUFjQyxTQUFkLENBQXdCQyxNQUF4QixDQUErQixTQUEvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FaLGFBQVdhLE1BQVgsQ0FBa0JDLElBQWxCLENBQXVCYixPQUFPYyxVQUE5QixFQUEwQ2QsTUFBMUM7O0FBRUE7QUFDQUQsYUFBV2EsTUFBWCxDQUFrQkcsMkJBQWxCLENBQThDLFVBQUNDLEVBQUQsRUFBS0MsUUFBTCxFQUFrQjtBQUM5RCxRQUFJQyx1QkFBYUMsR0FBYixDQUFpQkgsRUFBakIsQ0FBSixFQUEwQjtBQUN4QkMsZUFBU0csSUFBVCxHQUFnQkYsdUJBQWFHLEdBQWIsQ0FBaUJMLEVBQWpCLEVBQXFCaEIsTUFBckIsQ0FBaEI7QUFDRDs7QUFFRDtBQUNBLFFBQUlnQixPQUFPLHVCQUFYLEVBQW9DO0FBQ2xDQyxlQUFTRyxJQUFULEdBQWdCRix1QkFBYUcsR0FBYixDQUFpQiw4QkFBakIsRUFBaURyQixNQUFqRCxDQUFoQjtBQUNEOztBQUVELFFBQUlnQixPQUFPLGtCQUFYLEVBQStCO0FBQzdCQyxlQUFTRyxJQUFULEdBQWdCRix1QkFBYUcsR0FBYixDQUFpQixrQkFBakIsRUFBcUNoQixjQUFjaUIsR0FBZCxDQUFrQkMsSUFBdkQsQ0FBaEI7QUFDRDs7QUFFRCxRQUFJUCxPQUFPLHFCQUFYLEVBQWtDO0FBQ2hDQyxlQUFTRyxJQUFULEdBQWdCRix1QkFBYUcsR0FBYixDQUFpQixxQkFBakIsRUFBd0NoQixjQUFjaUIsR0FBZCxDQUFrQkUsVUFBMUQsQ0FBaEI7QUFDRDtBQUNGLEdBakJEOztBQW1CQSxNQUFNQyxjQUFjO0FBQ2xCVCxRQUFJLFNBRGM7QUFFbEJVLFdBQU8saUJBQVc7QUFDaEIsYUFBTyxJQUFQLENBRGdCLENBQ0g7QUFDZCxLQUppQjtBQUtsQkMscUJBQWlCLDJCQUFXO0FBQzFCO0FBQ0EsVUFBSXpCLE9BQU8wQixTQUFQLENBQWlCQyxPQUFqQixLQUE2QkMsU0FBakMsRUFBNkM7QUFDM0M1QixlQUFPMEIsU0FBUCxDQUFpQkMsT0FBakIsQ0FBeUIsQ0FBekI7QUFDRDtBQUNELGFBQU8sa0JBQVFFLE9BQVIsQ0FBZ0IsSUFBaEIsQ0FBUDtBQUNEO0FBWGlCLEdBQXBCOztBQWNBLE1BQU1DLFdBQVdqQyxXQUFXYSxNQUFYLENBQWtCcUIsT0FBbEIsQ0FBMEIsVUFBMUIsQ0FBakI7QUFDQUQsV0FBU0Usb0JBQVQsQ0FBOEJULFdBQTlCOztBQUVBO0FBQ0EsTUFBTVUsYUFBYSxJQUFJQywwQkFBSixDQUFxQnBDLE1BQXJCLEVBQTZCSyxhQUE3QixDQUFuQjtBQUNBTixhQUFXYSxNQUFYLENBQWtCeUIsS0FBbEI7QUFDRDs7QUFFRG5DLE9BQU9vQyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxZQUFNO0FBQ3BDcEMsU0FBT3FDLEtBQVAsQ0FBYXZDLE9BQU93QyxZQUFQLEdBQXNCLGdCQUFuQyxFQUNHQyxJQURILENBQ1E7QUFBQSxXQUFZQyxTQUFTQyxJQUFULEVBQVo7QUFBQSxHQURSLEVBRUdGLElBRkgsQ0FFUXJDLFNBRlI7QUFHRCxDQUpEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IGNsaWVudCBzaWRlIHNvdW5kd29ya3MgYW5kIHBsYXllciBleHBlcmllbmNlXG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5pbXBvcnQgKiBhcyBzb3VuZHdvcmtzIGZyb20gJ3NvdW5kd29ya3MvY2xpZW50JztcbmltcG9ydCBQbGF5ZXJFeHBlcmllbmNlIGZyb20gJy4vUGxheWVyRXhwZXJpZW5jZSc7XG5pbXBvcnQgc2VydmljZVZpZXdzIGZyb20gJy4uL3NoYXJlZC9zZXJ2aWNlVmlld3MnO1xuaW1wb3J0IEltYWdlc0xvYWRlciBmcm9tICcuLi9zaGFyZWQvc2VydmljZXMvSW1hZ2VzTG9hZGVyJztcbmltcG9ydCBTb3VuZENoZWNrIGZyb20gJy4uL3NoYXJlZC9zZXJ2aWNlcy9Tb3VuZENoZWNrJztcblxuY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7IGFwcENvbnRhaW5lcjogJyNjb250YWluZXInIH0sIHdpbmRvdy5zb3VuZHdvcmtzQ29uZmlnKTtcblxuZnVuY3Rpb24gYm9vdHN0cmFwKHByb2plY3RDb25maWcpIHtcbiAgcHJvamVjdENvbmZpZyA9IEpTT04ucGFyc2UocHJvamVjdENvbmZpZyk7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAvLyBpbml0aWFsaXplIHRoZSBjbGllbnQgd2l0aCBjb25maWd1cmF0aW9uIHJlY2VpdmVkXG4gIC8vIGZyb20gdGhlIHNlcnZlciB0aHJvdWdoIHRoZSBgaW5kZXguaHRtbGBcbiAgLy8gQHNlZSB7fi9zcmMvc2VydmVyL2luZGV4LmpzfVxuICAvLyBAc2VlIHt+L2h0bWwvZGVmYXVsdC5lanN9XG4gIHNvdW5kd29ya3MuY2xpZW50LmluaXQoY29uZmlnLmNsaWVudFR5cGUsIGNvbmZpZyk7XG5cbiAgLy8gY29uZmlndXJlIHZpZXdzIGZvciB0aGUgc2VydmljZXNcbiAgc291bmR3b3Jrcy5jbGllbnQuc2V0U2VydmljZUluc3RhbmNpYXRpb25Ib29rKChpZCwgaW5zdGFuY2UpID0+IHtcbiAgICBpZiAoc2VydmljZVZpZXdzLmhhcyhpZCkpIHtcbiAgICAgIGluc3RhbmNlLnZpZXcgPSBzZXJ2aWNlVmlld3MuZ2V0KGlkLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8vIHVzZSBhdWRpbyBidWZmZXIgbWFuYWdlciB2aWV3IGZvciBpbWFnZXMgbG9hZGVyXG4gICAgaWYgKGlkID09PSAnc2VydmljZTppbWFnZXMtbG9hZGVyJykge1xuICAgICAgaW5zdGFuY2UudmlldyA9IHNlcnZpY2VWaWV3cy5nZXQoJ3NlcnZpY2U6YXVkaW8tYnVmZmVyLW1hbmFnZXInLCBjb25maWcpO1xuICAgIH1cblxuICAgIGlmIChpZCA9PT0gJ3NlcnZpY2U6cGxhdGZvcm0nKSB7XG4gICAgICBpbnN0YW5jZS52aWV3ID0gc2VydmljZVZpZXdzLmdldCgnc2VydmljZTpwbGF0Zm9ybScsIHByb2plY3RDb25maWcudHh0LmhvbWUpO1xuICAgIH1cblxuICAgIGlmIChpZCA9PT0gJ3NlcnZpY2U6c291bmQtY2hlY2snKSB7XG4gICAgICBpbnN0YW5jZS52aWV3ID0gc2VydmljZVZpZXdzLmdldCgnc2VydmljZTpzb3VuZC1jaGVjaycsIHByb2plY3RDb25maWcudHh0LnNvdW5kQ2hlY2spO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdmlicmF0ZUhvb2sgPSB7XG4gICAgaWQ6ICd2aWJyYXRlJyxcbiAgICBjaGVjazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gY2FuJ3QgYnJlYWsgYXBwbGljYXRpb25cbiAgICB9LFxuICAgIGludGVyYWN0aW9uSG9vazogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBjaGVjayBmb3IgdmlicmF0ZSBBUEkgKG5vdCBpbiBTYWZhcmkpXG4gICAgICBpZiggd2luZG93Lm5hdmlnYXRvci52aWJyYXRlICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudmlicmF0ZSgxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsYXRmb3JtID0gc291bmR3b3Jrcy5jbGllbnQucmVxdWlyZSgncGxhdGZvcm0nKTtcbiAgcGxhdGZvcm0uYWRkRmVhdHVyZURlZmluaXRpb24odmlicmF0ZUhvb2spO1xuXG4gIC8vIGNyZWF0ZSBjbGllbnQgc2lkZSAocGxheWVyKSBleHBlcmllbmNlIGFuZCBzdGFydCB0aGUgY2xpZW50XG4gIGNvbnN0IGV4cGVyaWVuY2UgPSBuZXcgUGxheWVyRXhwZXJpZW5jZShjb25maWcsIHByb2plY3RDb25maWcpO1xuICBzb3VuZHdvcmtzLmNsaWVudC5zdGFydCgpO1xufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgd2luZG93LmZldGNoKGNvbmZpZy5hc3NldHNEb21haW4gKyAncHJvamVjdC1jb25maWcnKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbihib290c3RyYXApO1xufSk7XG4iXX0=","deps":{"whatwg-fetch":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/whatwg-fetch/fetch.js","babel-runtime/core-js/promise":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js","babel-runtime/core-js/object/assign":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js","soundworks/client":"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js","../shared/serviceViews":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/serviceViews.js","../shared/services/ImagesLoader":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/ImagesLoader.js","../shared/services/SoundCheck":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/SoundCheck.js","./PlayerExperience":"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerExperience.js"}}},"mtimes":{"/Users/victoraudouze/Desktop/lbh-square/node_modules/whatwg-fetch/fetch.js":1647282409659,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/classCallCheck.js":1647282410678,"/Users/victoraudouze/Desktop/lbh-square/node_modules/slugify/slugify.js":1647282406775,"/Users/victoraudouze/Desktop/lbh-square/node_modules/process/browser.js":1647282411817,"/Users/victoraudouze/Desktop/lbh-square/node_modules/path-browserify/index.js":1647282406687,"/Users/victoraudouze/Desktop/lbh-square/dist/client/shared/services/ImagesLoader.js":1647282403474,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/defineProperty.js":1647282410675,"/Users/victoraudouze/Desktop/lbh-square/dist/client/shared/serviceViews.js":1647282403472,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.to-string.js":1647282407469,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_core.js":1647282407598,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/core/audioContext.js":1647282404978,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/PlayerView.js":1647282403477,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/Canvas2dRenderer.js":1647282408810,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/CanvasRenderingGroup.js":1647282408806,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/TouchSurface.js":1647282408807,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/viewport.js":1647282408810,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/client.js":1647282408794,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/Experience.js":1647282408795,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Auth.js":1647282408820,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/AudioScheduler.js":1647282408819,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Checkin.js":1647282408817,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/FileSystem.js":1647282408812,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/ErrorReporter.js":1647282408827,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Geolocation.js":1647282408820,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Locator.js":1647282408815,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Language.js":1647282408827,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Network.js":1647282408826,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Placer.js":1647282408815,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/RawSocket.js":1647282408813,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/SharedConfig.js":1647282408818,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/SharedParams.js":1647282408822,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/SharedRecorder.js":1647282408816,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/CanvasView.js":1647282408807,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/SegmentedView.js":1647282408808,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/prefabs/SelectView.js":1647282408802,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/prefabs/ControllerExperience.js":1647282408800,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/prefabs/SquaredView.js":1647282408801,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/MetricScheduler.js":1647282408824,"/Users/victoraudouze/Desktop/lbh-square/node_modules/nosleep.js/dist/NoSleep.min.js":1647282410277,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/audio/SimplePlayer.js":1647282403480,"/Users/victoraudouze/Desktop/lbh-square/node_modules/screenfull/dist/screenfull.js":1647282410206,"/Users/victoraudouze/Desktop/lbh-square/node_modules/mobile-detect/mobile-detect.js":1647282404928,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_global.js":1647282407555,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iterators.js":1647282407562,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_perform.js":1647282407527,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_library.js":1647282407499,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_is-object.js":1647282407458,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_a-function.js":1647282407494,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_an-instance.js":1647282407519,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/utils/Signal.js":1647282408788,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/utils/EventEmitter.js":1647282408788,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/Process.js":1647282408798,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/utils/SignalAll.js":1647282408789,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/engines/PlayerEngine.js":1647282404980,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/engines/Metronome.js":1647282404982,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/json/stringify.js":1647282407319,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/json/stringify.js":1647282410619,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/toArray.js":1647282410665,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/engines/GranularEngine.js":1647282404983,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/engines/SegmentEngine.js":1647282404981,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/viewManager.js":1647282408799,"/Users/victoraudouze/Desktop/lbh-square/node_modules/ftdomdelegate/lib/delegate.js":1647282405275,"/Users/victoraudouze/Desktop/lbh-square/node_modules/ftdomdelegate/lib/index.js":1647282405276,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/audio/StereoPanner.js":1647282403481,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/State.js":1647282403482,"/Users/victoraudouze/Desktop/lbh-square/node_modules/lodash._reinterpolate/index.js":1647282405105,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/MotionInput.js":1647282408622,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/core/AudioTimeEngine.js":1647282404978,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/masters/PlayControl.js":1647282404983,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/masters/Transport.js":1647282404985,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/masters/factories.js":1647282404984,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-audio/dist/index.js":1647282404979,"/Users/victoraudouze/Desktop/lbh-square/dist/client/shared/services/SoundCheck.js":1647282403474,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js":1647282408639,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_ctx.js":1647282407472,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_redefine-all.js":1647282407569,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_set-to-string-tag.js":1647282407591,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_set-species.js":1647282407533,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_microtask.js":1647282407471,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iter-detect.js":1647282407434,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_user-agent.js":1647282407579,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_promise-resolve.js":1647282407448,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_new-promise-capability.js":1647282407496,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-integer.js":1647282407431,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_add-to-unscopables.js":1647282407556,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iter-step.js":1647282407563,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_property-desc.js":1647282407538,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_uid.js":1647282407521,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_defined.js":1647282407533,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_string-at.js":1647282407545,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_has.js":1647282407482,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_export.js":1647282407600,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.promise.try.js":1647282407509,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_cof.js":1647282407522,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_classof.js":1647282407621,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_invoke.js":1647282407503,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-loaders/dist/loader.js":1647282404864,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-gops.js":1647282407538,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-pie.js":1647282407482,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_fails.js":1647282407530,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-loaders/dist/audio-buffer-loader.js":1647282404862,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-loaders/dist/super-loader.js":1647282404863,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-loaders/dist/index.js":1647282404863,"/Users/victoraudouze/Desktop/lbh-square/node_modules/lodash.templatesettings/index.js":1647282405100,"/Users/victoraudouze/Desktop/lbh-square/node_modules/lodash.template/index.js":1647282405924,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/views/View.js":1647282408809,"/Users/victoraudouze/Desktop/lbh-square/node_modules/ms/index.js":1647282405138,"/Users/victoraudouze/Desktop/lbh-square/node_modules/debug/src/common.js":1647282411828,"/Users/victoraudouze/Desktop/lbh-square/node_modules/debug/src/browser.js":1647282411829,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/Service.js":1647282408796,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/core/TimeEngine.js":1647282405356,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/InputModule.js":1647282408626,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/EnergyModule.js":1647282408621,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/core/PriorityQueue.js":1647282405355,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/package.json":1647282408644,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/core/SchedulingQueue.js":1647282405357,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/masters/Scheduler.js":1647282405360,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/masters/PlayControl.js":1647282405358,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/Title.js":1647282408640,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/Group.js":1647282408642,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/Text.js":1647282408642,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/mixins/display.js":1647282408631,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js":1647282408636,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js":1647282408640,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/DragAndDrop.js":1647282408638,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/SelectList.js":1647282408635,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/Toggle.js":1647282408637,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/DeviceMotionModule.js":1647282408624,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/masters/Transport.js":1647282405359,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/mixins/container.js":1647282408632,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/factory.js":1647282408631,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/utils/styles-declarations.js":1647282408634,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/utils/styles.js":1647282408635,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/utils/elements.js":1647282408633,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js":1647282408637,"/Users/victoraudouze/Desktop/lbh-square/node_modules/platform/platform.js":1647282406528,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_descriptors.js":1647282407580,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-iobject.js":1647282407529,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.array.iterator.js":1647282407432,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_shared.js":1647282407441,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_wks.js":1647282407590,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_an-object.js":1647282407617,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_species-constructor.js":1647282407598,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.promise.finally.js":1647282407590,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_is-array-iter.js":1647282407464,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/core.get-iterator-method.js":1647282407543,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iter-call.js":1647282407629,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-length.js":1647282407437,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_for-of.js":1647282407578,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_html.js":1647282407619,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_redefine.js":1647282407602,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_dom-create.js":1647282407552,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_task.js":1647282407564,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.promise.js":1647282407540,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.define-property.js":1647282407629,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/define-property.js":1647282407336,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/define-property.js":1647282410630,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/createClass.js":1647282410652,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.create.js":1647282407566,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/create.js":1647282407328,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/create.js":1647282410624,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-object.js":1647282407501,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iobject.js":1647282407494,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-sap.js":1647282407601,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.get-prototype-of.js":1647282407583,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/get-prototype-of.js":1647282407323,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/get-prototype-of.js":1647282410622,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/lib/on.js":1647282406586,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_enum-bug-keys.js":1647282407503,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js":1647282408624,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/DeviceOrientationModule.js":1647282408625,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/motion-input/dist/index.js":1647282408623,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.set.js":1647282407567,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.set.of.js":1647282407455,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.set.to-json.js":1647282407447,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.set.from.js":1647282407631,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/set.js":1647282407295,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/set.js":1647282410610,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Platform.js":1647282408825,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/core.get-iterator.js":1647282407624,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/get-iterator.js":1647282407341,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/get-iterator.js":1647282410631,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/AudioBufferManager.js":1647282408814,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/isarray/index.js":1647282406572,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.keys.js":1647282407536,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/keys.js":1647282407322,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/keys.js":1647282410621,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/serviceManager.js":1647282408799,"/Users/victoraudouze/Desktop/lbh-square/node_modules/component-emitter/index.js":1647282410709,"/Users/victoraudouze/Desktop/lbh-square/node_modules/indexof/index.js":1647282411859,"/Users/victoraudouze/Desktop/lbh-square/node_modules/component-bind/index.js":1647282410478,"/Users/victoraudouze/Desktop/lbh-square/node_modules/backo2/index.js":1647282404163,"/Users/victoraudouze/Desktop/lbh-square/node_modules/parseuri/index.js":1647282406259,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/lib/url.js":1647282406589,"/Users/victoraudouze/Desktop/lbh-square/node_modules/to-array/index.js":1647282404026,"/Users/victoraudouze/Desktop/lbh-square/node_modules/parseqs/index.js":1647282404901,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/gui-components/dist/Slider.js":1647282408649,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/gui-components/dist/index.js":1647282408647,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/components/Slider.js":1647282408641,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/basic-controllers/dist/index.js":1647282408632,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/prefabs/ControllerScene.js":1647282408804,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_shared-key.js":1647282407438,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-gpo.js":1647282407457,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-primitive.js":1647282407599,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_ie8-dom-define.js":1647282407435,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-dp.js":1647282407605,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_hide.js":1647282407418,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/web.dom.iterable.js":1647282407561,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_wks-ext.js":1647282407622,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/symbol/iterator.js":1647282407270,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/symbol/iterator.js":1647282410594,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_set-proto.js":1647282407462,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.set-prototype-of.js":1647282407492,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/set-prototype-of.js":1647282407333,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/set-prototype-of.js":1647282410629,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/inherits.js":1647282410689,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-gopd.js":1647282407615,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":1647282407485,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/get-own-property-descriptor.js":1647282407330,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":1647282410625,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/get.js":1647282410683,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/sync/node_modules/ms/index.js":1647282408654,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/sync/node_modules/debug/src/debug.js":1647282408667,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/sync/node_modules/debug/src/browser.js":1647282408667,"/Users/victoraudouze/Desktop/lbh-square/node_modules/@ircam/sync/client/index.js":1647282408672,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/Sync.js":1647282408821,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.symbol.observable.js":1647282407544,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/core.is-iterable.js":1647282407550,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/is-iterable.js":1647282407183,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/is-iterable.js":1647282410546,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/slicedToArray.js":1647282410688,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/prefabs/SpaceView.js":1647282408803,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js":1647282406568,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_validate-collection.js":1647282407617,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_set-collection-from.js":1647282407534,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.map.from.js":1647282407596,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_set-collection-of.js":1647282407466,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.map.of.js":1647282407433,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_collection-strong.js":1647282407427,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/node_modules/ms/index.js":1647282405363,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/node_modules/debug/src/debug.js":1647282405376,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/node_modules/debug/src/browser.js":1647282405375,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/masters/SimpleScheduler.js":1647282405361,"/Users/victoraudouze/Desktop/lbh-square/node_modules/waves-masters/dist/index.js":1647282405357,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/SyncScheduler.js":1647282408828,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/ms/index.js":1647282406564,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/debug/src/debug.js":1647282406583,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/debug/src/browser.js":1647282406583,"/Users/victoraudouze/Desktop/lbh-square/node_modules/has-binary2/node_modules/isarray/index.js":1647282405267,"/Users/victoraudouze/Desktop/lbh-square/node_modules/has-binary2/index.js":1647282405268,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/lib/socket.js":1647282406588,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-dps.js":1647282407604,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-create.js":1647282407595,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iter-create.js":1647282407582,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_iter-define.js":1647282407581,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.string.iterator.js":1647282407443,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/promise.js":1647282407239,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/promise.js":1647282410574,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_wks-define.js":1647282407431,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.symbol.async-iterator.js":1647282407513,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_enum-keys.js":1647282407603,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_is-array.js":1647282407537,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-gopn.js":1647282407556,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-gopn-ext.js":1647282407591,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_meta.js":1647282407467,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.symbol.js":1647282407532,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/symbol/index.js":1647282407265,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/symbol.js":1647282410548,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/typeof.js":1647282410681,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/possibleConstructorReturn.js":1647282410664,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/PlayerExperience.js":1647282403477,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_array-from-iterable.js":1647282407471,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_collection-to-json.js":1647282407527,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es7.map.to-json.js":1647282407425,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_create-property.js":1647282407606,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.array.from.js":1647282407568,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/array/from.js":1647282407208,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/array/from.js":1647282410563,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/helpers/toConsumableArray.js":1647282410672,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/MotionInput.js":1647282408818,"/Users/victoraudouze/Desktop/lbh-square/node_modules/ieee754/index.js":1647282408340,"/Users/victoraudouze/Desktop/lbh-square/node_modules/base64-js/index.js":1647282405941,"/Users/victoraudouze/Desktop/lbh-square/node_modules/browserify/node_modules/buffer/index.js":1647282403980,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js":1647282406571,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/node_modules/socket.io-parser/index.js":1647282406569,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-parser/lib/keys.js":1647282410177,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_to-absolute-index.js":1647282407594,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_array-includes.js":1647282407562,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-keys-internal.js":1647282407508,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-keys.js":1647282407626,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_object-assign.js":1647282407469,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.object.assign.js":1647282407463,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/object/assign.js":1647282407337,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/object/assign.js":1647282410630,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-parser/lib/utf8.js":1647282410176,"/Users/victoraudouze/Desktop/lbh-square/node_modules/blob/index.js":1647282410857,"/Users/victoraudouze/Desktop/lbh-square/node_modules/after/index.js":1647282410328,"/Users/victoraudouze/Desktop/lbh-square/node_modules/arraybuffer.slice/index.js":1647282408379,"/Users/victoraudouze/Desktop/lbh-square/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":1647282408368,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-parser/lib/browser.js":1647282410178,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transport.js":1647282406450,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_array-species-constructor.js":1647282407558,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_array-species-create.js":1647282407468,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_array-methods.js":1647282407452,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/_collection.js":1647282407535,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/modules/es6.map.js":1647282407624,"/Users/victoraudouze/Desktop/lbh-square/node_modules/core-js/library/fn/map.js":1647282407411,"/Users/victoraudouze/Desktop/lbh-square/node_modules/babel-runtime/core-js/map.js":1647282410644,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/services/AudioStreamManager.js":1647282408823,"/Users/victoraudouze/Desktop/lbh-square/node_modules/browser-resolve/empty.js":1647282405935,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/globalThis.browser.js":1647282406453,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/node_modules/ms/index.js":1647282406419,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/node_modules/debug/src/debug.js":1647282406443,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/node_modules/debug/src/browser.js":1647282406442,"/Users/victoraudouze/Desktop/lbh-square/node_modules/has-cors/index.js":1647282410241,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/xmlhttprequest.js":1647282406446,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transports/polling-jsonp.js":1647282406448,"/Users/victoraudouze/Desktop/lbh-square/node_modules/component-inherit/index.js":1647282406826,"/Users/victoraudouze/Desktop/lbh-square/node_modules/yeast/index.js":1647282411645,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transports/websocket.js":1647282406450,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transports/polling.js":1647282406449,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transports/polling-xhr.js":1647282406447,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/transports/index.js":1647282406449,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/socket.js":1647282406452,"/Users/victoraudouze/Desktop/lbh-square/node_modules/engine.io-client/lib/index.js":1647282406451,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/lib/manager.js":1647282406588,"/Users/victoraudouze/Desktop/lbh-square/node_modules/socket.io-client/lib/index.js":1647282406587,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/socket.js":1647282408797,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/core/Activity.js":1647282408796,"/Users/victoraudouze/Desktop/lbh-square/node_modules/soundworks/client/index.js":1647282408805,"/Users/victoraudouze/Desktop/lbh-square/dist/client/player/index.js":1647282403478,"/Users/victoraudouze/Desktop/lbh-square/dist/client/controller/index.js":1647282403476,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/whatwg-fetch/fetch.js":1517943823000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/classCallCheck.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/slugify/slugify.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/process/browser.js":1493209628000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/path-browserify/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/ImagesLoader.js":1647333597284,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/defineProperty.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/serviceViews.js":1647333597088,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.to-string.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_core.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/audioContext.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerView.js":1647333596707,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/Canvas2dRenderer.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasRenderingGroup.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/TouchSurface.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/viewport.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Experience.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/client.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Service.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioScheduler.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Auth.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Checkin.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/ErrorReporter.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/FileSystem.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Geolocation.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Locator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Language.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Network.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Placer.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/RawSocket.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedConfig.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedRecorder.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SharedParams.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/CanvasView.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/SegmentedView.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerExperience.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SquaredView.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SelectView.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MetricScheduler.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/nosleep.js/dist/NoSleep.min.js":1499209820000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/SimplePlayer.js":1647333597148,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/mobile-detect/mobile-detect.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/screenfull/dist/screenfull.js":1536067840000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.try.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_global.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iterators.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_library.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-object.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_a-function.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_perform.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-instance.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/Signal.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/EventEmitter.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Process.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/utils/SignalAll.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toConsumableArray.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/GranularEngine.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/PlayerEngine.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/json/stringify.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/json/stringify.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/Metronome.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/engines/SegmentEngine.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/viewManager.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/delegate.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ftdomdelegate/lib/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash._reinterpolate/index.js":1423071018000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/audio/StereoPanner.js":1647333597191,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/State.js":1647333596838,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/MotionInput.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/BaseComponent.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/PlayControl.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/core/AudioTimeEngine.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/Transport.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/masters/factories.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-audio/dist/index.js":1542531198000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/shared/services/SoundCheck.js":1647333597333,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_new-promise-capability.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_user-agent.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_promise-resolve.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine-all.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_microtask.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-species.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-detect.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ctx.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-to-string-tag.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_add-to-unscopables.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-step.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_defined.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-integer.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_string-at.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_uid.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_cof.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_classof.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_property-desc.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_has.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_export.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.promise.finally.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_invoke.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/loader.js":1527527740000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/audio-buffer-loader.js":1527527740000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/super-loader.js":1527527740000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-loaders/dist/index.js":1527527740000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.templatesettings/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/lodash.template/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_fails.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-pie.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gops.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ms/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/common.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/debug/src/browser.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/PriorityQueue.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/TimeEngine.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/InputModule.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/EnergyModule.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/package.json":1647282932305,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/core/SchedulingQueue.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/PlayControl.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Scheduler.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectList.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/NumberBox.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Title.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/SelectButtons.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Toggle.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/DragAndDrop.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/TriggerButtons.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Text.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/display.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/factory.js":1518530034000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/mixins/container.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/Transport.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles-declarations.js":1518530034000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/styles.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/utils/elements.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Group.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/platform/platform.js":1488400760000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceOrientationModule.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-call.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_an-object.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_species-constructor.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-length.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_descriptors.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-iobject.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array-iter.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator-method.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_for-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_redefine.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_html.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_dom-create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_task.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.promise.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/create.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.define-property.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/define-property.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/define-property.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/createClass.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-object.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iobject.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/on.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-sap.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-prototype-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-prototype-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-prototype-of.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DeviceMotionModule.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/DOMEventSubmodule.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/motion-input/dist/index.js":1527676844000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/MotionInput.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-bug-keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.from.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.map.to-json.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.get-iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/get-iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/get-iterator.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioBufferManager.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.map.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/map.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/map.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/AudioStreamManager.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/isarray/index.js":1474735632000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/keys.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/serviceManager.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-emitter/index.js":1555360001000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-bind/index.js":1393200921000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseuri/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/url.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/parseqs/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/indexof/index.js":1345160283000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/to-array/index.js":1349051394000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/backo2/index.js":1416722919000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/Slider.js":1541597891000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/gui-components/dist/index.js":1541597891000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/components/Slider.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/basic-controllers/dist/index.js":1518530035000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/ControllerScene.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-primitive.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_ie8-dom-define.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dp.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_hide.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/web.dom.iterable.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_shared-key.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gpo.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-ext.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol/iterator.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/ms/index.js":1494937320000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/debug.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/node_modules/debug/src/browser.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/@ircam/sync/client/index.js":1544032644000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Sync.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopd.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/get-own-property-descriptor.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/get.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-proto.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.set-prototype-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/set-prototype-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/set-prototype-of.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/inherits.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/core.is-iterable.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/is-iterable.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/is-iterable.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/slicedToArray.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/prefabs/SpaceView.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.observable.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.symbol.async-iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_validate-collection.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.of.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-strong.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_set-collection-from.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.from.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/ms/index.js":1494937320000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/debug.js":1506086966000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/node_modules/debug/src/browser.js":1506086966000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/masters/SimpleScheduler.js":1553254377000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/waves-masters/dist/index.js":1553254376000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/SyncScheduler.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/ms/index.js":1494937320000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/debug.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/debug/src/browser.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/node_modules/isarray/index.js":1474735632000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-binary2/index.js":1526298349000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/socket.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-dps.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_iter-define.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.string.iterator.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/promise.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/promise.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_meta.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_wks-define.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_enum-keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn-ext.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_is-array.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-gopn.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.symbol.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/symbol/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/symbol.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/typeof.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/PlayerExperience.js":1647333596605,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-from-iterable.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection-to-json.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es7.set.to-json.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_create-property.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.array.from.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/array/from.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/array/from.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/helpers/toArray.js":1502898503000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/views/View.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/ieee754/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-js/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browserify/node_modules/buffer/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/node_modules/socket.io-parser/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_to-absolute-index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-includes.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys-internal.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-keys.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_object-assign.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.object.assign.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/object/assign.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/object/assign.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/utf8.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/arraybuffer.slice/index.js":1503998296000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/after/index.js":1471308589000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/blob/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":1445210717000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-parser/lib/browser.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transport.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-constructor.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-species-create.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_array-methods.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/_collection.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/modules/es6.set.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/core-js/library/fn/set.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/babel-runtime/core-js/set.js":1502898501000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/services/Platform.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/globalThis.browser.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/browser-resolve/empty.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/ms/index.js":1494937320000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/debug.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/node_modules/debug/src/browser.js":1506452836000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/has-cors/index.js":1415825722000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/xmlhttprequest.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-jsonp.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/yeast/index.js":1441553951000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/websocket.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/component-inherit/index.js":1392163106000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/polling-xhr.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/transports/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/socket.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/engine.io-client/lib/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/manager.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/socket.io-client/lib/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/socket.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/core/Activity.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/node_modules/soundworks/client/index.js":499162500000,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/player/index.js":1647333596887,"/Users/victoraudouze/Desktop/lbh-square-Lyon/dist/client/controller/index.js":1647333596424},"dependentFiles":{}}